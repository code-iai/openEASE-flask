(function(){function u(a,o,s){function l(n,e){if(!o[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=o[n]={exports:{}};a[n][0].call(r.exports,function(e){var t=a[n][1][e];return l(t||e)},r,r.exports,u,a,o,s)}return o[n].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}return u})()({1:[function(t,e,n){(function(e){e.jQuery=t("jquery");e.$=jQuery;t("jquery-ui-bundle");t("jquery-ui-bundle/jquery-ui.css");t("layout");$.fn.DataTable=t("datatables.net")(window,$);t("datatables.net-buttons");e.bootstrap=t("bootstrap");t("bootstrap/dist/css/bootstrap.css");e.iosOverlay=t("ios-overlay");e.Spinner=t("spin");e.createSpinner=function(e){var t=e||document.body;var n={lines:13,length:11,width:5,radius:17,corners:1,rotate:0,color:"#FFF",speed:1,trail:60,shadow:false,hwaccel:false,className:"spinner",zIndex:2e9,top:"auto",left:"auto"};var i=document.createElement("div");t.appendChild(i);return new Spinner(n).spin(i)};e.THREE=t("three");e.dat=t("dat.gui");e.ROS3D=t("ros3d");e.ROSLIB=t("roslib");e.EventEmitter2=t("eventemitter2");e.ace=t("brace");t("brace/mode/prolog");t("brace/mode/xml");t("brace/theme/monokai");t("brace/theme/solarized_light");t("brace/ext/language_tools");e.aceLangTools=ace.acequire("ace/ext/language_tools");e.d3=t("d3");e.d3tip=t("d3-tip")(d3);e.jsondiffpatch=t("jsondiffpatch");t("jsondiffpatch/public/formatters-styles/annotated.css");t("jsondiffpatch/public/formatters-styles/html.css")}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{bootstrap:3,"bootstrap/dist/css/bootstrap.css":2,brace:5,"brace/ext/language_tools":4,"brace/mode/prolog":6,"brace/mode/xml":7,"brace/theme/monokai":8,"brace/theme/solarized_light":9,d3:15,"d3-tip":14,"dat.gui":16,"datatables.net":18,"datatables.net-buttons":17,eventemitter2:19,"ios-overlay":20,jquery:24,"jquery-ui-bundle":23,"jquery-ui-bundle/jquery-ui.css":22,jsondiffpatch:41,"jsondiffpatch/public/formatters-styles/annotated.css":25,"jsondiffpatch/public/formatters-styles/html.css":26,layout:44,ros3d:48,roslib:50,spin:89,three:90}],2:[function(e,t,n){var i='/*!\n * Bootstrap v4.1.1 (https://getbootstrap.com/)\n * Copyright 2011-2018 The Bootstrap Authors\n * Copyright 2011-2018 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n:root {\n  --blue: #007bff;\n  --indigo: #6610f2;\n  --purple: #6f42c1;\n  --pink: #e83e8c;\n  --red: #dc3545;\n  --orange: #fd7e14;\n  --yellow: #ffc107;\n  --green: #28a745;\n  --teal: #20c997;\n  --cyan: #17a2b8;\n  --white: #fff;\n  --gray: #6c757d;\n  --gray-dark: #343a40;\n  --primary: #007bff;\n  --secondary: #6c757d;\n  --success: #28a745;\n  --info: #17a2b8;\n  --warning: #ffc107;\n  --danger: #dc3545;\n  --light: #f8f9fa;\n  --dark: #343a40;\n  --breakpoint-xs: 0;\n  --breakpoint-sm: 576px;\n  --breakpoint-md: 768px;\n  --breakpoint-lg: 992px;\n  --breakpoint-xl: 1200px;\n  --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n}\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\nhtml {\n  font-family: sans-serif;\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  -ms-overflow-style: scrollbar;\n  -webkit-tap-highlight-color: transparent;\n}\n@-ms-viewport {\n  width: device-width;\n}\narticle,\naside,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nnav,\nsection {\n  display: block;\n}\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  text-align: left;\n  background-color: #fff;\n}\n[tabindex="-1"]:focus {\n  outline: 0 !important;\n}\nhr {\n  box-sizing: content-box;\n  height: 0;\n  overflow: visible;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n}\np {\n  margin-top: 0;\n  margin-bottom: 1rem;\n}\nabbr[title],\nabbr[data-original-title] {\n  text-decoration: underline;\n  -webkit-text-decoration: underline dotted;\n  text-decoration: underline dotted;\n  cursor: help;\n  border-bottom: 0;\n}\naddress {\n  margin-bottom: 1rem;\n  font-style: normal;\n  line-height: inherit;\n}\nol,\nul,\ndl {\n  margin-top: 0;\n  margin-bottom: 1rem;\n}\nol ol,\nul ul,\nol ul,\nul ol {\n  margin-bottom: 0;\n}\ndt {\n  font-weight: 700;\n}\ndd {\n  margin-bottom: .5rem;\n  margin-left: 0;\n}\nblockquote {\n  margin: 0 0 1rem;\n}\ndfn {\n  font-style: italic;\n}\nb,\nstrong {\n  font-weight: bolder;\n}\nsmall {\n  font-size: 80%;\n}\nsub,\nsup {\n  position: relative;\n  font-size: 75%;\n  line-height: 0;\n  vertical-align: baseline;\n}\nsub {\n  bottom: -.25em;\n}\nsup {\n  top: -.5em;\n}\na {\n  color: #007bff;\n  text-decoration: none;\n  background-color: transparent;\n  -webkit-text-decoration-skip: objects;\n}\na:hover {\n  color: #0056b3;\n  text-decoration: underline;\n}\na:not([href]):not([tabindex]) {\n  color: inherit;\n  text-decoration: none;\n}\na:not([href]):not([tabindex]):hover,\na:not([href]):not([tabindex]):focus {\n  color: inherit;\n  text-decoration: none;\n}\na:not([href]):not([tabindex]):focus {\n  outline: 0;\n}\npre,\ncode,\nkbd,\nsamp {\n  font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n  font-size: 1em;\n}\npre {\n  margin-top: 0;\n  margin-bottom: 1rem;\n  overflow: auto;\n  -ms-overflow-style: scrollbar;\n}\nfigure {\n  margin: 0 0 1rem;\n}\nimg {\n  vertical-align: middle;\n  border-style: none;\n}\nsvg:not(:root) {\n  overflow: hidden;\n}\ntable {\n  border-collapse: collapse;\n}\ncaption {\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  color: #6c757d;\n  text-align: left;\n  caption-side: bottom;\n}\nth {\n  text-align: inherit;\n}\nlabel {\n  display: inline-block;\n  margin-bottom: 0.5rem;\n}\nbutton {\n  border-radius: 0;\n}\nbutton:focus {\n  outline: 1px dotted;\n  outline: 5px auto -webkit-focus-ring-color;\n}\ninput,\nbutton,\nselect,\noptgroup,\ntextarea {\n  margin: 0;\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\nbutton,\ninput {\n  overflow: visible;\n}\nbutton,\nselect {\n  text-transform: none;\n}\nbutton,\nhtml [type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  padding: 0;\n  border-style: none;\n}\ninput[type="radio"],\ninput[type="checkbox"] {\n  box-sizing: border-box;\n  padding: 0;\n}\ninput[type="date"],\ninput[type="time"],\ninput[type="datetime-local"],\ninput[type="month"] {\n  -webkit-appearance: listbox;\n}\ntextarea {\n  overflow: auto;\n  resize: vertical;\n}\nfieldset {\n  min-width: 0;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\nlegend {\n  display: block;\n  width: 100%;\n  max-width: 100%;\n  padding: 0;\n  margin-bottom: .5rem;\n  font-size: 1.5rem;\n  line-height: inherit;\n  color: inherit;\n  white-space: normal;\n}\nprogress {\n  vertical-align: baseline;\n}\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n[type="search"] {\n  outline-offset: -2px;\n  -webkit-appearance: none;\n}\n[type="search"]::-webkit-search-cancel-button,\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n::-webkit-file-upload-button {\n  font: inherit;\n  -webkit-appearance: button;\n}\noutput {\n  display: inline-block;\n}\nsummary {\n  display: list-item;\n  cursor: pointer;\n}\ntemplate {\n  display: none;\n}\n[hidden] {\n  display: none !important;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\n.h1,\n.h2,\n.h3,\n.h4,\n.h5,\n.h6 {\n  margin-bottom: 0.5rem;\n  font-family: inherit;\n  font-weight: 500;\n  line-height: 1.2;\n  color: inherit;\n}\nh1,\n.h1 {\n  font-size: 2.5rem;\n}\nh2,\n.h2 {\n  font-size: 2rem;\n}\nh3,\n.h3 {\n  font-size: 1.75rem;\n}\nh4,\n.h4 {\n  font-size: 1.5rem;\n}\nh5,\n.h5 {\n  font-size: 1.25rem;\n}\nh6,\n.h6 {\n  font-size: 1rem;\n}\n.lead {\n  font-size: 1.25rem;\n  font-weight: 300;\n}\n.display-1 {\n  font-size: 6rem;\n  font-weight: 300;\n  line-height: 1.2;\n}\n.display-2 {\n  font-size: 5.5rem;\n  font-weight: 300;\n  line-height: 1.2;\n}\n.display-3 {\n  font-size: 4.5rem;\n  font-weight: 300;\n  line-height: 1.2;\n}\n.display-4 {\n  font-size: 3.5rem;\n  font-weight: 300;\n  line-height: 1.2;\n}\nhr {\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border: 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n}\nsmall,\n.small {\n  font-size: 80%;\n  font-weight: 400;\n}\nmark,\n.mark {\n  padding: 0.2em;\n  background-color: #fcf8e3;\n}\n.list-unstyled {\n  padding-left: 0;\n  list-style: none;\n}\n.list-inline {\n  padding-left: 0;\n  list-style: none;\n}\n.list-inline-item {\n  display: inline-block;\n}\n.list-inline-item:not(:last-child) {\n  margin-right: 0.5rem;\n}\n.initialism {\n  font-size: 90%;\n  text-transform: uppercase;\n}\n.blockquote {\n  margin-bottom: 1rem;\n  font-size: 1.25rem;\n}\n.blockquote-footer {\n  display: block;\n  font-size: 80%;\n  color: #6c757d;\n}\n.blockquote-footer::before {\n  content: "\\2014 \\00A0";\n}\n.img-fluid {\n  max-width: 100%;\n  height: auto;\n}\n.img-thumbnail {\n  padding: 0.25rem;\n  background-color: #fff;\n  border: 1px solid #dee2e6;\n  border-radius: 0.25rem;\n  max-width: 100%;\n  height: auto;\n}\n.figure {\n  display: inline-block;\n}\n.figure-img {\n  margin-bottom: 0.5rem;\n  line-height: 1;\n}\n.figure-caption {\n  font-size: 90%;\n  color: #6c757d;\n}\ncode {\n  font-size: 87.5%;\n  color: #e83e8c;\n  word-break: break-word;\n}\na > code {\n  color: inherit;\n}\nkbd {\n  padding: 0.2rem 0.4rem;\n  font-size: 87.5%;\n  color: #fff;\n  background-color: #212529;\n  border-radius: 0.2rem;\n}\nkbd kbd {\n  padding: 0;\n  font-size: 100%;\n  font-weight: 700;\n}\npre {\n  display: block;\n  font-size: 87.5%;\n  color: #212529;\n}\npre code {\n  font-size: inherit;\n  color: inherit;\n  word-break: normal;\n}\n.pre-scrollable {\n  max-height: 340px;\n  overflow-y: scroll;\n}\n.container {\n  width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n  margin-right: auto;\n  margin-left: auto;\n}\n@media (min-width: 576px) {\n  .container {\n    max-width: 540px;\n  }\n}\n@media (min-width: 768px) {\n  .container {\n    max-width: 720px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n    max-width: 960px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n    max-width: 1140px;\n  }\n}\n.container-fluid {\n  width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n  margin-right: auto;\n  margin-left: auto;\n}\n.row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;\n}\n.no-gutters {\n  margin-right: 0;\n  margin-left: 0;\n}\n.no-gutters > .col,\n.no-gutters > [class*="col-"] {\n  padding-right: 0;\n  padding-left: 0;\n}\n.col-1,\n.col-2,\n.col-3,\n.col-4,\n.col-5,\n.col-6,\n.col-7,\n.col-8,\n.col-9,\n.col-10,\n.col-11,\n.col-12,\n.col,\n.col-auto,\n.col-sm-1,\n.col-sm-2,\n.col-sm-3,\n.col-sm-4,\n.col-sm-5,\n.col-sm-6,\n.col-sm-7,\n.col-sm-8,\n.col-sm-9,\n.col-sm-10,\n.col-sm-11,\n.col-sm-12,\n.col-sm,\n.col-sm-auto,\n.col-md-1,\n.col-md-2,\n.col-md-3,\n.col-md-4,\n.col-md-5,\n.col-md-6,\n.col-md-7,\n.col-md-8,\n.col-md-9,\n.col-md-10,\n.col-md-11,\n.col-md-12,\n.col-md,\n.col-md-auto,\n.col-lg-1,\n.col-lg-2,\n.col-lg-3,\n.col-lg-4,\n.col-lg-5,\n.col-lg-6,\n.col-lg-7,\n.col-lg-8,\n.col-lg-9,\n.col-lg-10,\n.col-lg-11,\n.col-lg-12,\n.col-lg,\n.col-lg-auto,\n.col-xl-1,\n.col-xl-2,\n.col-xl-3,\n.col-xl-4,\n.col-xl-5,\n.col-xl-6,\n.col-xl-7,\n.col-xl-8,\n.col-xl-9,\n.col-xl-10,\n.col-xl-11,\n.col-xl-12,\n.col-xl,\n.col-xl-auto {\n  position: relative;\n  width: 100%;\n  min-height: 1px;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n.col {\n  -ms-flex-preferred-size: 0;\n  flex-basis: 0;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  max-width: 100%;\n}\n.col-auto {\n  -ms-flex: 0 0 auto;\n  flex: 0 0 auto;\n  width: auto;\n  max-width: none;\n}\n.col-1 {\n  -ms-flex: 0 0 8.333333%;\n  flex: 0 0 8.333333%;\n  max-width: 8.333333%;\n}\n.col-2 {\n  -ms-flex: 0 0 16.666667%;\n  flex: 0 0 16.666667%;\n  max-width: 16.666667%;\n}\n.col-3 {\n  -ms-flex: 0 0 25%;\n  flex: 0 0 25%;\n  max-width: 25%;\n}\n.col-4 {\n  -ms-flex: 0 0 33.333333%;\n  flex: 0 0 33.333333%;\n  max-width: 33.333333%;\n}\n.col-5 {\n  -ms-flex: 0 0 41.666667%;\n  flex: 0 0 41.666667%;\n  max-width: 41.666667%;\n}\n.col-6 {\n  -ms-flex: 0 0 50%;\n  flex: 0 0 50%;\n  max-width: 50%;\n}\n.col-7 {\n  -ms-flex: 0 0 58.333333%;\n  flex: 0 0 58.333333%;\n  max-width: 58.333333%;\n}\n.col-8 {\n  -ms-flex: 0 0 66.666667%;\n  flex: 0 0 66.666667%;\n  max-width: 66.666667%;\n}\n.col-9 {\n  -ms-flex: 0 0 75%;\n  flex: 0 0 75%;\n  max-width: 75%;\n}\n.col-10 {\n  -ms-flex: 0 0 83.333333%;\n  flex: 0 0 83.333333%;\n  max-width: 83.333333%;\n}\n.col-11 {\n  -ms-flex: 0 0 91.666667%;\n  flex: 0 0 91.666667%;\n  max-width: 91.666667%;\n}\n.col-12 {\n  -ms-flex: 0 0 100%;\n  flex: 0 0 100%;\n  max-width: 100%;\n}\n.order-first {\n  -ms-flex-order: -1;\n  order: -1;\n}\n.order-last {\n  -ms-flex-order: 13;\n  order: 13;\n}\n.order-0 {\n  -ms-flex-order: 0;\n  order: 0;\n}\n.order-1 {\n  -ms-flex-order: 1;\n  order: 1;\n}\n.order-2 {\n  -ms-flex-order: 2;\n  order: 2;\n}\n.order-3 {\n  -ms-flex-order: 3;\n  order: 3;\n}\n.order-4 {\n  -ms-flex-order: 4;\n  order: 4;\n}\n.order-5 {\n  -ms-flex-order: 5;\n  order: 5;\n}\n.order-6 {\n  -ms-flex-order: 6;\n  order: 6;\n}\n.order-7 {\n  -ms-flex-order: 7;\n  order: 7;\n}\n.order-8 {\n  -ms-flex-order: 8;\n  order: 8;\n}\n.order-9 {\n  -ms-flex-order: 9;\n  order: 9;\n}\n.order-10 {\n  -ms-flex-order: 10;\n  order: 10;\n}\n.order-11 {\n  -ms-flex-order: 11;\n  order: 11;\n}\n.order-12 {\n  -ms-flex-order: 12;\n  order: 12;\n}\n.offset-1 {\n  margin-left: 8.333333%;\n}\n.offset-2 {\n  margin-left: 16.666667%;\n}\n.offset-3 {\n  margin-left: 25%;\n}\n.offset-4 {\n  margin-left: 33.333333%;\n}\n.offset-5 {\n  margin-left: 41.666667%;\n}\n.offset-6 {\n  margin-left: 50%;\n}\n.offset-7 {\n  margin-left: 58.333333%;\n}\n.offset-8 {\n  margin-left: 66.666667%;\n}\n.offset-9 {\n  margin-left: 75%;\n}\n.offset-10 {\n  margin-left: 83.333333%;\n}\n.offset-11 {\n  margin-left: 91.666667%;\n}\n@media (min-width: 576px) {\n  .col-sm {\n    -ms-flex-preferred-size: 0;\n    flex-basis: 0;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n    max-width: 100%;\n  }\n\n  .col-sm-auto {\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    width: auto;\n    max-width: none;\n  }\n\n  .col-sm-1 {\n    -ms-flex: 0 0 8.333333%;\n    flex: 0 0 8.333333%;\n    max-width: 8.333333%;\n  }\n\n  .col-sm-2 {\n    -ms-flex: 0 0 16.666667%;\n    flex: 0 0 16.666667%;\n    max-width: 16.666667%;\n  }\n\n  .col-sm-3 {\n    -ms-flex: 0 0 25%;\n    flex: 0 0 25%;\n    max-width: 25%;\n  }\n\n  .col-sm-4 {\n    -ms-flex: 0 0 33.333333%;\n    flex: 0 0 33.333333%;\n    max-width: 33.333333%;\n  }\n\n  .col-sm-5 {\n    -ms-flex: 0 0 41.666667%;\n    flex: 0 0 41.666667%;\n    max-width: 41.666667%;\n  }\n\n  .col-sm-6 {\n    -ms-flex: 0 0 50%;\n    flex: 0 0 50%;\n    max-width: 50%;\n  }\n\n  .col-sm-7 {\n    -ms-flex: 0 0 58.333333%;\n    flex: 0 0 58.333333%;\n    max-width: 58.333333%;\n  }\n\n  .col-sm-8 {\n    -ms-flex: 0 0 66.666667%;\n    flex: 0 0 66.666667%;\n    max-width: 66.666667%;\n  }\n\n  .col-sm-9 {\n    -ms-flex: 0 0 75%;\n    flex: 0 0 75%;\n    max-width: 75%;\n  }\n\n  .col-sm-10 {\n    -ms-flex: 0 0 83.333333%;\n    flex: 0 0 83.333333%;\n    max-width: 83.333333%;\n  }\n\n  .col-sm-11 {\n    -ms-flex: 0 0 91.666667%;\n    flex: 0 0 91.666667%;\n    max-width: 91.666667%;\n  }\n\n  .col-sm-12 {\n    -ms-flex: 0 0 100%;\n    flex: 0 0 100%;\n    max-width: 100%;\n  }\n\n  .order-sm-first {\n    -ms-flex-order: -1;\n    order: -1;\n  }\n\n  .order-sm-last {\n    -ms-flex-order: 13;\n    order: 13;\n  }\n\n  .order-sm-0 {\n    -ms-flex-order: 0;\n    order: 0;\n  }\n\n  .order-sm-1 {\n    -ms-flex-order: 1;\n    order: 1;\n  }\n\n  .order-sm-2 {\n    -ms-flex-order: 2;\n    order: 2;\n  }\n\n  .order-sm-3 {\n    -ms-flex-order: 3;\n    order: 3;\n  }\n\n  .order-sm-4 {\n    -ms-flex-order: 4;\n    order: 4;\n  }\n\n  .order-sm-5 {\n    -ms-flex-order: 5;\n    order: 5;\n  }\n\n  .order-sm-6 {\n    -ms-flex-order: 6;\n    order: 6;\n  }\n\n  .order-sm-7 {\n    -ms-flex-order: 7;\n    order: 7;\n  }\n\n  .order-sm-8 {\n    -ms-flex-order: 8;\n    order: 8;\n  }\n\n  .order-sm-9 {\n    -ms-flex-order: 9;\n    order: 9;\n  }\n\n  .order-sm-10 {\n    -ms-flex-order: 10;\n    order: 10;\n  }\n\n  .order-sm-11 {\n    -ms-flex-order: 11;\n    order: 11;\n  }\n\n  .order-sm-12 {\n    -ms-flex-order: 12;\n    order: 12;\n  }\n\n  .offset-sm-0 {\n    margin-left: 0;\n  }\n\n  .offset-sm-1 {\n    margin-left: 8.333333%;\n  }\n\n  .offset-sm-2 {\n    margin-left: 16.666667%;\n  }\n\n  .offset-sm-3 {\n    margin-left: 25%;\n  }\n\n  .offset-sm-4 {\n    margin-left: 33.333333%;\n  }\n\n  .offset-sm-5 {\n    margin-left: 41.666667%;\n  }\n\n  .offset-sm-6 {\n    margin-left: 50%;\n  }\n\n  .offset-sm-7 {\n    margin-left: 58.333333%;\n  }\n\n  .offset-sm-8 {\n    margin-left: 66.666667%;\n  }\n\n  .offset-sm-9 {\n    margin-left: 75%;\n  }\n\n  .offset-sm-10 {\n    margin-left: 83.333333%;\n  }\n\n  .offset-sm-11 {\n    margin-left: 91.666667%;\n  }\n}\n@media (min-width: 768px) {\n  .col-md {\n    -ms-flex-preferred-size: 0;\n    flex-basis: 0;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n    max-width: 100%;\n  }\n\n  .col-md-auto {\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    width: auto;\n    max-width: none;\n  }\n\n  .col-md-1 {\n    -ms-flex: 0 0 8.333333%;\n    flex: 0 0 8.333333%;\n    max-width: 8.333333%;\n  }\n\n  .col-md-2 {\n    -ms-flex: 0 0 16.666667%;\n    flex: 0 0 16.666667%;\n    max-width: 16.666667%;\n  }\n\n  .col-md-3 {\n    -ms-flex: 0 0 25%;\n    flex: 0 0 25%;\n    max-width: 25%;\n  }\n\n  .col-md-4 {\n    -ms-flex: 0 0 33.333333%;\n    flex: 0 0 33.333333%;\n    max-width: 33.333333%;\n  }\n\n  .col-md-5 {\n    -ms-flex: 0 0 41.666667%;\n    flex: 0 0 41.666667%;\n    max-width: 41.666667%;\n  }\n\n  .col-md-6 {\n    -ms-flex: 0 0 50%;\n    flex: 0 0 50%;\n    max-width: 50%;\n  }\n\n  .col-md-7 {\n    -ms-flex: 0 0 58.333333%;\n    flex: 0 0 58.333333%;\n    max-width: 58.333333%;\n  }\n\n  .col-md-8 {\n    -ms-flex: 0 0 66.666667%;\n    flex: 0 0 66.666667%;\n    max-width: 66.666667%;\n  }\n\n  .col-md-9 {\n    -ms-flex: 0 0 75%;\n    flex: 0 0 75%;\n    max-width: 75%;\n  }\n\n  .col-md-10 {\n    -ms-flex: 0 0 83.333333%;\n    flex: 0 0 83.333333%;\n    max-width: 83.333333%;\n  }\n\n  .col-md-11 {\n    -ms-flex: 0 0 91.666667%;\n    flex: 0 0 91.666667%;\n    max-width: 91.666667%;\n  }\n\n  .col-md-12 {\n    -ms-flex: 0 0 100%;\n    flex: 0 0 100%;\n    max-width: 100%;\n  }\n\n  .order-md-first {\n    -ms-flex-order: -1;\n    order: -1;\n  }\n\n  .order-md-last {\n    -ms-flex-order: 13;\n    order: 13;\n  }\n\n  .order-md-0 {\n    -ms-flex-order: 0;\n    order: 0;\n  }\n\n  .order-md-1 {\n    -ms-flex-order: 1;\n    order: 1;\n  }\n\n  .order-md-2 {\n    -ms-flex-order: 2;\n    order: 2;\n  }\n\n  .order-md-3 {\n    -ms-flex-order: 3;\n    order: 3;\n  }\n\n  .order-md-4 {\n    -ms-flex-order: 4;\n    order: 4;\n  }\n\n  .order-md-5 {\n    -ms-flex-order: 5;\n    order: 5;\n  }\n\n  .order-md-6 {\n    -ms-flex-order: 6;\n    order: 6;\n  }\n\n  .order-md-7 {\n    -ms-flex-order: 7;\n    order: 7;\n  }\n\n  .order-md-8 {\n    -ms-flex-order: 8;\n    order: 8;\n  }\n\n  .order-md-9 {\n    -ms-flex-order: 9;\n    order: 9;\n  }\n\n  .order-md-10 {\n    -ms-flex-order: 10;\n    order: 10;\n  }\n\n  .order-md-11 {\n    -ms-flex-order: 11;\n    order: 11;\n  }\n\n  .order-md-12 {\n    -ms-flex-order: 12;\n    order: 12;\n  }\n\n  .offset-md-0 {\n    margin-left: 0;\n  }\n\n  .offset-md-1 {\n    margin-left: 8.333333%;\n  }\n\n  .offset-md-2 {\n    margin-left: 16.666667%;\n  }\n\n  .offset-md-3 {\n    margin-left: 25%;\n  }\n\n  .offset-md-4 {\n    margin-left: 33.333333%;\n  }\n\n  .offset-md-5 {\n    margin-left: 41.666667%;\n  }\n\n  .offset-md-6 {\n    margin-left: 50%;\n  }\n\n  .offset-md-7 {\n    margin-left: 58.333333%;\n  }\n\n  .offset-md-8 {\n    margin-left: 66.666667%;\n  }\n\n  .offset-md-9 {\n    margin-left: 75%;\n  }\n\n  .offset-md-10 {\n    margin-left: 83.333333%;\n  }\n\n  .offset-md-11 {\n    margin-left: 91.666667%;\n  }\n}\n@media (min-width: 992px) {\n  .col-lg {\n    -ms-flex-preferred-size: 0;\n    flex-basis: 0;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n    max-width: 100%;\n  }\n\n  .col-lg-auto {\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    width: auto;\n    max-width: none;\n  }\n\n  .col-lg-1 {\n    -ms-flex: 0 0 8.333333%;\n    flex: 0 0 8.333333%;\n    max-width: 8.333333%;\n  }\n\n  .col-lg-2 {\n    -ms-flex: 0 0 16.666667%;\n    flex: 0 0 16.666667%;\n    max-width: 16.666667%;\n  }\n\n  .col-lg-3 {\n    -ms-flex: 0 0 25%;\n    flex: 0 0 25%;\n    max-width: 25%;\n  }\n\n  .col-lg-4 {\n    -ms-flex: 0 0 33.333333%;\n    flex: 0 0 33.333333%;\n    max-width: 33.333333%;\n  }\n\n  .col-lg-5 {\n    -ms-flex: 0 0 41.666667%;\n    flex: 0 0 41.666667%;\n    max-width: 41.666667%;\n  }\n\n  .col-lg-6 {\n    -ms-flex: 0 0 50%;\n    flex: 0 0 50%;\n    max-width: 50%;\n  }\n\n  .col-lg-7 {\n    -ms-flex: 0 0 58.333333%;\n    flex: 0 0 58.333333%;\n    max-width: 58.333333%;\n  }\n\n  .col-lg-8 {\n    -ms-flex: 0 0 66.666667%;\n    flex: 0 0 66.666667%;\n    max-width: 66.666667%;\n  }\n\n  .col-lg-9 {\n    -ms-flex: 0 0 75%;\n    flex: 0 0 75%;\n    max-width: 75%;\n  }\n\n  .col-lg-10 {\n    -ms-flex: 0 0 83.333333%;\n    flex: 0 0 83.333333%;\n    max-width: 83.333333%;\n  }\n\n  .col-lg-11 {\n    -ms-flex: 0 0 91.666667%;\n    flex: 0 0 91.666667%;\n    max-width: 91.666667%;\n  }\n\n  .col-lg-12 {\n    -ms-flex: 0 0 100%;\n    flex: 0 0 100%;\n    max-width: 100%;\n  }\n\n  .order-lg-first {\n    -ms-flex-order: -1;\n    order: -1;\n  }\n\n  .order-lg-last {\n    -ms-flex-order: 13;\n    order: 13;\n  }\n\n  .order-lg-0 {\n    -ms-flex-order: 0;\n    order: 0;\n  }\n\n  .order-lg-1 {\n    -ms-flex-order: 1;\n    order: 1;\n  }\n\n  .order-lg-2 {\n    -ms-flex-order: 2;\n    order: 2;\n  }\n\n  .order-lg-3 {\n    -ms-flex-order: 3;\n    order: 3;\n  }\n\n  .order-lg-4 {\n    -ms-flex-order: 4;\n    order: 4;\n  }\n\n  .order-lg-5 {\n    -ms-flex-order: 5;\n    order: 5;\n  }\n\n  .order-lg-6 {\n    -ms-flex-order: 6;\n    order: 6;\n  }\n\n  .order-lg-7 {\n    -ms-flex-order: 7;\n    order: 7;\n  }\n\n  .order-lg-8 {\n    -ms-flex-order: 8;\n    order: 8;\n  }\n\n  .order-lg-9 {\n    -ms-flex-order: 9;\n    order: 9;\n  }\n\n  .order-lg-10 {\n    -ms-flex-order: 10;\n    order: 10;\n  }\n\n  .order-lg-11 {\n    -ms-flex-order: 11;\n    order: 11;\n  }\n\n  .order-lg-12 {\n    -ms-flex-order: 12;\n    order: 12;\n  }\n\n  .offset-lg-0 {\n    margin-left: 0;\n  }\n\n  .offset-lg-1 {\n    margin-left: 8.333333%;\n  }\n\n  .offset-lg-2 {\n    margin-left: 16.666667%;\n  }\n\n  .offset-lg-3 {\n    margin-left: 25%;\n  }\n\n  .offset-lg-4 {\n    margin-left: 33.333333%;\n  }\n\n  .offset-lg-5 {\n    margin-left: 41.666667%;\n  }\n\n  .offset-lg-6 {\n    margin-left: 50%;\n  }\n\n  .offset-lg-7 {\n    margin-left: 58.333333%;\n  }\n\n  .offset-lg-8 {\n    margin-left: 66.666667%;\n  }\n\n  .offset-lg-9 {\n    margin-left: 75%;\n  }\n\n  .offset-lg-10 {\n    margin-left: 83.333333%;\n  }\n\n  .offset-lg-11 {\n    margin-left: 91.666667%;\n  }\n}\n@media (min-width: 1200px) {\n  .col-xl {\n    -ms-flex-preferred-size: 0;\n    flex-basis: 0;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n    max-width: 100%;\n  }\n\n  .col-xl-auto {\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    width: auto;\n    max-width: none;\n  }\n\n  .col-xl-1 {\n    -ms-flex: 0 0 8.333333%;\n    flex: 0 0 8.333333%;\n    max-width: 8.333333%;\n  }\n\n  .col-xl-2 {\n    -ms-flex: 0 0 16.666667%;\n    flex: 0 0 16.666667%;\n    max-width: 16.666667%;\n  }\n\n  .col-xl-3 {\n    -ms-flex: 0 0 25%;\n    flex: 0 0 25%;\n    max-width: 25%;\n  }\n\n  .col-xl-4 {\n    -ms-flex: 0 0 33.333333%;\n    flex: 0 0 33.333333%;\n    max-width: 33.333333%;\n  }\n\n  .col-xl-5 {\n    -ms-flex: 0 0 41.666667%;\n    flex: 0 0 41.666667%;\n    max-width: 41.666667%;\n  }\n\n  .col-xl-6 {\n    -ms-flex: 0 0 50%;\n    flex: 0 0 50%;\n    max-width: 50%;\n  }\n\n  .col-xl-7 {\n    -ms-flex: 0 0 58.333333%;\n    flex: 0 0 58.333333%;\n    max-width: 58.333333%;\n  }\n\n  .col-xl-8 {\n    -ms-flex: 0 0 66.666667%;\n    flex: 0 0 66.666667%;\n    max-width: 66.666667%;\n  }\n\n  .col-xl-9 {\n    -ms-flex: 0 0 75%;\n    flex: 0 0 75%;\n    max-width: 75%;\n  }\n\n  .col-xl-10 {\n    -ms-flex: 0 0 83.333333%;\n    flex: 0 0 83.333333%;\n    max-width: 83.333333%;\n  }\n\n  .col-xl-11 {\n    -ms-flex: 0 0 91.666667%;\n    flex: 0 0 91.666667%;\n    max-width: 91.666667%;\n  }\n\n  .col-xl-12 {\n    -ms-flex: 0 0 100%;\n    flex: 0 0 100%;\n    max-width: 100%;\n  }\n\n  .order-xl-first {\n    -ms-flex-order: -1;\n    order: -1;\n  }\n\n  .order-xl-last {\n    -ms-flex-order: 13;\n    order: 13;\n  }\n\n  .order-xl-0 {\n    -ms-flex-order: 0;\n    order: 0;\n  }\n\n  .order-xl-1 {\n    -ms-flex-order: 1;\n    order: 1;\n  }\n\n  .order-xl-2 {\n    -ms-flex-order: 2;\n    order: 2;\n  }\n\n  .order-xl-3 {\n    -ms-flex-order: 3;\n    order: 3;\n  }\n\n  .order-xl-4 {\n    -ms-flex-order: 4;\n    order: 4;\n  }\n\n  .order-xl-5 {\n    -ms-flex-order: 5;\n    order: 5;\n  }\n\n  .order-xl-6 {\n    -ms-flex-order: 6;\n    order: 6;\n  }\n\n  .order-xl-7 {\n    -ms-flex-order: 7;\n    order: 7;\n  }\n\n  .order-xl-8 {\n    -ms-flex-order: 8;\n    order: 8;\n  }\n\n  .order-xl-9 {\n    -ms-flex-order: 9;\n    order: 9;\n  }\n\n  .order-xl-10 {\n    -ms-flex-order: 10;\n    order: 10;\n  }\n\n  .order-xl-11 {\n    -ms-flex-order: 11;\n    order: 11;\n  }\n\n  .order-xl-12 {\n    -ms-flex-order: 12;\n    order: 12;\n  }\n\n  .offset-xl-0 {\n    margin-left: 0;\n  }\n\n  .offset-xl-1 {\n    margin-left: 8.333333%;\n  }\n\n  .offset-xl-2 {\n    margin-left: 16.666667%;\n  }\n\n  .offset-xl-3 {\n    margin-left: 25%;\n  }\n\n  .offset-xl-4 {\n    margin-left: 33.333333%;\n  }\n\n  .offset-xl-5 {\n    margin-left: 41.666667%;\n  }\n\n  .offset-xl-6 {\n    margin-left: 50%;\n  }\n\n  .offset-xl-7 {\n    margin-left: 58.333333%;\n  }\n\n  .offset-xl-8 {\n    margin-left: 66.666667%;\n  }\n\n  .offset-xl-9 {\n    margin-left: 75%;\n  }\n\n  .offset-xl-10 {\n    margin-left: 83.333333%;\n  }\n\n  .offset-xl-11 {\n    margin-left: 91.666667%;\n  }\n}\n.table {\n  width: 100%;\n  max-width: 100%;\n  margin-bottom: 1rem;\n  background-color: transparent;\n}\n.table th,\n.table td {\n  padding: 0.75rem;\n  vertical-align: top;\n  border-top: 1px solid #dee2e6;\n}\n.table thead th {\n  vertical-align: bottom;\n  border-bottom: 2px solid #dee2e6;\n}\n.table tbody + tbody {\n  border-top: 2px solid #dee2e6;\n}\n.table .table {\n  background-color: #fff;\n}\n.table-sm th,\n.table-sm td {\n  padding: 0.3rem;\n}\n.table-bordered {\n  border: 1px solid #dee2e6;\n}\n.table-bordered th,\n.table-bordered td {\n  border: 1px solid #dee2e6;\n}\n.table-bordered thead th,\n.table-bordered thead td {\n  border-bottom-width: 2px;\n}\n.table-borderless th,\n.table-borderless td,\n.table-borderless thead th,\n.table-borderless tbody + tbody {\n  border: 0;\n}\n.table-striped tbody tr:nth-of-type(odd) {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.table-hover tbody tr:hover {\n  background-color: rgba(0, 0, 0, 0.075);\n}\n.table-primary,\n.table-primary > th,\n.table-primary > td {\n  background-color: #b8daff;\n}\n.table-hover .table-primary:hover {\n  background-color: #9fcdff;\n}\n.table-hover .table-primary:hover > td,\n.table-hover .table-primary:hover > th {\n  background-color: #9fcdff;\n}\n.table-secondary,\n.table-secondary > th,\n.table-secondary > td {\n  background-color: #d6d8db;\n}\n.table-hover .table-secondary:hover {\n  background-color: #c8cbcf;\n}\n.table-hover .table-secondary:hover > td,\n.table-hover .table-secondary:hover > th {\n  background-color: #c8cbcf;\n}\n.table-success,\n.table-success > th,\n.table-success > td {\n  background-color: #c3e6cb;\n}\n.table-hover .table-success:hover {\n  background-color: #b1dfbb;\n}\n.table-hover .table-success:hover > td,\n.table-hover .table-success:hover > th {\n  background-color: #b1dfbb;\n}\n.table-info,\n.table-info > th,\n.table-info > td {\n  background-color: #bee5eb;\n}\n.table-hover .table-info:hover {\n  background-color: #abdde5;\n}\n.table-hover .table-info:hover > td,\n.table-hover .table-info:hover > th {\n  background-color: #abdde5;\n}\n.table-warning,\n.table-warning > th,\n.table-warning > td {\n  background-color: #ffeeba;\n}\n.table-hover .table-warning:hover {\n  background-color: #ffe8a1;\n}\n.table-hover .table-warning:hover > td,\n.table-hover .table-warning:hover > th {\n  background-color: #ffe8a1;\n}\n.table-danger,\n.table-danger > th,\n.table-danger > td {\n  background-color: #f5c6cb;\n}\n.table-hover .table-danger:hover {\n  background-color: #f1b0b7;\n}\n.table-hover .table-danger:hover > td,\n.table-hover .table-danger:hover > th {\n  background-color: #f1b0b7;\n}\n.table-light,\n.table-light > th,\n.table-light > td {\n  background-color: #fdfdfe;\n}\n.table-hover .table-light:hover {\n  background-color: #ececf6;\n}\n.table-hover .table-light:hover > td,\n.table-hover .table-light:hover > th {\n  background-color: #ececf6;\n}\n.table-dark,\n.table-dark > th,\n.table-dark > td {\n  background-color: #c6c8ca;\n}\n.table-hover .table-dark:hover {\n  background-color: #b9bbbe;\n}\n.table-hover .table-dark:hover > td,\n.table-hover .table-dark:hover > th {\n  background-color: #b9bbbe;\n}\n.table-active,\n.table-active > th,\n.table-active > td {\n  background-color: rgba(0, 0, 0, 0.075);\n}\n.table-hover .table-active:hover {\n  background-color: rgba(0, 0, 0, 0.075);\n}\n.table-hover .table-active:hover > td,\n.table-hover .table-active:hover > th {\n  background-color: rgba(0, 0, 0, 0.075);\n}\n.table .thead-dark th {\n  color: #fff;\n  background-color: #212529;\n  border-color: #32383e;\n}\n.table .thead-light th {\n  color: #495057;\n  background-color: #e9ecef;\n  border-color: #dee2e6;\n}\n.table-dark {\n  color: #fff;\n  background-color: #212529;\n}\n.table-dark th,\n.table-dark td,\n.table-dark thead th {\n  border-color: #32383e;\n}\n.table-dark.table-bordered {\n  border: 0;\n}\n.table-dark.table-striped tbody tr:nth-of-type(odd) {\n  background-color: rgba(255, 255, 255, 0.05);\n}\n.table-dark.table-hover tbody tr:hover {\n  background-color: rgba(255, 255, 255, 0.075);\n}\n@media (max-width: 575.98px) {\n  .table-responsive-sm {\n    display: block;\n    width: 100%;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n  }\n\n  .table-responsive-sm > .table-bordered {\n    border: 0;\n  }\n}\n@media (max-width: 767.98px) {\n  .table-responsive-md {\n    display: block;\n    width: 100%;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n  }\n\n  .table-responsive-md > .table-bordered {\n    border: 0;\n  }\n}\n@media (max-width: 991.98px) {\n  .table-responsive-lg {\n    display: block;\n    width: 100%;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n  }\n\n  .table-responsive-lg > .table-bordered {\n    border: 0;\n  }\n}\n@media (max-width: 1199.98px) {\n  .table-responsive-xl {\n    display: block;\n    width: 100%;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n  }\n\n  .table-responsive-xl > .table-bordered {\n    border: 0;\n  }\n}\n.table-responsive {\n  display: block;\n  width: 100%;\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n}\n.table-responsive > .table-bordered {\n  border: 0;\n}\n.form-control {\n  display: block;\n  width: 100%;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n@media screen and (prefers-reduced-motion: reduce) {\n  .form-control {\n    transition: none;\n  }\n}\n.form-control::-ms-expand {\n  background-color: transparent;\n  border: 0;\n}\n.form-control:focus {\n  color: #495057;\n  background-color: #fff;\n  border-color: #80bdff;\n  outline: 0;\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n.form-control::-webkit-input-placeholder {\n  color: #6c757d;\n  opacity: 1;\n}\n.form-control::-moz-placeholder {\n  color: #6c757d;\n  opacity: 1;\n}\n.form-control:-ms-input-placeholder {\n  color: #6c757d;\n  opacity: 1;\n}\n.form-control::-ms-input-placeholder {\n  color: #6c757d;\n  opacity: 1;\n}\n.form-control::placeholder {\n  color: #6c757d;\n  opacity: 1;\n}\n.form-control:disabled,\n.form-control[readonly] {\n  background-color: #e9ecef;\n  opacity: 1;\n}\nselect.form-control:not([size]):not([multiple]) {\n  height: calc(2.25rem + 2px);\n}\nselect.form-control:focus::-ms-value {\n  color: #495057;\n  background-color: #fff;\n}\n.form-control-file,\n.form-control-range {\n  display: block;\n  width: 100%;\n}\n.col-form-label {\n  padding-top: calc(0.375rem + 1px);\n  padding-bottom: calc(0.375rem + 1px);\n  margin-bottom: 0;\n  font-size: inherit;\n  line-height: 1.5;\n}\n.col-form-label-lg {\n  padding-top: calc(0.5rem + 1px);\n  padding-bottom: calc(0.5rem + 1px);\n  font-size: 1.25rem;\n  line-height: 1.5;\n}\n.col-form-label-sm {\n  padding-top: calc(0.25rem + 1px);\n  padding-bottom: calc(0.25rem + 1px);\n  font-size: 0.875rem;\n  line-height: 1.5;\n}\n.form-control-plaintext {\n  display: block;\n  width: 100%;\n  padding-top: 0.375rem;\n  padding-bottom: 0.375rem;\n  margin-bottom: 0;\n  line-height: 1.5;\n  color: #212529;\n  background-color: transparent;\n  border: solid transparent;\n  border-width: 1px 0;\n}\n.form-control-plaintext.form-control-sm,\n.input-group-sm > .form-control-plaintext.form-control,\n.input-group-sm > .input-group-prepend > .form-control-plaintext.input-group-text,\n.input-group-sm > .input-group-append > .form-control-plaintext.input-group-text,\n.input-group-sm > .input-group-prepend > .form-control-plaintext.btn,\n.input-group-sm > .input-group-append > .form-control-plaintext.btn,\n.form-control-plaintext.form-control-lg,\n.input-group-lg > .form-control-plaintext.form-control,\n.input-group-lg > .input-group-prepend > .form-control-plaintext.input-group-text,\n.input-group-lg > .input-group-append > .form-control-plaintext.input-group-text,\n.input-group-lg > .input-group-prepend > .form-control-plaintext.btn,\n.input-group-lg > .input-group-append > .form-control-plaintext.btn {\n  padding-right: 0;\n  padding-left: 0;\n}\n.form-control-sm,\n.input-group-sm > .form-control,\n.input-group-sm > .input-group-prepend > .input-group-text,\n.input-group-sm > .input-group-append > .input-group-text,\n.input-group-sm > .input-group-prepend > .btn,\n.input-group-sm > .input-group-append > .btn {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  border-radius: 0.2rem;\n}\nselect.form-control-sm:not([size]):not([multiple]),\n.input-group-sm > select.form-control:not([size]):not([multiple]),\n.input-group-sm > .input-group-prepend > select.input-group-text:not([size]):not([multiple]),\n.input-group-sm > .input-group-append > select.input-group-text:not([size]):not([multiple]),\n.input-group-sm > .input-group-prepend > select.btn:not([size]):not([multiple]),\n.input-group-sm > .input-group-append > select.btn:not([size]):not([multiple]) {\n  height: calc(1.8125rem + 2px);\n}\n.form-control-lg,\n.input-group-lg > .form-control,\n.input-group-lg > .input-group-prepend > .input-group-text,\n.input-group-lg > .input-group-append > .input-group-text,\n.input-group-lg > .input-group-prepend > .btn,\n.input-group-lg > .input-group-append > .btn {\n  padding: 0.5rem 1rem;\n  font-size: 1.25rem;\n  line-height: 1.5;\n  border-radius: 0.3rem;\n}\nselect.form-control-lg:not([size]):not([multiple]),\n.input-group-lg > select.form-control:not([size]):not([multiple]),\n.input-group-lg > .input-group-prepend > select.input-group-text:not([size]):not([multiple]),\n.input-group-lg > .input-group-append > select.input-group-text:not([size]):not([multiple]),\n.input-group-lg > .input-group-prepend > select.btn:not([size]):not([multiple]),\n.input-group-lg > .input-group-append > select.btn:not([size]):not([multiple]) {\n  height: calc(2.875rem + 2px);\n}\n.form-group {\n  margin-bottom: 1rem;\n}\n.form-text {\n  display: block;\n  margin-top: 0.25rem;\n}\n.form-row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  margin-right: -5px;\n  margin-left: -5px;\n}\n.form-row > .col,\n.form-row > [class*="col-"] {\n  padding-right: 5px;\n  padding-left: 5px;\n}\n.form-check {\n  position: relative;\n  display: block;\n  padding-left: 1.25rem;\n}\n.form-check-input {\n  position: absolute;\n  margin-top: 0.3rem;\n  margin-left: -1.25rem;\n}\n.form-check-input:disabled ~ .form-check-label {\n  color: #6c757d;\n}\n.form-check-label {\n  margin-bottom: 0;\n}\n.form-check-inline {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-align: center;\n  align-items: center;\n  padding-left: 0;\n  margin-right: 0.75rem;\n}\n.form-check-inline .form-check-input {\n  position: static;\n  margin-top: 0;\n  margin-right: 0.3125rem;\n  margin-left: 0;\n}\n.valid-feedback {\n  display: none;\n  width: 100%;\n  margin-top: 0.25rem;\n  font-size: 80%;\n  color: #28a745;\n}\n.valid-tooltip {\n  position: absolute;\n  top: 100%;\n  z-index: 5;\n  display: none;\n  max-width: 100%;\n  padding: .5rem;\n  margin-top: .1rem;\n  font-size: .875rem;\n  line-height: 1;\n  color: #fff;\n  background-color: rgba(40, 167, 69, 0.8);\n  border-radius: .2rem;\n}\n.was-validated .form-control:valid,\n.form-control.is-valid,\n.was-validated\n.custom-select:valid,\n.custom-select.is-valid {\n  border-color: #28a745;\n}\n.was-validated .form-control:valid:focus,\n.form-control.is-valid:focus,\n.was-validated\n.custom-select:valid:focus,\n.custom-select.is-valid:focus {\n  border-color: #28a745;\n  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);\n}\n.was-validated .form-control:valid ~ .valid-feedback,\n.was-validated .form-control:valid ~ .valid-tooltip,\n.form-control.is-valid ~ .valid-feedback,\n.form-control.is-valid ~ .valid-tooltip,\n.was-validated\n.custom-select:valid ~ .valid-feedback,\n.was-validated\n.custom-select:valid ~ .valid-tooltip,\n.custom-select.is-valid ~ .valid-feedback,\n.custom-select.is-valid ~ .valid-tooltip {\n  display: block;\n}\n.was-validated .form-control-file:valid ~ .valid-feedback,\n.was-validated .form-control-file:valid ~ .valid-tooltip,\n.form-control-file.is-valid ~ .valid-feedback,\n.form-control-file.is-valid ~ .valid-tooltip {\n  display: block;\n}\n.was-validated .form-check-input:valid ~ .form-check-label,\n.form-check-input.is-valid ~ .form-check-label {\n  color: #28a745;\n}\n.was-validated .form-check-input:valid ~ .valid-feedback,\n.was-validated .form-check-input:valid ~ .valid-tooltip,\n.form-check-input.is-valid ~ .valid-feedback,\n.form-check-input.is-valid ~ .valid-tooltip {\n  display: block;\n}\n.was-validated .custom-control-input:valid ~ .custom-control-label,\n.custom-control-input.is-valid ~ .custom-control-label {\n  color: #28a745;\n}\n.was-validated .custom-control-input:valid ~ .custom-control-label::before,\n.custom-control-input.is-valid ~ .custom-control-label::before {\n  background-color: #71dd8a;\n}\n.was-validated .custom-control-input:valid ~ .valid-feedback,\n.was-validated .custom-control-input:valid ~ .valid-tooltip,\n.custom-control-input.is-valid ~ .valid-feedback,\n.custom-control-input.is-valid ~ .valid-tooltip {\n  display: block;\n}\n.was-validated .custom-control-input:valid:checked ~ .custom-control-label::before,\n.custom-control-input.is-valid:checked ~ .custom-control-label::before {\n  background-color: #34ce57;\n}\n.was-validated .custom-control-input:valid:focus ~ .custom-control-label::before,\n.custom-control-input.is-valid:focus ~ .custom-control-label::before {\n  box-shadow: 0 0 0 1px #fff, 0 0 0 0.2rem rgba(40, 167, 69, 0.25);\n}\n.was-validated .custom-file-input:valid ~ .custom-file-label,\n.custom-file-input.is-valid ~ .custom-file-label {\n  border-color: #28a745;\n}\n.was-validated .custom-file-input:valid ~ .custom-file-label::before,\n.custom-file-input.is-valid ~ .custom-file-label::before {\n  border-color: inherit;\n}\n.was-validated .custom-file-input:valid ~ .valid-feedback,\n.was-validated .custom-file-input:valid ~ .valid-tooltip,\n.custom-file-input.is-valid ~ .valid-feedback,\n.custom-file-input.is-valid ~ .valid-tooltip {\n  display: block;\n}\n.was-validated .custom-file-input:valid:focus ~ .custom-file-label,\n.custom-file-input.is-valid:focus ~ .custom-file-label {\n  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);\n}\n.invalid-feedback {\n  display: none;\n  width: 100%;\n  margin-top: 0.25rem;\n  font-size: 80%;\n  color: #dc3545;\n}\n.invalid-tooltip {\n  position: absolute;\n  top: 100%;\n  z-index: 5;\n  display: none;\n  max-width: 100%;\n  padding: .5rem;\n  margin-top: .1rem;\n  font-size: .875rem;\n  line-height: 1;\n  color: #fff;\n  background-color: rgba(220, 53, 69, 0.8);\n  border-radius: .2rem;\n}\n.was-validated .form-control:invalid,\n.form-control.is-invalid,\n.was-validated\n.custom-select:invalid,\n.custom-select.is-invalid {\n  border-color: #dc3545;\n}\n.was-validated .form-control:invalid:focus,\n.form-control.is-invalid:focus,\n.was-validated\n.custom-select:invalid:focus,\n.custom-select.is-invalid:focus {\n  border-color: #dc3545;\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);\n}\n.was-validated .form-control:invalid ~ .invalid-feedback,\n.was-validated .form-control:invalid ~ .invalid-tooltip,\n.form-control.is-invalid ~ .invalid-feedback,\n.form-control.is-invalid ~ .invalid-tooltip,\n.was-validated\n.custom-select:invalid ~ .invalid-feedback,\n.was-validated\n.custom-select:invalid ~ .invalid-tooltip,\n.custom-select.is-invalid ~ .invalid-feedback,\n.custom-select.is-invalid ~ .invalid-tooltip {\n  display: block;\n}\n.was-validated .form-control-file:invalid ~ .invalid-feedback,\n.was-validated .form-control-file:invalid ~ .invalid-tooltip,\n.form-control-file.is-invalid ~ .invalid-feedback,\n.form-control-file.is-invalid ~ .invalid-tooltip {\n  display: block;\n}\n.was-validated .form-check-input:invalid ~ .form-check-label,\n.form-check-input.is-invalid ~ .form-check-label {\n  color: #dc3545;\n}\n.was-validated .form-check-input:invalid ~ .invalid-feedback,\n.was-validated .form-check-input:invalid ~ .invalid-tooltip,\n.form-check-input.is-invalid ~ .invalid-feedback,\n.form-check-input.is-invalid ~ .invalid-tooltip {\n  display: block;\n}\n.was-validated .custom-control-input:invalid ~ .custom-control-label,\n.custom-control-input.is-invalid ~ .custom-control-label {\n  color: #dc3545;\n}\n.was-validated .custom-control-input:invalid ~ .custom-control-label::before,\n.custom-control-input.is-invalid ~ .custom-control-label::before {\n  background-color: #efa2a9;\n}\n.was-validated .custom-control-input:invalid ~ .invalid-feedback,\n.was-validated .custom-control-input:invalid ~ .invalid-tooltip,\n.custom-control-input.is-invalid ~ .invalid-feedback,\n.custom-control-input.is-invalid ~ .invalid-tooltip {\n  display: block;\n}\n.was-validated .custom-control-input:invalid:checked ~ .custom-control-label::before,\n.custom-control-input.is-invalid:checked ~ .custom-control-label::before {\n  background-color: #e4606d;\n}\n.was-validated .custom-control-input:invalid:focus ~ .custom-control-label::before,\n.custom-control-input.is-invalid:focus ~ .custom-control-label::before {\n  box-shadow: 0 0 0 1px #fff, 0 0 0 0.2rem rgba(220, 53, 69, 0.25);\n}\n.was-validated .custom-file-input:invalid ~ .custom-file-label,\n.custom-file-input.is-invalid ~ .custom-file-label {\n  border-color: #dc3545;\n}\n.was-validated .custom-file-input:invalid ~ .custom-file-label::before,\n.custom-file-input.is-invalid ~ .custom-file-label::before {\n  border-color: inherit;\n}\n.was-validated .custom-file-input:invalid ~ .invalid-feedback,\n.was-validated .custom-file-input:invalid ~ .invalid-tooltip,\n.custom-file-input.is-invalid ~ .invalid-feedback,\n.custom-file-input.is-invalid ~ .invalid-tooltip {\n  display: block;\n}\n.was-validated .custom-file-input:invalid:focus ~ .custom-file-label,\n.custom-file-input.is-invalid:focus ~ .custom-file-label {\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);\n}\n.form-inline {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row wrap;\n  flex-flow: row wrap;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.form-inline .form-check {\n  width: 100%;\n}\n@media (min-width: 576px) {\n  .form-inline label {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-align: center;\n    align-items: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    margin-bottom: 0;\n  }\n\n  .form-inline .form-group {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    -ms-flex-flow: row wrap;\n    flex-flow: row wrap;\n    -ms-flex-align: center;\n    align-items: center;\n    margin-bottom: 0;\n  }\n\n  .form-inline .form-control {\n    display: inline-block;\n    width: auto;\n    vertical-align: middle;\n  }\n\n  .form-inline .form-control-plaintext {\n    display: inline-block;\n  }\n\n  .form-inline .input-group,\n  .form-inline .custom-select {\n    width: auto;\n  }\n\n  .form-inline .form-check {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-align: center;\n    align-items: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    width: auto;\n    padding-left: 0;\n  }\n\n  .form-inline .form-check-input {\n    position: relative;\n    margin-top: 0;\n    margin-right: 0.25rem;\n    margin-left: 0;\n  }\n\n  .form-inline .custom-control {\n    -ms-flex-align: center;\n    align-items: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n\n  .form-inline .custom-control-label {\n    margin-bottom: 0;\n  }\n}\n.btn {\n  display: inline-block;\n  font-weight: 400;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 0.25rem;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n@media screen and (prefers-reduced-motion: reduce) {\n  .btn {\n    transition: none;\n  }\n}\n.btn:hover,\n.btn:focus {\n  text-decoration: none;\n}\n.btn:focus,\n.btn.focus {\n  outline: 0;\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n.btn.disabled,\n.btn:disabled {\n  opacity: 0.65;\n}\n.btn:not(:disabled):not(.disabled) {\n  cursor: pointer;\n}\n.btn:not(:disabled):not(.disabled):active,\n.btn:not(:disabled):not(.disabled).active {\n  background-image: none;\n}\na.btn.disabled,\nfieldset:disabled a.btn {\n  pointer-events: none;\n}\n.btn-primary {\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.btn-primary:hover {\n  color: #fff;\n  background-color: #0069d9;\n  border-color: #0062cc;\n}\n.btn-primary:focus,\n.btn-primary.focus {\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.5);\n}\n.btn-primary.disabled,\n.btn-primary:disabled {\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.btn-primary:not(:disabled):not(.disabled):active,\n.btn-primary:not(:disabled):not(.disabled).active,\n.show > .btn-primary.dropdown-toggle {\n  color: #fff;\n  background-color: #0062cc;\n  border-color: #005cbf;\n}\n.btn-primary:not(:disabled):not(.disabled):active:focus,\n.btn-primary:not(:disabled):not(.disabled).active:focus,\n.show > .btn-primary.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.5);\n}\n.btn-secondary {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.btn-secondary:hover {\n  color: #fff;\n  background-color: #5a6268;\n  border-color: #545b62;\n}\n.btn-secondary:focus,\n.btn-secondary.focus {\n  box-shadow: 0 0 0 0.2rem rgba(108, 117, 125, 0.5);\n}\n.btn-secondary.disabled,\n.btn-secondary:disabled {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.btn-secondary:not(:disabled):not(.disabled):active,\n.btn-secondary:not(:disabled):not(.disabled).active,\n.show > .btn-secondary.dropdown-toggle {\n  color: #fff;\n  background-color: #545b62;\n  border-color: #4e555b;\n}\n.btn-secondary:not(:disabled):not(.disabled):active:focus,\n.btn-secondary:not(:disabled):not(.disabled).active:focus,\n.show > .btn-secondary.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(108, 117, 125, 0.5);\n}\n.btn-success {\n  color: #fff;\n  background-color: #28a745;\n  border-color: #28a745;\n}\n.btn-success:hover {\n  color: #fff;\n  background-color: #218838;\n  border-color: #1e7e34;\n}\n.btn-success:focus,\n.btn-success.focus {\n  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.5);\n}\n.btn-success.disabled,\n.btn-success:disabled {\n  color: #fff;\n  background-color: #28a745;\n  border-color: #28a745;\n}\n.btn-success:not(:disabled):not(.disabled):active,\n.btn-success:not(:disabled):not(.disabled).active,\n.show > .btn-success.dropdown-toggle {\n  color: #fff;\n  background-color: #1e7e34;\n  border-color: #1c7430;\n}\n.btn-success:not(:disabled):not(.disabled):active:focus,\n.btn-success:not(:disabled):not(.disabled).active:focus,\n.show > .btn-success.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.5);\n}\n.btn-info {\n  color: #fff;\n  background-color: #17a2b8;\n  border-color: #17a2b8;\n}\n.btn-info:hover {\n  color: #fff;\n  background-color: #138496;\n  border-color: #117a8b;\n}\n.btn-info:focus,\n.btn-info.focus {\n  box-shadow: 0 0 0 0.2rem rgba(23, 162, 184, 0.5);\n}\n.btn-info.disabled,\n.btn-info:disabled {\n  color: #fff;\n  background-color: #17a2b8;\n  border-color: #17a2b8;\n}\n.btn-info:not(:disabled):not(.disabled):active,\n.btn-info:not(:disabled):not(.disabled).active,\n.show > .btn-info.dropdown-toggle {\n  color: #fff;\n  background-color: #117a8b;\n  border-color: #10707f;\n}\n.btn-info:not(:disabled):not(.disabled):active:focus,\n.btn-info:not(:disabled):not(.disabled).active:focus,\n.show > .btn-info.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(23, 162, 184, 0.5);\n}\n.btn-warning {\n  color: #212529;\n  background-color: #ffc107;\n  border-color: #ffc107;\n}\n.btn-warning:hover {\n  color: #212529;\n  background-color: #e0a800;\n  border-color: #d39e00;\n}\n.btn-warning:focus,\n.btn-warning.focus {\n  box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.5);\n}\n.btn-warning.disabled,\n.btn-warning:disabled {\n  color: #212529;\n  background-color: #ffc107;\n  border-color: #ffc107;\n}\n.btn-warning:not(:disabled):not(.disabled):active,\n.btn-warning:not(:disabled):not(.disabled).active,\n.show > .btn-warning.dropdown-toggle {\n  color: #212529;\n  background-color: #d39e00;\n  border-color: #c69500;\n}\n.btn-warning:not(:disabled):not(.disabled):active:focus,\n.btn-warning:not(:disabled):not(.disabled).active:focus,\n.show > .btn-warning.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.5);\n}\n.btn-danger {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.btn-danger:hover {\n  color: #fff;\n  background-color: #c82333;\n  border-color: #bd2130;\n}\n.btn-danger:focus,\n.btn-danger.focus {\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.5);\n}\n.btn-danger.disabled,\n.btn-danger:disabled {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.btn-danger:not(:disabled):not(.disabled):active,\n.btn-danger:not(:disabled):not(.disabled).active,\n.show > .btn-danger.dropdown-toggle {\n  color: #fff;\n  background-color: #bd2130;\n  border-color: #b21f2d;\n}\n.btn-danger:not(:disabled):not(.disabled):active:focus,\n.btn-danger:not(:disabled):not(.disabled).active:focus,\n.show > .btn-danger.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.5);\n}\n.btn-light {\n  color: #212529;\n  background-color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n.btn-light:hover {\n  color: #212529;\n  background-color: #e2e6ea;\n  border-color: #dae0e5;\n}\n.btn-light:focus,\n.btn-light.focus {\n  box-shadow: 0 0 0 0.2rem rgba(248, 249, 250, 0.5);\n}\n.btn-light.disabled,\n.btn-light:disabled {\n  color: #212529;\n  background-color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n.btn-light:not(:disabled):not(.disabled):active,\n.btn-light:not(:disabled):not(.disabled).active,\n.show > .btn-light.dropdown-toggle {\n  color: #212529;\n  background-color: #dae0e5;\n  border-color: #d3d9df;\n}\n.btn-light:not(:disabled):not(.disabled):active:focus,\n.btn-light:not(:disabled):not(.disabled).active:focus,\n.show > .btn-light.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(248, 249, 250, 0.5);\n}\n.btn-dark {\n  color: #fff;\n  background-color: #343a40;\n  border-color: #343a40;\n}\n.btn-dark:hover {\n  color: #fff;\n  background-color: #23272b;\n  border-color: #1d2124;\n}\n.btn-dark:focus,\n.btn-dark.focus {\n  box-shadow: 0 0 0 0.2rem rgba(52, 58, 64, 0.5);\n}\n.btn-dark.disabled,\n.btn-dark:disabled {\n  color: #fff;\n  background-color: #343a40;\n  border-color: #343a40;\n}\n.btn-dark:not(:disabled):not(.disabled):active,\n.btn-dark:not(:disabled):not(.disabled).active,\n.show > .btn-dark.dropdown-toggle {\n  color: #fff;\n  background-color: #1d2124;\n  border-color: #171a1d;\n}\n.btn-dark:not(:disabled):not(.disabled):active:focus,\n.btn-dark:not(:disabled):not(.disabled).active:focus,\n.show > .btn-dark.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(52, 58, 64, 0.5);\n}\n.btn-outline-primary {\n  color: #007bff;\n  background-color: transparent;\n  background-image: none;\n  border-color: #007bff;\n}\n.btn-outline-primary:hover {\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.btn-outline-primary:focus,\n.btn-outline-primary.focus {\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.5);\n}\n.btn-outline-primary.disabled,\n.btn-outline-primary:disabled {\n  color: #007bff;\n  background-color: transparent;\n}\n.btn-outline-primary:not(:disabled):not(.disabled):active,\n.btn-outline-primary:not(:disabled):not(.disabled).active,\n.show > .btn-outline-primary.dropdown-toggle {\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.btn-outline-primary:not(:disabled):not(.disabled):active:focus,\n.btn-outline-primary:not(:disabled):not(.disabled).active:focus,\n.show > .btn-outline-primary.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.5);\n}\n.btn-outline-secondary {\n  color: #6c757d;\n  background-color: transparent;\n  background-image: none;\n  border-color: #6c757d;\n}\n.btn-outline-secondary:hover {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.btn-outline-secondary:focus,\n.btn-outline-secondary.focus {\n  box-shadow: 0 0 0 0.2rem rgba(108, 117, 125, 0.5);\n}\n.btn-outline-secondary.disabled,\n.btn-outline-secondary:disabled {\n  color: #6c757d;\n  background-color: transparent;\n}\n.btn-outline-secondary:not(:disabled):not(.disabled):active,\n.btn-outline-secondary:not(:disabled):not(.disabled).active,\n.show > .btn-outline-secondary.dropdown-toggle {\n  color: #fff;\n  background-color: #6c757d;\n  border-color: #6c757d;\n}\n.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,\n.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,\n.show > .btn-outline-secondary.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(108, 117, 125, 0.5);\n}\n.btn-outline-success {\n  color: #28a745;\n  background-color: transparent;\n  background-image: none;\n  border-color: #28a745;\n}\n.btn-outline-success:hover {\n  color: #fff;\n  background-color: #28a745;\n  border-color: #28a745;\n}\n.btn-outline-success:focus,\n.btn-outline-success.focus {\n  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.5);\n}\n.btn-outline-success.disabled,\n.btn-outline-success:disabled {\n  color: #28a745;\n  background-color: transparent;\n}\n.btn-outline-success:not(:disabled):not(.disabled):active,\n.btn-outline-success:not(:disabled):not(.disabled).active,\n.show > .btn-outline-success.dropdown-toggle {\n  color: #fff;\n  background-color: #28a745;\n  border-color: #28a745;\n}\n.btn-outline-success:not(:disabled):not(.disabled):active:focus,\n.btn-outline-success:not(:disabled):not(.disabled).active:focus,\n.show > .btn-outline-success.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.5);\n}\n.btn-outline-info {\n  color: #17a2b8;\n  background-color: transparent;\n  background-image: none;\n  border-color: #17a2b8;\n}\n.btn-outline-info:hover {\n  color: #fff;\n  background-color: #17a2b8;\n  border-color: #17a2b8;\n}\n.btn-outline-info:focus,\n.btn-outline-info.focus {\n  box-shadow: 0 0 0 0.2rem rgba(23, 162, 184, 0.5);\n}\n.btn-outline-info.disabled,\n.btn-outline-info:disabled {\n  color: #17a2b8;\n  background-color: transparent;\n}\n.btn-outline-info:not(:disabled):not(.disabled):active,\n.btn-outline-info:not(:disabled):not(.disabled).active,\n.show > .btn-outline-info.dropdown-toggle {\n  color: #fff;\n  background-color: #17a2b8;\n  border-color: #17a2b8;\n}\n.btn-outline-info:not(:disabled):not(.disabled):active:focus,\n.btn-outline-info:not(:disabled):not(.disabled).active:focus,\n.show > .btn-outline-info.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(23, 162, 184, 0.5);\n}\n.btn-outline-warning {\n  color: #ffc107;\n  background-color: transparent;\n  background-image: none;\n  border-color: #ffc107;\n}\n.btn-outline-warning:hover {\n  color: #212529;\n  background-color: #ffc107;\n  border-color: #ffc107;\n}\n.btn-outline-warning:focus,\n.btn-outline-warning.focus {\n  box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.5);\n}\n.btn-outline-warning.disabled,\n.btn-outline-warning:disabled {\n  color: #ffc107;\n  background-color: transparent;\n}\n.btn-outline-warning:not(:disabled):not(.disabled):active,\n.btn-outline-warning:not(:disabled):not(.disabled).active,\n.show > .btn-outline-warning.dropdown-toggle {\n  color: #212529;\n  background-color: #ffc107;\n  border-color: #ffc107;\n}\n.btn-outline-warning:not(:disabled):not(.disabled):active:focus,\n.btn-outline-warning:not(:disabled):not(.disabled).active:focus,\n.show > .btn-outline-warning.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.5);\n}\n.btn-outline-danger {\n  color: #dc3545;\n  background-color: transparent;\n  background-image: none;\n  border-color: #dc3545;\n}\n.btn-outline-danger:hover {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.btn-outline-danger:focus,\n.btn-outline-danger.focus {\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.5);\n}\n.btn-outline-danger.disabled,\n.btn-outline-danger:disabled {\n  color: #dc3545;\n  background-color: transparent;\n}\n.btn-outline-danger:not(:disabled):not(.disabled):active,\n.btn-outline-danger:not(:disabled):not(.disabled).active,\n.show > .btn-outline-danger.dropdown-toggle {\n  color: #fff;\n  background-color: #dc3545;\n  border-color: #dc3545;\n}\n.btn-outline-danger:not(:disabled):not(.disabled):active:focus,\n.btn-outline-danger:not(:disabled):not(.disabled).active:focus,\n.show > .btn-outline-danger.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.5);\n}\n.btn-outline-light {\n  color: #f8f9fa;\n  background-color: transparent;\n  background-image: none;\n  border-color: #f8f9fa;\n}\n.btn-outline-light:hover {\n  color: #212529;\n  background-color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n.btn-outline-light:focus,\n.btn-outline-light.focus {\n  box-shadow: 0 0 0 0.2rem rgba(248, 249, 250, 0.5);\n}\n.btn-outline-light.disabled,\n.btn-outline-light:disabled {\n  color: #f8f9fa;\n  background-color: transparent;\n}\n.btn-outline-light:not(:disabled):not(.disabled):active,\n.btn-outline-light:not(:disabled):not(.disabled).active,\n.show > .btn-outline-light.dropdown-toggle {\n  color: #212529;\n  background-color: #f8f9fa;\n  border-color: #f8f9fa;\n}\n.btn-outline-light:not(:disabled):not(.disabled):active:focus,\n.btn-outline-light:not(:disabled):not(.disabled).active:focus,\n.show > .btn-outline-light.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(248, 249, 250, 0.5);\n}\n.btn-outline-dark {\n  color: #343a40;\n  background-color: transparent;\n  background-image: none;\n  border-color: #343a40;\n}\n.btn-outline-dark:hover {\n  color: #fff;\n  background-color: #343a40;\n  border-color: #343a40;\n}\n.btn-outline-dark:focus,\n.btn-outline-dark.focus {\n  box-shadow: 0 0 0 0.2rem rgba(52, 58, 64, 0.5);\n}\n.btn-outline-dark.disabled,\n.btn-outline-dark:disabled {\n  color: #343a40;\n  background-color: transparent;\n}\n.btn-outline-dark:not(:disabled):not(.disabled):active,\n.btn-outline-dark:not(:disabled):not(.disabled).active,\n.show > .btn-outline-dark.dropdown-toggle {\n  color: #fff;\n  background-color: #343a40;\n  border-color: #343a40;\n}\n.btn-outline-dark:not(:disabled):not(.disabled):active:focus,\n.btn-outline-dark:not(:disabled):not(.disabled).active:focus,\n.show > .btn-outline-dark.dropdown-toggle:focus {\n  box-shadow: 0 0 0 0.2rem rgba(52, 58, 64, 0.5);\n}\n.btn-link {\n  font-weight: 400;\n  color: #007bff;\n  background-color: transparent;\n}\n.btn-link:hover {\n  color: #0056b3;\n  text-decoration: underline;\n  background-color: transparent;\n  border-color: transparent;\n}\n.btn-link:focus,\n.btn-link.focus {\n  text-decoration: underline;\n  border-color: transparent;\n  box-shadow: none;\n}\n.btn-link:disabled,\n.btn-link.disabled {\n  color: #6c757d;\n  pointer-events: none;\n}\n.btn-lg,\n.btn-group-lg > .btn {\n  padding: 0.5rem 1rem;\n  font-size: 1.25rem;\n  line-height: 1.5;\n  border-radius: 0.3rem;\n}\n.btn-sm,\n.btn-group-sm > .btn {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  border-radius: 0.2rem;\n}\n.btn-block {\n  display: block;\n  width: 100%;\n}\n.btn-block + .btn-block {\n  margin-top: 0.5rem;\n}\ninput[type="submit"].btn-block,\ninput[type="reset"].btn-block,\ninput[type="button"].btn-block {\n  width: 100%;\n}\n.fade {\n  transition: opacity 0.15s linear;\n}\n@media screen and (prefers-reduced-motion: reduce) {\n  .fade {\n    transition: none;\n  }\n}\n.fade:not(.show) {\n  opacity: 0;\n}\n.collapse:not(.show) {\n  display: none;\n}\n.collapsing {\n  position: relative;\n  height: 0;\n  overflow: hidden;\n  transition: height 0.35s ease;\n}\n@media screen and (prefers-reduced-motion: reduce) {\n  .collapsing {\n    transition: none;\n  }\n}\n.dropup,\n.dropright,\n.dropdown,\n.dropleft {\n  position: relative;\n}\n.dropdown-toggle::after {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  margin-left: 0.255em;\n  vertical-align: 0.255em;\n  content: "";\n  border-top: 0.3em solid;\n  border-right: 0.3em solid transparent;\n  border-bottom: 0;\n  border-left: 0.3em solid transparent;\n}\n.dropdown-toggle:empty::after {\n  margin-left: 0;\n}\n.dropdown-menu {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  z-index: 1000;\n  display: none;\n  float: left;\n  min-width: 10rem;\n  padding: 0.5rem 0;\n  margin: 0.125rem 0 0;\n  font-size: 1rem;\n  color: #212529;\n  text-align: left;\n  list-style: none;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  border-radius: 0.25rem;\n}\n.dropdown-menu-right {\n  right: 0;\n  left: auto;\n}\n.dropup .dropdown-menu {\n  top: auto;\n  bottom: 100%;\n  margin-top: 0;\n  margin-bottom: 0.125rem;\n}\n.dropup .dropdown-toggle::after {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  margin-left: 0.255em;\n  vertical-align: 0.255em;\n  content: "";\n  border-top: 0;\n  border-right: 0.3em solid transparent;\n  border-bottom: 0.3em solid;\n  border-left: 0.3em solid transparent;\n}\n.dropup .dropdown-toggle:empty::after {\n  margin-left: 0;\n}\n.dropright .dropdown-menu {\n  top: 0;\n  right: auto;\n  left: 100%;\n  margin-top: 0;\n  margin-left: 0.125rem;\n}\n.dropright .dropdown-toggle::after {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  margin-left: 0.255em;\n  vertical-align: 0.255em;\n  content: "";\n  border-top: 0.3em solid transparent;\n  border-right: 0;\n  border-bottom: 0.3em solid transparent;\n  border-left: 0.3em solid;\n}\n.dropright .dropdown-toggle:empty::after {\n  margin-left: 0;\n}\n.dropright .dropdown-toggle::after {\n  vertical-align: 0;\n}\n.dropleft .dropdown-menu {\n  top: 0;\n  right: 100%;\n  left: auto;\n  margin-top: 0;\n  margin-right: 0.125rem;\n}\n.dropleft .dropdown-toggle::after {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  margin-left: 0.255em;\n  vertical-align: 0.255em;\n  content: "";\n}\n.dropleft .dropdown-toggle::after {\n  display: none;\n}\n.dropleft .dropdown-toggle::before {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  margin-right: 0.255em;\n  vertical-align: 0.255em;\n  content: "";\n  border-top: 0.3em solid transparent;\n  border-right: 0.3em solid;\n  border-bottom: 0.3em solid transparent;\n}\n.dropleft .dropdown-toggle:empty::after {\n  margin-left: 0;\n}\n.dropleft .dropdown-toggle::before {\n  vertical-align: 0;\n}\n.dropdown-menu[x-placement^="top"],\n.dropdown-menu[x-placement^="right"],\n.dropdown-menu[x-placement^="bottom"],\n.dropdown-menu[x-placement^="left"] {\n  right: auto;\n  bottom: auto;\n}\n.dropdown-divider {\n  height: 0;\n  margin: 0.5rem 0;\n  overflow: hidden;\n  border-top: 1px solid #e9ecef;\n}\n.dropdown-item {\n  display: block;\n  width: 100%;\n  padding: 0.25rem 1.5rem;\n  clear: both;\n  font-weight: 400;\n  color: #212529;\n  text-align: inherit;\n  white-space: nowrap;\n  background-color: transparent;\n  border: 0;\n}\n.dropdown-item:hover,\n.dropdown-item:focus {\n  color: #16181b;\n  text-decoration: none;\n  background-color: #f8f9fa;\n}\n.dropdown-item.active,\n.dropdown-item:active {\n  color: #fff;\n  text-decoration: none;\n  background-color: #007bff;\n}\n.dropdown-item.disabled,\n.dropdown-item:disabled {\n  color: #6c757d;\n  background-color: transparent;\n}\n.dropdown-menu.show {\n  display: block;\n}\n.dropdown-header {\n  display: block;\n  padding: 0.5rem 1.5rem;\n  margin-bottom: 0;\n  font-size: 0.875rem;\n  color: #6c757d;\n  white-space: nowrap;\n}\n.dropdown-item-text {\n  display: block;\n  padding: 0.25rem 1.5rem;\n  color: #212529;\n}\n.btn-group,\n.btn-group-vertical {\n  position: relative;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  vertical-align: middle;\n}\n.btn-group > .btn,\n.btn-group-vertical > .btn {\n  position: relative;\n  -ms-flex: 0 1 auto;\n  flex: 0 1 auto;\n}\n.btn-group > .btn:hover,\n.btn-group-vertical > .btn:hover {\n  z-index: 1;\n}\n.btn-group > .btn:focus,\n.btn-group > .btn:active,\n.btn-group > .btn.active,\n.btn-group-vertical > .btn:focus,\n.btn-group-vertical > .btn:active,\n.btn-group-vertical > .btn.active {\n  z-index: 1;\n}\n.btn-group .btn + .btn,\n.btn-group .btn + .btn-group,\n.btn-group .btn-group + .btn,\n.btn-group .btn-group + .btn-group,\n.btn-group-vertical .btn + .btn,\n.btn-group-vertical .btn + .btn-group,\n.btn-group-vertical .btn-group + .btn,\n.btn-group-vertical .btn-group + .btn-group {\n  margin-left: -1px;\n}\n.btn-toolbar {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n}\n.btn-toolbar .input-group {\n  width: auto;\n}\n.btn-group > .btn:first-child {\n  margin-left: 0;\n}\n.btn-group > .btn:not(:last-child):not(.dropdown-toggle),\n.btn-group > .btn-group:not(:last-child) > .btn {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.btn-group > .btn:not(:first-child),\n.btn-group > .btn-group:not(:first-child) > .btn {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.dropdown-toggle-split {\n  padding-right: 0.5625rem;\n  padding-left: 0.5625rem;\n}\n.dropdown-toggle-split::after,\n.dropup .dropdown-toggle-split::after,\n.dropright .dropdown-toggle-split::after {\n  margin-left: 0;\n}\n.dropleft .dropdown-toggle-split::before {\n  margin-right: 0;\n}\n.btn-sm + .dropdown-toggle-split,\n.btn-group-sm > .btn + .dropdown-toggle-split {\n  padding-right: 0.375rem;\n  padding-left: 0.375rem;\n}\n.btn-lg + .dropdown-toggle-split,\n.btn-group-lg > .btn + .dropdown-toggle-split {\n  padding-right: 0.75rem;\n  padding-left: 0.75rem;\n}\n.btn-group-vertical {\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  -ms-flex-pack: center;\n  justify-content: center;\n}\n.btn-group-vertical .btn,\n.btn-group-vertical .btn-group {\n  width: 100%;\n}\n.btn-group-vertical > .btn + .btn,\n.btn-group-vertical > .btn + .btn-group,\n.btn-group-vertical > .btn-group + .btn,\n.btn-group-vertical > .btn-group + .btn-group {\n  margin-top: -1px;\n  margin-left: 0;\n}\n.btn-group-vertical > .btn:not(:last-child):not(.dropdown-toggle),\n.btn-group-vertical > .btn-group:not(:last-child) > .btn {\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.btn-group-vertical > .btn:not(:first-child),\n.btn-group-vertical > .btn-group:not(:first-child) > .btn {\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n.btn-group-toggle > .btn,\n.btn-group-toggle > .btn-group > .btn {\n  margin-bottom: 0;\n}\n.btn-group-toggle > .btn input[type="radio"],\n.btn-group-toggle > .btn input[type="checkbox"],\n.btn-group-toggle > .btn-group > .btn input[type="radio"],\n.btn-group-toggle > .btn-group > .btn input[type="checkbox"] {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  pointer-events: none;\n}\n.input-group {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -ms-flex-align: stretch;\n  align-items: stretch;\n  width: 100%;\n}\n.input-group > .form-control,\n.input-group > .custom-select,\n.input-group > .custom-file {\n  position: relative;\n  -ms-flex: 1 1 auto;\n  flex: 1 1 auto;\n  width: 1%;\n  margin-bottom: 0;\n}\n.input-group > .form-control:focus,\n.input-group > .custom-select:focus,\n.input-group > .custom-file:focus {\n  z-index: 3;\n}\n.input-group > .form-control + .form-control,\n.input-group > .form-control + .custom-select,\n.input-group > .form-control + .custom-file,\n.input-group > .custom-select + .form-control,\n.input-group > .custom-select + .custom-select,\n.input-group > .custom-select + .custom-file,\n.input-group > .custom-file + .form-control,\n.input-group > .custom-file + .custom-select,\n.input-group > .custom-file + .custom-file {\n  margin-left: -1px;\n}\n.input-group > .form-control:not(:last-child),\n.input-group > .custom-select:not(:last-child) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.input-group > .form-control:not(:first-child),\n.input-group > .custom-select:not(:first-child) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.input-group > .custom-file {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.input-group > .custom-file:not(:last-child) .custom-file-label,\n.input-group > .custom-file:not(:last-child) .custom-file-label::after {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.input-group > .custom-file:not(:first-child) .custom-file-label {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.input-group-prepend,\n.input-group-append {\n  display: -ms-flexbox;\n  display: flex;\n}\n.input-group-prepend .btn,\n.input-group-append .btn {\n  position: relative;\n  z-index: 2;\n}\n.input-group-prepend .btn + .btn,\n.input-group-prepend .btn + .input-group-text,\n.input-group-prepend .input-group-text + .input-group-text,\n.input-group-prepend .input-group-text + .btn,\n.input-group-append .btn + .btn,\n.input-group-append .btn + .input-group-text,\n.input-group-append .input-group-text + .input-group-text,\n.input-group-append .input-group-text + .btn {\n  margin-left: -1px;\n}\n.input-group-prepend {\n  margin-right: -1px;\n}\n.input-group-append {\n  margin-left: -1px;\n}\n.input-group-text {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  padding: 0.375rem 0.75rem;\n  margin-bottom: 0;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  text-align: center;\n  white-space: nowrap;\n  background-color: #e9ecef;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n}\n.input-group-text input[type="radio"],\n.input-group-text input[type="checkbox"] {\n  margin-top: 0;\n}\n.input-group > .input-group-prepend > .btn,\n.input-group > .input-group-prepend > .input-group-text,\n.input-group > .input-group-append:not(:last-child) > .btn,\n.input-group > .input-group-append:not(:last-child) > .input-group-text,\n.input-group > .input-group-append:last-child > .btn:not(:last-child):not(.dropdown-toggle),\n.input-group > .input-group-append:last-child > .input-group-text:not(:last-child) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.input-group > .input-group-append > .btn,\n.input-group > .input-group-append > .input-group-text,\n.input-group > .input-group-prepend:not(:first-child) > .btn,\n.input-group > .input-group-prepend:not(:first-child) > .input-group-text,\n.input-group > .input-group-prepend:first-child > .btn:not(:first-child),\n.input-group > .input-group-prepend:first-child > .input-group-text:not(:first-child) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.custom-control {\n  position: relative;\n  display: block;\n  min-height: 1.5rem;\n  padding-left: 1.5rem;\n}\n.custom-control-inline {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  margin-right: 1rem;\n}\n.custom-control-input {\n  position: absolute;\n  z-index: -1;\n  opacity: 0;\n}\n.custom-control-input:checked ~ .custom-control-label::before {\n  color: #fff;\n  background-color: #007bff;\n}\n.custom-control-input:focus ~ .custom-control-label::before {\n  box-shadow: 0 0 0 1px #fff, 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n.custom-control-input:active ~ .custom-control-label::before {\n  color: #fff;\n  background-color: #b3d7ff;\n}\n.custom-control-input:disabled ~ .custom-control-label {\n  color: #6c757d;\n}\n.custom-control-input:disabled ~ .custom-control-label::before {\n  background-color: #e9ecef;\n}\n.custom-control-label {\n  position: relative;\n  margin-bottom: 0;\n}\n.custom-control-label::before {\n  position: absolute;\n  top: 0.25rem;\n  left: -1.5rem;\n  display: block;\n  width: 1rem;\n  height: 1rem;\n  pointer-events: none;\n  content: "";\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-color: #dee2e6;\n}\n.custom-control-label::after {\n  position: absolute;\n  top: 0.25rem;\n  left: -1.5rem;\n  display: block;\n  width: 1rem;\n  height: 1rem;\n  content: "";\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 50% 50%;\n}\n.custom-checkbox .custom-control-label::before {\n  border-radius: 0.25rem;\n}\n.custom-checkbox .custom-control-input:checked ~ .custom-control-label::before {\n  background-color: #007bff;\n}\n.custom-checkbox .custom-control-input:checked ~ .custom-control-label::after {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 8 8\'%3E%3Cpath fill=\'%23fff\' d=\'M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z\'/%3E%3C/svg%3E");\n}\n.custom-checkbox .custom-control-input:indeterminate ~ .custom-control-label::before {\n  background-color: #007bff;\n}\n.custom-checkbox .custom-control-input:indeterminate ~ .custom-control-label::after {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 4 4\'%3E%3Cpath stroke=\'%23fff\' d=\'M0 2h4\'/%3E%3C/svg%3E");\n}\n.custom-checkbox .custom-control-input:disabled:checked ~ .custom-control-label::before {\n  background-color: rgba(0, 123, 255, 0.5);\n}\n.custom-checkbox .custom-control-input:disabled:indeterminate ~ .custom-control-label::before {\n  background-color: rgba(0, 123, 255, 0.5);\n}\n.custom-radio .custom-control-label::before {\n  border-radius: 50%;\n}\n.custom-radio .custom-control-input:checked ~ .custom-control-label::before {\n  background-color: #007bff;\n}\n.custom-radio .custom-control-input:checked ~ .custom-control-label::after {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'-4 -4 8 8\'%3E%3Ccircle r=\'3\' fill=\'%23fff\'/%3E%3C/svg%3E");\n}\n.custom-radio .custom-control-input:disabled:checked ~ .custom-control-label::before {\n  background-color: rgba(0, 123, 255, 0.5);\n}\n.custom-select {\n  display: inline-block;\n  width: 100%;\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n  line-height: 1.5;\n  color: #495057;\n  vertical-align: middle;\n  background: #fff url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 4 5\'%3E%3Cpath fill=\'%23343a40\' d=\'M2 0L0 2h4zm0 5L0 3h4z\'/%3E%3C/svg%3E") no-repeat right 0.75rem center;\n  background-size: 8px 10px;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.custom-select:focus {\n  border-color: #80bdff;\n  outline: 0;\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.075), 0 0 5px rgba(128, 189, 255, 0.5);\n}\n.custom-select:focus::-ms-value {\n  color: #495057;\n  background-color: #fff;\n}\n.custom-select[multiple],\n.custom-select[size]:not([size="1"]) {\n  height: auto;\n  padding-right: 0.75rem;\n  background-image: none;\n}\n.custom-select:disabled {\n  color: #6c757d;\n  background-color: #e9ecef;\n}\n.custom-select::-ms-expand {\n  opacity: 0;\n}\n.custom-select-sm {\n  height: calc(1.8125rem + 2px);\n  padding-top: 0.375rem;\n  padding-bottom: 0.375rem;\n  font-size: 75%;\n}\n.custom-select-lg {\n  height: calc(2.875rem + 2px);\n  padding-top: 0.375rem;\n  padding-bottom: 0.375rem;\n  font-size: 125%;\n}\n.custom-file {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  height: calc(2.25rem + 2px);\n  margin-bottom: 0;\n}\n.custom-file-input {\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  height: calc(2.25rem + 2px);\n  margin: 0;\n  opacity: 0;\n}\n.custom-file-input:focus ~ .custom-file-label {\n  border-color: #80bdff;\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n.custom-file-input:focus ~ .custom-file-label::after {\n  border-color: #80bdff;\n}\n.custom-file-input:lang(en) ~ .custom-file-label::after {\n  content: "Browse";\n}\n.custom-file-label {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 1;\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n}\n.custom-file-label::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 3;\n  display: block;\n  height: 2.25rem;\n  padding: 0.375rem 0.75rem;\n  line-height: 1.5;\n  color: #495057;\n  content: "Browse";\n  background-color: #e9ecef;\n  border-left: 1px solid #ced4da;\n  border-radius: 0 0.25rem 0.25rem 0;\n}\n.custom-range {\n  width: 100%;\n  padding-left: 0;\n  background-color: transparent;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.custom-range:focus {\n  outline: none;\n}\n.custom-range::-moz-focus-outer {\n  border: 0;\n}\n.custom-range::-webkit-slider-thumb {\n  width: 1rem;\n  height: 1rem;\n  margin-top: -0.25rem;\n  background-color: #007bff;\n  border: 0;\n  border-radius: 1rem;\n  -webkit-appearance: none;\n  appearance: none;\n}\n.custom-range::-webkit-slider-thumb:focus {\n  outline: none;\n  box-shadow: 0 0 0 1px #fff, 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n.custom-range::-webkit-slider-thumb:active {\n  background-color: #b3d7ff;\n}\n.custom-range::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 0.5rem;\n  color: transparent;\n  cursor: pointer;\n  background-color: #dee2e6;\n  border-color: transparent;\n  border-radius: 1rem;\n}\n.custom-range::-moz-range-thumb {\n  width: 1rem;\n  height: 1rem;\n  background-color: #007bff;\n  border: 0;\n  border-radius: 1rem;\n  -moz-appearance: none;\n  appearance: none;\n}\n.custom-range::-moz-range-thumb:focus {\n  outline: none;\n  box-shadow: 0 0 0 1px #fff, 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n.custom-range::-moz-range-thumb:active {\n  background-color: #b3d7ff;\n}\n.custom-range::-moz-range-track {\n  width: 100%;\n  height: 0.5rem;\n  color: transparent;\n  cursor: pointer;\n  background-color: #dee2e6;\n  border-color: transparent;\n  border-radius: 1rem;\n}\n.custom-range::-ms-thumb {\n  width: 1rem;\n  height: 1rem;\n  background-color: #007bff;\n  border: 0;\n  border-radius: 1rem;\n  appearance: none;\n}\n.custom-range::-ms-thumb:focus {\n  outline: none;\n  box-shadow: 0 0 0 1px #fff, 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n.custom-range::-ms-thumb:active {\n  background-color: #b3d7ff;\n}\n.custom-range::-ms-track {\n  width: 100%;\n  height: 0.5rem;\n  color: transparent;\n  cursor: pointer;\n  background-color: transparent;\n  border-color: transparent;\n  border-width: 0.5rem;\n}\n.custom-range::-ms-fill-lower {\n  background-color: #dee2e6;\n  border-radius: 1rem;\n}\n.custom-range::-ms-fill-upper {\n  margin-right: 15px;\n  background-color: #dee2e6;\n  border-radius: 1rem;\n}\n.nav {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  padding-left: 0;\n  margin-bottom: 0;\n  list-style: none;\n}\n.nav-link {\n  display: block;\n  padding: 0.5rem 1rem;\n}\n.nav-link:hover,\n.nav-link:focus {\n  text-decoration: none;\n}\n.nav-link.disabled {\n  color: #6c757d;\n}\n.nav-tabs {\n  border-bottom: 1px solid #dee2e6;\n}\n.nav-tabs .nav-item {\n  margin-bottom: -1px;\n}\n.nav-tabs .nav-link {\n  border: 1px solid transparent;\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n}\n.nav-tabs .nav-link:hover,\n.nav-tabs .nav-link:focus {\n  border-color: #e9ecef #e9ecef #dee2e6;\n}\n.nav-tabs .nav-link.disabled {\n  color: #6c757d;\n  background-color: transparent;\n  border-color: transparent;\n}\n.nav-tabs .nav-link.active,\n.nav-tabs .nav-item.show .nav-link {\n  color: #495057;\n  background-color: #fff;\n  border-color: #dee2e6 #dee2e6 #fff;\n}\n.nav-tabs .dropdown-menu {\n  margin-top: -1px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n.nav-pills .nav-link {\n  border-radius: 0.25rem;\n}\n.nav-pills .nav-link.active,\n.nav-pills .show > .nav-link {\n  color: #fff;\n  background-color: #007bff;\n}\n.nav-fill .nav-item {\n  -ms-flex: 1 1 auto;\n  flex: 1 1 auto;\n  text-align: center;\n}\n.nav-justified .nav-item {\n  -ms-flex-preferred-size: 0;\n  flex-basis: 0;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  text-align: center;\n}\n.tab-content > .tab-pane {\n  display: none;\n}\n.tab-content > .active {\n  display: block;\n}\n.navbar {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n  padding: 0.5rem 1rem;\n}\n.navbar > .container,\n.navbar > .container-fluid {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n}\n.navbar-brand {\n  display: inline-block;\n  padding-top: 0.3125rem;\n  padding-bottom: 0.3125rem;\n  margin-right: 1rem;\n  font-size: 1.25rem;\n  line-height: inherit;\n  white-space: nowrap;\n}\n.navbar-brand:hover,\n.navbar-brand:focus {\n  text-decoration: none;\n}\n.navbar-nav {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  padding-left: 0;\n  margin-bottom: 0;\n  list-style: none;\n}\n.navbar-nav .nav-link {\n  padding-right: 0;\n  padding-left: 0;\n}\n.navbar-nav .dropdown-menu {\n  position: static;\n  float: none;\n}\n.navbar-text {\n  display: inline-block;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.navbar-collapse {\n  -ms-flex-preferred-size: 100%;\n  flex-basis: 100%;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.navbar-toggler {\n  padding: 0.25rem 0.75rem;\n  font-size: 1.25rem;\n  line-height: 1;\n  background-color: transparent;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n}\n.navbar-toggler:hover,\n.navbar-toggler:focus {\n  text-decoration: none;\n}\n.navbar-toggler:not(:disabled):not(.disabled) {\n  cursor: pointer;\n}\n.navbar-toggler-icon {\n  display: inline-block;\n  width: 1.5em;\n  height: 1.5em;\n  vertical-align: middle;\n  content: "";\n  background: no-repeat center center;\n  background-size: 100% 100%;\n}\n@media (max-width: 575.98px) {\n  .navbar-expand-sm > .container,\n  .navbar-expand-sm > .container-fluid {\n    padding-right: 0;\n    padding-left: 0;\n  }\n}\n@media (min-width: 576px) {\n  .navbar-expand-sm {\n    -ms-flex-flow: row nowrap;\n    flex-flow: row nowrap;\n    -ms-flex-pack: start;\n    justify-content: flex-start;\n  }\n\n  .navbar-expand-sm .navbar-nav {\n    -ms-flex-direction: row;\n    flex-direction: row;\n  }\n\n  .navbar-expand-sm .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n\n  .navbar-expand-sm .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n\n  .navbar-expand-sm > .container,\n  .navbar-expand-sm > .container-fluid {\n    -ms-flex-wrap: nowrap;\n    flex-wrap: nowrap;\n  }\n\n  .navbar-expand-sm .navbar-collapse {\n    display: -ms-flexbox !important;\n    display: flex !important;\n    -ms-flex-preferred-size: auto;\n    flex-basis: auto;\n  }\n\n  .navbar-expand-sm .navbar-toggler {\n    display: none;\n  }\n}\n@media (max-width: 767.98px) {\n  .navbar-expand-md > .container,\n  .navbar-expand-md > .container-fluid {\n    padding-right: 0;\n    padding-left: 0;\n  }\n}\n@media (min-width: 768px) {\n  .navbar-expand-md {\n    -ms-flex-flow: row nowrap;\n    flex-flow: row nowrap;\n    -ms-flex-pack: start;\n    justify-content: flex-start;\n  }\n\n  .navbar-expand-md .navbar-nav {\n    -ms-flex-direction: row;\n    flex-direction: row;\n  }\n\n  .navbar-expand-md .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n\n  .navbar-expand-md .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n\n  .navbar-expand-md > .container,\n  .navbar-expand-md > .container-fluid {\n    -ms-flex-wrap: nowrap;\n    flex-wrap: nowrap;\n  }\n\n  .navbar-expand-md .navbar-collapse {\n    display: -ms-flexbox !important;\n    display: flex !important;\n    -ms-flex-preferred-size: auto;\n    flex-basis: auto;\n  }\n\n  .navbar-expand-md .navbar-toggler {\n    display: none;\n  }\n}\n@media (max-width: 991.98px) {\n  .navbar-expand-lg > .container,\n  .navbar-expand-lg > .container-fluid {\n    padding-right: 0;\n    padding-left: 0;\n  }\n}\n@media (min-width: 992px) {\n  .navbar-expand-lg {\n    -ms-flex-flow: row nowrap;\n    flex-flow: row nowrap;\n    -ms-flex-pack: start;\n    justify-content: flex-start;\n  }\n\n  .navbar-expand-lg .navbar-nav {\n    -ms-flex-direction: row;\n    flex-direction: row;\n  }\n\n  .navbar-expand-lg .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n\n  .navbar-expand-lg .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n\n  .navbar-expand-lg > .container,\n  .navbar-expand-lg > .container-fluid {\n    -ms-flex-wrap: nowrap;\n    flex-wrap: nowrap;\n  }\n\n  .navbar-expand-lg .navbar-collapse {\n    display: -ms-flexbox !important;\n    display: flex !important;\n    -ms-flex-preferred-size: auto;\n    flex-basis: auto;\n  }\n\n  .navbar-expand-lg .navbar-toggler {\n    display: none;\n  }\n}\n@media (max-width: 1199.98px) {\n  .navbar-expand-xl > .container,\n  .navbar-expand-xl > .container-fluid {\n    padding-right: 0;\n    padding-left: 0;\n  }\n}\n@media (min-width: 1200px) {\n  .navbar-expand-xl {\n    -ms-flex-flow: row nowrap;\n    flex-flow: row nowrap;\n    -ms-flex-pack: start;\n    justify-content: flex-start;\n  }\n\n  .navbar-expand-xl .navbar-nav {\n    -ms-flex-direction: row;\n    flex-direction: row;\n  }\n\n  .navbar-expand-xl .navbar-nav .dropdown-menu {\n    position: absolute;\n  }\n\n  .navbar-expand-xl .navbar-nav .nav-link {\n    padding-right: 0.5rem;\n    padding-left: 0.5rem;\n  }\n\n  .navbar-expand-xl > .container,\n  .navbar-expand-xl > .container-fluid {\n    -ms-flex-wrap: nowrap;\n    flex-wrap: nowrap;\n  }\n\n  .navbar-expand-xl .navbar-collapse {\n    display: -ms-flexbox !important;\n    display: flex !important;\n    -ms-flex-preferred-size: auto;\n    flex-basis: auto;\n  }\n\n  .navbar-expand-xl .navbar-toggler {\n    display: none;\n  }\n}\n.navbar-expand {\n  -ms-flex-flow: row nowrap;\n  flex-flow: row nowrap;\n  -ms-flex-pack: start;\n  justify-content: flex-start;\n}\n.navbar-expand > .container,\n.navbar-expand > .container-fluid {\n  padding-right: 0;\n  padding-left: 0;\n}\n.navbar-expand .navbar-nav {\n  -ms-flex-direction: row;\n  flex-direction: row;\n}\n.navbar-expand .navbar-nav .dropdown-menu {\n  position: absolute;\n}\n.navbar-expand .navbar-nav .nav-link {\n  padding-right: 0.5rem;\n  padding-left: 0.5rem;\n}\n.navbar-expand > .container,\n.navbar-expand > .container-fluid {\n  -ms-flex-wrap: nowrap;\n  flex-wrap: nowrap;\n}\n.navbar-expand .navbar-collapse {\n  display: -ms-flexbox !important;\n  display: flex !important;\n  -ms-flex-preferred-size: auto;\n  flex-basis: auto;\n}\n.navbar-expand .navbar-toggler {\n  display: none;\n}\n.navbar-light .navbar-brand {\n  color: rgba(0, 0, 0, 0.9);\n}\n.navbar-light .navbar-brand:hover,\n.navbar-light .navbar-brand:focus {\n  color: rgba(0, 0, 0, 0.9);\n}\n.navbar-light .navbar-nav .nav-link {\n  color: rgba(0, 0, 0, 0.5);\n}\n.navbar-light .navbar-nav .nav-link:hover,\n.navbar-light .navbar-nav .nav-link:focus {\n  color: rgba(0, 0, 0, 0.7);\n}\n.navbar-light .navbar-nav .nav-link.disabled {\n  color: rgba(0, 0, 0, 0.3);\n}\n.navbar-light .navbar-nav .show > .nav-link,\n.navbar-light .navbar-nav .active > .nav-link,\n.navbar-light .navbar-nav .nav-link.show,\n.navbar-light .navbar-nav .nav-link.active {\n  color: rgba(0, 0, 0, 0.9);\n}\n.navbar-light .navbar-toggler {\n  color: rgba(0, 0, 0, 0.5);\n  border-color: rgba(0, 0, 0, 0.1);\n}\n.navbar-light .navbar-toggler-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox=\'0 0 30 30\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath stroke=\'rgba(0, 0, 0, 0.5)\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-miterlimit=\'10\' d=\'M4 7h22M4 15h22M4 23h22\'/%3E%3C/svg%3E");\n}\n.navbar-light .navbar-text {\n  color: rgba(0, 0, 0, 0.5);\n}\n.navbar-light .navbar-text a {\n  color: rgba(0, 0, 0, 0.9);\n}\n.navbar-light .navbar-text a:hover,\n.navbar-light .navbar-text a:focus {\n  color: rgba(0, 0, 0, 0.9);\n}\n.navbar-dark .navbar-brand {\n  color: #fff;\n}\n.navbar-dark .navbar-brand:hover,\n.navbar-dark .navbar-brand:focus {\n  color: #fff;\n}\n.navbar-dark .navbar-nav .nav-link {\n  color: rgba(255, 255, 255, 0.5);\n}\n.navbar-dark .navbar-nav .nav-link:hover,\n.navbar-dark .navbar-nav .nav-link:focus {\n  color: rgba(255, 255, 255, 0.75);\n}\n.navbar-dark .navbar-nav .nav-link.disabled {\n  color: rgba(255, 255, 255, 0.25);\n}\n.navbar-dark .navbar-nav .show > .nav-link,\n.navbar-dark .navbar-nav .active > .nav-link,\n.navbar-dark .navbar-nav .nav-link.show,\n.navbar-dark .navbar-nav .nav-link.active {\n  color: #fff;\n}\n.navbar-dark .navbar-toggler {\n  color: rgba(255, 255, 255, 0.5);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n.navbar-dark .navbar-toggler-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox=\'0 0 30 30\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath stroke=\'rgba(255, 255, 255, 0.5)\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-miterlimit=\'10\' d=\'M4 7h22M4 15h22M4 23h22\'/%3E%3C/svg%3E");\n}\n.navbar-dark .navbar-text {\n  color: rgba(255, 255, 255, 0.5);\n}\n.navbar-dark .navbar-text a {\n  color: #fff;\n}\n.navbar-dark .navbar-text a:hover,\n.navbar-dark .navbar-text a:focus {\n  color: #fff;\n}\n.card {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  min-width: 0;\n  word-wrap: break-word;\n  background-color: #fff;\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n}\n.card > hr {\n  margin-right: 0;\n  margin-left: 0;\n}\n.card > .list-group:first-child .list-group-item:first-child {\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n}\n.card > .list-group:last-child .list-group-item:last-child {\n  border-bottom-right-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n.card-body {\n  -ms-flex: 1 1 auto;\n  flex: 1 1 auto;\n  padding: 1.25rem;\n}\n.card-title {\n  margin-bottom: 0.75rem;\n}\n.card-subtitle {\n  margin-top: -0.375rem;\n  margin-bottom: 0;\n}\n.card-text:last-child {\n  margin-bottom: 0;\n}\n.card-link:hover {\n  text-decoration: none;\n}\n.card-link + .card-link {\n  margin-left: 1.25rem;\n}\n.card-header {\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 0;\n  background-color: rgba(0, 0, 0, 0.03);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n}\n.card-header:first-child {\n  border-radius: calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0;\n}\n.card-header + .list-group .list-group-item:first-child {\n  border-top: 0;\n}\n.card-footer {\n  padding: 0.75rem 1.25rem;\n  background-color: rgba(0, 0, 0, 0.03);\n  border-top: 1px solid rgba(0, 0, 0, 0.125);\n}\n.card-footer:last-child {\n  border-radius: 0 0 calc(0.25rem - 1px) calc(0.25rem - 1px);\n}\n.card-header-tabs {\n  margin-right: -0.625rem;\n  margin-bottom: -0.75rem;\n  margin-left: -0.625rem;\n  border-bottom: 0;\n}\n.card-header-pills {\n  margin-right: -0.625rem;\n  margin-left: -0.625rem;\n}\n.card-img-overlay {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 1.25rem;\n}\n.card-img {\n  width: 100%;\n  border-radius: calc(0.25rem - 1px);\n}\n.card-img-top {\n  width: 100%;\n  border-top-left-radius: calc(0.25rem - 1px);\n  border-top-right-radius: calc(0.25rem - 1px);\n}\n.card-img-bottom {\n  width: 100%;\n  border-bottom-right-radius: calc(0.25rem - 1px);\n  border-bottom-left-radius: calc(0.25rem - 1px);\n}\n.card-deck {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n.card-deck .card {\n  margin-bottom: 15px;\n}\n@media (min-width: 576px) {\n  .card-deck {\n    -ms-flex-flow: row wrap;\n    flex-flow: row wrap;\n    margin-right: -15px;\n    margin-left: -15px;\n  }\n\n  .card-deck .card {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex: 1 0 0%;\n    flex: 1 0 0%;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    margin-right: 15px;\n    margin-bottom: 0;\n    margin-left: 15px;\n  }\n}\n.card-group {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n.card-group > .card {\n  margin-bottom: 15px;\n}\n@media (min-width: 576px) {\n  .card-group {\n    -ms-flex-flow: row wrap;\n    flex-flow: row wrap;\n  }\n\n  .card-group > .card {\n    -ms-flex: 1 0 0%;\n    flex: 1 0 0%;\n    margin-bottom: 0;\n  }\n\n  .card-group > .card + .card {\n    margin-left: 0;\n    border-left: 0;\n  }\n\n  .card-group > .card:first-child {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  .card-group > .card:first-child .card-img-top,\n  .card-group > .card:first-child .card-header {\n    border-top-right-radius: 0;\n  }\n\n  .card-group > .card:first-child .card-img-bottom,\n  .card-group > .card:first-child .card-footer {\n    border-bottom-right-radius: 0;\n  }\n\n  .card-group > .card:last-child {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n\n  .card-group > .card:last-child .card-img-top,\n  .card-group > .card:last-child .card-header {\n    border-top-left-radius: 0;\n  }\n\n  .card-group > .card:last-child .card-img-bottom,\n  .card-group > .card:last-child .card-footer {\n    border-bottom-left-radius: 0;\n  }\n\n  .card-group > .card:only-child {\n    border-radius: 0.25rem;\n  }\n\n  .card-group > .card:only-child .card-img-top,\n  .card-group > .card:only-child .card-header {\n    border-top-left-radius: 0.25rem;\n    border-top-right-radius: 0.25rem;\n  }\n\n  .card-group > .card:only-child .card-img-bottom,\n  .card-group > .card:only-child .card-footer {\n    border-bottom-right-radius: 0.25rem;\n    border-bottom-left-radius: 0.25rem;\n  }\n\n  .card-group > .card:not(:first-child):not(:last-child):not(:only-child) {\n    border-radius: 0;\n  }\n\n  .card-group > .card:not(:first-child):not(:last-child):not(:only-child) .card-img-top,\n  .card-group > .card:not(:first-child):not(:last-child):not(:only-child) .card-img-bottom,\n  .card-group > .card:not(:first-child):not(:last-child):not(:only-child) .card-header,\n  .card-group > .card:not(:first-child):not(:last-child):not(:only-child) .card-footer {\n    border-radius: 0;\n  }\n}\n.card-columns .card {\n  margin-bottom: 0.75rem;\n}\n@media (min-width: 576px) {\n  .card-columns {\n    -webkit-column-count: 3;\n    -moz-column-count: 3;\n    column-count: 3;\n    -webkit-column-gap: 1.25rem;\n    -moz-column-gap: 1.25rem;\n    column-gap: 1.25rem;\n    orphans: 1;\n    widows: 1;\n  }\n\n  .card-columns .card {\n    display: inline-block;\n    width: 100%;\n  }\n}\n.accordion .card:not(:first-of-type):not(:last-of-type) {\n  border-bottom: 0;\n  border-radius: 0;\n}\n.accordion .card:not(:first-of-type) .card-header:first-child {\n  border-radius: 0;\n}\n.accordion .card:first-of-type {\n  border-bottom: 0;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.accordion .card:last-of-type {\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n.breadcrumb {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  padding: 0.75rem 1rem;\n  margin-bottom: 1rem;\n  list-style: none;\n  background-color: #e9ecef;\n  border-radius: 0.25rem;\n}\n.breadcrumb-item + .breadcrumb-item {\n  padding-left: 0.5rem;\n}\n.breadcrumb-item + .breadcrumb-item::before {\n  display: inline-block;\n  padding-right: 0.5rem;\n  color: #6c757d;\n  content: "/";\n}\n.breadcrumb-item + .breadcrumb-item:hover::before {\n  text-decoration: underline;\n}\n.breadcrumb-item + .breadcrumb-item:hover::before {\n  text-decoration: none;\n}\n.breadcrumb-item.active {\n  color: #6c757d;\n}\n.pagination {\n  display: -ms-flexbox;\n  display: flex;\n  padding-left: 0;\n  list-style: none;\n  border-radius: 0.25rem;\n}\n.page-link {\n  position: relative;\n  display: block;\n  padding: 0.5rem 0.75rem;\n  margin-left: -1px;\n  line-height: 1.25;\n  color: #007bff;\n  background-color: #fff;\n  border: 1px solid #dee2e6;\n}\n.page-link:hover {\n  z-index: 2;\n  color: #0056b3;\n  text-decoration: none;\n  background-color: #e9ecef;\n  border-color: #dee2e6;\n}\n.page-link:focus {\n  z-index: 2;\n  outline: 0;\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n.page-link:not(:disabled):not(.disabled) {\n  cursor: pointer;\n}\n.page-item:first-child .page-link {\n  margin-left: 0;\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n.page-item:last-child .page-link {\n  border-top-right-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n}\n.page-item.active .page-link {\n  z-index: 1;\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.page-item.disabled .page-link {\n  color: #6c757d;\n  pointer-events: none;\n  cursor: auto;\n  background-color: #fff;\n  border-color: #dee2e6;\n}\n.pagination-lg .page-link {\n  padding: 0.75rem 1.5rem;\n  font-size: 1.25rem;\n  line-height: 1.5;\n}\n.pagination-lg .page-item:first-child .page-link {\n  border-top-left-radius: 0.3rem;\n  border-bottom-left-radius: 0.3rem;\n}\n.pagination-lg .page-item:last-child .page-link {\n  border-top-right-radius: 0.3rem;\n  border-bottom-right-radius: 0.3rem;\n}\n.pagination-sm .page-link {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.5;\n}\n.pagination-sm .page-item:first-child .page-link {\n  border-top-left-radius: 0.2rem;\n  border-bottom-left-radius: 0.2rem;\n}\n.pagination-sm .page-item:last-child .page-link {\n  border-top-right-radius: 0.2rem;\n  border-bottom-right-radius: 0.2rem;\n}\n.badge {\n  display: inline-block;\n  padding: 0.25em 0.4em;\n  font-size: 75%;\n  font-weight: 700;\n  line-height: 1;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: baseline;\n  border-radius: 0.25rem;\n}\n.badge:empty {\n  display: none;\n}\n.btn .badge {\n  position: relative;\n  top: -1px;\n}\n.badge-pill {\n  padding-right: 0.6em;\n  padding-left: 0.6em;\n  border-radius: 10rem;\n}\n.badge-primary {\n  color: #fff;\n  background-color: #007bff;\n}\n.badge-primary[href]:hover,\n.badge-primary[href]:focus {\n  color: #fff;\n  text-decoration: none;\n  background-color: #0062cc;\n}\n.badge-secondary {\n  color: #fff;\n  background-color: #6c757d;\n}\n.badge-secondary[href]:hover,\n.badge-secondary[href]:focus {\n  color: #fff;\n  text-decoration: none;\n  background-color: #545b62;\n}\n.badge-success {\n  color: #fff;\n  background-color: #28a745;\n}\n.badge-success[href]:hover,\n.badge-success[href]:focus {\n  color: #fff;\n  text-decoration: none;\n  background-color: #1e7e34;\n}\n.badge-info {\n  color: #fff;\n  background-color: #17a2b8;\n}\n.badge-info[href]:hover,\n.badge-info[href]:focus {\n  color: #fff;\n  text-decoration: none;\n  background-color: #117a8b;\n}\n.badge-warning {\n  color: #212529;\n  background-color: #ffc107;\n}\n.badge-warning[href]:hover,\n.badge-warning[href]:focus {\n  color: #212529;\n  text-decoration: none;\n  background-color: #d39e00;\n}\n.badge-danger {\n  color: #fff;\n  background-color: #dc3545;\n}\n.badge-danger[href]:hover,\n.badge-danger[href]:focus {\n  color: #fff;\n  text-decoration: none;\n  background-color: #bd2130;\n}\n.badge-light {\n  color: #212529;\n  background-color: #f8f9fa;\n}\n.badge-light[href]:hover,\n.badge-light[href]:focus {\n  color: #212529;\n  text-decoration: none;\n  background-color: #dae0e5;\n}\n.badge-dark {\n  color: #fff;\n  background-color: #343a40;\n}\n.badge-dark[href]:hover,\n.badge-dark[href]:focus {\n  color: #fff;\n  text-decoration: none;\n  background-color: #1d2124;\n}\n.jumbotron {\n  padding: 2rem 1rem;\n  margin-bottom: 2rem;\n  background-color: #e9ecef;\n  border-radius: 0.3rem;\n}\n@media (min-width: 576px) {\n  .jumbotron {\n    padding: 4rem 2rem;\n  }\n}\n.jumbotron-fluid {\n  padding-right: 0;\n  padding-left: 0;\n  border-radius: 0;\n}\n.alert {\n  position: relative;\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n}\n.alert-heading {\n  color: inherit;\n}\n.alert-link {\n  font-weight: 700;\n}\n.alert-dismissible {\n  padding-right: 4rem;\n}\n.alert-dismissible .close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 0.75rem 1.25rem;\n  color: inherit;\n}\n.alert-primary {\n  color: #004085;\n  background-color: #cce5ff;\n  border-color: #b8daff;\n}\n.alert-primary hr {\n  border-top-color: #9fcdff;\n}\n.alert-primary .alert-link {\n  color: #002752;\n}\n.alert-secondary {\n  color: #383d41;\n  background-color: #e2e3e5;\n  border-color: #d6d8db;\n}\n.alert-secondary hr {\n  border-top-color: #c8cbcf;\n}\n.alert-secondary .alert-link {\n  color: #202326;\n}\n.alert-success {\n  color: #155724;\n  background-color: #d4edda;\n  border-color: #c3e6cb;\n}\n.alert-success hr {\n  border-top-color: #b1dfbb;\n}\n.alert-success .alert-link {\n  color: #0b2e13;\n}\n.alert-info {\n  color: #0c5460;\n  background-color: #d1ecf1;\n  border-color: #bee5eb;\n}\n.alert-info hr {\n  border-top-color: #abdde5;\n}\n.alert-info .alert-link {\n  color: #062c33;\n}\n.alert-warning {\n  color: #856404;\n  background-color: #fff3cd;\n  border-color: #ffeeba;\n}\n.alert-warning hr {\n  border-top-color: #ffe8a1;\n}\n.alert-warning .alert-link {\n  color: #533f03;\n}\n.alert-danger {\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n}\n.alert-danger hr {\n  border-top-color: #f1b0b7;\n}\n.alert-danger .alert-link {\n  color: #491217;\n}\n.alert-light {\n  color: #818182;\n  background-color: #fefefe;\n  border-color: #fdfdfe;\n}\n.alert-light hr {\n  border-top-color: #ececf6;\n}\n.alert-light .alert-link {\n  color: #686868;\n}\n.alert-dark {\n  color: #1b1e21;\n  background-color: #d6d8d9;\n  border-color: #c6c8ca;\n}\n.alert-dark hr {\n  border-top-color: #b9bbbe;\n}\n.alert-dark .alert-link {\n  color: #040505;\n}\n@-webkit-keyframes progress-bar-stripes {\n  from {\n    background-position: 1rem 0;\n  }\n\n  to {\n    background-position: 0 0;\n  }\n}\n@keyframes progress-bar-stripes {\n  from {\n    background-position: 1rem 0;\n  }\n\n  to {\n    background-position: 0 0;\n  }\n}\n.progress {\n  display: -ms-flexbox;\n  display: flex;\n  height: 1rem;\n  overflow: hidden;\n  font-size: 0.75rem;\n  background-color: #e9ecef;\n  border-radius: 0.25rem;\n}\n.progress-bar {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-pack: center;\n  justify-content: center;\n  color: #fff;\n  text-align: center;\n  white-space: nowrap;\n  background-color: #007bff;\n  transition: width 0.6s ease;\n}\n@media screen and (prefers-reduced-motion: reduce) {\n  .progress-bar {\n    transition: none;\n  }\n}\n.progress-bar-striped {\n  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);\n  background-size: 1rem 1rem;\n}\n.progress-bar-animated {\n  -webkit-animation: progress-bar-stripes 1s linear infinite;\n  animation: progress-bar-stripes 1s linear infinite;\n}\n.media {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: start;\n  align-items: flex-start;\n}\n.media-body {\n  -ms-flex: 1;\n  flex: 1;\n}\n.list-group {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  padding-left: 0;\n  margin-bottom: 0;\n}\n.list-group-item-action {\n  width: 100%;\n  color: #495057;\n  text-align: inherit;\n}\n.list-group-item-action:hover,\n.list-group-item-action:focus {\n  color: #495057;\n  text-decoration: none;\n  background-color: #f8f9fa;\n}\n.list-group-item-action:active {\n  color: #212529;\n  background-color: #e9ecef;\n}\n.list-group-item {\n  position: relative;\n  display: block;\n  padding: 0.75rem 1.25rem;\n  margin-bottom: -1px;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n}\n.list-group-item:first-child {\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n}\n.list-group-item:last-child {\n  margin-bottom: 0;\n  border-bottom-right-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n.list-group-item:hover,\n.list-group-item:focus {\n  z-index: 1;\n  text-decoration: none;\n}\n.list-group-item.disabled,\n.list-group-item:disabled {\n  color: #6c757d;\n  background-color: #fff;\n}\n.list-group-item.active {\n  z-index: 2;\n  color: #fff;\n  background-color: #007bff;\n  border-color: #007bff;\n}\n.list-group-flush .list-group-item {\n  border-right: 0;\n  border-left: 0;\n  border-radius: 0;\n}\n.list-group-flush:first-child .list-group-item:first-child {\n  border-top: 0;\n}\n.list-group-flush:last-child .list-group-item:last-child {\n  border-bottom: 0;\n}\n.list-group-item-primary {\n  color: #004085;\n  background-color: #b8daff;\n}\n.list-group-item-primary.list-group-item-action:hover,\n.list-group-item-primary.list-group-item-action:focus {\n  color: #004085;\n  background-color: #9fcdff;\n}\n.list-group-item-primary.list-group-item-action.active {\n  color: #fff;\n  background-color: #004085;\n  border-color: #004085;\n}\n.list-group-item-secondary {\n  color: #383d41;\n  background-color: #d6d8db;\n}\n.list-group-item-secondary.list-group-item-action:hover,\n.list-group-item-secondary.list-group-item-action:focus {\n  color: #383d41;\n  background-color: #c8cbcf;\n}\n.list-group-item-secondary.list-group-item-action.active {\n  color: #fff;\n  background-color: #383d41;\n  border-color: #383d41;\n}\n.list-group-item-success {\n  color: #155724;\n  background-color: #c3e6cb;\n}\n.list-group-item-success.list-group-item-action:hover,\n.list-group-item-success.list-group-item-action:focus {\n  color: #155724;\n  background-color: #b1dfbb;\n}\n.list-group-item-success.list-group-item-action.active {\n  color: #fff;\n  background-color: #155724;\n  border-color: #155724;\n}\n.list-group-item-info {\n  color: #0c5460;\n  background-color: #bee5eb;\n}\n.list-group-item-info.list-group-item-action:hover,\n.list-group-item-info.list-group-item-action:focus {\n  color: #0c5460;\n  background-color: #abdde5;\n}\n.list-group-item-info.list-group-item-action.active {\n  color: #fff;\n  background-color: #0c5460;\n  border-color: #0c5460;\n}\n.list-group-item-warning {\n  color: #856404;\n  background-color: #ffeeba;\n}\n.list-group-item-warning.list-group-item-action:hover,\n.list-group-item-warning.list-group-item-action:focus {\n  color: #856404;\n  background-color: #ffe8a1;\n}\n.list-group-item-warning.list-group-item-action.active {\n  color: #fff;\n  background-color: #856404;\n  border-color: #856404;\n}\n.list-group-item-danger {\n  color: #721c24;\n  background-color: #f5c6cb;\n}\n.list-group-item-danger.list-group-item-action:hover,\n.list-group-item-danger.list-group-item-action:focus {\n  color: #721c24;\n  background-color: #f1b0b7;\n}\n.list-group-item-danger.list-group-item-action.active {\n  color: #fff;\n  background-color: #721c24;\n  border-color: #721c24;\n}\n.list-group-item-light {\n  color: #818182;\n  background-color: #fdfdfe;\n}\n.list-group-item-light.list-group-item-action:hover,\n.list-group-item-light.list-group-item-action:focus {\n  color: #818182;\n  background-color: #ececf6;\n}\n.list-group-item-light.list-group-item-action.active {\n  color: #fff;\n  background-color: #818182;\n  border-color: #818182;\n}\n.list-group-item-dark {\n  color: #1b1e21;\n  background-color: #c6c8ca;\n}\n.list-group-item-dark.list-group-item-action:hover,\n.list-group-item-dark.list-group-item-action:focus {\n  color: #1b1e21;\n  background-color: #b9bbbe;\n}\n.list-group-item-dark.list-group-item-action.active {\n  color: #fff;\n  background-color: #1b1e21;\n  border-color: #1b1e21;\n}\n.close {\n  float: right;\n  font-size: 1.5rem;\n  font-weight: 700;\n  line-height: 1;\n  color: #000;\n  text-shadow: 0 1px 0 #fff;\n  opacity: .5;\n}\n.close:hover,\n.close:focus {\n  color: #000;\n  text-decoration: none;\n  opacity: .75;\n}\n.close:not(:disabled):not(.disabled) {\n  cursor: pointer;\n}\nbutton.close {\n  padding: 0;\n  background-color: transparent;\n  border: 0;\n  -webkit-appearance: none;\n}\n.modal-open {\n  overflow: hidden;\n}\n.modal {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1050;\n  display: none;\n  overflow: hidden;\n  outline: 0;\n}\n.modal-open .modal {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.modal-dialog {\n  position: relative;\n  width: auto;\n  margin: 0.5rem;\n  pointer-events: none;\n}\n.modal.fade .modal-dialog {\n  transition: -webkit-transform 0.3s ease-out;\n  transition: transform 0.3s ease-out;\n  transition: transform 0.3s ease-out, -webkit-transform 0.3s ease-out;\n  -webkit-transform: translate(0, -25%);\n  transform: translate(0, -25%);\n}\n@media screen and (prefers-reduced-motion: reduce) {\n  .modal.fade .modal-dialog {\n    transition: none;\n  }\n}\n.modal.show .modal-dialog {\n  -webkit-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.modal-dialog-centered {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  min-height: calc(100% - (0.5rem * 2));\n}\n.modal-content {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 100%;\n  pointer-events: auto;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  outline: 0;\n}\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1040;\n  background-color: #000;\n}\n.modal-backdrop.fade {\n  opacity: 0;\n}\n.modal-backdrop.show {\n  opacity: 0.5;\n}\n.modal-header {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 1px solid #e9ecef;\n  border-top-left-radius: 0.3rem;\n  border-top-right-radius: 0.3rem;\n}\n.modal-header .close {\n  padding: 1rem;\n  margin: -1rem -1rem -1rem auto;\n}\n.modal-title {\n  margin-bottom: 0;\n  line-height: 1.5;\n}\n.modal-body {\n  position: relative;\n  -ms-flex: 1 1 auto;\n  flex: 1 1 auto;\n  padding: 1rem;\n}\n.modal-footer {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: end;\n  justify-content: flex-end;\n  padding: 1rem;\n  border-top: 1px solid #e9ecef;\n}\n.modal-footer > :not(:first-child) {\n  margin-left: .25rem;\n}\n.modal-footer > :not(:last-child) {\n  margin-right: .25rem;\n}\n.modal-scrollbar-measure {\n  position: absolute;\n  top: -9999px;\n  width: 50px;\n  height: 50px;\n  overflow: scroll;\n}\n@media (min-width: 576px) {\n  .modal-dialog {\n    max-width: 500px;\n    margin: 1.75rem auto;\n  }\n\n  .modal-dialog-centered {\n    min-height: calc(100% - (1.75rem * 2));\n  }\n\n  .modal-sm {\n    max-width: 300px;\n  }\n}\n@media (min-width: 992px) {\n  .modal-lg {\n    max-width: 800px;\n  }\n}\n.tooltip {\n  position: absolute;\n  z-index: 1070;\n  display: block;\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1.5;\n  text-align: left;\n  text-align: start;\n  text-decoration: none;\n  text-shadow: none;\n  text-transform: none;\n  letter-spacing: normal;\n  word-break: normal;\n  word-spacing: normal;\n  white-space: normal;\n  line-break: auto;\n  font-size: 0.875rem;\n  word-wrap: break-word;\n  opacity: 0;\n}\n.tooltip.show {\n  opacity: 0.9;\n}\n.tooltip .arrow {\n  position: absolute;\n  display: block;\n  width: 0.8rem;\n  height: 0.4rem;\n}\n.tooltip .arrow::before {\n  position: absolute;\n  content: "";\n  border-color: transparent;\n  border-style: solid;\n}\n.bs-tooltip-top,\n.bs-tooltip-auto[x-placement^="top"] {\n  padding: 0.4rem 0;\n}\n.bs-tooltip-top .arrow,\n.bs-tooltip-auto[x-placement^="top"] .arrow {\n  bottom: 0;\n}\n.bs-tooltip-top .arrow::before,\n.bs-tooltip-auto[x-placement^="top"] .arrow::before {\n  top: 0;\n  border-width: 0.4rem 0.4rem 0;\n  border-top-color: #000;\n}\n.bs-tooltip-right,\n.bs-tooltip-auto[x-placement^="right"] {\n  padding: 0 0.4rem;\n}\n.bs-tooltip-right .arrow,\n.bs-tooltip-auto[x-placement^="right"] .arrow {\n  left: 0;\n  width: 0.4rem;\n  height: 0.8rem;\n}\n.bs-tooltip-right .arrow::before,\n.bs-tooltip-auto[x-placement^="right"] .arrow::before {\n  right: 0;\n  border-width: 0.4rem 0.4rem 0.4rem 0;\n  border-right-color: #000;\n}\n.bs-tooltip-bottom,\n.bs-tooltip-auto[x-placement^="bottom"] {\n  padding: 0.4rem 0;\n}\n.bs-tooltip-bottom .arrow,\n.bs-tooltip-auto[x-placement^="bottom"] .arrow {\n  top: 0;\n}\n.bs-tooltip-bottom .arrow::before,\n.bs-tooltip-auto[x-placement^="bottom"] .arrow::before {\n  bottom: 0;\n  border-width: 0 0.4rem 0.4rem;\n  border-bottom-color: #000;\n}\n.bs-tooltip-left,\n.bs-tooltip-auto[x-placement^="left"] {\n  padding: 0 0.4rem;\n}\n.bs-tooltip-left .arrow,\n.bs-tooltip-auto[x-placement^="left"] .arrow {\n  right: 0;\n  width: 0.4rem;\n  height: 0.8rem;\n}\n.bs-tooltip-left .arrow::before,\n.bs-tooltip-auto[x-placement^="left"] .arrow::before {\n  left: 0;\n  border-width: 0.4rem 0 0.4rem 0.4rem;\n  border-left-color: #000;\n}\n.tooltip-inner {\n  max-width: 200px;\n  padding: 0.25rem 0.5rem;\n  color: #fff;\n  text-align: center;\n  background-color: #000;\n  border-radius: 0.25rem;\n}\n.popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1060;\n  display: block;\n  max-width: 276px;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1.5;\n  text-align: left;\n  text-align: start;\n  text-decoration: none;\n  text-shadow: none;\n  text-transform: none;\n  letter-spacing: normal;\n  word-break: normal;\n  word-spacing: normal;\n  white-space: normal;\n  line-break: auto;\n  font-size: 0.875rem;\n  word-wrap: break-word;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n}\n.popover .arrow {\n  position: absolute;\n  display: block;\n  width: 1rem;\n  height: 0.5rem;\n  margin: 0 0.3rem;\n}\n.popover .arrow::before,\n.popover .arrow::after {\n  position: absolute;\n  display: block;\n  content: "";\n  border-color: transparent;\n  border-style: solid;\n}\n.bs-popover-top,\n.bs-popover-auto[x-placement^="top"] {\n  margin-bottom: 0.5rem;\n}\n.bs-popover-top .arrow,\n.bs-popover-auto[x-placement^="top"] .arrow {\n  bottom: calc((0.5rem + 1px) * -1);\n}\n.bs-popover-top .arrow::before,\n.bs-popover-auto[x-placement^="top"] .arrow::before,\n.bs-popover-top .arrow::after,\n.bs-popover-auto[x-placement^="top"] .arrow::after {\n  border-width: 0.5rem 0.5rem 0;\n}\n.bs-popover-top .arrow::before,\n.bs-popover-auto[x-placement^="top"] .arrow::before {\n  bottom: 0;\n  border-top-color: rgba(0, 0, 0, 0.25);\n}\n.bs-popover-top .arrow::after,\n.bs-popover-auto[x-placement^="top"] .arrow::after {\n  bottom: 1px;\n  border-top-color: #fff;\n}\n.bs-popover-right,\n.bs-popover-auto[x-placement^="right"] {\n  margin-left: 0.5rem;\n}\n.bs-popover-right .arrow,\n.bs-popover-auto[x-placement^="right"] .arrow {\n  left: calc((0.5rem + 1px) * -1);\n  width: 0.5rem;\n  height: 1rem;\n  margin: 0.3rem 0;\n}\n.bs-popover-right .arrow::before,\n.bs-popover-auto[x-placement^="right"] .arrow::before,\n.bs-popover-right .arrow::after,\n.bs-popover-auto[x-placement^="right"] .arrow::after {\n  border-width: 0.5rem 0.5rem 0.5rem 0;\n}\n.bs-popover-right .arrow::before,\n.bs-popover-auto[x-placement^="right"] .arrow::before {\n  left: 0;\n  border-right-color: rgba(0, 0, 0, 0.25);\n}\n.bs-popover-right .arrow::after,\n.bs-popover-auto[x-placement^="right"] .arrow::after {\n  left: 1px;\n  border-right-color: #fff;\n}\n.bs-popover-bottom,\n.bs-popover-auto[x-placement^="bottom"] {\n  margin-top: 0.5rem;\n}\n.bs-popover-bottom .arrow,\n.bs-popover-auto[x-placement^="bottom"] .arrow {\n  top: calc((0.5rem + 1px) * -1);\n}\n.bs-popover-bottom .arrow::before,\n.bs-popover-auto[x-placement^="bottom"] .arrow::before,\n.bs-popover-bottom .arrow::after,\n.bs-popover-auto[x-placement^="bottom"] .arrow::after {\n  border-width: 0 0.5rem 0.5rem 0.5rem;\n}\n.bs-popover-bottom .arrow::before,\n.bs-popover-auto[x-placement^="bottom"] .arrow::before {\n  top: 0;\n  border-bottom-color: rgba(0, 0, 0, 0.25);\n}\n.bs-popover-bottom .arrow::after,\n.bs-popover-auto[x-placement^="bottom"] .arrow::after {\n  top: 1px;\n  border-bottom-color: #fff;\n}\n.bs-popover-bottom .popover-header::before,\n.bs-popover-auto[x-placement^="bottom"] .popover-header::before {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  display: block;\n  width: 1rem;\n  margin-left: -0.5rem;\n  content: "";\n  border-bottom: 1px solid #f7f7f7;\n}\n.bs-popover-left,\n.bs-popover-auto[x-placement^="left"] {\n  margin-right: 0.5rem;\n}\n.bs-popover-left .arrow,\n.bs-popover-auto[x-placement^="left"] .arrow {\n  right: calc((0.5rem + 1px) * -1);\n  width: 0.5rem;\n  height: 1rem;\n  margin: 0.3rem 0;\n}\n.bs-popover-left .arrow::before,\n.bs-popover-auto[x-placement^="left"] .arrow::before,\n.bs-popover-left .arrow::after,\n.bs-popover-auto[x-placement^="left"] .arrow::after {\n  border-width: 0.5rem 0 0.5rem 0.5rem;\n}\n.bs-popover-left .arrow::before,\n.bs-popover-auto[x-placement^="left"] .arrow::before {\n  right: 0;\n  border-left-color: rgba(0, 0, 0, 0.25);\n}\n.bs-popover-left .arrow::after,\n.bs-popover-auto[x-placement^="left"] .arrow::after {\n  right: 1px;\n  border-left-color: #fff;\n}\n.popover-header {\n  padding: 0.5rem 0.75rem;\n  margin-bottom: 0;\n  font-size: 1rem;\n  color: inherit;\n  background-color: #f7f7f7;\n  border-bottom: 1px solid #ebebeb;\n  border-top-left-radius: calc(0.3rem - 1px);\n  border-top-right-radius: calc(0.3rem - 1px);\n}\n.popover-header:empty {\n  display: none;\n}\n.popover-body {\n  padding: 0.5rem 0.75rem;\n  color: #212529;\n}\n.carousel {\n  position: relative;\n}\n.carousel-inner {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n}\n.carousel-item {\n  position: relative;\n  display: none;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  transition: -webkit-transform 0.6s ease;\n  transition: transform 0.6s ease;\n  transition: transform 0.6s ease, -webkit-transform 0.6s ease;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  -webkit-perspective: 1000px;\n  perspective: 1000px;\n}\n@media screen and (prefers-reduced-motion: reduce) {\n  .carousel-item {\n    transition: none;\n  }\n}\n.carousel-item.active,\n.carousel-item-next,\n.carousel-item-prev {\n  display: block;\n}\n.carousel-item-next,\n.carousel-item-prev {\n  position: absolute;\n  top: 0;\n}\n.carousel-item-next.carousel-item-left,\n.carousel-item-prev.carousel-item-right {\n  -webkit-transform: translateX(0);\n  transform: translateX(0);\n}\n@supports ((-webkit-transform-style: preserve-3d) or (transform-style: preserve-3d)) {\n  .carousel-item-next.carousel-item-left,\n  .carousel-item-prev.carousel-item-right {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n.carousel-item-next,\n.active.carousel-item-right {\n  -webkit-transform: translateX(100%);\n  transform: translateX(100%);\n}\n@supports ((-webkit-transform-style: preserve-3d) or (transform-style: preserve-3d)) {\n  .carousel-item-next,\n  .active.carousel-item-right {\n    -webkit-transform: translate3d(100%, 0, 0);\n    transform: translate3d(100%, 0, 0);\n  }\n}\n.carousel-item-prev,\n.active.carousel-item-left {\n  -webkit-transform: translateX(-100%);\n  transform: translateX(-100%);\n}\n@supports ((-webkit-transform-style: preserve-3d) or (transform-style: preserve-3d)) {\n  .carousel-item-prev,\n  .active.carousel-item-left {\n    -webkit-transform: translate3d(-100%, 0, 0);\n    transform: translate3d(-100%, 0, 0);\n  }\n}\n.carousel-fade .carousel-item {\n  opacity: 0;\n  transition-duration: .6s;\n  transition-property: opacity;\n}\n.carousel-fade .carousel-item.active,\n.carousel-fade .carousel-item-next.carousel-item-left,\n.carousel-fade .carousel-item-prev.carousel-item-right {\n  opacity: 1;\n}\n.carousel-fade .active.carousel-item-left,\n.carousel-fade .active.carousel-item-right {\n  opacity: 0;\n}\n.carousel-fade .carousel-item-next,\n.carousel-fade .carousel-item-prev,\n.carousel-fade .carousel-item.active,\n.carousel-fade .active.carousel-item-left,\n.carousel-fade .active.carousel-item-prev {\n  -webkit-transform: translateX(0);\n  transform: translateX(0);\n}\n@supports ((-webkit-transform-style: preserve-3d) or (transform-style: preserve-3d)) {\n  .carousel-fade .carousel-item-next,\n  .carousel-fade .carousel-item-prev,\n  .carousel-fade .carousel-item.active,\n  .carousel-fade .active.carousel-item-left,\n  .carousel-fade .active.carousel-item-prev {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n.carousel-control-prev,\n.carousel-control-next {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  width: 15%;\n  color: #fff;\n  text-align: center;\n  opacity: 0.5;\n}\n.carousel-control-prev:hover,\n.carousel-control-prev:focus,\n.carousel-control-next:hover,\n.carousel-control-next:focus {\n  color: #fff;\n  text-decoration: none;\n  outline: 0;\n  opacity: .9;\n}\n.carousel-control-prev {\n  left: 0;\n}\n.carousel-control-next {\n  right: 0;\n}\n.carousel-control-prev-icon,\n.carousel-control-next-icon {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background: transparent no-repeat center center;\n  background-size: 100% 100%;\n}\n.carousel-control-prev-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23fff\' viewBox=\'0 0 8 8\'%3E%3Cpath d=\'M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z\'/%3E%3C/svg%3E");\n}\n.carousel-control-next-icon {\n  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'%23fff\' viewBox=\'0 0 8 8\'%3E%3Cpath d=\'M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z\'/%3E%3C/svg%3E");\n}\n.carousel-indicators {\n  position: absolute;\n  right: 0;\n  bottom: 10px;\n  left: 0;\n  z-index: 15;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n  justify-content: center;\n  padding-left: 0;\n  margin-right: 15%;\n  margin-left: 15%;\n  list-style: none;\n}\n.carousel-indicators li {\n  position: relative;\n  -ms-flex: 0 1 auto;\n  flex: 0 1 auto;\n  width: 30px;\n  height: 3px;\n  margin-right: 3px;\n  margin-left: 3px;\n  text-indent: -999px;\n  cursor: pointer;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n.carousel-indicators li::before {\n  position: absolute;\n  top: -10px;\n  left: 0;\n  display: inline-block;\n  width: 100%;\n  height: 10px;\n  content: "";\n}\n.carousel-indicators li::after {\n  position: absolute;\n  bottom: -10px;\n  left: 0;\n  display: inline-block;\n  width: 100%;\n  height: 10px;\n  content: "";\n}\n.carousel-indicators .active {\n  background-color: #fff;\n}\n.carousel-caption {\n  position: absolute;\n  right: 15%;\n  bottom: 20px;\n  left: 15%;\n  z-index: 10;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  color: #fff;\n  text-align: center;\n}\n.align-baseline {\n  vertical-align: baseline !important;\n}\n.align-top {\n  vertical-align: top !important;\n}\n.align-middle {\n  vertical-align: middle !important;\n}\n.align-bottom {\n  vertical-align: bottom !important;\n}\n.align-text-bottom {\n  vertical-align: text-bottom !important;\n}\n.align-text-top {\n  vertical-align: text-top !important;\n}\n.bg-primary {\n  background-color: #007bff !important;\n}\na.bg-primary:hover,\na.bg-primary:focus,\nbutton.bg-primary:hover,\nbutton.bg-primary:focus {\n  background-color: #0062cc !important;\n}\n.bg-secondary {\n  background-color: #6c757d !important;\n}\na.bg-secondary:hover,\na.bg-secondary:focus,\nbutton.bg-secondary:hover,\nbutton.bg-secondary:focus {\n  background-color: #545b62 !important;\n}\n.bg-success {\n  background-color: #28a745 !important;\n}\na.bg-success:hover,\na.bg-success:focus,\nbutton.bg-success:hover,\nbutton.bg-success:focus {\n  background-color: #1e7e34 !important;\n}\n.bg-info {\n  background-color: #17a2b8 !important;\n}\na.bg-info:hover,\na.bg-info:focus,\nbutton.bg-info:hover,\nbutton.bg-info:focus {\n  background-color: #117a8b !important;\n}\n.bg-warning {\n  background-color: #ffc107 !important;\n}\na.bg-warning:hover,\na.bg-warning:focus,\nbutton.bg-warning:hover,\nbutton.bg-warning:focus {\n  background-color: #d39e00 !important;\n}\n.bg-danger {\n  background-color: #dc3545 !important;\n}\na.bg-danger:hover,\na.bg-danger:focus,\nbutton.bg-danger:hover,\nbutton.bg-danger:focus {\n  background-color: #bd2130 !important;\n}\n.bg-light {\n  background-color: #f8f9fa !important;\n}\na.bg-light:hover,\na.bg-light:focus,\nbutton.bg-light:hover,\nbutton.bg-light:focus {\n  background-color: #dae0e5 !important;\n}\n.bg-dark {\n  background-color: #343a40 !important;\n}\na.bg-dark:hover,\na.bg-dark:focus,\nbutton.bg-dark:hover,\nbutton.bg-dark:focus {\n  background-color: #1d2124 !important;\n}\n.bg-white {\n  background-color: #fff !important;\n}\n.bg-transparent {\n  background-color: transparent !important;\n}\n.border {\n  border: 1px solid #dee2e6 !important;\n}\n.border-top {\n  border-top: 1px solid #dee2e6 !important;\n}\n.border-right {\n  border-right: 1px solid #dee2e6 !important;\n}\n.border-bottom {\n  border-bottom: 1px solid #dee2e6 !important;\n}\n.border-left {\n  border-left: 1px solid #dee2e6 !important;\n}\n.border-0 {\n  border: 0 !important;\n}\n.border-top-0 {\n  border-top: 0 !important;\n}\n.border-right-0 {\n  border-right: 0 !important;\n}\n.border-bottom-0 {\n  border-bottom: 0 !important;\n}\n.border-left-0 {\n  border-left: 0 !important;\n}\n.border-primary {\n  border-color: #007bff !important;\n}\n.border-secondary {\n  border-color: #6c757d !important;\n}\n.border-success {\n  border-color: #28a745 !important;\n}\n.border-info {\n  border-color: #17a2b8 !important;\n}\n.border-warning {\n  border-color: #ffc107 !important;\n}\n.border-danger {\n  border-color: #dc3545 !important;\n}\n.border-light {\n  border-color: #f8f9fa !important;\n}\n.border-dark {\n  border-color: #343a40 !important;\n}\n.border-white {\n  border-color: #fff !important;\n}\n.rounded {\n  border-radius: 0.25rem !important;\n}\n.rounded-top {\n  border-top-left-radius: 0.25rem !important;\n  border-top-right-radius: 0.25rem !important;\n}\n.rounded-right {\n  border-top-right-radius: 0.25rem !important;\n  border-bottom-right-radius: 0.25rem !important;\n}\n.rounded-bottom {\n  border-bottom-right-radius: 0.25rem !important;\n  border-bottom-left-radius: 0.25rem !important;\n}\n.rounded-left {\n  border-top-left-radius: 0.25rem !important;\n  border-bottom-left-radius: 0.25rem !important;\n}\n.rounded-circle {\n  border-radius: 50% !important;\n}\n.rounded-0 {\n  border-radius: 0 !important;\n}\n.clearfix::after {\n  display: block;\n  clear: both;\n  content: "";\n}\n.d-none {\n  display: none !important;\n}\n.d-inline {\n  display: inline !important;\n}\n.d-inline-block {\n  display: inline-block !important;\n}\n.d-block {\n  display: block !important;\n}\n.d-table {\n  display: table !important;\n}\n.d-table-row {\n  display: table-row !important;\n}\n.d-table-cell {\n  display: table-cell !important;\n}\n.d-flex {\n  display: -ms-flexbox !important;\n  display: flex !important;\n}\n.d-inline-flex {\n  display: -ms-inline-flexbox !important;\n  display: inline-flex !important;\n}\n@media (min-width: 576px) {\n  .d-sm-none {\n    display: none !important;\n  }\n\n  .d-sm-inline {\n    display: inline !important;\n  }\n\n  .d-sm-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-sm-block {\n    display: block !important;\n  }\n\n  .d-sm-table {\n    display: table !important;\n  }\n\n  .d-sm-table-row {\n    display: table-row !important;\n  }\n\n  .d-sm-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-sm-flex {\n    display: -ms-flexbox !important;\n    display: flex !important;\n  }\n\n  .d-sm-inline-flex {\n    display: -ms-inline-flexbox !important;\n    display: inline-flex !important;\n  }\n}\n@media (min-width: 768px) {\n  .d-md-none {\n    display: none !important;\n  }\n\n  .d-md-inline {\n    display: inline !important;\n  }\n\n  .d-md-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-md-block {\n    display: block !important;\n  }\n\n  .d-md-table {\n    display: table !important;\n  }\n\n  .d-md-table-row {\n    display: table-row !important;\n  }\n\n  .d-md-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-md-flex {\n    display: -ms-flexbox !important;\n    display: flex !important;\n  }\n\n  .d-md-inline-flex {\n    display: -ms-inline-flexbox !important;\n    display: inline-flex !important;\n  }\n}\n@media (min-width: 992px) {\n  .d-lg-none {\n    display: none !important;\n  }\n\n  .d-lg-inline {\n    display: inline !important;\n  }\n\n  .d-lg-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-lg-block {\n    display: block !important;\n  }\n\n  .d-lg-table {\n    display: table !important;\n  }\n\n  .d-lg-table-row {\n    display: table-row !important;\n  }\n\n  .d-lg-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-lg-flex {\n    display: -ms-flexbox !important;\n    display: flex !important;\n  }\n\n  .d-lg-inline-flex {\n    display: -ms-inline-flexbox !important;\n    display: inline-flex !important;\n  }\n}\n@media (min-width: 1200px) {\n  .d-xl-none {\n    display: none !important;\n  }\n\n  .d-xl-inline {\n    display: inline !important;\n  }\n\n  .d-xl-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-xl-block {\n    display: block !important;\n  }\n\n  .d-xl-table {\n    display: table !important;\n  }\n\n  .d-xl-table-row {\n    display: table-row !important;\n  }\n\n  .d-xl-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-xl-flex {\n    display: -ms-flexbox !important;\n    display: flex !important;\n  }\n\n  .d-xl-inline-flex {\n    display: -ms-inline-flexbox !important;\n    display: inline-flex !important;\n  }\n}\n@media print {\n  .d-print-none {\n    display: none !important;\n  }\n\n  .d-print-inline {\n    display: inline !important;\n  }\n\n  .d-print-inline-block {\n    display: inline-block !important;\n  }\n\n  .d-print-block {\n    display: block !important;\n  }\n\n  .d-print-table {\n    display: table !important;\n  }\n\n  .d-print-table-row {\n    display: table-row !important;\n  }\n\n  .d-print-table-cell {\n    display: table-cell !important;\n  }\n\n  .d-print-flex {\n    display: -ms-flexbox !important;\n    display: flex !important;\n  }\n\n  .d-print-inline-flex {\n    display: -ms-inline-flexbox !important;\n    display: inline-flex !important;\n  }\n}\n.embed-responsive {\n  position: relative;\n  display: block;\n  width: 100%;\n  padding: 0;\n  overflow: hidden;\n}\n.embed-responsive::before {\n  display: block;\n  content: "";\n}\n.embed-responsive .embed-responsive-item,\n.embed-responsive iframe,\n.embed-responsive embed,\n.embed-responsive object,\n.embed-responsive video {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: 0;\n}\n.embed-responsive-21by9::before {\n  padding-top: 42.857143%;\n}\n.embed-responsive-16by9::before {\n  padding-top: 56.25%;\n}\n.embed-responsive-4by3::before {\n  padding-top: 75%;\n}\n.embed-responsive-1by1::before {\n  padding-top: 100%;\n}\n.flex-row {\n  -ms-flex-direction: row !important;\n  flex-direction: row !important;\n}\n.flex-column {\n  -ms-flex-direction: column !important;\n  flex-direction: column !important;\n}\n.flex-row-reverse {\n  -ms-flex-direction: row-reverse !important;\n  flex-direction: row-reverse !important;\n}\n.flex-column-reverse {\n  -ms-flex-direction: column-reverse !important;\n  flex-direction: column-reverse !important;\n}\n.flex-wrap {\n  -ms-flex-wrap: wrap !important;\n  flex-wrap: wrap !important;\n}\n.flex-nowrap {\n  -ms-flex-wrap: nowrap !important;\n  flex-wrap: nowrap !important;\n}\n.flex-wrap-reverse {\n  -ms-flex-wrap: wrap-reverse !important;\n  flex-wrap: wrap-reverse !important;\n}\n.flex-fill {\n  -ms-flex: 1 1 auto !important;\n  flex: 1 1 auto !important;\n}\n.flex-grow-0 {\n  -ms-flex-positive: 0 !important;\n  flex-grow: 0 !important;\n}\n.flex-grow-1 {\n  -ms-flex-positive: 1 !important;\n  flex-grow: 1 !important;\n}\n.flex-shrink-0 {\n  -ms-flex-negative: 0 !important;\n  flex-shrink: 0 !important;\n}\n.flex-shrink-1 {\n  -ms-flex-negative: 1 !important;\n  flex-shrink: 1 !important;\n}\n.justify-content-start {\n  -ms-flex-pack: start !important;\n  justify-content: flex-start !important;\n}\n.justify-content-end {\n  -ms-flex-pack: end !important;\n  justify-content: flex-end !important;\n}\n.justify-content-center {\n  -ms-flex-pack: center !important;\n  justify-content: center !important;\n}\n.justify-content-between {\n  -ms-flex-pack: justify !important;\n  justify-content: space-between !important;\n}\n.justify-content-around {\n  -ms-flex-pack: distribute !important;\n  justify-content: space-around !important;\n}\n.align-items-start {\n  -ms-flex-align: start !important;\n  align-items: flex-start !important;\n}\n.align-items-end {\n  -ms-flex-align: end !important;\n  align-items: flex-end !important;\n}\n.align-items-center {\n  -ms-flex-align: center !important;\n  align-items: center !important;\n}\n.align-items-baseline {\n  -ms-flex-align: baseline !important;\n  align-items: baseline !important;\n}\n.align-items-stretch {\n  -ms-flex-align: stretch !important;\n  align-items: stretch !important;\n}\n.align-content-start {\n  -ms-flex-line-pack: start !important;\n  align-content: flex-start !important;\n}\n.align-content-end {\n  -ms-flex-line-pack: end !important;\n  align-content: flex-end !important;\n}\n.align-content-center {\n  -ms-flex-line-pack: center !important;\n  align-content: center !important;\n}\n.align-content-between {\n  -ms-flex-line-pack: justify !important;\n  align-content: space-between !important;\n}\n.align-content-around {\n  -ms-flex-line-pack: distribute !important;\n  align-content: space-around !important;\n}\n.align-content-stretch {\n  -ms-flex-line-pack: stretch !important;\n  align-content: stretch !important;\n}\n.align-self-auto {\n  -ms-flex-item-align: auto !important;\n  align-self: auto !important;\n}\n.align-self-start {\n  -ms-flex-item-align: start !important;\n  align-self: flex-start !important;\n}\n.align-self-end {\n  -ms-flex-item-align: end !important;\n  align-self: flex-end !important;\n}\n.align-self-center {\n  -ms-flex-item-align: center !important;\n  align-self: center !important;\n}\n.align-self-baseline {\n  -ms-flex-item-align: baseline !important;\n  align-self: baseline !important;\n}\n.align-self-stretch {\n  -ms-flex-item-align: stretch !important;\n  align-self: stretch !important;\n}\n@media (min-width: 576px) {\n  .flex-sm-row {\n    -ms-flex-direction: row !important;\n    flex-direction: row !important;\n  }\n\n  .flex-sm-column {\n    -ms-flex-direction: column !important;\n    flex-direction: column !important;\n  }\n\n  .flex-sm-row-reverse {\n    -ms-flex-direction: row-reverse !important;\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-sm-column-reverse {\n    -ms-flex-direction: column-reverse !important;\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-sm-wrap {\n    -ms-flex-wrap: wrap !important;\n    flex-wrap: wrap !important;\n  }\n\n  .flex-sm-nowrap {\n    -ms-flex-wrap: nowrap !important;\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-sm-wrap-reverse {\n    -ms-flex-wrap: wrap-reverse !important;\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .flex-sm-fill {\n    -ms-flex: 1 1 auto !important;\n    flex: 1 1 auto !important;\n  }\n\n  .flex-sm-grow-0 {\n    -ms-flex-positive: 0 !important;\n    flex-grow: 0 !important;\n  }\n\n  .flex-sm-grow-1 {\n    -ms-flex-positive: 1 !important;\n    flex-grow: 1 !important;\n  }\n\n  .flex-sm-shrink-0 {\n    -ms-flex-negative: 0 !important;\n    flex-shrink: 0 !important;\n  }\n\n  .flex-sm-shrink-1 {\n    -ms-flex-negative: 1 !important;\n    flex-shrink: 1 !important;\n  }\n\n  .justify-content-sm-start {\n    -ms-flex-pack: start !important;\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-sm-end {\n    -ms-flex-pack: end !important;\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-sm-center {\n    -ms-flex-pack: center !important;\n    justify-content: center !important;\n  }\n\n  .justify-content-sm-between {\n    -ms-flex-pack: justify !important;\n    justify-content: space-between !important;\n  }\n\n  .justify-content-sm-around {\n    -ms-flex-pack: distribute !important;\n    justify-content: space-around !important;\n  }\n\n  .align-items-sm-start {\n    -ms-flex-align: start !important;\n    align-items: flex-start !important;\n  }\n\n  .align-items-sm-end {\n    -ms-flex-align: end !important;\n    align-items: flex-end !important;\n  }\n\n  .align-items-sm-center {\n    -ms-flex-align: center !important;\n    align-items: center !important;\n  }\n\n  .align-items-sm-baseline {\n    -ms-flex-align: baseline !important;\n    align-items: baseline !important;\n  }\n\n  .align-items-sm-stretch {\n    -ms-flex-align: stretch !important;\n    align-items: stretch !important;\n  }\n\n  .align-content-sm-start {\n    -ms-flex-line-pack: start !important;\n    align-content: flex-start !important;\n  }\n\n  .align-content-sm-end {\n    -ms-flex-line-pack: end !important;\n    align-content: flex-end !important;\n  }\n\n  .align-content-sm-center {\n    -ms-flex-line-pack: center !important;\n    align-content: center !important;\n  }\n\n  .align-content-sm-between {\n    -ms-flex-line-pack: justify !important;\n    align-content: space-between !important;\n  }\n\n  .align-content-sm-around {\n    -ms-flex-line-pack: distribute !important;\n    align-content: space-around !important;\n  }\n\n  .align-content-sm-stretch {\n    -ms-flex-line-pack: stretch !important;\n    align-content: stretch !important;\n  }\n\n  .align-self-sm-auto {\n    -ms-flex-item-align: auto !important;\n    align-self: auto !important;\n  }\n\n  .align-self-sm-start {\n    -ms-flex-item-align: start !important;\n    align-self: flex-start !important;\n  }\n\n  .align-self-sm-end {\n    -ms-flex-item-align: end !important;\n    align-self: flex-end !important;\n  }\n\n  .align-self-sm-center {\n    -ms-flex-item-align: center !important;\n    align-self: center !important;\n  }\n\n  .align-self-sm-baseline {\n    -ms-flex-item-align: baseline !important;\n    align-self: baseline !important;\n  }\n\n  .align-self-sm-stretch {\n    -ms-flex-item-align: stretch !important;\n    align-self: stretch !important;\n  }\n}\n@media (min-width: 768px) {\n  .flex-md-row {\n    -ms-flex-direction: row !important;\n    flex-direction: row !important;\n  }\n\n  .flex-md-column {\n    -ms-flex-direction: column !important;\n    flex-direction: column !important;\n  }\n\n  .flex-md-row-reverse {\n    -ms-flex-direction: row-reverse !important;\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-md-column-reverse {\n    -ms-flex-direction: column-reverse !important;\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-md-wrap {\n    -ms-flex-wrap: wrap !important;\n    flex-wrap: wrap !important;\n  }\n\n  .flex-md-nowrap {\n    -ms-flex-wrap: nowrap !important;\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-md-wrap-reverse {\n    -ms-flex-wrap: wrap-reverse !important;\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .flex-md-fill {\n    -ms-flex: 1 1 auto !important;\n    flex: 1 1 auto !important;\n  }\n\n  .flex-md-grow-0 {\n    -ms-flex-positive: 0 !important;\n    flex-grow: 0 !important;\n  }\n\n  .flex-md-grow-1 {\n    -ms-flex-positive: 1 !important;\n    flex-grow: 1 !important;\n  }\n\n  .flex-md-shrink-0 {\n    -ms-flex-negative: 0 !important;\n    flex-shrink: 0 !important;\n  }\n\n  .flex-md-shrink-1 {\n    -ms-flex-negative: 1 !important;\n    flex-shrink: 1 !important;\n  }\n\n  .justify-content-md-start {\n    -ms-flex-pack: start !important;\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-md-end {\n    -ms-flex-pack: end !important;\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-md-center {\n    -ms-flex-pack: center !important;\n    justify-content: center !important;\n  }\n\n  .justify-content-md-between {\n    -ms-flex-pack: justify !important;\n    justify-content: space-between !important;\n  }\n\n  .justify-content-md-around {\n    -ms-flex-pack: distribute !important;\n    justify-content: space-around !important;\n  }\n\n  .align-items-md-start {\n    -ms-flex-align: start !important;\n    align-items: flex-start !important;\n  }\n\n  .align-items-md-end {\n    -ms-flex-align: end !important;\n    align-items: flex-end !important;\n  }\n\n  .align-items-md-center {\n    -ms-flex-align: center !important;\n    align-items: center !important;\n  }\n\n  .align-items-md-baseline {\n    -ms-flex-align: baseline !important;\n    align-items: baseline !important;\n  }\n\n  .align-items-md-stretch {\n    -ms-flex-align: stretch !important;\n    align-items: stretch !important;\n  }\n\n  .align-content-md-start {\n    -ms-flex-line-pack: start !important;\n    align-content: flex-start !important;\n  }\n\n  .align-content-md-end {\n    -ms-flex-line-pack: end !important;\n    align-content: flex-end !important;\n  }\n\n  .align-content-md-center {\n    -ms-flex-line-pack: center !important;\n    align-content: center !important;\n  }\n\n  .align-content-md-between {\n    -ms-flex-line-pack: justify !important;\n    align-content: space-between !important;\n  }\n\n  .align-content-md-around {\n    -ms-flex-line-pack: distribute !important;\n    align-content: space-around !important;\n  }\n\n  .align-content-md-stretch {\n    -ms-flex-line-pack: stretch !important;\n    align-content: stretch !important;\n  }\n\n  .align-self-md-auto {\n    -ms-flex-item-align: auto !important;\n    align-self: auto !important;\n  }\n\n  .align-self-md-start {\n    -ms-flex-item-align: start !important;\n    align-self: flex-start !important;\n  }\n\n  .align-self-md-end {\n    -ms-flex-item-align: end !important;\n    align-self: flex-end !important;\n  }\n\n  .align-self-md-center {\n    -ms-flex-item-align: center !important;\n    align-self: center !important;\n  }\n\n  .align-self-md-baseline {\n    -ms-flex-item-align: baseline !important;\n    align-self: baseline !important;\n  }\n\n  .align-self-md-stretch {\n    -ms-flex-item-align: stretch !important;\n    align-self: stretch !important;\n  }\n}\n@media (min-width: 992px) {\n  .flex-lg-row {\n    -ms-flex-direction: row !important;\n    flex-direction: row !important;\n  }\n\n  .flex-lg-column {\n    -ms-flex-direction: column !important;\n    flex-direction: column !important;\n  }\n\n  .flex-lg-row-reverse {\n    -ms-flex-direction: row-reverse !important;\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-lg-column-reverse {\n    -ms-flex-direction: column-reverse !important;\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-lg-wrap {\n    -ms-flex-wrap: wrap !important;\n    flex-wrap: wrap !important;\n  }\n\n  .flex-lg-nowrap {\n    -ms-flex-wrap: nowrap !important;\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-lg-wrap-reverse {\n    -ms-flex-wrap: wrap-reverse !important;\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .flex-lg-fill {\n    -ms-flex: 1 1 auto !important;\n    flex: 1 1 auto !important;\n  }\n\n  .flex-lg-grow-0 {\n    -ms-flex-positive: 0 !important;\n    flex-grow: 0 !important;\n  }\n\n  .flex-lg-grow-1 {\n    -ms-flex-positive: 1 !important;\n    flex-grow: 1 !important;\n  }\n\n  .flex-lg-shrink-0 {\n    -ms-flex-negative: 0 !important;\n    flex-shrink: 0 !important;\n  }\n\n  .flex-lg-shrink-1 {\n    -ms-flex-negative: 1 !important;\n    flex-shrink: 1 !important;\n  }\n\n  .justify-content-lg-start {\n    -ms-flex-pack: start !important;\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-lg-end {\n    -ms-flex-pack: end !important;\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-lg-center {\n    -ms-flex-pack: center !important;\n    justify-content: center !important;\n  }\n\n  .justify-content-lg-between {\n    -ms-flex-pack: justify !important;\n    justify-content: space-between !important;\n  }\n\n  .justify-content-lg-around {\n    -ms-flex-pack: distribute !important;\n    justify-content: space-around !important;\n  }\n\n  .align-items-lg-start {\n    -ms-flex-align: start !important;\n    align-items: flex-start !important;\n  }\n\n  .align-items-lg-end {\n    -ms-flex-align: end !important;\n    align-items: flex-end !important;\n  }\n\n  .align-items-lg-center {\n    -ms-flex-align: center !important;\n    align-items: center !important;\n  }\n\n  .align-items-lg-baseline {\n    -ms-flex-align: baseline !important;\n    align-items: baseline !important;\n  }\n\n  .align-items-lg-stretch {\n    -ms-flex-align: stretch !important;\n    align-items: stretch !important;\n  }\n\n  .align-content-lg-start {\n    -ms-flex-line-pack: start !important;\n    align-content: flex-start !important;\n  }\n\n  .align-content-lg-end {\n    -ms-flex-line-pack: end !important;\n    align-content: flex-end !important;\n  }\n\n  .align-content-lg-center {\n    -ms-flex-line-pack: center !important;\n    align-content: center !important;\n  }\n\n  .align-content-lg-between {\n    -ms-flex-line-pack: justify !important;\n    align-content: space-between !important;\n  }\n\n  .align-content-lg-around {\n    -ms-flex-line-pack: distribute !important;\n    align-content: space-around !important;\n  }\n\n  .align-content-lg-stretch {\n    -ms-flex-line-pack: stretch !important;\n    align-content: stretch !important;\n  }\n\n  .align-self-lg-auto {\n    -ms-flex-item-align: auto !important;\n    align-self: auto !important;\n  }\n\n  .align-self-lg-start {\n    -ms-flex-item-align: start !important;\n    align-self: flex-start !important;\n  }\n\n  .align-self-lg-end {\n    -ms-flex-item-align: end !important;\n    align-self: flex-end !important;\n  }\n\n  .align-self-lg-center {\n    -ms-flex-item-align: center !important;\n    align-self: center !important;\n  }\n\n  .align-self-lg-baseline {\n    -ms-flex-item-align: baseline !important;\n    align-self: baseline !important;\n  }\n\n  .align-self-lg-stretch {\n    -ms-flex-item-align: stretch !important;\n    align-self: stretch !important;\n  }\n}\n@media (min-width: 1200px) {\n  .flex-xl-row {\n    -ms-flex-direction: row !important;\n    flex-direction: row !important;\n  }\n\n  .flex-xl-column {\n    -ms-flex-direction: column !important;\n    flex-direction: column !important;\n  }\n\n  .flex-xl-row-reverse {\n    -ms-flex-direction: row-reverse !important;\n    flex-direction: row-reverse !important;\n  }\n\n  .flex-xl-column-reverse {\n    -ms-flex-direction: column-reverse !important;\n    flex-direction: column-reverse !important;\n  }\n\n  .flex-xl-wrap {\n    -ms-flex-wrap: wrap !important;\n    flex-wrap: wrap !important;\n  }\n\n  .flex-xl-nowrap {\n    -ms-flex-wrap: nowrap !important;\n    flex-wrap: nowrap !important;\n  }\n\n  .flex-xl-wrap-reverse {\n    -ms-flex-wrap: wrap-reverse !important;\n    flex-wrap: wrap-reverse !important;\n  }\n\n  .flex-xl-fill {\n    -ms-flex: 1 1 auto !important;\n    flex: 1 1 auto !important;\n  }\n\n  .flex-xl-grow-0 {\n    -ms-flex-positive: 0 !important;\n    flex-grow: 0 !important;\n  }\n\n  .flex-xl-grow-1 {\n    -ms-flex-positive: 1 !important;\n    flex-grow: 1 !important;\n  }\n\n  .flex-xl-shrink-0 {\n    -ms-flex-negative: 0 !important;\n    flex-shrink: 0 !important;\n  }\n\n  .flex-xl-shrink-1 {\n    -ms-flex-negative: 1 !important;\n    flex-shrink: 1 !important;\n  }\n\n  .justify-content-xl-start {\n    -ms-flex-pack: start !important;\n    justify-content: flex-start !important;\n  }\n\n  .justify-content-xl-end {\n    -ms-flex-pack: end !important;\n    justify-content: flex-end !important;\n  }\n\n  .justify-content-xl-center {\n    -ms-flex-pack: center !important;\n    justify-content: center !important;\n  }\n\n  .justify-content-xl-between {\n    -ms-flex-pack: justify !important;\n    justify-content: space-between !important;\n  }\n\n  .justify-content-xl-around {\n    -ms-flex-pack: distribute !important;\n    justify-content: space-around !important;\n  }\n\n  .align-items-xl-start {\n    -ms-flex-align: start !important;\n    align-items: flex-start !important;\n  }\n\n  .align-items-xl-end {\n    -ms-flex-align: end !important;\n    align-items: flex-end !important;\n  }\n\n  .align-items-xl-center {\n    -ms-flex-align: center !important;\n    align-items: center !important;\n  }\n\n  .align-items-xl-baseline {\n    -ms-flex-align: baseline !important;\n    align-items: baseline !important;\n  }\n\n  .align-items-xl-stretch {\n    -ms-flex-align: stretch !important;\n    align-items: stretch !important;\n  }\n\n  .align-content-xl-start {\n    -ms-flex-line-pack: start !important;\n    align-content: flex-start !important;\n  }\n\n  .align-content-xl-end {\n    -ms-flex-line-pack: end !important;\n    align-content: flex-end !important;\n  }\n\n  .align-content-xl-center {\n    -ms-flex-line-pack: center !important;\n    align-content: center !important;\n  }\n\n  .align-content-xl-between {\n    -ms-flex-line-pack: justify !important;\n    align-content: space-between !important;\n  }\n\n  .align-content-xl-around {\n    -ms-flex-line-pack: distribute !important;\n    align-content: space-around !important;\n  }\n\n  .align-content-xl-stretch {\n    -ms-flex-line-pack: stretch !important;\n    align-content: stretch !important;\n  }\n\n  .align-self-xl-auto {\n    -ms-flex-item-align: auto !important;\n    align-self: auto !important;\n  }\n\n  .align-self-xl-start {\n    -ms-flex-item-align: start !important;\n    align-self: flex-start !important;\n  }\n\n  .align-self-xl-end {\n    -ms-flex-item-align: end !important;\n    align-self: flex-end !important;\n  }\n\n  .align-self-xl-center {\n    -ms-flex-item-align: center !important;\n    align-self: center !important;\n  }\n\n  .align-self-xl-baseline {\n    -ms-flex-item-align: baseline !important;\n    align-self: baseline !important;\n  }\n\n  .align-self-xl-stretch {\n    -ms-flex-item-align: stretch !important;\n    align-self: stretch !important;\n  }\n}\n.float-left {\n  float: left !important;\n}\n.float-right {\n  float: right !important;\n}\n.float-none {\n  float: none !important;\n}\n@media (min-width: 576px) {\n  .float-sm-left {\n    float: left !important;\n  }\n\n  .float-sm-right {\n    float: right !important;\n  }\n\n  .float-sm-none {\n    float: none !important;\n  }\n}\n@media (min-width: 768px) {\n  .float-md-left {\n    float: left !important;\n  }\n\n  .float-md-right {\n    float: right !important;\n  }\n\n  .float-md-none {\n    float: none !important;\n  }\n}\n@media (min-width: 992px) {\n  .float-lg-left {\n    float: left !important;\n  }\n\n  .float-lg-right {\n    float: right !important;\n  }\n\n  .float-lg-none {\n    float: none !important;\n  }\n}\n@media (min-width: 1200px) {\n  .float-xl-left {\n    float: left !important;\n  }\n\n  .float-xl-right {\n    float: right !important;\n  }\n\n  .float-xl-none {\n    float: none !important;\n  }\n}\n.position-static {\n  position: static !important;\n}\n.position-relative {\n  position: relative !important;\n}\n.position-absolute {\n  position: absolute !important;\n}\n.position-fixed {\n  position: fixed !important;\n}\n.position-sticky {\n  position: -webkit-sticky !important;\n  position: sticky !important;\n}\n.fixed-top {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 1030;\n}\n.fixed-bottom {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1030;\n}\n@supports ((position: -webkit-sticky) or (position: sticky)) {\n  .sticky-top {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 1020;\n  }\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n.sr-only-focusable:active,\n.sr-only-focusable:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  overflow: visible;\n  clip: auto;\n  white-space: normal;\n}\n.shadow-sm {\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;\n}\n.shadow {\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n}\n.shadow-lg {\n  box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175) !important;\n}\n.shadow-none {\n  box-shadow: none !important;\n}\n.w-25 {\n  width: 25% !important;\n}\n.w-50 {\n  width: 50% !important;\n}\n.w-75 {\n  width: 75% !important;\n}\n.w-100 {\n  width: 100% !important;\n}\n.w-auto {\n  width: auto !important;\n}\n.h-25 {\n  height: 25% !important;\n}\n.h-50 {\n  height: 50% !important;\n}\n.h-75 {\n  height: 75% !important;\n}\n.h-100 {\n  height: 100% !important;\n}\n.h-auto {\n  height: auto !important;\n}\n.mw-100 {\n  max-width: 100% !important;\n}\n.mh-100 {\n  max-height: 100% !important;\n}\n.m-0 {\n  margin: 0 !important;\n}\n.mt-0,\n.my-0 {\n  margin-top: 0 !important;\n}\n.mr-0,\n.mx-0 {\n  margin-right: 0 !important;\n}\n.mb-0,\n.my-0 {\n  margin-bottom: 0 !important;\n}\n.ml-0,\n.mx-0 {\n  margin-left: 0 !important;\n}\n.m-1 {\n  margin: 0.25rem !important;\n}\n.mt-1,\n.my-1 {\n  margin-top: 0.25rem !important;\n}\n.mr-1,\n.mx-1 {\n  margin-right: 0.25rem !important;\n}\n.mb-1,\n.my-1 {\n  margin-bottom: 0.25rem !important;\n}\n.ml-1,\n.mx-1 {\n  margin-left: 0.25rem !important;\n}\n.m-2 {\n  margin: 0.5rem !important;\n}\n.mt-2,\n.my-2 {\n  margin-top: 0.5rem !important;\n}\n.mr-2,\n.mx-2 {\n  margin-right: 0.5rem !important;\n}\n.mb-2,\n.my-2 {\n  margin-bottom: 0.5rem !important;\n}\n.ml-2,\n.mx-2 {\n  margin-left: 0.5rem !important;\n}\n.m-3 {\n  margin: 1rem !important;\n}\n.mt-3,\n.my-3 {\n  margin-top: 1rem !important;\n}\n.mr-3,\n.mx-3 {\n  margin-right: 1rem !important;\n}\n.mb-3,\n.my-3 {\n  margin-bottom: 1rem !important;\n}\n.ml-3,\n.mx-3 {\n  margin-left: 1rem !important;\n}\n.m-4 {\n  margin: 1.5rem !important;\n}\n.mt-4,\n.my-4 {\n  margin-top: 1.5rem !important;\n}\n.mr-4,\n.mx-4 {\n  margin-right: 1.5rem !important;\n}\n.mb-4,\n.my-4 {\n  margin-bottom: 1.5rem !important;\n}\n.ml-4,\n.mx-4 {\n  margin-left: 1.5rem !important;\n}\n.m-5 {\n  margin: 3rem !important;\n}\n.mt-5,\n.my-5 {\n  margin-top: 3rem !important;\n}\n.mr-5,\n.mx-5 {\n  margin-right: 3rem !important;\n}\n.mb-5,\n.my-5 {\n  margin-bottom: 3rem !important;\n}\n.ml-5,\n.mx-5 {\n  margin-left: 3rem !important;\n}\n.p-0 {\n  padding: 0 !important;\n}\n.pt-0,\n.py-0 {\n  padding-top: 0 !important;\n}\n.pr-0,\n.px-0 {\n  padding-right: 0 !important;\n}\n.pb-0,\n.py-0 {\n  padding-bottom: 0 !important;\n}\n.pl-0,\n.px-0 {\n  padding-left: 0 !important;\n}\n.p-1 {\n  padding: 0.25rem !important;\n}\n.pt-1,\n.py-1 {\n  padding-top: 0.25rem !important;\n}\n.pr-1,\n.px-1 {\n  padding-right: 0.25rem !important;\n}\n.pb-1,\n.py-1 {\n  padding-bottom: 0.25rem !important;\n}\n.pl-1,\n.px-1 {\n  padding-left: 0.25rem !important;\n}\n.p-2 {\n  padding: 0.5rem !important;\n}\n.pt-2,\n.py-2 {\n  padding-top: 0.5rem !important;\n}\n.pr-2,\n.px-2 {\n  padding-right: 0.5rem !important;\n}\n.pb-2,\n.py-2 {\n  padding-bottom: 0.5rem !important;\n}\n.pl-2,\n.px-2 {\n  padding-left: 0.5rem !important;\n}\n.p-3 {\n  padding: 1rem !important;\n}\n.pt-3,\n.py-3 {\n  padding-top: 1rem !important;\n}\n.pr-3,\n.px-3 {\n  padding-right: 1rem !important;\n}\n.pb-3,\n.py-3 {\n  padding-bottom: 1rem !important;\n}\n.pl-3,\n.px-3 {\n  padding-left: 1rem !important;\n}\n.p-4 {\n  padding: 1.5rem !important;\n}\n.pt-4,\n.py-4 {\n  padding-top: 1.5rem !important;\n}\n.pr-4,\n.px-4 {\n  padding-right: 1.5rem !important;\n}\n.pb-4,\n.py-4 {\n  padding-bottom: 1.5rem !important;\n}\n.pl-4,\n.px-4 {\n  padding-left: 1.5rem !important;\n}\n.p-5 {\n  padding: 3rem !important;\n}\n.pt-5,\n.py-5 {\n  padding-top: 3rem !important;\n}\n.pr-5,\n.px-5 {\n  padding-right: 3rem !important;\n}\n.pb-5,\n.py-5 {\n  padding-bottom: 3rem !important;\n}\n.pl-5,\n.px-5 {\n  padding-left: 3rem !important;\n}\n.m-auto {\n  margin: auto !important;\n}\n.mt-auto,\n.my-auto {\n  margin-top: auto !important;\n}\n.mr-auto,\n.mx-auto {\n  margin-right: auto !important;\n}\n.mb-auto,\n.my-auto {\n  margin-bottom: auto !important;\n}\n.ml-auto,\n.mx-auto {\n  margin-left: auto !important;\n}\n@media (min-width: 576px) {\n  .m-sm-0 {\n    margin: 0 !important;\n  }\n\n  .mt-sm-0,\n  .my-sm-0 {\n    margin-top: 0 !important;\n  }\n\n  .mr-sm-0,\n  .mx-sm-0 {\n    margin-right: 0 !important;\n  }\n\n  .mb-sm-0,\n  .my-sm-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .ml-sm-0,\n  .mx-sm-0 {\n    margin-left: 0 !important;\n  }\n\n  .m-sm-1 {\n    margin: 0.25rem !important;\n  }\n\n  .mt-sm-1,\n  .my-sm-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mr-sm-1,\n  .mx-sm-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .mb-sm-1,\n  .my-sm-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .ml-sm-1,\n  .mx-sm-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .m-sm-2 {\n    margin: 0.5rem !important;\n  }\n\n  .mt-sm-2,\n  .my-sm-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mr-sm-2,\n  .mx-sm-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .mb-sm-2,\n  .my-sm-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .ml-sm-2,\n  .mx-sm-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .m-sm-3 {\n    margin: 1rem !important;\n  }\n\n  .mt-sm-3,\n  .my-sm-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mr-sm-3,\n  .mx-sm-3 {\n    margin-right: 1rem !important;\n  }\n\n  .mb-sm-3,\n  .my-sm-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .ml-sm-3,\n  .mx-sm-3 {\n    margin-left: 1rem !important;\n  }\n\n  .m-sm-4 {\n    margin: 1.5rem !important;\n  }\n\n  .mt-sm-4,\n  .my-sm-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mr-sm-4,\n  .mx-sm-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .mb-sm-4,\n  .my-sm-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .ml-sm-4,\n  .mx-sm-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .m-sm-5 {\n    margin: 3rem !important;\n  }\n\n  .mt-sm-5,\n  .my-sm-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mr-sm-5,\n  .mx-sm-5 {\n    margin-right: 3rem !important;\n  }\n\n  .mb-sm-5,\n  .my-sm-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .ml-sm-5,\n  .mx-sm-5 {\n    margin-left: 3rem !important;\n  }\n\n  .p-sm-0 {\n    padding: 0 !important;\n  }\n\n  .pt-sm-0,\n  .py-sm-0 {\n    padding-top: 0 !important;\n  }\n\n  .pr-sm-0,\n  .px-sm-0 {\n    padding-right: 0 !important;\n  }\n\n  .pb-sm-0,\n  .py-sm-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pl-sm-0,\n  .px-sm-0 {\n    padding-left: 0 !important;\n  }\n\n  .p-sm-1 {\n    padding: 0.25rem !important;\n  }\n\n  .pt-sm-1,\n  .py-sm-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pr-sm-1,\n  .px-sm-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pb-sm-1,\n  .py-sm-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pl-sm-1,\n  .px-sm-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .p-sm-2 {\n    padding: 0.5rem !important;\n  }\n\n  .pt-sm-2,\n  .py-sm-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pr-sm-2,\n  .px-sm-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pb-sm-2,\n  .py-sm-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pl-sm-2,\n  .px-sm-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .p-sm-3 {\n    padding: 1rem !important;\n  }\n\n  .pt-sm-3,\n  .py-sm-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pr-sm-3,\n  .px-sm-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pb-sm-3,\n  .py-sm-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pl-sm-3,\n  .px-sm-3 {\n    padding-left: 1rem !important;\n  }\n\n  .p-sm-4 {\n    padding: 1.5rem !important;\n  }\n\n  .pt-sm-4,\n  .py-sm-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pr-sm-4,\n  .px-sm-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pb-sm-4,\n  .py-sm-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pl-sm-4,\n  .px-sm-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .p-sm-5 {\n    padding: 3rem !important;\n  }\n\n  .pt-sm-5,\n  .py-sm-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pr-sm-5,\n  .px-sm-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-sm-5,\n  .py-sm-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .pl-sm-5,\n  .px-sm-5 {\n    padding-left: 3rem !important;\n  }\n\n  .m-sm-auto {\n    margin: auto !important;\n  }\n\n  .mt-sm-auto,\n  .my-sm-auto {\n    margin-top: auto !important;\n  }\n\n  .mr-sm-auto,\n  .mx-sm-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-sm-auto,\n  .my-sm-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ml-sm-auto,\n  .mx-sm-auto {\n    margin-left: auto !important;\n  }\n}\n@media (min-width: 768px) {\n  .m-md-0 {\n    margin: 0 !important;\n  }\n\n  .mt-md-0,\n  .my-md-0 {\n    margin-top: 0 !important;\n  }\n\n  .mr-md-0,\n  .mx-md-0 {\n    margin-right: 0 !important;\n  }\n\n  .mb-md-0,\n  .my-md-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .ml-md-0,\n  .mx-md-0 {\n    margin-left: 0 !important;\n  }\n\n  .m-md-1 {\n    margin: 0.25rem !important;\n  }\n\n  .mt-md-1,\n  .my-md-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mr-md-1,\n  .mx-md-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .mb-md-1,\n  .my-md-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .ml-md-1,\n  .mx-md-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .m-md-2 {\n    margin: 0.5rem !important;\n  }\n\n  .mt-md-2,\n  .my-md-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mr-md-2,\n  .mx-md-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .mb-md-2,\n  .my-md-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .ml-md-2,\n  .mx-md-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .m-md-3 {\n    margin: 1rem !important;\n  }\n\n  .mt-md-3,\n  .my-md-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mr-md-3,\n  .mx-md-3 {\n    margin-right: 1rem !important;\n  }\n\n  .mb-md-3,\n  .my-md-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .ml-md-3,\n  .mx-md-3 {\n    margin-left: 1rem !important;\n  }\n\n  .m-md-4 {\n    margin: 1.5rem !important;\n  }\n\n  .mt-md-4,\n  .my-md-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mr-md-4,\n  .mx-md-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .mb-md-4,\n  .my-md-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .ml-md-4,\n  .mx-md-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .m-md-5 {\n    margin: 3rem !important;\n  }\n\n  .mt-md-5,\n  .my-md-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mr-md-5,\n  .mx-md-5 {\n    margin-right: 3rem !important;\n  }\n\n  .mb-md-5,\n  .my-md-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .ml-md-5,\n  .mx-md-5 {\n    margin-left: 3rem !important;\n  }\n\n  .p-md-0 {\n    padding: 0 !important;\n  }\n\n  .pt-md-0,\n  .py-md-0 {\n    padding-top: 0 !important;\n  }\n\n  .pr-md-0,\n  .px-md-0 {\n    padding-right: 0 !important;\n  }\n\n  .pb-md-0,\n  .py-md-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pl-md-0,\n  .px-md-0 {\n    padding-left: 0 !important;\n  }\n\n  .p-md-1 {\n    padding: 0.25rem !important;\n  }\n\n  .pt-md-1,\n  .py-md-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pr-md-1,\n  .px-md-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pb-md-1,\n  .py-md-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pl-md-1,\n  .px-md-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .p-md-2 {\n    padding: 0.5rem !important;\n  }\n\n  .pt-md-2,\n  .py-md-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pr-md-2,\n  .px-md-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pb-md-2,\n  .py-md-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pl-md-2,\n  .px-md-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .p-md-3 {\n    padding: 1rem !important;\n  }\n\n  .pt-md-3,\n  .py-md-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pr-md-3,\n  .px-md-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pb-md-3,\n  .py-md-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pl-md-3,\n  .px-md-3 {\n    padding-left: 1rem !important;\n  }\n\n  .p-md-4 {\n    padding: 1.5rem !important;\n  }\n\n  .pt-md-4,\n  .py-md-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pr-md-4,\n  .px-md-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pb-md-4,\n  .py-md-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pl-md-4,\n  .px-md-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .p-md-5 {\n    padding: 3rem !important;\n  }\n\n  .pt-md-5,\n  .py-md-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pr-md-5,\n  .px-md-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-md-5,\n  .py-md-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .pl-md-5,\n  .px-md-5 {\n    padding-left: 3rem !important;\n  }\n\n  .m-md-auto {\n    margin: auto !important;\n  }\n\n  .mt-md-auto,\n  .my-md-auto {\n    margin-top: auto !important;\n  }\n\n  .mr-md-auto,\n  .mx-md-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-md-auto,\n  .my-md-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ml-md-auto,\n  .mx-md-auto {\n    margin-left: auto !important;\n  }\n}\n@media (min-width: 992px) {\n  .m-lg-0 {\n    margin: 0 !important;\n  }\n\n  .mt-lg-0,\n  .my-lg-0 {\n    margin-top: 0 !important;\n  }\n\n  .mr-lg-0,\n  .mx-lg-0 {\n    margin-right: 0 !important;\n  }\n\n  .mb-lg-0,\n  .my-lg-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .ml-lg-0,\n  .mx-lg-0 {\n    margin-left: 0 !important;\n  }\n\n  .m-lg-1 {\n    margin: 0.25rem !important;\n  }\n\n  .mt-lg-1,\n  .my-lg-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mr-lg-1,\n  .mx-lg-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .mb-lg-1,\n  .my-lg-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .ml-lg-1,\n  .mx-lg-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .m-lg-2 {\n    margin: 0.5rem !important;\n  }\n\n  .mt-lg-2,\n  .my-lg-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mr-lg-2,\n  .mx-lg-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .mb-lg-2,\n  .my-lg-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .ml-lg-2,\n  .mx-lg-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .m-lg-3 {\n    margin: 1rem !important;\n  }\n\n  .mt-lg-3,\n  .my-lg-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mr-lg-3,\n  .mx-lg-3 {\n    margin-right: 1rem !important;\n  }\n\n  .mb-lg-3,\n  .my-lg-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .ml-lg-3,\n  .mx-lg-3 {\n    margin-left: 1rem !important;\n  }\n\n  .m-lg-4 {\n    margin: 1.5rem !important;\n  }\n\n  .mt-lg-4,\n  .my-lg-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mr-lg-4,\n  .mx-lg-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .mb-lg-4,\n  .my-lg-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .ml-lg-4,\n  .mx-lg-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .m-lg-5 {\n    margin: 3rem !important;\n  }\n\n  .mt-lg-5,\n  .my-lg-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mr-lg-5,\n  .mx-lg-5 {\n    margin-right: 3rem !important;\n  }\n\n  .mb-lg-5,\n  .my-lg-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .ml-lg-5,\n  .mx-lg-5 {\n    margin-left: 3rem !important;\n  }\n\n  .p-lg-0 {\n    padding: 0 !important;\n  }\n\n  .pt-lg-0,\n  .py-lg-0 {\n    padding-top: 0 !important;\n  }\n\n  .pr-lg-0,\n  .px-lg-0 {\n    padding-right: 0 !important;\n  }\n\n  .pb-lg-0,\n  .py-lg-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pl-lg-0,\n  .px-lg-0 {\n    padding-left: 0 !important;\n  }\n\n  .p-lg-1 {\n    padding: 0.25rem !important;\n  }\n\n  .pt-lg-1,\n  .py-lg-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pr-lg-1,\n  .px-lg-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pb-lg-1,\n  .py-lg-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pl-lg-1,\n  .px-lg-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .p-lg-2 {\n    padding: 0.5rem !important;\n  }\n\n  .pt-lg-2,\n  .py-lg-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pr-lg-2,\n  .px-lg-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pb-lg-2,\n  .py-lg-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pl-lg-2,\n  .px-lg-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .p-lg-3 {\n    padding: 1rem !important;\n  }\n\n  .pt-lg-3,\n  .py-lg-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pr-lg-3,\n  .px-lg-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pb-lg-3,\n  .py-lg-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pl-lg-3,\n  .px-lg-3 {\n    padding-left: 1rem !important;\n  }\n\n  .p-lg-4 {\n    padding: 1.5rem !important;\n  }\n\n  .pt-lg-4,\n  .py-lg-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pr-lg-4,\n  .px-lg-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pb-lg-4,\n  .py-lg-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pl-lg-4,\n  .px-lg-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .p-lg-5 {\n    padding: 3rem !important;\n  }\n\n  .pt-lg-5,\n  .py-lg-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pr-lg-5,\n  .px-lg-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-lg-5,\n  .py-lg-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .pl-lg-5,\n  .px-lg-5 {\n    padding-left: 3rem !important;\n  }\n\n  .m-lg-auto {\n    margin: auto !important;\n  }\n\n  .mt-lg-auto,\n  .my-lg-auto {\n    margin-top: auto !important;\n  }\n\n  .mr-lg-auto,\n  .mx-lg-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-lg-auto,\n  .my-lg-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ml-lg-auto,\n  .mx-lg-auto {\n    margin-left: auto !important;\n  }\n}\n@media (min-width: 1200px) {\n  .m-xl-0 {\n    margin: 0 !important;\n  }\n\n  .mt-xl-0,\n  .my-xl-0 {\n    margin-top: 0 !important;\n  }\n\n  .mr-xl-0,\n  .mx-xl-0 {\n    margin-right: 0 !important;\n  }\n\n  .mb-xl-0,\n  .my-xl-0 {\n    margin-bottom: 0 !important;\n  }\n\n  .ml-xl-0,\n  .mx-xl-0 {\n    margin-left: 0 !important;\n  }\n\n  .m-xl-1 {\n    margin: 0.25rem !important;\n  }\n\n  .mt-xl-1,\n  .my-xl-1 {\n    margin-top: 0.25rem !important;\n  }\n\n  .mr-xl-1,\n  .mx-xl-1 {\n    margin-right: 0.25rem !important;\n  }\n\n  .mb-xl-1,\n  .my-xl-1 {\n    margin-bottom: 0.25rem !important;\n  }\n\n  .ml-xl-1,\n  .mx-xl-1 {\n    margin-left: 0.25rem !important;\n  }\n\n  .m-xl-2 {\n    margin: 0.5rem !important;\n  }\n\n  .mt-xl-2,\n  .my-xl-2 {\n    margin-top: 0.5rem !important;\n  }\n\n  .mr-xl-2,\n  .mx-xl-2 {\n    margin-right: 0.5rem !important;\n  }\n\n  .mb-xl-2,\n  .my-xl-2 {\n    margin-bottom: 0.5rem !important;\n  }\n\n  .ml-xl-2,\n  .mx-xl-2 {\n    margin-left: 0.5rem !important;\n  }\n\n  .m-xl-3 {\n    margin: 1rem !important;\n  }\n\n  .mt-xl-3,\n  .my-xl-3 {\n    margin-top: 1rem !important;\n  }\n\n  .mr-xl-3,\n  .mx-xl-3 {\n    margin-right: 1rem !important;\n  }\n\n  .mb-xl-3,\n  .my-xl-3 {\n    margin-bottom: 1rem !important;\n  }\n\n  .ml-xl-3,\n  .mx-xl-3 {\n    margin-left: 1rem !important;\n  }\n\n  .m-xl-4 {\n    margin: 1.5rem !important;\n  }\n\n  .mt-xl-4,\n  .my-xl-4 {\n    margin-top: 1.5rem !important;\n  }\n\n  .mr-xl-4,\n  .mx-xl-4 {\n    margin-right: 1.5rem !important;\n  }\n\n  .mb-xl-4,\n  .my-xl-4 {\n    margin-bottom: 1.5rem !important;\n  }\n\n  .ml-xl-4,\n  .mx-xl-4 {\n    margin-left: 1.5rem !important;\n  }\n\n  .m-xl-5 {\n    margin: 3rem !important;\n  }\n\n  .mt-xl-5,\n  .my-xl-5 {\n    margin-top: 3rem !important;\n  }\n\n  .mr-xl-5,\n  .mx-xl-5 {\n    margin-right: 3rem !important;\n  }\n\n  .mb-xl-5,\n  .my-xl-5 {\n    margin-bottom: 3rem !important;\n  }\n\n  .ml-xl-5,\n  .mx-xl-5 {\n    margin-left: 3rem !important;\n  }\n\n  .p-xl-0 {\n    padding: 0 !important;\n  }\n\n  .pt-xl-0,\n  .py-xl-0 {\n    padding-top: 0 !important;\n  }\n\n  .pr-xl-0,\n  .px-xl-0 {\n    padding-right: 0 !important;\n  }\n\n  .pb-xl-0,\n  .py-xl-0 {\n    padding-bottom: 0 !important;\n  }\n\n  .pl-xl-0,\n  .px-xl-0 {\n    padding-left: 0 !important;\n  }\n\n  .p-xl-1 {\n    padding: 0.25rem !important;\n  }\n\n  .pt-xl-1,\n  .py-xl-1 {\n    padding-top: 0.25rem !important;\n  }\n\n  .pr-xl-1,\n  .px-xl-1 {\n    padding-right: 0.25rem !important;\n  }\n\n  .pb-xl-1,\n  .py-xl-1 {\n    padding-bottom: 0.25rem !important;\n  }\n\n  .pl-xl-1,\n  .px-xl-1 {\n    padding-left: 0.25rem !important;\n  }\n\n  .p-xl-2 {\n    padding: 0.5rem !important;\n  }\n\n  .pt-xl-2,\n  .py-xl-2 {\n    padding-top: 0.5rem !important;\n  }\n\n  .pr-xl-2,\n  .px-xl-2 {\n    padding-right: 0.5rem !important;\n  }\n\n  .pb-xl-2,\n  .py-xl-2 {\n    padding-bottom: 0.5rem !important;\n  }\n\n  .pl-xl-2,\n  .px-xl-2 {\n    padding-left: 0.5rem !important;\n  }\n\n  .p-xl-3 {\n    padding: 1rem !important;\n  }\n\n  .pt-xl-3,\n  .py-xl-3 {\n    padding-top: 1rem !important;\n  }\n\n  .pr-xl-3,\n  .px-xl-3 {\n    padding-right: 1rem !important;\n  }\n\n  .pb-xl-3,\n  .py-xl-3 {\n    padding-bottom: 1rem !important;\n  }\n\n  .pl-xl-3,\n  .px-xl-3 {\n    padding-left: 1rem !important;\n  }\n\n  .p-xl-4 {\n    padding: 1.5rem !important;\n  }\n\n  .pt-xl-4,\n  .py-xl-4 {\n    padding-top: 1.5rem !important;\n  }\n\n  .pr-xl-4,\n  .px-xl-4 {\n    padding-right: 1.5rem !important;\n  }\n\n  .pb-xl-4,\n  .py-xl-4 {\n    padding-bottom: 1.5rem !important;\n  }\n\n  .pl-xl-4,\n  .px-xl-4 {\n    padding-left: 1.5rem !important;\n  }\n\n  .p-xl-5 {\n    padding: 3rem !important;\n  }\n\n  .pt-xl-5,\n  .py-xl-5 {\n    padding-top: 3rem !important;\n  }\n\n  .pr-xl-5,\n  .px-xl-5 {\n    padding-right: 3rem !important;\n  }\n\n  .pb-xl-5,\n  .py-xl-5 {\n    padding-bottom: 3rem !important;\n  }\n\n  .pl-xl-5,\n  .px-xl-5 {\n    padding-left: 3rem !important;\n  }\n\n  .m-xl-auto {\n    margin: auto !important;\n  }\n\n  .mt-xl-auto,\n  .my-xl-auto {\n    margin-top: auto !important;\n  }\n\n  .mr-xl-auto,\n  .mx-xl-auto {\n    margin-right: auto !important;\n  }\n\n  .mb-xl-auto,\n  .my-xl-auto {\n    margin-bottom: auto !important;\n  }\n\n  .ml-xl-auto,\n  .mx-xl-auto {\n    margin-left: auto !important;\n  }\n}\n.text-monospace {\n  font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n}\n.text-justify {\n  text-align: justify !important;\n}\n.text-nowrap {\n  white-space: nowrap !important;\n}\n.text-truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.text-left {\n  text-align: left !important;\n}\n.text-right {\n  text-align: right !important;\n}\n.text-center {\n  text-align: center !important;\n}\n@media (min-width: 576px) {\n  .text-sm-left {\n    text-align: left !important;\n  }\n\n  .text-sm-right {\n    text-align: right !important;\n  }\n\n  .text-sm-center {\n    text-align: center !important;\n  }\n}\n@media (min-width: 768px) {\n  .text-md-left {\n    text-align: left !important;\n  }\n\n  .text-md-right {\n    text-align: right !important;\n  }\n\n  .text-md-center {\n    text-align: center !important;\n  }\n}\n@media (min-width: 992px) {\n  .text-lg-left {\n    text-align: left !important;\n  }\n\n  .text-lg-right {\n    text-align: right !important;\n  }\n\n  .text-lg-center {\n    text-align: center !important;\n  }\n}\n@media (min-width: 1200px) {\n  .text-xl-left {\n    text-align: left !important;\n  }\n\n  .text-xl-right {\n    text-align: right !important;\n  }\n\n  .text-xl-center {\n    text-align: center !important;\n  }\n}\n.text-lowercase {\n  text-transform: lowercase !important;\n}\n.text-uppercase {\n  text-transform: uppercase !important;\n}\n.text-capitalize {\n  text-transform: capitalize !important;\n}\n.font-weight-light {\n  font-weight: 300 !important;\n}\n.font-weight-normal {\n  font-weight: 400 !important;\n}\n.font-weight-bold {\n  font-weight: 700 !important;\n}\n.font-italic {\n  font-style: italic !important;\n}\n.text-white {\n  color: #fff !important;\n}\n.text-primary {\n  color: #007bff !important;\n}\na.text-primary:hover,\na.text-primary:focus {\n  color: #0062cc !important;\n}\n.text-secondary {\n  color: #6c757d !important;\n}\na.text-secondary:hover,\na.text-secondary:focus {\n  color: #545b62 !important;\n}\n.text-success {\n  color: #28a745 !important;\n}\na.text-success:hover,\na.text-success:focus {\n  color: #1e7e34 !important;\n}\n.text-info {\n  color: #17a2b8 !important;\n}\na.text-info:hover,\na.text-info:focus {\n  color: #117a8b !important;\n}\n.text-warning {\n  color: #ffc107 !important;\n}\na.text-warning:hover,\na.text-warning:focus {\n  color: #d39e00 !important;\n}\n.text-danger {\n  color: #dc3545 !important;\n}\na.text-danger:hover,\na.text-danger:focus {\n  color: #bd2130 !important;\n}\n.text-light {\n  color: #f8f9fa !important;\n}\na.text-light:hover,\na.text-light:focus {\n  color: #dae0e5 !important;\n}\n.text-dark {\n  color: #343a40 !important;\n}\na.text-dark:hover,\na.text-dark:focus {\n  color: #1d2124 !important;\n}\n.text-body {\n  color: #212529 !important;\n}\n.text-muted {\n  color: #6c757d !important;\n}\n.text-black-50 {\n  color: rgba(0, 0, 0, 0.5) !important;\n}\n.text-white-50 {\n  color: rgba(255, 255, 255, 0.5) !important;\n}\n.text-hide {\n  font: 0/0 a;\n  color: transparent;\n  text-shadow: none;\n  background-color: transparent;\n  border: 0;\n}\n.visible {\n  visibility: visible !important;\n}\n.invisible {\n  visibility: hidden !important;\n}\n@media print {\n  *,\n  *::before,\n  *::after {\n    text-shadow: none !important;\n    box-shadow: none !important;\n  }\n\n  a:not(.btn) {\n    text-decoration: underline;\n  }\n\n  abbr[title]::after {\n    content: " (" attr(title) ")";\n  }\n\n  pre {\n    white-space: pre-wrap !important;\n  }\n\n  pre,\n  blockquote {\n    border: 1px solid #adb5bd;\n    page-break-inside: avoid;\n  }\n\n  thead {\n    display: table-header-group;\n  }\n\n  tr,\n  img {\n    page-break-inside: avoid;\n  }\n\n  p,\n  h2,\n  h3 {\n    orphans: 3;\n    widows: 3;\n  }\n\n  h2,\n  h3 {\n    page-break-after: avoid;\n  }\n\n@page {\n    size: a3;\n}\n\n  body {\n    min-width: 992px !important;\n  }\n\n  .container {\n    min-width: 992px !important;\n  }\n\n  .navbar {\n    display: none;\n  }\n\n  .badge {\n    border: 1px solid #000;\n  }\n\n  .table {\n    border-collapse: collapse !important;\n  }\n\n  .table td,\n  .table th {\n    background-color: #fff !important;\n  }\n\n  .table-bordered th,\n  .table-bordered td {\n    border: 1px solid #dee2e6 !important;\n  }\n\n  .table-dark {\n    color: inherit;\n  }\n\n  .table-dark th,\n  .table-dark td,\n  .table-dark thead th,\n  .table-dark tbody + tbody {\n    border-color: #dee2e6;\n  }\n\n  .table .thead-dark th {\n    color: inherit;\n    border-color: #dee2e6;\n  }\n}\n/*# sourceMappingURL=bootstrap.css.map */\n';e("browserify-css").createStyle(i,{href:"node_modules\\bootstrap\\dist\\css\\bootstrap.css"},{insertAt:"bottom"});t.exports=i},{"browserify-css":11}],3:[function(n,i,r){(function(e,t){typeof r==="object"&&typeof i!=="undefined"?t(r,n("jquery"),n("popper.js")):typeof define==="function"&&define.amd?define(["exports","jquery","popper.js"],t):t(e.bootstrap={},e.jQuery,e.Popper)})(this,function(e,t,w){"use strict";t=t&&t.hasOwnProperty("default")?t["default"]:t;w=w&&w.hasOwnProperty("default")?w["default"]:w;function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function _(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}function r(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}i.forEach(function(e){r(t,e,n[e])})}return t}function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var A=function(r){var n="transitionend";var i=1e6;var a=1e3;function l(e){return{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function e(){return{bindType:n,delegateType:n,handle:function e(t){if(r(t.target).is(this)){return t.handleObj.handler.apply(this,arguments)}return undefined}}}function t(e){var t=this;var n=false;r(this).one(c.TRANSITION_END,function(){n=true});setTimeout(function(){if(!n){c.triggerTransitionEnd(t)}},e);return this}function o(){r.fn.emulateTransitionEnd=t;r.event.special[c.TRANSITION_END]=e()}var c={TRANSITION_END:"bsTransitionEnd",getUID:function e(t){do{t+=~~(Math.random()*i)}while(document.getElementById(t));return t},getSelectorFromElement:function e(t){var n=t.getAttribute("data-target");if(!n||n==="#"){n=t.getAttribute("href")||""}try{var i=r(document).find(n);return i.length>0?n:null}catch(e){return null}},getTransitionDurationFromElement:function e(t){if(!t){return 0}var n=r(t).css("transition-duration");var i=parseFloat(n);if(!i){return 0}n=n.split(",")[0];return parseFloat(n)*a},reflow:function e(t){return t.offsetHeight},triggerTransitionEnd:function e(t){r(t).trigger(n)},supportsTransitionEnd:function e(){return Boolean(n)},isElement:function e(t){return(t[0]||t).nodeType},typeCheckConfig:function e(t,n,i){for(var r in i){if(Object.prototype.hasOwnProperty.call(i,r)){var a=i[r];var o=n[r];var s=o&&c.isElement(o)?"element":l(o);if(!new RegExp(a).test(s)){throw new Error(t.toUpperCase()+": "+('Option "'+r+'" provided type "'+s+'" ')+('but expected type "'+a+'".'))}}}}};o();return c}(t);var n=function(r){var e="alert";var t="4.1.1";var a="bs.alert";var n="."+a;var i=".data-api";var o=r.fn[e];var s={DISMISS:'[data-dismiss="alert"]'};var l={CLOSE:"close"+n,CLOSED:"closed"+n,CLICK_DATA_API:"click"+n+i};var c={ALERT:"alert",FADE:"fade",SHOW:"show"};var u=function(){function i(e){this._element=e}var e=i.prototype;e.close=function e(t){var n=this._element;if(t){n=this._getRootElement(t)}var i=this._triggerCloseEvent(n);if(i.isDefaultPrevented()){return}this._removeElement(n)};e.dispose=function e(){r.removeData(this._element,a);this._element=null};e._getRootElement=function e(t){var n=A.getSelectorFromElement(t);var i=false;if(n){i=r(n)[0]}if(!i){i=r(t).closest("."+c.ALERT)[0]}return i};e._triggerCloseEvent=function e(t){var n=r.Event(l.CLOSE);r(t).trigger(n);return n};e._removeElement=function e(t){var n=this;r(t).removeClass(c.SHOW);if(!r(t).hasClass(c.FADE)){this._destroyElement(t);return}var i=A.getTransitionDurationFromElement(t);r(t).one(A.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(i)};e._destroyElement=function e(t){r(t).detach().trigger(l.CLOSED).remove()};i._jQueryInterface=function e(n){return this.each(function(){var e=r(this);var t=e.data(a);if(!t){t=new i(this);e.data(a,t)}if(n==="close"){t[n](this)}})};i._handleDismiss=function e(t){return function(e){if(e){e.preventDefault()}t.close(this)}};_(i,null,[{key:"VERSION",get:function e(){return t}}]);return i}();r(document).on(l.CLICK_DATA_API,s.DISMISS,u._handleDismiss(new u));r.fn[e]=u._jQueryInterface;r.fn[e].Constructor=u;r.fn[e].noConflict=function(){r.fn[e]=o;return u._jQueryInterface};return u}(t);var a=function(o){var e="button";var t="4.1.1";var i="bs.button";var n="."+i;var r=".data-api";var a=o.fn[e];var s={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"};var l={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"};var c={CLICK_DATA_API:"click"+n+r,FOCUS_BLUR_DATA_API:"focus"+n+r+" "+("blur"+n+r)};var u=function(){function n(e){this._element=e}var e=n.prototype;e.toggle=function e(){var t=true;var n=true;var i=o(this._element).closest(l.DATA_TOGGLE)[0];if(i){var r=o(this._element).find(l.INPUT)[0];if(r){if(r.type==="radio"){if(r.checked&&o(this._element).hasClass(s.ACTIVE)){t=false}else{var a=o(i).find(l.ACTIVE)[0];if(a){o(a).removeClass(s.ACTIVE)}}}if(t){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled")){return}r.checked=!o(this._element).hasClass(s.ACTIVE);o(r).trigger("change")}r.focus();n=false}}if(n){this._element.setAttribute("aria-pressed",!o(this._element).hasClass(s.ACTIVE))}if(t){o(this._element).toggleClass(s.ACTIVE)}};e.dispose=function e(){o.removeData(this._element,i);this._element=null};n._jQueryInterface=function e(t){return this.each(function(){var e=o(this).data(i);if(!e){e=new n(this);o(this).data(i,e)}if(t==="toggle"){e[t]()}})};_(n,null,[{key:"VERSION",get:function e(){return t}}]);return n}();o(document).on(c.CLICK_DATA_API,l.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var t=e.target;if(!o(t).hasClass(s.BUTTON)){t=o(t).closest(l.BUTTON)}u._jQueryInterface.call(o(t),"toggle")}).on(c.FOCUS_BLUR_DATA_API,l.DATA_TOGGLE_CARROT,function(e){var t=o(e.target).closest(l.BUTTON)[0];o(t).toggleClass(s.FOCUS,/^focus(in)?$/.test(e.type))});o.fn[e]=u._jQueryInterface;o.fn[e].Constructor=u;o.fn[e].noConflict=function(){o.fn[e]=a;return u._jQueryInterface};return u}(t);var o=function(m){var n="carousel";var t="4.1.1";var s="bs.carousel";var i="."+s;var e=".data-api";var r=m.fn[n];var a=37;var l=39;var c=500;var u={interval:5e3,keyboard:true,slide:false,pause:"hover",wrap:true};var h={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"};var g={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"};var v={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load"+i+e,CLICK_DATA_API:"click"+i+e};var b={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"};var y={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'};var o=function(){function o(e,t){this._items=null;this._interval=null;this._activeElement=null;this._isPaused=false;this._isSliding=false;this.touchTimeout=null;this._config=this._getConfig(t);this._element=m(e)[0];this._indicatorsElement=m(this._element).find(y.INDICATORS)[0];this._addEventListeners()}var e=o.prototype;e.next=function e(){if(!this._isSliding){this._slide(g.NEXT)}};e.nextWhenVisible=function e(){if(!document.hidden&&m(this._element).is(":visible")&&m(this._element).css("visibility")!=="hidden"){this.next()}};e.prev=function e(){if(!this._isSliding){this._slide(g.PREV)}};e.pause=function e(t){if(!t){this._isPaused=true}if(m(this._element).find(y.NEXT_PREV)[0]){A.triggerTransitionEnd(this._element);this.cycle(true)}clearInterval(this._interval);this._interval=null};e.cycle=function e(t){if(!t){this._isPaused=false}if(this._interval){clearInterval(this._interval);this._interval=null}if(this._config.interval&&!this._isPaused){this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval)}};e.to=function e(t){var n=this;this._activeElement=m(this._element).find(y.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0){return}if(this._isSliding){m(this._element).one(v.SLID,function(){return n.to(t)});return}if(i===t){this.pause();this.cycle();return}var r=t>i?g.NEXT:g.PREV;this._slide(r,this._items[t])};e.dispose=function e(){m(this._element).off(i);m.removeData(this._element,s);this._items=null;this._config=null;this._element=null;this._interval=null;this._isPaused=null;this._isSliding=null;this._activeElement=null;this._indicatorsElement=null};e._getConfig=function e(t){t=E({},u,t);A.typeCheckConfig(n,t,h);return t};e._addEventListeners=function e(){var t=this;if(this._config.keyboard){m(this._element).on(v.KEYDOWN,function(e){return t._keydown(e)})}if(this._config.pause==="hover"){m(this._element).on(v.MOUSEENTER,function(e){return t.pause(e)}).on(v.MOUSELEAVE,function(e){return t.cycle(e)});if("ontouchstart"in document.documentElement){m(this._element).on(v.TOUCHEND,function(){t.pause();if(t.touchTimeout){clearTimeout(t.touchTimeout)}t.touchTimeout=setTimeout(function(e){return t.cycle(e)},c+t._config.interval)})}}};e._keydown=function e(t){if(/input|textarea/i.test(t.target.tagName)){return}switch(t.which){case a:t.preventDefault();this.prev();break;case l:t.preventDefault();this.next();break;default:}};e._getItemIndex=function e(t){this._items=m.makeArray(m(t).parent().find(y.ITEM));return this._items.indexOf(t)};e._getItemByDirection=function e(t,n){var i=t===g.NEXT;var r=t===g.PREV;var a=this._getItemIndex(n);var o=this._items.length-1;var s=r&&a===0||i&&a===o;if(s&&!this._config.wrap){return n}var l=t===g.PREV?-1:1;var c=(a+l)%this._items.length;return c===-1?this._items[this._items.length-1]:this._items[c]};e._triggerSlideEvent=function e(t,n){var i=this._getItemIndex(t);var r=this._getItemIndex(m(this._element).find(y.ACTIVE_ITEM)[0]);var a=m.Event(v.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});m(this._element).trigger(a);return a};e._setActiveIndicatorElement=function e(t){if(this._indicatorsElement){m(this._indicatorsElement).find(y.ACTIVE).removeClass(b.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(t)];if(n){m(n).addClass(b.ACTIVE)}}};e._slide=function e(t,n){var i=this;var r=m(this._element).find(y.ACTIVE_ITEM)[0];var a=this._getItemIndex(r);var o=n||r&&this._getItemByDirection(t,r);var s=this._getItemIndex(o);var l=Boolean(this._interval);var c;var u;var h;if(t===g.NEXT){c=b.LEFT;u=b.NEXT;h=g.LEFT}else{c=b.RIGHT;u=b.PREV;h=g.RIGHT}if(o&&m(o).hasClass(b.ACTIVE)){this._isSliding=false;return}var f=this._triggerSlideEvent(o,h);if(f.isDefaultPrevented()){return}if(!r||!o){return}this._isSliding=true;if(l){this.pause()}this._setActiveIndicatorElement(o);var d=m.Event(v.SLID,{relatedTarget:o,direction:h,from:a,to:s});if(m(this._element).hasClass(b.SLIDE)){m(o).addClass(u);A.reflow(o);m(r).addClass(c);m(o).addClass(c);var p=A.getTransitionDurationFromElement(r);m(r).one(A.TRANSITION_END,function(){m(o).removeClass(c+" "+u).addClass(b.ACTIVE);m(r).removeClass(b.ACTIVE+" "+u+" "+c);i._isSliding=false;setTimeout(function(){return m(i._element).trigger(d)},0)}).emulateTransitionEnd(p)}else{m(r).removeClass(b.ACTIVE);m(o).addClass(b.ACTIVE);this._isSliding=false;m(this._element).trigger(d)}if(l){this.cycle()}};o._jQueryInterface=function e(i){return this.each(function(){var e=m(this).data(s);var t=E({},u,m(this).data());if(typeof i==="object"){t=E({},t,i)}var n=typeof i==="string"?i:t.slide;if(!e){e=new o(this,t);m(this).data(s,e)}if(typeof i==="number"){e.to(i)}else if(typeof n==="string"){if(typeof e[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}e[n]()}else if(t.interval){e.pause();e.cycle()}})};o._dataApiClickHandler=function e(t){var n=A.getSelectorFromElement(this);if(!n){return}var i=m(n)[0];if(!i||!m(i).hasClass(b.CAROUSEL)){return}var r=E({},m(i).data(),m(this).data());var a=this.getAttribute("data-slide-to");if(a){r.interval=false}o._jQueryInterface.call(m(i),r);if(a){m(i).data(s).to(a)}t.preventDefault()};_(o,null,[{key:"VERSION",get:function e(){return t}},{key:"Default",get:function e(){return u}}]);return o}();m(document).on(v.CLICK_DATA_API,y.DATA_SLIDE,o._dataApiClickHandler);m(window).on(v.LOAD_DATA_API,function(){m(y.DATA_RIDE).each(function(){var e=m(this);o._jQueryInterface.call(e,e.data())})});m.fn[n]=o._jQueryInterface;m.fn[n].Constructor=o;m.fn[n].noConflict=function(){m.fn[n]=r;return o._jQueryInterface};return o}(t);var s=function(h){var n="collapse";var t="4.1.1";var f="bs.collapse";var e="."+f;var i=".data-api";var r=h.fn[n];var a={toggle:true,parent:""};var o={toggle:"boolean",parent:"(string|element)"};var d={SHOW:"show"+e,SHOWN:"shown"+e,HIDE:"hide"+e,HIDDEN:"hidden"+e,CLICK_DATA_API:"click"+e+i};var p={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"};var s={WIDTH:"width",HEIGHT:"height"};var m={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'};var l=function(){function u(e,t){this._isTransitioning=false;this._element=e;this._config=this._getConfig(t);this._triggerArray=h.makeArray(h('[data-toggle="collapse"][href="#'+e.id+'"],'+('[data-toggle="collapse"][data-target="#'+e.id+'"]')));var n=h(m.DATA_TOGGLE);for(var i=0;i<n.length;i++){var r=n[i];var a=A.getSelectorFromElement(r);if(a!==null&&h(a).filter(e).length>0){this._selector=a;this._triggerArray.push(r)}}this._parent=this._config.parent?this._getParent():null;if(!this._config.parent){this._addAriaAndCollapsedClass(this._element,this._triggerArray)}if(this._config.toggle){this.toggle()}}var e=u.prototype;e.toggle=function e(){if(h(this._element).hasClass(p.SHOW)){this.hide()}else{this.show()}};e.show=function e(){var t=this;if(this._isTransitioning||h(this._element).hasClass(p.SHOW)){return}var n;var i;if(this._parent){n=h.makeArray(h(this._parent).find(m.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'));if(n.length===0){n=null}}if(n){i=h(n).not(this._selector).data(f);if(i&&i._isTransitioning){return}}var r=h.Event(d.SHOW);h(this._element).trigger(r);if(r.isDefaultPrevented()){return}if(n){u._jQueryInterface.call(h(n).not(this._selector),"hide");if(!i){h(n).data(f,null)}}var a=this._getDimension();h(this._element).removeClass(p.COLLAPSE).addClass(p.COLLAPSING);this._element.style[a]=0;if(this._triggerArray.length>0){h(this._triggerArray).removeClass(p.COLLAPSED).attr("aria-expanded",true)}this.setTransitioning(true);var o=function e(){h(t._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).addClass(p.SHOW);t._element.style[a]="";t.setTransitioning(false);h(t._element).trigger(d.SHOWN)};var s=a[0].toUpperCase()+a.slice(1);var l="scroll"+s;var c=A.getTransitionDurationFromElement(this._element);h(this._element).one(A.TRANSITION_END,o).emulateTransitionEnd(c);this._element.style[a]=this._element[l]+"px"};e.hide=function e(){var t=this;if(this._isTransitioning||!h(this._element).hasClass(p.SHOW)){return}var n=h.Event(d.HIDE);h(this._element).trigger(n);if(n.isDefaultPrevented()){return}var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px";A.reflow(this._element);h(this._element).addClass(p.COLLAPSING).removeClass(p.COLLAPSE).removeClass(p.SHOW);if(this._triggerArray.length>0){for(var r=0;r<this._triggerArray.length;r++){var a=this._triggerArray[r];var o=A.getSelectorFromElement(a);if(o!==null){var s=h(o);if(!s.hasClass(p.SHOW)){h(a).addClass(p.COLLAPSED).attr("aria-expanded",false)}}}}this.setTransitioning(true);var l=function e(){t.setTransitioning(false);h(t._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).trigger(d.HIDDEN)};this._element.style[i]="";var c=A.getTransitionDurationFromElement(this._element);h(this._element).one(A.TRANSITION_END,l).emulateTransitionEnd(c)};e.setTransitioning=function e(t){this._isTransitioning=t};e.dispose=function e(){h.removeData(this._element,f);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null};e._getConfig=function e(t){t=E({},a,t);t.toggle=Boolean(t.toggle);A.typeCheckConfig(n,t,o);return t};e._getDimension=function e(){var t=h(this._element).hasClass(s.WIDTH);return t?s.WIDTH:s.HEIGHT};e._getParent=function e(){var n=this;var t=null;if(A.isElement(this._config.parent)){t=this._config.parent;if(typeof this._config.parent.jquery!=="undefined"){t=this._config.parent[0]}}else{t=h(this._config.parent)[0]}var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';h(t).find(i).each(function(e,t){n._addAriaAndCollapsedClass(u._getTargetFromElement(t),[t])});return t};e._addAriaAndCollapsedClass=function e(t,n){if(t){var i=h(t).hasClass(p.SHOW);if(n.length>0){h(n).toggleClass(p.COLLAPSED,!i).attr("aria-expanded",i)}}};u._getTargetFromElement=function e(t){var n=A.getSelectorFromElement(t);return n?h(n)[0]:null};u._jQueryInterface=function e(i){return this.each(function(){var e=h(this);var t=e.data(f);var n=E({},a,e.data(),typeof i==="object"&&i?i:{});if(!t&&n.toggle&&/show|hide/.test(i)){n.toggle=false}if(!t){t=new u(this,n);e.data(f,t)}if(typeof i==="string"){if(typeof t[i]==="undefined"){throw new TypeError('No method named "'+i+'"')}t[i]()}})};_(u,null,[{key:"VERSION",get:function e(){return t}},{key:"Default",get:function e(){return a}}]);return u}();h(document).on(d.CLICK_DATA_API,m.DATA_TOGGLE,function(e){if(e.currentTarget.tagName==="A"){e.preventDefault()}var i=h(this);var t=A.getSelectorFromElement(this);h(t).each(function(){var e=h(this);var t=e.data(f);var n=t?"toggle":i.data();l._jQueryInterface.call(e,n)})});h.fn[n]=l._jQueryInterface;h.fn[n].Constructor=l;h.fn[n].noConflict=function(){h.fn[n]=r;return l._jQueryInterface};return l}(t);var l=function(u){var n="dropdown";var t="4.1.1";var h="bs.dropdown";var i="."+h;var e=".data-api";var r=u.fn[n];var s=27;var l=32;var f=9;var d=38;var p=40;var m=3;var g=new RegExp(d+"|"+p+"|"+s);var v={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,CLICK:"click"+i,CLICK_DATA_API:"click"+i+e,KEYDOWN_DATA_API:"keydown"+i+e,KEYUP_DATA_API:"keyup"+i+e};var b={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"};var y={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"};var a={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"};var o={offset:0,flip:true,boundary:"scrollParent",reference:"toggle",display:"dynamic"};var x={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"};var c=function(){function c(e,t){this._element=e;this._popper=null;this._config=this._getConfig(t);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var e=c.prototype;e.toggle=function e(){if(this._element.disabled||u(this._element).hasClass(b.DISABLED)){return}var t=c._getParentFromElement(this._element);var n=u(this._menu).hasClass(b.SHOW);c._clearMenus();if(n){return}var i={relatedTarget:this._element};var r=u.Event(v.SHOW,i);u(t).trigger(r);if(r.isDefaultPrevented()){return}if(!this._inNavbar){if(typeof w==="undefined"){throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)")}var a=this._element;if(this._config.reference==="parent"){a=t}else if(A.isElement(this._config.reference)){a=this._config.reference;if(typeof this._config.reference.jquery!=="undefined"){a=this._config.reference[0]}}if(this._config.boundary!=="scrollParent"){u(t).addClass(b.POSITION_STATIC)}this._popper=new w(a,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&u(t).closest(y.NAVBAR_NAV).length===0){u(document.body).children().on("mouseover",null,u.noop)}this._element.focus();this._element.setAttribute("aria-expanded",true);u(this._menu).toggleClass(b.SHOW);u(t).toggleClass(b.SHOW).trigger(u.Event(v.SHOWN,i))};e.dispose=function e(){u.removeData(this._element,h);u(this._element).off(i);this._element=null;this._menu=null;if(this._popper!==null){this._popper.destroy();this._popper=null}};e.update=function e(){this._inNavbar=this._detectNavbar();if(this._popper!==null){this._popper.scheduleUpdate()}};e._addEventListeners=function e(){var t=this;u(this._element).on(v.CLICK,function(e){e.preventDefault();e.stopPropagation();t.toggle()})};e._getConfig=function e(t){t=E({},this.constructor.Default,u(this._element).data(),t);A.typeCheckConfig(n,t,this.constructor.DefaultType);return t};e._getMenuElement=function e(){if(!this._menu){var t=c._getParentFromElement(this._element);this._menu=u(t).find(y.MENU)[0]}return this._menu};e._getPlacement=function e(){var t=u(this._element).parent();var n=a.BOTTOM;if(t.hasClass(b.DROPUP)){n=a.TOP;if(u(this._menu).hasClass(b.MENURIGHT)){n=a.TOPEND}}else if(t.hasClass(b.DROPRIGHT)){n=a.RIGHT}else if(t.hasClass(b.DROPLEFT)){n=a.LEFT}else if(u(this._menu).hasClass(b.MENURIGHT)){n=a.BOTTOMEND}return n};e._detectNavbar=function e(){return u(this._element).closest(".navbar").length>0};e._getPopperConfig=function e(){var t=this;var n={};if(typeof this._config.offset==="function"){n.fn=function(e){e.offsets=E({},e.offsets,t._config.offset(e.offsets)||{});return e}}else{n.offset=this._config.offset}var i={placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};if(this._config.display==="static"){i.modifiers.applyStyle={enabled:false}}return i};c._jQueryInterface=function e(n){return this.each(function(){var e=u(this).data(h);var t=typeof n==="object"?n:null;if(!e){e=new c(this,t);u(this).data(h,e)}if(typeof n==="string"){if(typeof e[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}e[n]()}})};c._clearMenus=function e(t){if(t&&(t.which===m||t.type==="keyup"&&t.which!==f)){return}var n=u.makeArray(u(y.DATA_TOGGLE));for(var i=0;i<n.length;i++){var r=c._getParentFromElement(n[i]);var a=u(n[i]).data(h);var o={relatedTarget:n[i]};if(!a){continue}var s=a._menu;if(!u(r).hasClass(b.SHOW)){continue}if(t&&(t.type==="click"&&/input|textarea/i.test(t.target.tagName)||t.type==="keyup"&&t.which===f)&&u.contains(r,t.target)){continue}var l=u.Event(v.HIDE,o);u(r).trigger(l);if(l.isDefaultPrevented()){continue}if("ontouchstart"in document.documentElement){u(document.body).children().off("mouseover",null,u.noop)}n[i].setAttribute("aria-expanded","false");u(s).removeClass(b.SHOW);u(r).removeClass(b.SHOW).trigger(u.Event(v.HIDDEN,o))}};c._getParentFromElement=function e(t){var n;var i=A.getSelectorFromElement(t);if(i){n=u(i)[0]}return n||t.parentNode};c._dataApiKeydownHandler=function e(t){if(/input|textarea/i.test(t.target.tagName)?t.which===l||t.which!==s&&(t.which!==p&&t.which!==d||u(t.target).closest(y.MENU).length):!g.test(t.which)){return}t.preventDefault();t.stopPropagation();if(this.disabled||u(this).hasClass(b.DISABLED)){return}var n=c._getParentFromElement(this);var i=u(n).hasClass(b.SHOW);if(!i&&(t.which!==s||t.which!==l)||i&&(t.which===s||t.which===l)){if(t.which===s){var r=u(n).find(y.DATA_TOGGLE)[0];u(r).trigger("focus")}u(this).trigger("click");return}var a=u(n).find(y.VISIBLE_ITEMS).get();if(a.length===0){return}var o=a.indexOf(t.target);if(t.which===d&&o>0){o--}if(t.which===p&&o<a.length-1){o++}if(o<0){o=0}a[o].focus()};_(c,null,[{key:"VERSION",get:function e(){return t}},{key:"Default",get:function e(){return o}},{key:"DefaultType",get:function e(){return x}}]);return c}();u(document).on(v.KEYDOWN_DATA_API,y.DATA_TOGGLE,c._dataApiKeydownHandler).on(v.KEYDOWN_DATA_API,y.MENU,c._dataApiKeydownHandler).on(v.CLICK_DATA_API+" "+v.KEYUP_DATA_API,c._clearMenus).on(v.CLICK_DATA_API,y.DATA_TOGGLE,function(e){e.preventDefault();e.stopPropagation();c._jQueryInterface.call(u(this),"toggle")}).on(v.CLICK_DATA_API,y.FORM_CHILD,function(e){e.stopPropagation()});u.fn[n]=c._jQueryInterface;u.fn[n].Constructor=c;u.fn[n].noConflict=function(){u.fn[n]=r;return c._jQueryInterface};return c}(t,w);var c=function(s){var n="modal";var t="4.1.1";var o="bs.modal";var i="."+o;var e=".data-api";var r=s.fn[n];var a=27;var l={backdrop:true,keyboard:true,focus:true,show:true};var c={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"};var u={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,FOCUSIN:"focusin"+i,RESIZE:"resize"+i,CLICK_DISMISS:"click.dismiss"+i,KEYDOWN_DISMISS:"keydown.dismiss"+i,MOUSEUP_DISMISS:"mouseup.dismiss"+i,MOUSEDOWN_DISMISS:"mousedown.dismiss"+i,CLICK_DATA_API:"click"+i+e};var h={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"};var f={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};var d=function(){function r(e,t){this._config=this._getConfig(t);this._element=e;this._dialog=s(e).find(f.DIALOG)[0];this._backdrop=null;this._isShown=false;this._isBodyOverflowing=false;this._ignoreBackdropClick=false;this._scrollbarWidth=0}var e=r.prototype;e.toggle=function e(t){return this._isShown?this.hide():this.show(t)};e.show=function e(t){var n=this;if(this._isTransitioning||this._isShown){return}if(s(this._element).hasClass(h.FADE)){this._isTransitioning=true}var i=s.Event(u.SHOW,{relatedTarget:t});s(this._element).trigger(i);if(this._isShown||i.isDefaultPrevented()){return}this._isShown=true;this._checkScrollbar();this._setScrollbar();this._adjustDialog();s(document.body).addClass(h.OPEN);this._setEscapeEvent();this._setResizeEvent();s(this._element).on(u.CLICK_DISMISS,f.DATA_DISMISS,function(e){return n.hide(e)});s(this._dialog).on(u.MOUSEDOWN_DISMISS,function(){s(n._element).one(u.MOUSEUP_DISMISS,function(e){if(s(e.target).is(n._element)){n._ignoreBackdropClick=true}})});this._showBackdrop(function(){return n._showElement(t)})};e.hide=function e(t){var n=this;if(t){t.preventDefault()}if(this._isTransitioning||!this._isShown){return}var i=s.Event(u.HIDE);s(this._element).trigger(i);if(!this._isShown||i.isDefaultPrevented()){return}this._isShown=false;var r=s(this._element).hasClass(h.FADE);if(r){this._isTransitioning=true}this._setEscapeEvent();this._setResizeEvent();s(document).off(u.FOCUSIN);s(this._element).removeClass(h.SHOW);s(this._element).off(u.CLICK_DISMISS);s(this._dialog).off(u.MOUSEDOWN_DISMISS);if(r){var a=A.getTransitionDurationFromElement(this._element);s(this._element).one(A.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(a)}else{this._hideModal()}};e.dispose=function e(){s.removeData(this._element,o);s(window,document,this._element,this._backdrop).off(i);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._scrollbarWidth=null};e.handleUpdate=function e(){this._adjustDialog()};e._getConfig=function e(t){t=E({},l,t);A.typeCheckConfig(n,t,c);return t};e._showElement=function e(t){var n=this;var i=s(this._element).hasClass(h.FADE);if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE){document.body.appendChild(this._element)}this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.scrollTop=0;if(i){A.reflow(this._element)}s(this._element).addClass(h.SHOW);if(this._config.focus){this._enforceFocus()}var r=s.Event(u.SHOWN,{relatedTarget:t});var a=function e(){if(n._config.focus){n._element.focus()}n._isTransitioning=false;s(n._element).trigger(r)};if(i){var o=A.getTransitionDurationFromElement(this._element);s(this._dialog).one(A.TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}};e._enforceFocus=function e(){var t=this;s(document).off(u.FOCUSIN).on(u.FOCUSIN,function(e){if(document!==e.target&&t._element!==e.target&&s(t._element).has(e.target).length===0){t._element.focus()}})};e._setEscapeEvent=function e(){var t=this;if(this._isShown&&this._config.keyboard){s(this._element).on(u.KEYDOWN_DISMISS,function(e){if(e.which===a){e.preventDefault();t.hide()}})}else if(!this._isShown){s(this._element).off(u.KEYDOWN_DISMISS)}};e._setResizeEvent=function e(){var t=this;if(this._isShown){s(window).on(u.RESIZE,function(e){return t.handleUpdate(e)})}else{s(window).off(u.RESIZE)}};e._hideModal=function e(){var t=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",true);this._isTransitioning=false;this._showBackdrop(function(){s(document.body).removeClass(h.OPEN);t._resetAdjustments();t._resetScrollbar();s(t._element).trigger(u.HIDDEN)})};e._removeBackdrop=function e(){if(this._backdrop){s(this._backdrop).remove();this._backdrop=null}};e._showBackdrop=function e(t){var n=this;var i=s(this._element).hasClass(h.FADE)?h.FADE:"";if(this._isShown&&this._config.backdrop){this._backdrop=document.createElement("div");this._backdrop.className=h.BACKDROP;if(i){s(this._backdrop).addClass(i)}s(this._backdrop).appendTo(document.body);s(this._element).on(u.CLICK_DISMISS,function(e){if(n._ignoreBackdropClick){n._ignoreBackdropClick=false;return}if(e.target!==e.currentTarget){return}if(n._config.backdrop==="static"){n._element.focus()}else{n.hide()}});if(i){A.reflow(this._backdrop)}s(this._backdrop).addClass(h.SHOW);if(!t){return}if(!i){t();return}var r=A.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(A.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){s(this._backdrop).removeClass(h.SHOW);var a=function e(){n._removeBackdrop();if(t){t()}};if(s(this._element).hasClass(h.FADE)){var o=A.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(A.TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}}else if(t){t()}};e._adjustDialog=function e(){var t=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&t){this._element.style.paddingLeft=this._scrollbarWidth+"px"}if(this._isBodyOverflowing&&!t){this._element.style.paddingRight=this._scrollbarWidth+"px"}};e._resetAdjustments=function e(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};e._checkScrollbar=function e(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};e._setScrollbar=function e(){var r=this;if(this._isBodyOverflowing){s(f.FIXED_CONTENT).each(function(e,t){var n=s(t)[0].style.paddingRight;var i=s(t).css("padding-right");s(t).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")});s(f.STICKY_CONTENT).each(function(e,t){var n=s(t)[0].style.marginRight;var i=s(t).css("margin-right");s(t).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")});s(f.NAVBAR_TOGGLER).each(function(e,t){var n=s(t)[0].style.marginRight;var i=s(t).css("margin-right");s(t).data("margin-right",n).css("margin-right",parseFloat(i)+r._scrollbarWidth+"px")});var t=document.body.style.paddingRight;var n=s(document.body).css("padding-right");s(document.body).data("padding-right",t).css("padding-right",parseFloat(n)+this._scrollbarWidth+"px")}};e._resetScrollbar=function e(){s(f.FIXED_CONTENT).each(function(e,t){var n=s(t).data("padding-right");if(typeof n!=="undefined"){s(t).css("padding-right",n).removeData("padding-right")}});s(f.STICKY_CONTENT+", "+f.NAVBAR_TOGGLER).each(function(e,t){var n=s(t).data("margin-right");if(typeof n!=="undefined"){s(t).css("margin-right",n).removeData("margin-right")}});var t=s(document.body).data("padding-right");if(typeof t!=="undefined"){s(document.body).css("padding-right",t).removeData("padding-right")}};e._getScrollbarWidth=function e(){var t=document.createElement("div");t.className=h.SCROLLBAR_MEASURER;document.body.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;document.body.removeChild(t);return n};r._jQueryInterface=function e(n,i){return this.each(function(){var e=s(this).data(o);var t=E({},l,s(this).data(),typeof n==="object"&&n?n:{});if(!e){e=new r(this,t);s(this).data(o,e)}if(typeof n==="string"){if(typeof e[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}e[n](i)}else if(t.show){e.show(i)}})};_(r,null,[{key:"VERSION",get:function e(){return t}},{key:"Default",get:function e(){return l}}]);return r}();s(document).on(u.CLICK_DATA_API,f.DATA_TOGGLE,function(e){var t=this;var n;var i=A.getSelectorFromElement(this);if(i){n=s(i)[0]}var r=s(n).data(o)?"toggle":E({},s(n).data(),s(this).data());if(this.tagName==="A"||this.tagName==="AREA"){e.preventDefault()}var a=s(n).one(u.SHOW,function(e){if(e.isDefaultPrevented()){return}a.one(u.HIDDEN,function(){if(s(t).is(":visible")){t.focus()}})});d._jQueryInterface.call(s(n),r,this)});s.fn[n]=d._jQueryInterface;s.fn[n].Constructor=d;s.fn[n].noConflict=function(){s.fn[n]=r;return d._jQueryInterface};return d}(t);var g=function(h){var n="tooltip";var t="4.1.1";var r="bs.tooltip";var a="."+r;var e=h.fn[n];var o="bs-tooltip";var s=new RegExp("(^|\\s)"+o+"\\S+","g");var l={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"};var c={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"};var u={animation:true,template:'<div class="tooltip" role="tooltip">'+'<div class="arrow"></div>'+'<div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,selector:false,placement:"top",offset:0,container:false,fallbackPlacement:"flip",boundary:"scrollParent"};var f={SHOW:"show",OUT:"out"};var d={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a};var p={FADE:"fade",SHOW:"show"};var m={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"};var g={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"};var i=function(){function i(e,t){if(typeof w==="undefined"){throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)")}this._isEnabled=true;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=e;this.config=this._getConfig(t);this.tip=null;this._setListeners()}var e=i.prototype;e.enable=function e(){this._isEnabled=true};e.disable=function e(){this._isEnabled=false};e.toggleEnabled=function e(){this._isEnabled=!this._isEnabled};e.toggle=function e(t){if(!this._isEnabled){return}if(t){var n=this.constructor.DATA_KEY;var i=h(t.currentTarget).data(n);if(!i){i=new this.constructor(t.currentTarget,this._getDelegateConfig());h(t.currentTarget).data(n,i)}i._activeTrigger.click=!i._activeTrigger.click;if(i._isWithActiveTrigger()){i._enter(null,i)}else{i._leave(null,i)}}else{if(h(this.getTipElement()).hasClass(p.SHOW)){this._leave(null,this);return}this._enter(null,this)}};e.dispose=function e(){clearTimeout(this._timeout);h.removeData(this.element,this.constructor.DATA_KEY);h(this.element).off(this.constructor.EVENT_KEY);h(this.element).closest(".modal").off("hide.bs.modal");if(this.tip){h(this.tip).remove()}this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;if(this._popper!==null){this._popper.destroy()}this._popper=null;this.element=null;this.config=null;this.tip=null};e.show=function e(){var n=this;if(h(this.element).css("display")==="none"){throw new Error("Please use show on visible elements")}var t=h.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){h(this.element).trigger(t);var i=h.contains(this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!i){return}var r=this.getTipElement();var a=A.getUID(this.constructor.NAME);r.setAttribute("id",a);this.element.setAttribute("aria-describedby",a);this.setContent();if(this.config.animation){h(r).addClass(p.FADE)}var o=typeof this.config.placement==="function"?this.config.placement.call(this,r,this.element):this.config.placement;var s=this._getAttachment(o);this.addAttachmentClass(s);var l=this.config.container===false?document.body:h(this.config.container);h(r).data(this.constructor.DATA_KEY,this);if(!h.contains(this.element.ownerDocument.documentElement,this.tip)){h(r).appendTo(l)}h(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new w(this.element,r,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:m.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function e(t){if(t.originalPlacement!==t.placement){n._handlePopperPlacementChange(t)}},onUpdate:function e(t){n._handlePopperPlacementChange(t)}});h(r).addClass(p.SHOW);if("ontouchstart"in document.documentElement){h(document.body).children().on("mouseover",null,h.noop)}var c=function e(){if(n.config.animation){n._fixTransition()}var t=n._hoverState;n._hoverState=null;h(n.element).trigger(n.constructor.Event.SHOWN);if(t===f.OUT){n._leave(null,n)}};if(h(this.tip).hasClass(p.FADE)){var u=A.getTransitionDurationFromElement(this.tip);h(this.tip).one(A.TRANSITION_END,c).emulateTransitionEnd(u)}else{c()}}};e.hide=function e(t){var n=this;var i=this.getTipElement();var r=h.Event(this.constructor.Event.HIDE);var a=function e(){if(n._hoverState!==f.SHOW&&i.parentNode){i.parentNode.removeChild(i)}n._cleanTipClass();n.element.removeAttribute("aria-describedby");h(n.element).trigger(n.constructor.Event.HIDDEN);if(n._popper!==null){n._popper.destroy()}if(t){t()}};h(this.element).trigger(r);if(r.isDefaultPrevented()){return}h(i).removeClass(p.SHOW);if("ontouchstart"in document.documentElement){h(document.body).children().off("mouseover",null,h.noop)}this._activeTrigger[g.CLICK]=false;this._activeTrigger[g.FOCUS]=false;this._activeTrigger[g.HOVER]=false;if(h(this.tip).hasClass(p.FADE)){var o=A.getTransitionDurationFromElement(i);h(i).one(A.TRANSITION_END,a).emulateTransitionEnd(o)}else{a()}this._hoverState=""};e.update=function e(){if(this._popper!==null){this._popper.scheduleUpdate()}};e.isWithContent=function e(){return Boolean(this.getTitle())};e.addAttachmentClass=function e(t){h(this.getTipElement()).addClass(o+"-"+t)};e.getTipElement=function e(){this.tip=this.tip||h(this.config.template)[0];return this.tip};e.setContent=function e(){var t=h(this.getTipElement());this.setElementContent(t.find(m.TOOLTIP_INNER),this.getTitle());t.removeClass(p.FADE+" "+p.SHOW)};e.setElementContent=function e(t,n){var i=this.config.html;if(typeof n==="object"&&(n.nodeType||n.jquery)){if(i){if(!h(n).parent().is(t)){t.empty().append(n)}}else{t.text(h(n).text())}}else{t[i?"html":"text"](n)}};e.getTitle=function e(){var t=this.element.getAttribute("data-original-title");if(!t){t=typeof this.config.title==="function"?this.config.title.call(this.element):this.config.title}return t};e._getAttachment=function e(t){return c[t.toUpperCase()]};e._setListeners=function e(){var i=this;var t=this.config.trigger.split(" ");t.forEach(function(e){if(e==="click"){h(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(e){return i.toggle(e)})}else if(e!==g.MANUAL){var t=e===g.HOVER?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN;var n=e===g.HOVER?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT;h(i.element).on(t,i.config.selector,function(e){return i._enter(e)}).on(n,i.config.selector,function(e){return i._leave(e)})}h(i.element).closest(".modal").on("hide.bs.modal",function(){return i.hide()})});if(this.config.selector){this.config=E({},this.config,{trigger:"manual",selector:""})}else{this._fixTitle()}};e._fixTitle=function e(){var t=typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||t!=="string"){this.element.setAttribute("data-original-title",this.element.getAttribute("title")||"");this.element.setAttribute("title","")}};e._enter=function e(t,n){var i=this.constructor.DATA_KEY;n=n||h(t.currentTarget).data(i);if(!n){n=new this.constructor(t.currentTarget,this._getDelegateConfig());h(t.currentTarget).data(i,n)}if(t){n._activeTrigger[t.type==="focusin"?g.FOCUS:g.HOVER]=true}if(h(n.getTipElement()).hasClass(p.SHOW)||n._hoverState===f.SHOW){n._hoverState=f.SHOW;return}clearTimeout(n._timeout);n._hoverState=f.SHOW;if(!n.config.delay||!n.config.delay.show){n.show();return}n._timeout=setTimeout(function(){if(n._hoverState===f.SHOW){n.show()}},n.config.delay.show)};e._leave=function e(t,n){var i=this.constructor.DATA_KEY;n=n||h(t.currentTarget).data(i);if(!n){n=new this.constructor(t.currentTarget,this._getDelegateConfig());h(t.currentTarget).data(i,n)}if(t){n._activeTrigger[t.type==="focusout"?g.FOCUS:g.HOVER]=false}if(n._isWithActiveTrigger()){return}clearTimeout(n._timeout);n._hoverState=f.OUT;if(!n.config.delay||!n.config.delay.hide){n.hide();return}n._timeout=setTimeout(function(){if(n._hoverState===f.OUT){n.hide()}},n.config.delay.hide)};e._isWithActiveTrigger=function e(){for(var t in this._activeTrigger){if(this._activeTrigger[t]){return true}}return false};e._getConfig=function e(t){t=E({},this.constructor.Default,h(this.element).data(),typeof t==="object"&&t?t:{});if(typeof t.delay==="number"){t.delay={show:t.delay,hide:t.delay}}if(typeof t.title==="number"){t.title=t.title.toString()}if(typeof t.content==="number"){t.content=t.content.toString()}A.typeCheckConfig(n,t,this.constructor.DefaultType);return t};e._getDelegateConfig=function e(){var t={};if(this.config){for(var n in this.config){if(this.constructor.Default[n]!==this.config[n]){t[n]=this.config[n]}}}return t};e._cleanTipClass=function e(){var t=h(this.getTipElement());var n=t.attr("class").match(s);if(n!==null&&n.length>0){t.removeClass(n.join(""))}};e._handlePopperPlacementChange=function e(t){this._cleanTipClass();this.addAttachmentClass(this._getAttachment(t.placement))};e._fixTransition=function e(){var t=this.getTipElement();var n=this.config.animation;if(t.getAttribute("x-placement")!==null){return}h(t).removeClass(p.FADE);this.config.animation=false;this.hide();this.show();this.config.animation=n};i._jQueryInterface=function e(n){return this.each(function(){var e=h(this).data(r);var t=typeof n==="object"&&n;if(!e&&/dispose|hide/.test(n)){return}if(!e){e=new i(this,t);h(this).data(r,e)}if(typeof n==="string"){if(typeof e[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}e[n]()}})};_(i,null,[{key:"VERSION",get:function e(){return t}},{key:"Default",get:function e(){return u}},{key:"NAME",get:function e(){return n}},{key:"DATA_KEY",get:function e(){return r}},{key:"Event",get:function e(){return d}},{key:"EVENT_KEY",get:function e(){return a}},{key:"DefaultType",get:function e(){return l}}]);return i}();h.fn[n]=i._jQueryInterface;h.fn[n].Constructor=i;h.fn[n].noConflict=function(){h.fn[n]=e;return i._jQueryInterface};return i}(t,w);var u=function(r){var n="popover";var a="4.1.1";var o="bs.popover";var s="."+o;var e=r.fn[n];var l="bs-popover";var c=new RegExp("(^|\\s)"+l+"\\S+","g");var u=E({},g.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip">'+'<div class="arrow"></div>'+'<h3 class="popover-header"></h3>'+'<div class="popover-body"></div></div>'});var h=E({},g.DefaultType,{content:"(string|element|function)"});var f={FADE:"fade",SHOW:"show"};var d={TITLE:".popover-header",CONTENT:".popover-body"};var p={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s};var t=function(e){m(i,e);function i(){return e.apply(this,arguments)||this}var t=i.prototype;t.isWithContent=function e(){return this.getTitle()||this._getContent()};t.addAttachmentClass=function e(t){r(this.getTipElement()).addClass(l+"-"+t)};t.getTipElement=function e(){this.tip=this.tip||r(this.config.template)[0];return this.tip};t.setContent=function e(){var t=r(this.getTipElement());this.setElementContent(t.find(d.TITLE),this.getTitle());var n=this._getContent();if(typeof n==="function"){n=n.call(this.element)}this.setElementContent(t.find(d.CONTENT),n);t.removeClass(f.FADE+" "+f.SHOW)};t._getContent=function e(){return this.element.getAttribute("data-content")||this.config.content};t._cleanTipClass=function e(){var t=r(this.getTipElement());var n=t.attr("class").match(c);if(n!==null&&n.length>0){t.removeClass(n.join(""))}};i._jQueryInterface=function e(n){return this.each(function(){var e=r(this).data(o);var t=typeof n==="object"?n:null;if(!e&&/destroy|hide/.test(n)){return}if(!e){e=new i(this,t);r(this).data(o,e)}if(typeof n==="string"){if(typeof e[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}e[n]()}})};_(i,null,[{key:"VERSION",get:function e(){return a}},{key:"Default",get:function e(){return u}},{key:"NAME",get:function e(){return n}},{key:"DATA_KEY",get:function e(){return o}},{key:"Event",get:function e(){return p}},{key:"EVENT_KEY",get:function e(){return s}},{key:"DefaultType",get:function e(){return h}}]);return i}(g);r.fn[n]=t._jQueryInterface;r.fn[n].Constructor=t;r.fn[n].noConflict=function(){r.fn[n]=e;return t._jQueryInterface};return t}(t);var h=function(o){var r="scrollspy";var t="4.1.1";var a="bs.scrollspy";var n="."+a;var e=".data-api";var i=o.fn[r];var s={offset:10,method:"auto",target:""};var l={offset:"number",method:"string",target:"(string|element)"};var c={ACTIVATE:"activate"+n,SCROLL:"scroll"+n,LOAD_DATA_API:"load"+n+e};var u={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"};var h={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"};var f={OFFSET:"offset",POSITION:"position"};var d=function(){function i(e,t){var n=this;this._element=e;this._scrollElement=e.tagName==="BODY"?window:e;this._config=this._getConfig(t);this._selector=this._config.target+" "+h.NAV_LINKS+","+(this._config.target+" "+h.LIST_ITEMS+",")+(this._config.target+" "+h.DROPDOWN_ITEMS);this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;o(this._scrollElement).on(c.SCROLL,function(e){return n._process(e)});this.refresh();this._process()}var e=i.prototype;e.refresh=function e(){var t=this;var n=this._scrollElement===this._scrollElement.window?f.OFFSET:f.POSITION;var r=this._config.method==="auto"?n:this._config.method;var a=r===f.POSITION?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();var i=o.makeArray(o(this._selector));i.map(function(e){var t;var n=A.getSelectorFromElement(e);if(n){t=o(n)[0]}if(t){var i=t.getBoundingClientRect();if(i.width||i.height){return[o(t)[r]().top+a,n]}}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]);t._targets.push(e[1])})};e.dispose=function e(){o.removeData(this._element,a);o(this._scrollElement).off(n);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null};e._getConfig=function e(t){t=E({},s,typeof t==="object"&&t?t:{});if(typeof t.target!=="string"){var n=o(t.target).attr("id");if(!n){n=A.getUID(r);o(t.target).attr("id",n)}t.target="#"+n}A.typeCheckConfig(r,t,l);return t};e._getScrollTop=function e(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop};e._getScrollHeight=function e(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};e._getOffsetHeight=function e(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height};e._process=function e(){var t=this._getScrollTop()+this._config.offset;var n=this._getScrollHeight();var i=this._config.offset+n-this._getOffsetHeight();if(this._scrollHeight!==n){this.refresh()}if(t>=i){var r=this._targets[this._targets.length-1];if(this._activeTarget!==r){this._activate(r)}return}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null;this._clear();return}for(var a=this._offsets.length;a--;){var o=this._activeTarget!==this._targets[a]&&t>=this._offsets[a]&&(typeof this._offsets[a+1]==="undefined"||t<this._offsets[a+1]);if(o){this._activate(this._targets[a])}}};e._activate=function e(t){this._activeTarget=t;this._clear();var n=this._selector.split(",");n=n.map(function(e){return e+'[data-target="'+t+'"],'+(e+'[href="'+t+'"]')});var i=o(n.join(","));if(i.hasClass(u.DROPDOWN_ITEM)){i.closest(h.DROPDOWN).find(h.DROPDOWN_TOGGLE).addClass(u.ACTIVE);i.addClass(u.ACTIVE)}else{i.addClass(u.ACTIVE);i.parents(h.NAV_LIST_GROUP).prev(h.NAV_LINKS+", "+h.LIST_ITEMS).addClass(u.ACTIVE);i.parents(h.NAV_LIST_GROUP).prev(h.NAV_ITEMS).children(h.NAV_LINKS).addClass(u.ACTIVE)}o(this._scrollElement).trigger(c.ACTIVATE,{relatedTarget:t})};e._clear=function e(){o(this._selector).filter(h.ACTIVE).removeClass(u.ACTIVE)};i._jQueryInterface=function e(n){return this.each(function(){var e=o(this).data(a);var t=typeof n==="object"&&n;if(!e){e=new i(this,t);o(this).data(a,e)}if(typeof n==="string"){if(typeof e[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}e[n]()}})};_(i,null,[{key:"VERSION",get:function e(){return t}},{key:"Default",get:function e(){return s}}]);return i}();o(window).on(c.LOAD_DATA_API,function(){var e=o.makeArray(o(h.DATA_SPY));for(var t=e.length;t--;){var n=o(e[t]);d._jQueryInterface.call(n,n.data())}});o.fn[r]=d._jQueryInterface;o.fn[r].Constructor=d;o.fn[r].noConflict=function(){o.fn[r]=i;return d._jQueryInterface};return d}(t);var f=function(u){var e="tab";var t="4.1.1";var r="bs.tab";var n="."+r;var i=".data-api";var a=u.fn[e];var h={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK_DATA_API:"click"+n+i};var f={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"};var d={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"};var o=function(){function i(e){this._element=e}var e=i.prototype;e.show=function e(){var i=this;if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&u(this._element).hasClass(f.ACTIVE)||u(this._element).hasClass(f.DISABLED)){return}var t;var r;var n=u(this._element).closest(d.NAV_LIST_GROUP)[0];var a=A.getSelectorFromElement(this._element);if(n){var o=n.nodeName==="UL"?d.ACTIVE_UL:d.ACTIVE;r=u.makeArray(u(n).find(o));r=r[r.length-1]}var s=u.Event(h.HIDE,{relatedTarget:this._element});var l=u.Event(h.SHOW,{relatedTarget:r});if(r){u(r).trigger(s)}u(this._element).trigger(l);if(l.isDefaultPrevented()||s.isDefaultPrevented()){return}if(a){t=u(a)[0]}this._activate(this._element,n);var c=function e(){var t=u.Event(h.HIDDEN,{relatedTarget:i._element});var n=u.Event(h.SHOWN,{relatedTarget:r});u(r).trigger(t);u(i._element).trigger(n)};if(t){this._activate(t,t.parentNode,c)}else{c()}};e.dispose=function e(){u.removeData(this._element,r);this._element=null};e._activate=function e(t,n,i){var r=this;var a;if(n.nodeName==="UL"){a=u(n).find(d.ACTIVE_UL)}else{a=u(n).children(d.ACTIVE)}var o=a[0];var s=i&&o&&u(o).hasClass(f.FADE);var l=function e(){return r._transitionComplete(t,o,i)};if(o&&s){var c=A.getTransitionDurationFromElement(o);u(o).one(A.TRANSITION_END,l).emulateTransitionEnd(c)}else{l()}};e._transitionComplete=function e(t,n,i){if(n){u(n).removeClass(f.SHOW+" "+f.ACTIVE);var r=u(n.parentNode).find(d.DROPDOWN_ACTIVE_CHILD)[0];if(r){u(r).removeClass(f.ACTIVE)}if(n.getAttribute("role")==="tab"){n.setAttribute("aria-selected",false)}}u(t).addClass(f.ACTIVE);if(t.getAttribute("role")==="tab"){t.setAttribute("aria-selected",true)}A.reflow(t);u(t).addClass(f.SHOW);if(t.parentNode&&u(t.parentNode).hasClass(f.DROPDOWN_MENU)){var a=u(t).closest(d.DROPDOWN)[0];if(a){u(a).find(d.DROPDOWN_TOGGLE).addClass(f.ACTIVE)}t.setAttribute("aria-expanded",true)}if(i){i()}};i._jQueryInterface=function e(n){return this.each(function(){var e=u(this);var t=e.data(r);if(!t){t=new i(this);e.data(r,t)}if(typeof n==="string"){if(typeof t[n]==="undefined"){throw new TypeError('No method named "'+n+'"')}t[n]()}})};_(i,null,[{key:"VERSION",get:function e(){return t}}]);return i}();u(document).on(h.CLICK_DATA_API,d.DATA_TOGGLE,function(e){e.preventDefault();o._jQueryInterface.call(u(this),"show")});u.fn[e]=o._jQueryInterface;u.fn[e].Constructor=o;u.fn[e].noConflict=function(){u.fn[e]=a;return o._jQueryInterface};return o}(t);(function(e){if(typeof e==="undefined"){throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.")}var t=e.fn.jquery.split(" ")[0].split(".");var n=1;var i=2;var r=9;var a=1;var o=4;if(t[0]<i&&t[1]<r||t[0]===n&&t[1]===r&&t[2]<a||t[0]>=o){throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}})(t);e.Util=A;e.Alert=n;e.Button=a;e.Carousel=o;e.Collapse=s;e.Dropdown=l;e.Modal=c;e.Popover=u;e.Scrollspy=h;e.Tab=f;e.Tooltip=g;Object.defineProperty(e,"__esModule",{value:true})})},{jquery:24,"popper.js":46}],4:[function(e,t,n){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(e,o,t){"use strict";var n=e("./lib/oop");var i=e("./lib/event_emitter").EventEmitter;var c=e("./lib/lang");var u=e("./range").Range;var r=e("./anchor").Anchor;var a=e("./keyboard/hash_handler").HashHandler;var s=e("./tokenizer").Tokenizer;var p=u.comparePoints;var l=function(){this.snippetMap={};this.snippetNameMap={}};(function(){n.implement(this,i);this.getTokenizer=function(){function r(e,t,n){e=e.substr(1);if(/^\d+$/.test(e)&&!n.inFormatString)return[{tabstopId:parseInt(e,10)}];return[{text:e}]}function e(e){return"(?:[^\\\\"+e+"]|\\\\.)"}l.$tokenizer=new s({start:[{regex:/:/,onMatch:function(e,t,n){if(n.length&&n[0].expectIf){n[0].expectIf=false;n[0].elseBranch=n[0];return[n[0]]}return":"}},{regex:/\\./,onMatch:function(e,t,n){var i=e[1];if(i=="}"&&n.length){e=i}else if("`$\\".indexOf(i)!=-1){e=i}else if(n.inFormatString){if(i=="n")e="\n";else if(i=="t")e="\n";else if("ulULE".indexOf(i)!=-1){e={changeCase:i,local:i>"a"}}}return[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:r},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,t,n){var i=r(e.substr(1),t,n);n.unshift(i[0]);return i},next:"snippetVar"},{regex:/\n/,token:"newline",merge:false}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(e,t,n){n[0].choices=e.slice(1,-1).split(",")},next:"start"},{regex:"/("+e("/")+"+)/(?:("+e("/")+"*)/)(\\w*):?",onMatch:function(e,t,n){var i=n[0];i.fmtString=e;e=this.splitRegex.exec(e);i.guard=e[1];i.fmt=e[2];i.flag=e[3];return""},next:"start"},{regex:"`"+e("`")+"*`",onMatch:function(e,t,n){n[0].code=e.splice(1,-1);return""},next:"start"},{regex:"\\?",onMatch:function(e,t,n){if(n[0])n[0].expectIf=true},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+e("/")+"+)/",token:"regex"},{regex:"",onMatch:function(e,t,n){n.inFormatString=true},next:"start"}]});l.prototype.getTokenizer=function(){return l.$tokenizer};return l.$tokenizer};this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})};this.$getDefaultValue=function(e,t){if(/^[A-Z]\d+$/.test(t)){var n=t.substr(1);return(this.variables[t[0]+"__"]||{})[n]}if(/^\d+$/.test(t)){return(this.variables.__||{})[t]}t=t.replace(/^TM_/,"");if(!e)return;var i=e.session;switch(t){case"CURRENT_WORD":var r=i.getWordRange();case"SELECTION":case"SELECTED_TEXT":return i.getTextRange(r);case"CURRENT_LINE":return i.getLine(e.getCursorPosition().row);case"PREV_LINE":return i.getLine(e.getCursorPosition().row-1);case"LINE_INDEX":return e.getCursorPosition().column;case"LINE_NUMBER":return e.getCursorPosition().row+1;case"SOFT_TABS":return i.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return i.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}};this.variables={};this.getVariableValue=function(e,t){if(this.variables.hasOwnProperty(t))return this.variables[t](e,t)||"";return this.$getDefaultValue(e,t)||""};this.tmStrFormat=function(e,t,a){var n=t.flag||"";var i=t.guard;i=new RegExp(i,n.replace(/[^gi]/,""));var o=this.tokenizeTmSnippet(t.fmt,"formatString");var s=this;var r=e.replace(i,function(){s.variables.__=arguments;var e=s.resolveVariables(o,a);var t="E";for(var n=0;n<e.length;n++){var i=e[n];if(typeof i=="object"){e[n]="";if(i.changeCase&&i.local){var r=e[n+1];if(r&&typeof r=="string"){if(i.changeCase=="u")e[n]=r[0].toUpperCase();else e[n]=r[0].toLowerCase();e[n+1]=r.substr(1)}}else if(i.changeCase){t=i.changeCase}}else if(t=="U"){e[n]=i.toUpperCase()}else if(t=="L"){e[n]=i.toLowerCase()}}return e.join("")});this.variables.__=null;return r};this.resolveVariables=function(n,e){var t=[];for(var i=0;i<n.length;i++){var r=n[i];if(typeof r=="string"){t.push(r)}else if(typeof r!="object"){continue}else if(r.skip){o(r)}else if(r.processed<i){continue}else if(r.text){var a=this.getVariableValue(e,r.text);if(a&&r.fmtString)a=this.tmStrFormat(a,r);r.processed=i;if(r.expectIf==null){if(a){t.push(a);o(r)}}else{if(a){r.skip=r.elseBranch}else o(r)}}else if(r.tabstopId!=null){t.push(r)}else if(r.changeCase!=null){t.push(r)}}function o(e){var t=n.indexOf(e,i+1);if(t!=-1)i=t}return t};this.insertSnippetForSelection=function(e,t){var n=e.getCursorPosition();var i=e.session.getLine(n.row);var r=e.session.getTabString();var a=i.match(/^\s*/)[0];if(n.column<a.length)a=a.slice(0,n.column);t=t.replace(/\r/g,"");var s=this.tokenizeTmSnippet(t);s=this.resolveVariables(s,e);s=s.map(function(e){if(e=="\n")return e+a;if(typeof e=="string")return e.replace(/\t/g,r);return e});var l=[];s.forEach(function(e,t){if(typeof e!="object")return;var n=e.tabstopId;var i=l[n];if(!i){i=l[n]=[];i.index=n;i.value=""}if(i.indexOf(e)!==-1)return;i.push(e);var r=s.indexOf(e,t+1);if(r===-1)return;var a=s.slice(t+1,r);var o=a.some(function(e){return typeof e==="object"});if(o&&!i.value){i.value=a}else if(a.length&&(!i.value||typeof i.value!=="string")){i.value=a.join("")}});l.forEach(function(e){e.length=0});var o={};function c(e){var t=[];for(var n=0;n<e.length;n++){var i=e[n];if(typeof i=="object"){if(o[i.tabstopId])continue;var r=e.lastIndexOf(i,n-1);i=t[r]||{tabstopId:i.tabstopId}}t[n]=i}return t}for(var u=0;u<s.length;u++){var h=s[u];if(typeof h!="object")continue;var f=h.tabstopId;var d=s.indexOf(h,u+1);if(o[f]){if(o[f]===h)o[f]=null;continue}var p=l[f];var m=typeof p.value=="string"?[p.value]:c(p.value);m.unshift(u+1,Math.max(0,d-u));m.push(h);o[f]=h;s.splice.apply(s,m);if(p.indexOf(h)===-1)p.push(h)}var g=0,v=0;var b="";s.forEach(function(e){if(typeof e==="string"){var t=e.split("\n");if(t.length>1){v=t[t.length-1].length;g+=t.length-1}else v+=e.length;b+=e}else{if(!e.start)e.start={row:g,column:v};else e.end={row:g,column:v}}});var y=e.getSelectionRange();var x=e.session.replace(y,b);var w=new E(e);var _=e.inVirtualSelectionMode&&e.selection.index;w.addTabstops(l,y.start,x,_)};this.insertSnippet=function(e,t){var n=this;if(e.inVirtualSelectionMode)return n.insertSnippetForSelection(e,t);e.forEachSelection(function(){n.insertSnippetForSelection(e,t)},null,{keepOrder:true});if(e.tabstopManager)e.tabstopManager.tabNext()};this.$getScope=function(e){var t=e.session.$mode.$id||"";t=t.split("/").pop();if(t==="html"||t==="php"){if(t==="php"&&!e.session.$mode.inlinePhp)t="html";var n=e.getCursorPosition();var i=e.session.getState(n.row);if(typeof i==="object"){i=i[0]}if(i.substring){if(i.substring(0,3)=="js-")t="javascript";else if(i.substring(0,4)=="css-")t="css";else if(i.substring(0,4)=="php-")t="php"}}return t};this.getActiveScopes=function(e){var t=this.$getScope(e);var n=[t];var i=this.snippetMap;if(i[t]&&i[t].includeScopes){n.push.apply(n,i[t].includeScopes)}n.push("_");return n};this.expandWithTab=function(e,t){var n=this;var i=e.forEachSelection(function(){return n.expandSnippetForSelection(e,t)},null,{keepOrder:true});if(i&&e.tabstopManager)e.tabstopManager.tabNext();return i};this.expandSnippetForSelection=function(e,t){var n=e.getCursorPosition();var i=e.session.getLine(n.row);var r=i.substring(0,n.column);var a=i.substr(n.column);var o=this.snippetMap;var s;this.getActiveScopes(e).some(function(e){var t=o[e];if(t)s=this.findMatchingSnippet(t,r,a);return!!s},this);if(!s)return false;if(t&&t.dryRun)return true;e.session.doc.removeInLine(n.row,n.column-s.replaceBefore.length,n.column+s.replaceAfter.length);this.variables.M__=s.matchBefore;this.variables.T__=s.matchAfter;this.insertSnippetForSelection(e,s.content);this.variables.M__=this.variables.T__=null;return true};this.findMatchingSnippet=function(e,t,n){for(var i=e.length;i--;){var r=e[i];if(r.startRe&&!r.startRe.test(t))continue;if(r.endRe&&!r.endRe.test(n))continue;if(!r.startRe&&!r.endRe)continue;r.matchBefore=r.startRe?r.startRe.exec(t):[""];r.matchAfter=r.endRe?r.endRe.exec(n):[""];r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"";r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"";return r}};this.snippetMap={};this.snippetNameMap={};this.register=function(e,i){var r=this.snippetMap;var a=this.snippetNameMap;var o=this;if(!e)e=[];function s(e){if(e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e))e="(?:"+e+")";return e||""}function l(e,t,n){e=s(e);t=s(t);if(n){e=t+e;if(e&&e[e.length-1]!="$")e=e+"$"}else{e=e+t;if(e&&e[0]!="^")e="^"+e}return new RegExp(e)}function t(e){if(!e.scope)e.scope=i||"_";i=e.scope;if(!r[i]){r[i]=[];a[i]={}}var t=a[i];if(e.name){var n=t[e.name];if(n)o.unregister(n);t[e.name]=e}r[i].push(e);if(e.tabTrigger&&!e.trigger){if(!e.guard&&/^\w/.test(e.tabTrigger))e.guard="\\b";e.trigger=c.escapeRegExp(e.tabTrigger)}if(!e.trigger&&!e.guard&&!e.endTrigger&&!e.endGuard)return;e.startRe=l(e.trigger,e.guard,true);e.triggerRe=new RegExp(e.trigger,"",true);e.endRe=l(e.endTrigger,e.endGuard,true);e.endTriggerRe=new RegExp(e.endTrigger,"",true)}if(e&&e.content)t(e);else if(Array.isArray(e))e.forEach(t);this._signal("registerSnippets",{scope:i})};this.unregister=function(e,r){var a=this.snippetMap;var o=this.snippetNameMap;function t(e){var t=o[e.scope||r];if(t&&t[e.name]){delete t[e.name];var n=a[e.scope||r];var i=n&&n.indexOf(e);if(i>=0)n.splice(i,1)}}if(e.content)t(e);else if(Array.isArray(e))e.forEach(t)};this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");var t=[],n={};var i=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;var r;while(r=i.exec(e)){if(r[1]){try{n=JSON.parse(r[1]);t.push(n)}catch(e){}}if(r[4]){n.content=r[4].replace(/^\t/gm,"");t.push(n);n={}}else{var a=r[2],o=r[3];if(a=="regex"){var s=/\/((?:[^\/\\]|\\.)*)|$/g;n.guard=s.exec(o)[1];n.trigger=s.exec(o)[1];n.endTrigger=s.exec(o)[1];n.endGuard=s.exec(o)[1]}else if(a=="snippet"){n.tabTrigger=o.match(/^\S*/)[0];if(!n.name)n.name=o}else{n[a]=o}}}return t};this.getSnippetByName=function(n,e){var i=this.snippetNameMap;var r;this.getActiveScopes(e).some(function(e){var t=i[e];if(t)r=t[n];return!!r},this);return r}}).call(l.prototype);var E=function(e){if(e.tabstopManager)return e.tabstopManager;e.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=c.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(e)};(function(){this.attach=function(e){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=e;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(e){var t=e;var n=e.action[0]=="r";var i=e.start;var r=e.end;var a=i.row;var o=r.row;var s=o-a;var l=r.column-i.column;if(n){s=-s;l=-l}if(!this.$inChange&&n){var c=this.selectedTabstop;var u=c&&!c.some(function(e){return p(e.start,i)<=0&&p(e.end,r)>=0});if(u)return this.detach()}var h=this.ranges;for(var f=0;f<h.length;f++){var d=h[f];if(d.end.row<i.row)continue;if(n&&p(i,d.start)<0&&p(r,d.end)>0){this.removeRange(d);f--;continue}if(d.start.row==a&&d.start.column>i.column)d.start.column+=l;if(d.end.row==a&&d.end.column>=i.column)d.end.column+=l;if(d.start.row>=a)d.start.row+=s;if(d.end.row>=a)d.end.row+=s;if(p(d.start,d.end)>0)this.removeRange(d)}if(!h.length)this.detach()};this.updateLinkedFields=function(){var e=this.selectedTabstop;if(!e||!e.hasLinkedRanges)return;this.$inChange=true;var t=this.editor.session;var n=t.getTextRange(e.firstNonLinked);for(var i=e.length;i--;){var r=e[i];if(!r.linked)continue;var a=o.snippetManager.tmStrFormat(n,r.original);t.replace(r,a)}this.$inChange=false};this.onAfterExec=function(e){if(e.command&&!e.command.readOnly)this.updateLinkedFields()};this.onChangeSelection=function(){if(!this.editor)return;var e=this.editor.selection.lead;var t=this.editor.selection.anchor;var n=this.editor.selection.isEmpty();for(var i=this.ranges.length;i--;){if(this.ranges[i].linked)continue;var r=this.ranges[i].contains(e.row,e.column);var a=n||this.ranges[i].contains(t.row,t.column);if(r&&a)return}this.detach()};this.onChangeSession=function(){this.detach()};this.tabNext=function(e){var t=this.tabstops.length;var n=this.index+(e||1);n=Math.min(Math.max(n,1),t);if(n==t)n=0;this.selectTabstop(n);if(n===0)this.detach()};this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t)this.addTabstopMarkers(t);this.index=e;t=this.tabstops[this.index];if(!t||!t.length)return;this.selectedTabstop=t;if(!this.editor.inVirtualSelectionMode){var n=this.editor.multiSelect;n.toSingleRange(t.firstNonLinked.clone());for(var i=t.length;i--;){if(t.hasLinkedRanges&&t[i].linked)continue;n.addRange(t[i].clone(),true)}if(n.ranges[0])n.addRange(n.ranges[0].clone())}else{this.editor.selection.setRange(t.firstNonLinked)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.addTabstops=function(e,o,t){if(!this.$openTabstops)this.$openTabstops=[];if(!e[0]){var n=u.fromPoints(t,t);d(n.start,o);d(n.end,o);e[0]=[n];e[0].index=0}var i=this.index;var s=[i+1,0];var l=this.ranges;e.forEach(function(e,t){var n=this.$openTabstops[t]||e;for(var i=e.length;i--;){var r=e[i];var a=u.fromPoints(r.start,r.end||r.start);f(a.start,o);f(a.end,o);a.original=r;a.tabstop=n;l.push(a);if(n!=e)n.unshift(a);else n[i]=a;if(r.fmtString){a.linked=true;n.hasLinkedRanges=true}else if(!n.firstNonLinked)n.firstNonLinked=a}if(!n.firstNonLinked)n.hasLinkedRanges=false;if(n===e){s.push(n);this.$openTabstops[t]=n}this.addTabstopMarkers(n)},this);if(s.length>2){if(this.tabstops.length)s.push(s.splice(2,1)[0]);this.tabstops.splice.apply(this.tabstops,s)}};this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){if(!e.markerId)e.markerId=t.addMarker(e,"ace_snippet-marker","text")})};this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId);e.markerId=null})};this.removeRange=function(e){var t=e.tabstop.indexOf(e);e.tabstop.splice(t,1);t=this.ranges.indexOf(e);this.ranges.splice(t,1);this.editor.session.removeMarker(e.markerId);if(!e.tabstop.length){t=this.tabstops.indexOf(e.tabstop);if(t!=-1)this.tabstops.splice(t,1);if(!this.tabstops.length)this.detach()}};this.keyboardHandler=new a;this.keyboardHandler.bindKeys({Tab:function(e){if(o.snippetManager&&o.snippetManager.expandWithTab(e)){return}e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(e){return false}})}).call(E.prototype);var h={};h.onChange=r.prototype.onChange;h.setPosition=function(e,t){this.pos.row=e;this.pos.column=t};h.update=function(e,t,n){this.$insertRight=n;this.pos=e;this.onChange(t)};var f=function(e,t){if(e.row==0)e.column+=t.column;e.row+=t.row};var d=function(e,t){if(e.row==t.row)e.column-=t.column;e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}");o.snippetManager=new l;var m=e("./editor").Editor;(function(){this.insertSnippet=function(e,t){return o.snippetManager.insertSnippet(this,e,t)};this.expandSnippet=function(e){return o.snippetManager.expandWithTab(this,e)}}).call(m.prototype)});ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(e,t,n){"use strict";var i=e("../virtual_renderer").VirtualRenderer;var r=e("../editor").Editor;var l=e("../range").Range;var c=e("../lib/event");var u=e("../lib/lang");var d=e("../lib/dom");var p=function(e){var t=new i(e);t.$maxLines=4;var n=new r(t);n.setHighlightActiveLine(false);n.setShowPrintMargin(false);n.renderer.setShowGutter(false);n.renderer.setHighlightGutterLine(false);n.$mouseHandler.$focusWaitTimout=0;n.$highlightTagPending=true;return n};var a=function(e){var t=d.createElement("div");var h=new p(t);if(e)e.appendChild(t);t.style.display="none";h.renderer.content.style.cursor="default";h.renderer.setStyle("ace_autocomplete");h.setOption("displayIndentGuides",false);h.setOption("dragDelay",150);var n=function(){};h.focus=n;h.$isFocused=true;h.renderer.$cursorLayer.restartTimer=n;h.renderer.$cursorLayer.element.style.opacity=0;h.renderer.$maxLines=8;h.renderer.$keepTextAreaAtCursor=false;h.setHighlightActiveLine(false);h.session.highlight("");h.session.$searchHighlight.clazz="ace_highlight-marker";h.on("mousedown",function(e){var t=e.getDocumentPosition();h.selection.moveToPosition(t);r.start.row=r.end.row=t.row;e.stop()});var f;var i=new l(-1,0,-1,Infinity);var r=new l(-1,0,-1,Infinity);r.id=h.session.addMarker(r,"ace_active-line","fullLine");h.setSelectOnHover=function(e){if(!e){i.id=h.session.addMarker(i,"ace_line-hover","fullLine")}else if(i.id){h.session.removeMarker(i.id);i.id=null}};h.setSelectOnHover(false);h.on("mousemove",function(e){if(!f){f=e;return}if(f.x==e.x&&f.y==e.y){return}f=e;f.scrollTop=h.renderer.scrollTop;var t=f.getDocumentPosition().row;if(i.start.row!=t){if(!i.id)h.setRow(t);o(t)}});h.renderer.on("beforeRender",function(){if(f&&i.start.row!=-1){f.$pos=null;var e=f.getDocumentPosition().row;if(!i.id)h.setRow(e);o(e,true)}});h.renderer.on("afterRender",function(){var e=h.getRow();var t=h.renderer.$textLayer;var n=t.element.childNodes[e-t.config.firstRow];if(n==t.selectedNode)return;if(t.selectedNode)d.removeCssClass(t.selectedNode,"ace_selected");t.selectedNode=n;if(n)d.addCssClass(n,"ace_selected")});var a=function(){o(-1)};var o=function(e,t){if(e!==i.start.row){i.start.row=i.end.row=e;if(!t)h.session._emit("changeBackMarker");h._emit("changeHoverMarker")}};h.getHoveredRow=function(){return i.start.row};c.addListener(h.container,"mouseout",a);h.on("hide",a);h.on("changeSelection",a);h.session.doc.getLength=function(){return h.data.length};h.session.doc.getLine=function(e){var t=h.data[e];if(typeof t=="string")return t;return t&&t.value||""};var s=h.session.bgTokenizer;s.$tokenizeRow=function(e){var t=h.data[e];var n=[];if(!t)return n;if(typeof t=="string")t={value:t};if(!t.caption)t.caption=t.value||t.name;var i=-1;var r,a;for(var o=0;o<t.caption.length;o++){a=t.caption[o];r=t.matchMask&1<<o?1:0;if(i!==r){n.push({type:t.className||""+(r?"completion-highlight":""),value:a});i=r}else{n[n.length-1].value+=a}}if(t.meta){var s=h.renderer.$size.scrollerWidth/h.renderer.layerConfig.characterWidth;var l=t.meta;if(l.length+t.caption.length>s-2){l=l.substr(0,s-t.caption.length-3)+""}n.push({type:"rightAlignedText",value:l})}return n};s.$updateOnChange=n;s.start=n;h.session.$computeWidth=function(){return this.screenWidth=0};h.$blockScrolling=Infinity;h.isOpen=false;h.isTopdown=false;h.autoSelect=true;h.data=[];h.setData=function(e){h.setValue(u.stringRepeat("\n",e.length),-1);h.data=e||[];h.setRow(0)};h.getData=function(e){return h.data[e]};h.getRow=function(){return r.start.row};h.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e));if(r.start.row!=e){h.selection.clearSelection();r.start.row=r.end.row=e||0;h.session._emit("changeBackMarker");h.moveCursorTo(e||0,0);if(h.isOpen)h._signal("select")}};h.on("changeSelection",function(){if(h.isOpen)h.setRow(h.selection.lead.row);h.renderer.scrollCursorIntoView()});h.hide=function(){this.container.style.display="none";this._signal("hide");h.isOpen=false};h.show=function(e,t,n){var i=this.container;var r=window.innerHeight;var a=window.innerWidth;var o=this.renderer;var s=o.$maxLines*t*1.4;var l=e.top+this.$borderSize;var c=l>r/2&&!n;if(c&&l+t+s>r){o.$maxPixelHeight=l-2*this.$borderSize;i.style.top="";i.style.bottom=r-l+"px";h.isTopdown=false}else{l+=t;o.$maxPixelHeight=r-l-.2*t;i.style.top=l+"px";i.style.bottom="";h.isTopdown=true}i.style.display="";this.renderer.$textLayer.checkForSizeChanges();var u=e.left;if(u+i.offsetWidth>a)u=a-i.offsetWidth;i.style.left=u+"px";this._signal("show");f=null;h.isOpen=true};h.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize};h.$imageSize=0;h.$borderSize=1;return h};d.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}");t.AcePopup=a});ace.define("ace/autocomplete/util",["require","exports","module"],function(e,t,n){"use strict";t.parForEach=function(e,t,n){var i=0;var r=e.length;if(r===0)n();for(var a=0;a<r;a++){t(e[a],function(e,t){i++;if(i===r)n(e,t)})}};var a=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||a;var i=[];for(var r=t-1;r>=0;r--){if(n.test(e[r]))i.push(e[r]);else break}return i.reverse().join("")};t.retrieveFollowingIdentifier=function(e,t,n){n=n||a;var i=[];for(var r=t;r<e.length;r++){if(n.test(e[r]))i.push(e[r]);else break}return i};t.getCompletionPrefix=function(e){var t=e.getCursorPosition();var n=e.session.getLine(t.row);var i;e.completers.forEach(function(e){if(e.identifierRegexps){e.identifierRegexps.forEach(function(e){if(!i&&e)i=this.retrievePrecedingIdentifier(n,t.column,e)}.bind(this))}}.bind(this));return i||this.retrievePrecedingIdentifier(n,t.column)}});ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(e,t,n){"use strict";var i=e("./keyboard/hash_handler").HashHandler;var r=e("./autocomplete/popup").AcePopup;var c=e("./autocomplete/util");var a=e("./lib/event");var o=e("./lib/lang");var s=e("./lib/dom");var l=e("./snippets").snippetManager;var u=function(){this.autoInsert=false;this.autoSelect=true;this.exactMatch=false;this.gatherCompletionsId=0;this.keyboardHandler=new i;this.keyboardHandler.bindKeys(this.commands);this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.changeTimer=o.delayedCall(function(){this.updateCompletions(true)}.bind(this));this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){this.popup=new r(document.body||document.documentElement);this.popup.on("click",function(e){this.insertMatch();e.stop()}.bind(this));this.popup.focus=this.editor.focus.bind(this.editor);this.popup.on("show",this.tooltipTimer.bind(null,null));this.popup.on("select",this.tooltipTimer.bind(null,null));this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null));return this.popup};this.getPopup=function(){return this.popup||this.$init()};this.openPopup=function(e,t,n){if(!this.popup)this.$init();this.popup.autoSelect=this.autoSelect;this.popup.setData(this.completions.filtered);e.keyBinding.addKeyboardHandler(this.keyboardHandler);var i=e.renderer;this.popup.setRow(this.autoSelect?0:-1);if(!n){this.popup.setTheme(e.getTheme());this.popup.setFontSize(e.getFontSize());var r=i.layerConfig.lineHeight;var a=i.$cursorLayer.getPixelPosition(this.base,true);a.left-=this.popup.getTextLeftOffset();var o=e.container.getBoundingClientRect();a.top+=o.top-i.layerConfig.offset;a.left+=o.left-e.renderer.scrollLeft;a.left+=i.gutterWidth;this.popup.show(a,r)}else if(n&&!t){this.detach()}};this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.off("changeSelection",this.changeListener);this.editor.off("blur",this.blurListener);this.editor.off("mousedown",this.mousedownListener);this.editor.off("mousewheel",this.mousewheelListener);this.changeTimer.cancel();this.hideDocTooltip();this.gatherCompletionsId+=1;if(this.popup&&this.popup.isOpen)this.popup.hide();if(this.base)this.base.detach();this.activated=false;this.completions=this.base=null};this.changeListener=function(e){var t=this.editor.selection.lead;if(t.row!=this.base.row||t.column<this.base.column){this.detach()}if(this.activated)this.changeTimer.schedule();else this.detach()};this.blurListener=function(e){var t=document.activeElement;var n=this.editor.textInput.getElement();var i=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget);var r=this.popup&&this.popup.container;if(t!=n&&t.parentNode!=r&&!i&&t!=this.tooltipNode&&e.relatedTarget!=n){this.detach()}};this.mousedownListener=function(e){this.detach()};this.mousewheelListener=function(e){this.detach()};this.goTo=function(e){var t=this.popup.getRow();var n=this.popup.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n;break}this.popup.setRow(t)};this.insertMatch=function(e,t){if(!e)e=this.popup.getData(this.popup.getRow());if(!e)return false;if(e.completer&&e.completer.insertMatch){e.completer.insertMatch(this.editor,e)}else{if(this.completions.filterText){var n=this.editor.selection.getAllRanges();for(var i=0,r;r=n[i];i++){r.start.column-=this.completions.filterText.length;this.editor.session.remove(r)}}if(e.snippet)l.insertSnippet(this.editor,e.snippet);else this.editor.execCommand("insertstring",e.value||e)}this.detach()};this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:true})},Tab:function(e){var t=e.completer.insertMatch();if(!t&&!e.tabstopManager)e.completer.goTo("down");else return t},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}};this.gatherCompletions=function(n,i){var r=n.getSession();var a=n.getCursorPosition();var o=c.getCompletionPrefix(n);this.base=r.doc.createAnchor(a.row,a.column-o.length);this.base.$insertRight=true;var s=[];var l=n.completers.length;n.completers.forEach(function(e,t){e.getCompletions(n,r,a,o,function(e,t){if(!e&&t)s=s.concat(t);i(null,{prefix:c.getCompletionPrefix(n),matches:s,finished:--l===0})})});return true};this.showPopup=function(e){if(this.editor)this.detach();this.activated=true;this.editor=e;if(e.completer!=this){if(e.completer)e.completer.detach();e.completer=this}e.on("changeSelection",this.changeListener);e.on("blur",this.blurListener);e.on("mousedown",this.mousedownListener);e.on("mousewheel",this.mousewheelListener);this.updateCompletions()};this.updateCompletions=function(o){if(o&&this.base&&this.completions){var e=this.editor.getCursorPosition();var t=this.editor.session.getTextRange({start:this.base,end:e});if(t==this.completions.filterText)return;this.completions.setFilter(t);if(!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==t&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,t,o);return}var s=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(e,t){var n=function(){if(!t.finished)return;return this.detach()}.bind(this);var i=t.prefix;var r=t&&t.matches;if(!r||!r.length)return n();if(i.indexOf(t.prefix)!==0||s!=this.gatherCompletionsId)return;this.completions=new h(r);if(this.exactMatch)this.completions.exactMatch=true;this.completions.setFilter(i);var a=this.completions.filtered;if(!a.length)return n();if(a.length==1&&a[0].value==i&&!a[0].snippet)return n();if(this.autoInsert&&a.length==1&&t.finished)return this.insertMatch(a[0]);this.openPopup(this.editor,i,o)}.bind(this))};this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()};this.updateDocTooltip=function(){var e=this.popup;var t=e.data;var n=t&&(t[e.getHoveredRow()]||t[e.getRow()]);var i=null;if(!n||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();this.editor.completers.some(function(e){if(e.getDocTooltip)i=e.getDocTooltip(n);return i});if(!i)i=n;if(typeof i=="string")i={docText:i};if(!i||!(i.docHTML||i.docText))return this.hideDocTooltip();this.showDocTooltip(i)};this.showDocTooltip=function(e){if(!this.tooltipNode){this.tooltipNode=s.createElement("div");this.tooltipNode.className="ace_tooltip ace_doc-tooltip";this.tooltipNode.style.margin=0;this.tooltipNode.style.pointerEvents="auto";this.tooltipNode.tabIndex=-1;this.tooltipNode.onblur=this.blurListener.bind(this);this.tooltipNode.onclick=this.onTooltipClick.bind(this)}var t=this.tooltipNode;if(e.docHTML){t.innerHTML=e.docHTML}else if(e.docText){t.textContent=e.docText}if(!t.parentNode)document.body.appendChild(t);var n=this.popup;var i=n.container.getBoundingClientRect();t.style.top=n.container.style.top;t.style.bottom=n.container.style.bottom;if(window.innerWidth-i.right<320){t.style.right=window.innerWidth-i.left+"px";t.style.left=""}else{t.style.left=i.right+1+"px";t.style.right=""}t.style.display="block"};this.hideDocTooltip=function(){this.tooltipTimer.cancel();if(!this.tooltipNode)return;var e=this.tooltipNode;if(!this.editor.isFocused()&&document.activeElement==e)this.editor.focus();this.tooltipNode=null;if(e.parentNode)e.parentNode.removeChild(e)};this.onTooltipClick=function(e){var t=e.target;while(t&&t!=this.tooltipNode){if(t.nodeName=="A"&&t.href){t.rel="noreferrer";t.target="_blank";break}t=t.parentNode}}}).call(u.prototype);u.startCommand={name:"startAutocomplete",exec:function(e){if(!e.completer)e.completer=new u;e.completer.autoInsert=false;e.completer.autoSelect=true;e.completer.showPopup(e);e.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var h=function(e,t){this.all=e;this.filtered=e;this.filterText=t||"";this.exactMatch=false};(function(){this.setFilter=function(e){if(e.length>this.filterText&&e.lastIndexOf(this.filterText,0)===0)var t=this.filtered;else var t=this.all;this.filterText=e;t=this.filterCompletions(t,this.filterText);t=t.sort(function(e,t){return t.exactMatch-e.exactMatch||t.score-e.score});var n=null;t=t.filter(function(e){var t=e.snippet||e.caption||e.value;if(t===n)return false;n=t;return true});this.filtered=t};this.filterCompletions=function(e,t){var n=[];var i=t.toUpperCase();var r=t.toLowerCase();e:for(var a=0,o;o=e[a];a++){var s=o.value||o.caption||o.snippet;if(!s)continue;var l=-1;var c=0;var u=0;var h,f;if(this.exactMatch){if(t!==s.substr(0,t.length))continue e}else{for(var d=0;d<t.length;d++){var p=s.indexOf(r[d],l+1);var m=s.indexOf(i[d],l+1);h=p>=0?m<0||p<m?p:m:m;if(h<0)continue e;f=h-l-1;if(f>0){if(l===-1)u+=10;u+=f}c=c|1<<h;l=h}}o.matchMask=c;o.exactMatch=u?0:1;o.score=(o.score||0)-u;n.push(o)}return n}}).call(h.prototype);t.Autocomplete=u;t.FilteredList=h});ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(e,t,n){var i=e("../range").Range;var l=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function c(e,t){var n=e.getTextRange(i.fromPoints({row:0,column:0},t));return n.split(l).length-1}function s(e,t){var r=c(e,t);var a=e.getValue().split(l);var o=Object.create(null);var s=a[r];a.forEach(function(e,t){if(!e||e===s)return;var n=Math.abs(r-t);var i=a.length-n;if(o[e]){o[e]=Math.max(i,o[e])}else{o[e]=i}});return o}t.getCompletions=function(e,t,n,i,r){var a=s(t,n,i);var o=Object.keys(a);r(null,o.map(function(e){return{caption:e,value:e,score:a[e],meta:"local"}}))}});ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(e,t,n){"use strict";var s=e("../snippets").snippetManager;var r=e("../autocomplete").Autocomplete;var i=e("../config");var a=e("../lib/lang");var o=e("../autocomplete/util");var l=e("../autocomplete/text_completer");var c={getCompletions:function(e,t,n,i,r){if(t.$mode.completer){return t.$mode.completer.getCompletions(e,t,n,i,r)}var a=e.session.getState(n.row);var o=t.$mode.getCompletions(a,t,n,i);r(null,o)}};var u={getCompletions:function(e,t,n,i,r){var a=s.snippetMap;var o=[];s.getActiveScopes(e).forEach(function(e){var t=a[e]||[];for(var n=t.length;n--;){var i=t[n];var r=i.name||i.tabTrigger;if(!r)continue;o.push({caption:r,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+" ":"snippet",type:"snippet"})}},this);r(null,o)},getDocTooltip:function(e){if(e.type=="snippet"&&!e.docHTML){e.docHTML=["<b>",a.escapeHTML(e.caption),"</b>","<hr></hr>",a.escapeHTML(e.snippet)].join("")}}};var h=[u,l,c];t.setCompleters=function(e){h.length=0;if(e)h.push.apply(h,e)};t.addCompleter=function(e){h.push(e)};t.textCompleter=l;t.keyWordCompleter=c;t.snippetCompleter=u;var f={name:"expandSnippet",exec:function(e){return s.expandWithTab(e)},bindKey:"Tab"};var d=function(e,t){p(t.session.$mode)};var p=function(e){var t=e.$id;if(!s.files)s.files={};m(t);if(e.modes)e.modes.forEach(p)};var m=function(t){if(!t||s.files[t])return;var e=t.replace("mode","snippets");s.files[t]={};i.loadModule(e,function(e){if(e){s.files[t]=e;if(!e.snippets&&e.snippetText)e.snippets=s.parseSnippetFile(e.snippetText);s.register(e.snippets||[],e.scope);if(e.includeScopes){s.snippetMap[e.scope].includeScopes=e.includeScopes;e.includeScopes.forEach(function(e){m("ace/mode/"+e)})}}})};var g=function(e){var t=e.editor;var n=t.completer&&t.completer.activated;if(e.command.name==="backspace"){if(n&&!o.getCompletionPrefix(t))t.completer.detach()}else if(e.command.name==="insertstring"){var i=o.getCompletionPrefix(t);if(i&&!n){if(!t.completer){t.completer=new r}t.completer.autoInsert=false;t.completer.showPopup(t)}}};var v=e("../editor").Editor;e("../config").defineOptions(v.prototype,"editor",{enableBasicAutocompletion:{set:function(e){if(e){if(!this.completers)this.completers=Array.isArray(e)?e:h;this.commands.addCommand(r.startCommand)}else{this.commands.removeCommand(r.startCommand)}},value:false},enableLiveAutocompletion:{set:function(e){if(e){if(!this.completers)this.completers=Array.isArray(e)?e:h;this.commands.on("afterExec",g)}else{this.commands.removeListener("afterExec",g)}},value:false},enableSnippets:{set:function(e){if(e){this.commands.addCommand(f);this.on("changeMode",d);d(null,this)}else{this.commands.removeCommand(f);this.off("changeMode",d)}},value:false}})});(function(){ace.acequire(["ace/ext/language_tools"],function(){})})()},{}],5:[function(e,t,n){(function(){var e="ace";var n=function(){return this}();if(!n&&typeof window!="undefined")n=window;if(!e&&typeof acequirejs!=="undefined")return;var s=function(e,t,n){if(typeof e!=="string"){if(s.original)s.original.apply(this,arguments);else{console.error("dropping module because define wasn't a string.");console.trace()}return}if(arguments.length==2)n=t;if(!s.modules[e]){s.payloads[e]=n;s.modules[e]=null}};s.modules={};s.payloads={};var l=function(e,t,n){if(typeof t==="string"){var i=h(e,t);if(i!=undefined){n&&n();return i}}else if(Object.prototype.toString.call(t)==="[object Array]"){var r=[];for(var a=0,o=t.length;a<o;++a){var s=h(e,t[a]);if(s==undefined&&c.original)return;r.push(s)}return n&&n.apply(null,r)||true}};var c=function(e,t){var n=l("",e,t);if(n==undefined&&c.original)return c.original.apply(this,arguments);return n};var u=function(e,t){if(t.indexOf("!")!==-1){var n=t.split("!");return u(e,n[0])+"!"+u(e,n[1])}if(t.charAt(0)=="."){var i=e.split("/").slice(0,-1).join("/");t=i+"/"+t;while(t.indexOf(".")!==-1&&r!=t){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t};var h=function(e,n){n=u(e,n);var t=s.modules[n];if(!t){t=s.payloads[n];if(typeof t==="function"){var i={};var r={id:n,uri:"",exports:i,packaged:true};var a=function(e,t){return l(n,e,t)};var o=t(a,i,r);i=o||r.exports;s.modules[n]=i;delete s.payloads[n]}t=s.modules[n]=i||t}return t};function t(e){var t=n;if(e){if(!n[e])n[e]={};t=n[e]}if(!t.define||!t.define.packaged){s.original=t.define;t.define=s;t.define.packaged=true}if(!t.acequire||!t.acequire.packaged){c.original=t.acequire;t.acequire=c;t.acequire.packaged=true}}t(e)})();ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";var a={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=a.exec.call(/()??/,"")[1]===undefined,s=function(){var e=/^/g;a.test.call(e,"");return!e.lastIndex}();if(s&&o)return;RegExp.prototype.exec=function(e){var t=a.exec.apply(this,arguments),n,i;if(typeof e=="string"&&t){if(!o&&t.length>1&&c(t,"")>-1){i=RegExp(this.source,a.replace.call(l(this),"g",""));a.replace.call(e.slice(t.index),i,function(){for(var e=1;e<arguments.length-2;e++){if(arguments[e]===undefined)t[e]=undefined}})}if(this._xregexp&&this._xregexp.captureNames){for(var r=1;r<t.length;r++){n=this._xregexp.captureNames[r-1];if(n)t[n]=t[r]}}if(!s&&this.global&&!t[0].length&&this.lastIndex>t.index)this.lastIndex--}return t};if(!s){RegExp.prototype.test=function(e){var t=a.exec.call(this,e);if(t&&this.global&&!t[0].length&&this.lastIndex>t.index)this.lastIndex--;return!!t}}function l(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function c(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++){if(e[i]===t)return i}return-1}});ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function a(){}if(!Function.prototype.bind){Function.prototype.bind=function e(t){var n=this;if(typeof n!="function"){throw new TypeError("Function.prototype.bind called on incompatible "+n)}var i=f.call(arguments,1);var r=function(){if(this instanceof r){var e=n.apply(this,i.concat(f.call(arguments)));if(Object(e)===e){return e}return this}else{return n.apply(t,i.concat(f.call(arguments)))}};if(n.prototype){a.prototype=n.prototype;r.prototype=new a;a.prototype=null}return r}}var i=Function.prototype.call;var r=Array.prototype;var s=Object.prototype;var f=r.slice;var c=i.bind(s.toString);var l=i.bind(s.hasOwnProperty);var o;var u;var h;var d;var p;if(p=l(s,"__defineGetter__")){o=i.bind(s.__defineGetter__);u=i.bind(s.__defineSetter__);h=i.bind(s.__lookupGetter__);d=i.bind(s.__lookupSetter__)}if([1,2].splice(0).length!=2){if(function(){function e(e){var t=new Array(e+2);t[0]=t[1]=0;return t}var t=[],n;t.splice.apply(t,e(20));t.splice.apply(t,e(26));n=t.length;t.splice(5,0,"XXX");n+1==t.length;if(n+1==t.length){return true}}()){var m=Array.prototype.splice;Array.prototype.splice=function(e,t){if(!arguments.length){return[]}else{return m.apply(this,[e===void 0?0:e,t===void 0?this.length-e:t].concat(f.call(arguments,2)))}}}else{Array.prototype.splice=function(e,t){var n=this.length;if(e>0){if(e>n)e=n}else if(e==void 0){e=0}else if(e<0){e=Math.max(n+e,0)}if(!(e+t<n))t=n-e;var i=this.slice(e,e+t);var r=f.call(arguments,2);var a=r.length;if(e===n){if(a){this.push.apply(this,r)}}else{var o=Math.min(t,n-e);var s=e+o;var l=s+a-o;var c=n-s;var u=n-o;if(l<s){for(var h=0;h<c;++h){this[l+h]=this[s+h]}}else if(l>s){for(h=c;h--;){this[l+h]=this[s+h]}}if(a&&e===u){this.length=u;this.push.apply(this,r)}else{this.length=u+a;for(h=0;h<a;++h){this[e+h]=r[h]}}}return i}}}if(!Array.isArray){Array.isArray=function e(t){return c(t)=="[object Array]"}}var g=Object("a"),v=g[0]!="a"||!(0 in g);if(!Array.prototype.forEach){Array.prototype.forEach=function e(t){var n=O(this),i=v&&c(this)=="[object String]"?this.split(""):n,r=arguments[1],a=-1,o=i.length>>>0;if(c(t)!="[object Function]"){throw new TypeError}while(++a<o){if(a in i){t.call(r,i[a],a,n)}}}}if(!Array.prototype.map){Array.prototype.map=function e(t){var n=O(this),i=v&&c(this)=="[object String]"?this.split(""):n,r=i.length>>>0,a=Array(r),o=arguments[1];if(c(t)!="[object Function]"){throw new TypeError(t+" is not a function")}for(var s=0;s<r;s++){if(s in i)a[s]=t.call(o,i[s],s,n)}return a}}if(!Array.prototype.filter){Array.prototype.filter=function e(t){var n=O(this),i=v&&c(this)=="[object String]"?this.split(""):n,r=i.length>>>0,a=[],o,s=arguments[1];if(c(t)!="[object Function]"){throw new TypeError(t+" is not a function")}for(var l=0;l<r;l++){if(l in i){o=i[l];if(t.call(s,o,l,n)){a.push(o)}}}return a}}if(!Array.prototype.every){Array.prototype.every=function e(t){var n=O(this),i=v&&c(this)=="[object String]"?this.split(""):n,r=i.length>>>0,a=arguments[1];if(c(t)!="[object Function]"){throw new TypeError(t+" is not a function")}for(var o=0;o<r;o++){if(o in i&&!t.call(a,i[o],o,n)){return false}}return true}}if(!Array.prototype.some){Array.prototype.some=function e(t){var n=O(this),i=v&&c(this)=="[object String]"?this.split(""):n,r=i.length>>>0,a=arguments[1];if(c(t)!="[object Function]"){throw new TypeError(t+" is not a function")}for(var o=0;o<r;o++){if(o in i&&t.call(a,i[o],o,n)){return true}}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function e(t){var n=O(this),i=v&&c(this)=="[object String]"?this.split(""):n,r=i.length>>>0;if(c(t)!="[object Function]"){throw new TypeError(t+" is not a function")}if(!r&&arguments.length==1){throw new TypeError("reduce of empty array with no initial value")}var a=0;var o;if(arguments.length>=2){o=arguments[1]}else{do{if(a in i){o=i[a++];break}if(++a>=r){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;a<r;a++){if(a in i){o=t.call(void 0,o,i[a],a,n)}}return o}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function e(t){var n=O(this),i=v&&c(this)=="[object String]"?this.split(""):n,r=i.length>>>0;if(c(t)!="[object Function]"){throw new TypeError(t+" is not a function")}if(!r&&arguments.length==1){throw new TypeError("reduceRight of empty array with no initial value")}var a,o=r-1;if(arguments.length>=2){a=arguments[1]}else{do{if(o in i){a=i[o--];break}if(--o<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}do{if(o in this){a=t.call(void 0,a,i[o],o,n)}}while(o--);return a}}if(!Array.prototype.indexOf||[0,1].indexOf(1,2)!=-1){Array.prototype.indexOf=function e(t){var n=v&&c(this)=="[object String]"?this.split(""):O(this),i=n.length>>>0;if(!i){return-1}var r=0;if(arguments.length>1){r=P(arguments[1])}r=r>=0?r:Math.max(0,i+r);for(;r<i;r++){if(r in n&&n[r]===t){return r}}return-1}}if(!Array.prototype.lastIndexOf||[0,1].lastIndexOf(0,-3)!=-1){Array.prototype.lastIndexOf=function e(t){var n=v&&c(this)=="[object String]"?this.split(""):O(this),i=n.length>>>0;if(!i){return-1}var r=i-1;if(arguments.length>1){r=Math.min(r,P(arguments[1]))}r=r>=0?r:i-Math.abs(r);for(;r>=0;r--){if(r in n&&t===n[r]){return r}}return-1}}if(!Object.getPrototypeOf){Object.getPrototypeOf=function e(t){return t.__proto__||(t.constructor?t.constructor.prototype:s)}}if(!Object.getOwnPropertyDescriptor){var b="Object.getOwnPropertyDescriptor called on a "+"non-object: ";Object.getOwnPropertyDescriptor=function e(t,n){if(typeof t!="object"&&typeof t!="function"||t===null)throw new TypeError(b+t);if(!l(t,n))return;var i,r,a;i={enumerable:true,configurable:true};if(p){var o=t.__proto__;t.__proto__=s;var r=h(t,n);var a=d(t,n);t.__proto__=o;if(r||a){if(r)i.get=r;if(a)i.set=a;return i}}i.value=t[n];return i}}if(!Object.getOwnPropertyNames){Object.getOwnPropertyNames=function e(t){return Object.keys(t)}}if(!Object.create){var y;if(Object.prototype.__proto__===null){y=function(){return{__proto__:null}}}else{y=function(){var e={};for(var t in e)e[t]=null;e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null;return e}}Object.create=function e(t,n){var i;if(t===null){i=y()}else{if(typeof t!="object")throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t;i=new r;i.__proto__=t}if(n!==void 0)Object.defineProperties(i,n);return i}}function x(e){try{Object.defineProperty(e,"sentinel",{});return"sentinel"in e}catch(e){}}if(Object.defineProperty){var w=x({});var _=typeof document=="undefined"||x(document.createElement("div"));if(!w||!_){var E=Object.defineProperty}}if(!Object.defineProperty||E){var A="Property description must be an object: ";var C="Object.defineProperty called on non-object: ";var S="getters & setters can not be defined "+"on this javascript engine";Object.defineProperty=function e(t,n,i){if(typeof t!="object"&&typeof t!="function"||t===null)throw new TypeError(C+t);if(typeof i!="object"&&typeof i!="function"||i===null)throw new TypeError(A+i);if(E){try{return E.call(Object,t,n,i)}catch(e){}}if(l(i,"value")){if(p&&(h(t,n)||d(t,n))){var r=t.__proto__;t.__proto__=s;delete t[n];t[n]=i.value;t.__proto__=r}else{t[n]=i.value}}else{if(!p)throw new TypeError(S);if(l(i,"get"))o(t,n,i.get);if(l(i,"set"))u(t,n,i.set)}return t}}if(!Object.defineProperties){Object.defineProperties=function e(t,n){for(var i in n){if(l(n,i))Object.defineProperty(t,i,n[i])}return t}}if(!Object.seal){Object.seal=function e(t){return t}}if(!Object.freeze){Object.freeze=function e(t){return t}}try{Object.freeze(function(){})}catch(e){Object.freeze=function e(n){return function e(t){if(typeof t=="function"){return t}else{return n(t)}}}(Object.freeze)}if(!Object.preventExtensions){Object.preventExtensions=function e(t){return t}}if(!Object.isSealed){Object.isSealed=function e(t){return false}}if(!Object.isFrozen){Object.isFrozen=function e(t){return false}}if(!Object.isExtensible){Object.isExtensible=function e(t){if(Object(t)===t){throw new TypeError}var n="";while(l(t,n)){n+="?"}t[n]=true;var i=l(t,n);delete t[n];return i}}if(!Object.keys){var T=true,M=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],k=M.length;for(var D in{toString:null}){T=false}Object.keys=function e(t){if(typeof t!="object"&&typeof t!="function"||t===null){throw new TypeError("Object.keys called on a non-object")}var e=[];for(var n in t){if(l(t,n)){e.push(n)}}if(T){for(var i=0,r=k;i<r;i++){var a=M[i];if(l(t,a)){e.push(a)}}}return e}}if(!Date.now){Date.now=function e(){return(new Date).getTime()}}var L="\t\n\v\f\r "+"\u2028"+"\u2029\ufeff";if(!String.prototype.trim||L.trim()){L="["+L+"]";var R=new RegExp("^"+L+L+"*"),F=new RegExp(L+L+"*$");String.prototype.trim=function e(){return String(this).replace(R,"").replace(F,"")}}function P(e){e=+e;if(e!==e){e=0}else if(e!==0&&e!==1/0&&e!==-(1/0)){e=(e>0||-1)*Math.floor(Math.abs(e))}return e}function I(e){var t=typeof e;return e===null||t==="undefined"||t==="boolean"||t==="number"||t==="string"}function N(e){var t,n,i;if(I(e)){return e}n=e.valueOf;if(typeof n==="function"){t=n.call(e);if(I(t)){return t}}i=e.toString;if(typeof i==="function"){t=i.call(e);if(I(t)){return t}}throw new TypeError}var O=function(e){if(e==null){throw new TypeError("can't convert "+e+" to object")}return Object(e)}});ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp");e("./es5-shim")});ace.define("ace/lib/dom",["require","exports","module"],function(e,s,t){"use strict";var n="http://www.w3.org/1999/xhtml";s.getDocumentHead=function(e){if(!e)e=document;return e.head||e.getElementsByTagName("head")[0]||e.documentElement};s.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)};s.hasCssClass=function(e,t){var n=(e.className+"").split(/\s+/g);return n.indexOf(t)!==-1};s.addCssClass=function(e,t){if(!s.hasCssClass(e,t)){e.className+=" "+t}};s.removeCssClass=function(e,t){var n=e.className.split(/\s+/g);while(true){var i=n.indexOf(t);if(i==-1){break}n.splice(i,1)}e.className=n.join(" ")};s.toggleCssClass=function(e,t){var n=e.className.split(/\s+/g),i=true;while(true){var r=n.indexOf(t);if(r==-1){break}i=false;n.splice(r,1)}if(i)n.push(t);e.className=n.join(" ");return i};s.setCssClass=function(e,t,n){if(n){s.addCssClass(e,t)}else{s.removeCssClass(e,t)}};s.hasCssString=function(e,t){var n=0,i;t=t||document;if(t.createStyleSheet&&(i=t.styleSheets)){while(n<i.length)if(i[n++].owningElement.id===e)return true}else if(i=t.getElementsByTagName("style")){while(n<i.length)if(i[n++].id===e)return true}return false};s.importCssString=function e(t,n,i){i=i||document;if(n&&s.hasCssString(n,i))return null;var r;if(n)t+="\n/*# sourceURL=ace/css/"+n+" */";if(i.createStyleSheet){r=i.createStyleSheet();r.cssText=t;if(n)r.owningElement.id=n}else{r=s.createElement("style");r.appendChild(i.createTextNode(t));if(n)r.id=n;s.getDocumentHead(i).appendChild(r)}};s.importCssStylsheet=function(e,t){if(t.createStyleSheet){t.createStyleSheet(e)}else{var n=s.createElement("link");n.rel="stylesheet";n.href=e;s.getDocumentHead(t).appendChild(n)}};s.getInnerWidth=function(e){return parseInt(s.computedStyle(e,"paddingLeft"),10)+parseInt(s.computedStyle(e,"paddingRight"),10)+e.clientWidth};s.getInnerHeight=function(e){return parseInt(s.computedStyle(e,"paddingTop"),10)+parseInt(s.computedStyle(e,"paddingBottom"),10)+e.clientHeight};s.scrollbarWidth=function(e){var t=s.createElement("ace_inner");t.style.width="100%";t.style.minWidth="0px";t.style.height="200px";t.style.display="block";var n=s.createElement("ace_outer");var i=n.style;i.position="absolute";i.left="-10000px";i.overflow="hidden";i.width="200px";i.minWidth="0px";i.height="150px";i.display="block";n.appendChild(t);var r=e.documentElement;r.appendChild(n);var a=t.offsetWidth;i.overflow="scroll";var o=t.offsetWidth;if(a==o){o=n.clientWidth}r.removeChild(n);return a-o};if(typeof document=="undefined"){s.importCssString=function(){};return}if(window.pageYOffset!==undefined){s.getPageScrollTop=function(){return window.pageYOffset};s.getPageScrollLeft=function(){return window.pageXOffset}}else{s.getPageScrollTop=function(){return document.body.scrollTop};s.getPageScrollLeft=function(){return document.body.scrollLeft}}if(window.getComputedStyle)s.computedStyle=function(e,t){if(t)return(window.getComputedStyle(e,"")||{})[t]||"";return window.getComputedStyle(e,"")||{}};else s.computedStyle=function(e,t){if(t)return e.currentStyle[t];return e.currentStyle};s.setInnerHtml=function(e,t){var n=e.cloneNode(false);n.innerHTML=t;e.parentNode.replaceChild(n,e);return n};if("textContent"in document.documentElement){s.setInnerText=function(e,t){e.textContent=t};s.getInnerText=function(e){return e.textContent}}else{s.setInnerText=function(e,t){e.innerText=t};s.getInnerText=function(e){return e.innerText}}s.getParentWindow=function(e){return e.defaultView||e.parentWindow}});ace.define("ace/lib/oop",["require","exports","module"],function(e,n,t){"use strict";n.inherits=function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})};n.mixin=function(e,t){for(var n in t){e[n]=t[n]}return e};n.implement=function(e,t){n.mixin(e,t)}});ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,n){"use strict";e("./fixoldbrowsers");var i=e("./oop");var r=function(){var n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};var e,t;for(t in n.FUNCTION_KEYS){e=n.FUNCTION_KEYS[t].toLowerCase();n[e]=parseInt(t,10)}for(t in n.PRINTABLE_KEYS){e=n.PRINTABLE_KEYS[t].toLowerCase();n[e]=parseInt(t,10)}i.mixin(n,n.MODIFIER_KEYS);i.mixin(n,n.PRINTABLE_KEYS);i.mixin(n,n.FUNCTION_KEYS);n.enter=n["return"];n.escape=n.esc;n.del=n["delete"];n[173]="-";(function(){var e=["cmd","ctrl","alt","shift"];for(var t=Math.pow(2,e.length);t--;){n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}})();n.KEY_MODS[0]="";n.KEY_MODS[-1]="input-";return n}();i.mixin(t,r);t.keyCodeToString=function(e){var t=r[e];if(typeof t!="string")t=String.fromCharCode(e);return t.toLowerCase()}});ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};t.getOS=function(){if(t.isMac){return t.OS.MAC}else if(t.isLinux){return t.OS.LINUX}else{return t.OS.WINDOWS}};if(typeof navigator!="object")return;var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase();var r=navigator.userAgent;t.isWin=i=="win";t.isMac=i=="mac";t.isLinux=i=="linux";t.isIE=navigator.appName=="Microsoft Internet Explorer"||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]);t.isOldIE=t.isIE&&t.isIE<9;t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&window.navigator.product==="Gecko";t.isOldGecko=t.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4;t.isOpera=window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]";t.isWebKit=parseFloat(r.split("WebKit/")[1])||undefined;t.isChrome=parseFloat(r.split(" Chrome/")[1])||undefined;t.isAIR=r.indexOf("AdobeAIR")>=0;t.isIPad=r.indexOf("iPad")>=0;t.isChromeOS=r.indexOf(" CrOS ")>=0;t.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream;if(t.isIOS)t.isMac=true});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,h,t){"use strict";var o=e("./keys");var f=e("./useragent");var s=null;var l=0;h.addListener=function(e,t,n){if(e.addEventListener){return e.addEventListener(t,n,false)}if(e.attachEvent){var i=function(){n.call(e,window.event)};n._wrapper=i;e.attachEvent("on"+t,i)}};h.removeListener=function(e,t,n){if(e.removeEventListener){return e.removeEventListener(t,n,false)}if(e.detachEvent){e.detachEvent("on"+t,n._wrapper||n)}};h.stopEvent=function(e){h.stopPropagation(e);h.preventDefault(e);return false};h.stopPropagation=function(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true};h.preventDefault=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false};h.getButton=function(e){if(e.type=="dblclick")return 0;if(e.type=="contextmenu"||f.isMac&&(e.ctrlKey&&!e.altKey&&!e.shiftKey))return 2;if(e.preventDefault){return e.button}else{return{1:0,2:2,4:1}[e.button]}};h.capture=function(e,t,n){function i(e){t&&t(e);n&&n(e);h.removeListener(document,"mousemove",t,true);h.removeListener(document,"mouseup",i,true);h.removeListener(document,"dragstart",i,true)}h.addListener(document,"mousemove",t,true);h.addListener(document,"mouseup",i,true);h.addListener(document,"dragstart",i,true);return i};h.addTouchMoveListener=function(e,i){var r,a;h.addListener(e,"touchstart",function(e){var t=e.touches;var n=t[0];r=n.clientX;a=n.clientY});h.addListener(e,"touchmove",function(e){var t=e.touches;if(t.length>1)return;var n=t[0];e.wheelX=r-n.clientX;e.wheelY=a-n.clientY;r=n.clientX;a=n.clientY;i(e)})};h.addMouseWheelListener=function(e,n){if("onmousewheel"in e){h.addListener(e,"mousewheel",function(e){var t=8;if(e.wheelDeltaX!==undefined){e.wheelX=-e.wheelDeltaX/t;e.wheelY=-e.wheelDeltaY/t}else{e.wheelX=0;e.wheelY=-e.wheelDelta/t}n(e)})}else if("onwheel"in e){h.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0;e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=(e.deltaX||0)*5;e.wheelY=(e.deltaY||0)*5;break}n(e)})}else{h.addListener(e,"DOMMouseScroll",function(e){if(e.axis&&e.axis==e.HORIZONTAL_AXIS){e.wheelX=(e.detail||0)*5;e.wheelY=0}else{e.wheelX=0;e.wheelY=(e.detail||0)*5}n(e)})}};h.addMultiMouseDownListener=function(e,n,i,r){var a=0;var o,s,l;var c={2:"dblclick",3:"tripleclick",4:"quadclick"};function t(e){if(h.getButton(e)!==0){a=0}else if(e.detail>1){a++;if(a>4)a=1}else{a=1}if(f.isIE){var t=Math.abs(e.clientX-o)>5||Math.abs(e.clientY-s)>5;if(!l||t)a=1;if(l)clearTimeout(l);l=setTimeout(function(){l=null},n[a-1]||600);if(a==1){o=e.clientX;s=e.clientY}}e._clicks=a;i[r]("mousedown",e);if(a>4)a=0;else if(a>1)return i[r](c[a],e)}function u(e){a=2;if(l)clearTimeout(l);l=setTimeout(function(){l=null},n[a-1]||600);i[r]("mousedown",e);i[r](c[a],e)}if(!Array.isArray(e))e=[e];e.forEach(function(e){h.addListener(e,"mousedown",t);if(f.isOldIE)h.addListener(e,"dblclick",u)})};var c=f.isMac&&f.isOpera&&!("KeyboardEvent"in window)?function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)}:function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};h.getModifierString=function(e){return o.KEY_MODS[c(e)]};function a(e,t,n){var i=c(t);if(!f.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win")))i|=8;if(s.altGr){if((3&i)!=3)s.altGr=0;else return}if(n===18||n===17){var r="location"in t?t.location:t.keyLocation;if(n===17&&r===1){if(s[n]==1)l=t.timeStamp}else if(n===18&&i===3&&r===2){var a=t.timeStamp-l;if(a<50)s.altGr=true}}}if(n in o.MODIFIER_KEYS){n=-1}if(i&8&&(n>=91&&n<=93)){n=-1}if(!i&&n===13){var r="location"in t?t.location:t.keyLocation;if(r===3){e(t,i,-n);if(t.defaultPrevented)return}}if(f.isChromeOS&&i&8){e(t,i,n);if(t.defaultPrevented)return;else i&=~8}if(!i&&!(n in o.FUNCTION_KEYS)&&!(n in o.PRINTABLE_KEYS)){return false}return e(t,i,n)}h.addCommandKeyListener=function(e,n){var t=h.addListener;if(f.isOldGecko||f.isOpera&&!("KeyboardEvent"in window)){var i=null;t(e,"keydown",function(e){i=e.keyCode});t(e,"keypress",function(e){return a(n,e,i)})}else{var r=null;t(e,"keydown",function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=a(n,e,e.keyCode);r=e.defaultPrevented;return t});t(e,"keypress",function(e){if(r&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)){h.stopEvent(e);r=null}});t(e,"keyup",function(e){s[e.keyCode]=null});if(!s){u();t(window,"focus",u)}}};function u(){s=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!f.isOldIE){var d=1;h.nextTick=function(n,i){i=i||window;var r="zero-timeout-message-"+d;h.addListener(i,"message",function e(t){if(t.data==r){h.stopPropagation(t);h.removeListener(i,"message",e);n()}});i.postMessage(r,"*")}}h.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);if(h.nextFrame)h.nextFrame=h.nextFrame.bind(window);else h.nextFrame=function(e){setTimeout(e,17)}});ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]};t.stringReverse=function(e){return e.split("").reverse().join("")};t.stringRepeat=function(e,t){var n="";while(t>0){if(t&1)n+=e;if(t>>=1)e+=e}return n};var i=/^\s\s*/;var r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")};t.stringTrimRight=function(e){return e.replace(r,"")};t.copyObject=function(e){var t={};for(var n in e){t[n]=e[n]}return t};t.copyArray=function(e){var t=[];for(var n=0,i=e.length;n<i;n++){if(e[n]&&typeof e[n]=="object")t[n]=this.copyObject(e[n]);else t[n]=e[n]}return t};t.deepCopy=function e(t){if(typeof t!=="object"||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++){n[i]=e(t[i])}return n}if(Object.prototype.toString.call(t)!=="[object Object]")return t;n={};for(var i in t)n[i]=e(t[i]);return n};t.arrayToMap=function(e){var t={};for(var n=0;n<e.length;n++){t[e[n]]=1}return t};t.createMap=function(e){var t=Object.create(null);for(var n in e){t[n]=e[n]}return t};t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++){if(t===e[n]){e.splice(n,1)}}};t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};t.getMatchOffsets=function(e,t){var n=[];e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})});return n};t.deferredCall=function(e){var t=null;var n=function(){t=null;e()};var i=function(e){i.cancel();t=setTimeout(n,e||0);return i};i.schedule=i;i.call=function(){this.cancel();e();return i};i.cancel=function(){clearTimeout(t);t=null;return i};i.isPending=function(){return t};return i};t.delayedCall=function(e,t){var n=null;var i=function(){n=null;e()};var r=function(e){if(n==null)n=setTimeout(i,e||t)};r.delay=function(e){n&&clearTimeout(n);n=setTimeout(i,e||t)};r.schedule=r;r.call=function(){this.cancel();e()};r.cancel=function(){n&&clearTimeout(n);n=null};r.isPending=function(){return n};return r}});ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(e,t,n){"use strict";var O=e("../lib/event");var B=e("../lib/useragent");var z=e("../lib/dom");var U=e("../lib/lang");var H=e("../lib/keys");var j=H.KEY_MODS;var $=B.isChrome<18;var W=B.isIE;var i=function(e,l){var t=this;var c=z.createElement("textarea");c.className=B.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";if(B.isTouchPad)c.setAttribute("x-palm-disable-auto-cap",true);c.setAttribute("wrap","off");c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");c.setAttribute("spellcheck",false);c.style.opacity="0";e.insertBefore(c,e.firstChild);var n="\n aaaa a\n";var i=false;var r=false;var a=false;var o=false;var u="";var s=true;try{var h=document.activeElement===c}catch(e){}O.addListener(c,"blur",function(e){l.onBlur(e);h=false});O.addListener(c,"focus",function(e){h=true;l.onFocus(e);p()});this.focus=function(){if(u)return c.focus();c.style.position="fixed";c.focus()};this.blur=function(){c.blur()};this.isFocused=function(){return h};var f=U.delayedCall(function(){h&&p(s)});var d=U.delayedCall(function(){if(!o){c.value=n;h&&p()}});function p(e){if(o)return;o=true;if(b){t=0;n=e?0:c.value.length-1}else{var t=4;var n=5}try{c.setSelectionRange(t,n)}catch(e){}o=false}function m(){if(o)return;c.value=n;if(B.isWebKit)d.schedule()}B.isWebKit||l.addEventListener("changeSelection",function(){if(l.selection.isEmpty()!=s){s=!s;f.schedule()}});m();if(h)l.onFocus();var g=function(e){return e.selectionStart===0&&e.selectionEnd===e.value.length};var v=function(e){if(g(c)){l.selectAll();p()}else if(b){p(l.selection.isEmpty())}};var b=null;this.setInputHandler=function(e){b=e};this.getInputHandler=function(){return b};var y=false;var x=function(e){if(c.selectionStart===4&&c.selectionEnd===5){return}if(b){e=b(e);b=null}if(a){p();if(e)l.onPaste(e);a=false}else if(e==n.substr(0)&&c.selectionStart===4){if(y)l.execCommand("del",{source:"ace"});else l.execCommand("backspace",{source:"ace"})}else if(!i){if(e.substring(0,9)==n&&e.length>n.length)e=e.substr(9);else if(e.substr(0,4)==n.substr(0,4))e=e.substr(4,e.length-n.length+1);else if(e.charAt(e.length-1)==n.charAt(0))e=e.slice(0,-1);if(e==n.charAt(0)){}else if(e.charAt(e.length-1)==n.charAt(0))e=e.slice(0,-1);if(e)l.onTextInput(e)}if(i){i=false}if(y)y=false};var w=function(e){if(o)return;var t=c.value;x(t);m()};var _=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(!i||$)return;var r=W||n?"Text":"text/plain";try{if(t){return i.setData(r,t)!==false}else{return i.getData(r)}}catch(e){if(!n)return _(e,t,true)}};var E=function(e,t){var n=l.getCopyText();if(!n)return O.preventDefault(e);if(_(e,n)){if(B.isIOS){r=t;c.value="\n aa"+n+"a a\n";c.setSelectionRange(4,4+n.length);i={value:n}}t?l.onCut():l.onCopy();if(!B.isIOS)O.preventDefault(e)}else{i=true;c.value=n;c.select();setTimeout(function(){i=false;m();p();t?l.onCut():l.onCopy()})}};var A=function(e){E(e,true)};var C=function(e){E(e,false)};var S=function(e){var t=_(e);if(typeof t=="string"){if(t)l.onPaste(t,e);if(B.isIE)setTimeout(p);O.preventDefault(e)}else{c.value="";a=true}};O.addCommandKeyListener(c,l.onCommandKey.bind(l));O.addListener(c,"select",v);O.addListener(c,"input",w);O.addListener(c,"cut",A);O.addListener(c,"copy",C);O.addListener(c,"paste",S);var T=function(e){if(o||!l.onCompositionStart||l.$readOnly)return;o={};o.canUndo=l.session.$undoManager;l.onCompositionStart();setTimeout(M,0);l.on("mousedown",k);if(o.canUndo&&!l.selection.isEmpty()){l.insert("");l.session.markUndoGroup();l.selection.clearSelection()}l.session.markUndoGroup()};var M=function(){if(!o||!l.onCompositionUpdate||l.$readOnly)return;var e=c.value.replace(/\x01/g,"");if(o.lastValue===e)return;l.onCompositionUpdate(e);if(o.lastValue)l.undo();if(o.canUndo)o.lastValue=e;if(o.lastValue){var t=l.selection.getRange();l.insert(o.lastValue);l.session.markUndoGroup();o.range=l.selection.getRange();l.selection.setRange(t);l.selection.clearSelection()}};var k=function(e){if(!l.onCompositionEnd||l.$readOnly)return;var n=o;o=false;var i=setTimeout(function(){i=null;var e=c.value.replace(/\x01/g,"");if(o)return;else if(e==n.lastValue)m();else if(!n.lastValue&&e){m();x(e)}});b=function e(t){if(i)clearTimeout(i);t=t.replace(/\x01/g,"");if(t==n.lastValue)return"";if(n.lastValue&&i)l.undo();return t};l.onCompositionEnd();l.removeListener("mousedown",k);if(e.type=="compositionend"&&n.range){l.selection.setRange(n.range)}var t=!!B.isChrome&&B.isChrome>=53||!!B.isWebKit&&B.isWebKit>=603;if(t){w()}};var D=U.delayedCall(M,50);O.addListener(c,"compositionstart",T);if(B.isGecko){O.addListener(c,"text",function(){D.schedule()})}else{O.addListener(c,"keyup",function(){D.schedule()});O.addListener(c,"keydown",function(){D.schedule()})}O.addListener(c,"compositionend",k);this.getElement=function(){return c};this.setReadOnly=function(e){c.readOnly=e};this.onContextMenu=function(e){y=true;p(l.selection.isEmpty());l._emit("nativecontextmenu",{target:l,domEvent:e});this.moveToMouse(e,true)};this.moveToMouse=function(e,t){if(!u)u=c.style.cssText;c.style.cssText=(t?"z-index:100000;":"")+"height:"+c.style.height+";"+(B.isIE?"opacity:0.1;":"");var n=l.container.getBoundingClientRect();var i=z.computedStyle(l.container);var r=n.top+(parseInt(i.borderTopWidth)||0);var a=n.left+(parseInt(n.borderLeftWidth)||0);var o=n.bottom-r-c.clientHeight-2;var s=function(e){c.style.left=e.clientX-a-2+"px";c.style.top=Math.min(e.clientY-r-2,o)+"px"};s(e);if(e.type!="mousedown")return;if(l.renderer.$keepTextAreaAtCursor)l.renderer.$keepTextAreaAtCursor=null;clearTimeout(L);if(B.isWin)O.capture(l.container,s,R)};this.onContextMenuClose=R;var L;function R(){clearTimeout(L);L=setTimeout(function(){if(u){c.style.cssText=u;u=""}if(l.renderer.$keepTextAreaAtCursor==null){l.renderer.$keepTextAreaAtCursor=true;l.renderer.$moveTextAreaToCursor()}},0)}var F=function(e){l.textInput.onContextMenu(e);R()};O.addListener(c,"mouseup",F);O.addListener(c,"mousedown",function(e){e.preventDefault();R()});O.addListener(l.renderer.scroller,"contextmenu",F);O.addListener(c,"contextmenu",F);if(B.isIOS){var P=null;var I=false;e.addEventListener("keydown",function(e){if(P)clearTimeout(P);I=true});e.addEventListener("keyup",function(e){P=setTimeout(function(){I=false},100)});var N=function(e){if(document.activeElement!==c)return;if(I)return;if(r){return setTimeout(function(){r=false},100)}var t=c.selectionStart;var n=c.selectionEnd;c.setSelectionRange(4,5);if(t==n){switch(t){case 0:l.onCommandKey(null,0,H.up);break;case 1:l.onCommandKey(null,0,H.home);break;case 2:l.onCommandKey(null,j.option,H.left);break;case 4:l.onCommandKey(null,0,H.left);break;case 5:l.onCommandKey(null,0,H.right);break;case 7:l.onCommandKey(null,j.option,H.right);break;case 8:l.onCommandKey(null,0,H.end);break;case 9:l.onCommandKey(null,0,H.down);break}}else{switch(n){case 6:l.onCommandKey(null,j.shift,H.right);break;case 7:l.onCommandKey(null,j.shift|j.option,H.right);break;case 8:l.onCommandKey(null,j.shift,H.end);break;case 9:l.onCommandKey(null,j.shift,H.down);break}switch(t){case 0:l.onCommandKey(null,j.shift,H.up);break;case 1:l.onCommandKey(null,j.shift,H.home);break;case 2:l.onCommandKey(null,j.shift|j.option,H.left);break;case 3:l.onCommandKey(null,j.shift,H.left);break}}};document.addEventListener("selectionchange",N);l.on("destroy",function(){document.removeEventListener("selectionchange",N)})}};t.TextInput=i});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(e,t,n){"use strict";var R=e("../lib/event");var F=e("../lib/useragent");var P=e("../lib/dom");var I=e("../lib/lang");var N=F.isChrome<18;var O=F.isIE;var B=e("./textinput_ios").TextInput;var i=function(e,l){if(F.isIOS)return B.call(this,e,l);var c=P.createElement("textarea");c.className="ace_text-input";c.setAttribute("wrap","off");c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");c.setAttribute("spellcheck",false);c.style.opacity="0";e.insertBefore(c,e.firstChild);var t="\u2028\u2028";var i=false;var n=false;var r=false;var u="";var a=true;try{var o=document.activeElement===c}catch(e){}R.addListener(c,"blur",function(e){l.onBlur(e);o=false});R.addListener(c,"focus",function(e){o=true;l.onFocus(e);f()});this.focus=function(){if(u)return c.focus();var e=c.style.top;c.style.position="fixed";c.style.top="0px";c.focus();setTimeout(function(){c.style.position="";if(c.style.top=="0px")c.style.top=e},0)};this.blur=function(){c.blur()};this.isFocused=function(){return o};var s=I.delayedCall(function(){o&&f(a)});var h=I.delayedCall(function(){if(!r){c.value=t;o&&f()}});function f(e){if(r)return;r=true;if(g){var t=0;var n=e?0:c.value.length-1}else{var t=e?2:1;var n=2}try{c.setSelectionRange(t,n)}catch(e){}r=false}function d(){if(r)return;c.value=t;if(F.isWebKit)h.schedule()}F.isWebKit||l.addEventListener("changeSelection",function(){if(l.selection.isEmpty()!=a){a=!a;s.schedule()}});d();if(o)l.onFocus();var p=function(e){return e.selectionStart===0&&e.selectionEnd===e.value.length};var m=function(e){if(i){i=false}else if(p(c)){l.selectAll();f()}else if(g){f(l.selection.isEmpty())}};var g=null;this.setInputHandler=function(e){g=e};this.getInputHandler=function(){return g};var v=false;var b=function(e){if(g){e=g(e);g=null}if(n){f();if(e)l.onPaste(e);n=false}else if(e==t.charAt(0)){if(v)l.execCommand("del",{source:"ace"});else l.execCommand("backspace",{source:"ace"})}else{if(e.substring(0,2)==t)e=e.substr(2);else if(e.charAt(0)==t.charAt(0))e=e.substr(1);else if(e.charAt(e.length-1)==t.charAt(0))e=e.slice(0,-1);if(e.charAt(e.length-1)==t.charAt(0))e=e.slice(0,-1);if(e)l.onTextInput(e)}if(v)v=false};var y=function(e){if(r)return;var t=c.value;b(t);d()};var x=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(!i||N)return;var r=O||n?"Text":"text/plain";try{if(t){return i.setData(r,t)!==false}else{return i.getData(r)}}catch(e){if(!n)return x(e,t,true)}};var w=function(e,t){var n=l.getCopyText();if(!n)return R.preventDefault(e);if(x(e,n)){t?l.onCut():l.onCopy();R.preventDefault(e)}else{i=true;c.value=n;c.select();setTimeout(function(){i=false;d();f();t?l.onCut():l.onCopy()})}};var _=function(e){w(e,true)};var E=function(e){w(e,false)};var A=function(e){var t=x(e);if(typeof t=="string"){if(t)l.onPaste(t,e);if(F.isIE)setTimeout(f);R.preventDefault(e)}else{c.value="";n=true}};R.addCommandKeyListener(c,l.onCommandKey.bind(l));R.addListener(c,"select",m);R.addListener(c,"input",y);R.addListener(c,"cut",_);R.addListener(c,"copy",E);R.addListener(c,"paste",A);if(!("oncut"in c)||!("oncopy"in c)||!("onpaste"in c)){R.addListener(e,"keydown",function(e){if(F.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:E(e);break;case 86:A(e);break;case 88:_(e);break}})}var C=function(e){if(r||!l.onCompositionStart||l.$readOnly)return;r={};r.canUndo=l.session.$undoManager;l.onCompositionStart();setTimeout(S,0);l.on("mousedown",T);if(r.canUndo&&!l.selection.isEmpty()){l.insert("");l.session.markUndoGroup();l.selection.clearSelection()}l.session.markUndoGroup()};var S=function(){if(!r||!l.onCompositionUpdate||l.$readOnly)return;var e=c.value.replace(/\u2028/g,"");if(r.lastValue===e)return;l.onCompositionUpdate(e);if(r.lastValue)l.undo();if(r.canUndo)r.lastValue=e;if(r.lastValue){var t=l.selection.getRange();l.insert(r.lastValue);l.session.markUndoGroup();r.range=l.selection.getRange();l.selection.setRange(t);l.selection.clearSelection()}};var T=function(e){if(!l.onCompositionEnd||l.$readOnly)return;var n=r;r=false;var i=setTimeout(function(){i=null;var e=c.value.replace(/\u2028/g,"");if(r)return;else if(e==n.lastValue)d();else if(!n.lastValue&&e){d();b(e)}});g=function e(t){if(i)clearTimeout(i);t=t.replace(/\u2028/g,"");if(t==n.lastValue)return"";if(n.lastValue&&i)l.undo();return t};l.onCompositionEnd();l.removeListener("mousedown",T);if(e.type=="compositionend"&&n.range){l.selection.setRange(n.range)}var t=!!F.isChrome&&F.isChrome>=53||!!F.isWebKit&&F.isWebKit>=603;if(t){y()}};var M=I.delayedCall(S,50);R.addListener(c,"compositionstart",C);if(F.isGecko){R.addListener(c,"text",function(){M.schedule()})}else{R.addListener(c,"keyup",function(){M.schedule()});R.addListener(c,"keydown",function(){M.schedule()})}R.addListener(c,"compositionend",T);this.getElement=function(){return c};this.setReadOnly=function(e){c.readOnly=e};this.onContextMenu=function(e){v=true;f(l.selection.isEmpty());l._emit("nativecontextmenu",{target:l,domEvent:e});this.moveToMouse(e,true)};this.moveToMouse=function(e,t){if(!u)u=c.style.cssText;c.style.cssText=(t?"z-index:100000;":"")+"height:"+c.style.height+";"+(F.isIE?"opacity:0.1;":"");var n=l.container.getBoundingClientRect();var i=P.computedStyle(l.container);var r=n.top+(parseInt(i.borderTopWidth)||0);var a=n.left+(parseInt(n.borderLeftWidth)||0);var o=n.bottom-r-c.clientHeight-2;var s=function(e){c.style.left=e.clientX-a-2+"px";c.style.top=Math.min(e.clientY-r-2,o)+"px"};s(e);if(e.type!="mousedown")return;if(l.renderer.$keepTextAreaAtCursor)l.renderer.$keepTextAreaAtCursor=null;clearTimeout(k);if(F.isWin)R.capture(l.container,s,D)};this.onContextMenuClose=D;var k;function D(){clearTimeout(k);k=setTimeout(function(){if(u){c.style.cssText=u;u=""}if(l.renderer.$keepTextAreaAtCursor==null){l.renderer.$keepTextAreaAtCursor=true;l.renderer.$moveTextAreaToCursor()}},0)}var L=function(e){l.textInput.onContextMenu(e);D()};R.addListener(c,"mouseup",L);R.addListener(c,"mousedown",function(e){e.preventDefault();D()});R.addListener(l.renderer.scroller,"contextmenu",L);R.addListener(c,"contextmenu",L)};t.TextInput=i});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var i=e("../lib/dom");var r=e("../lib/event");var s=e("../lib/useragent");var a=0;var u=250;function o(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t));e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t));e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t));e.setDefaultHandler("quadclick",this.onQuadClick.bind(t));e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t));e.setDefaultHandler("touchmove",this.onTouchMove.bind(t));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(e){t[e]=this[e]},this);t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange");t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}(function(){this.onMouseDown=function(e){var t=e.inSelection();var n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor;var r=e.getButton();if(r!==0){var a=i.getSelectionRange();var o=a.isEmpty();i.$blockScrolling++;if(o||r==1)i.selection.moveToPosition(n);i.$blockScrolling--;if(r==2){i.textInput.onContextMenu(e.domEvent);if(!s.isMozilla)e.preventDefault()}return}this.mousedownEvent.time=Date.now();if(t&&!i.isFocused()){i.focus();if(this.$focusTimout&&!this.$clickSelection&&!i.inMultiSelectMode){this.setState("focusWait");this.captureMouse(e);return}}this.captureMouse(e);this.startSelect(n,e.domEvent._clicks>1);return e.preventDefault()};this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++;if(this.mousedownEvent.getShiftKey())n.selection.selectToPosition(e);else if(!t)n.selection.moveToPosition(e);if(!t)this.select();if(n.renderer.scroller.setCapture){n.renderer.scroller.setCapture()}n.setStyle("ace_selecting");this.setState("select");n.$blockScrolling--};this.select=function(){var e,t=this.editor;var n=t.renderer.screenToTextCoordinates(this.x,this.y);t.$blockScrolling++;if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(i==-1){e=this.$clickSelection.end}else if(i==1){e=this.$clickSelection.start}else{var r=c(this.$clickSelection,n);n=r.cursor;e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n);t.$blockScrolling--;t.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(e){var t,n=this.editor;var i=n.renderer.screenToTextCoordinates(this.x,this.y);var r=n.selection[e](i.row,i.column);n.$blockScrolling++;if(this.$clickSelection){var a=this.$clickSelection.comparePoint(r.start);var o=this.$clickSelection.comparePoint(r.end);if(a==-1&&o<=0){t=this.$clickSelection.end;if(r.end.row!=i.row||r.end.column!=i.column)i=r.start}else if(o==1&&a>=0){t=this.$clickSelection.start;if(r.start.row!=i.row||r.start.column!=i.column)i=r.end}else if(a==-1&&o==1){i=r.end;t=r.start}else{var s=c(this.$clickSelection,i);i=s.cursor;t=s.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i);n.$blockScrolling--;n.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");if(this.editor.renderer.scroller.releaseCapture){this.editor.renderer.scroller.releaseCapture()}};this.focusWait=function(){var e=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);var t=Date.now();if(e>a||t-this.mousedownEvent.time>this.$focusTimout)this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(e){var t=e.getDocumentPosition();var n=this.editor;var i=n.session;var r=i.getBracketRange(t);if(r){if(r.isEmpty()){r.start.column--;r.end.column++}this.setState("select")}else{r=n.selection.getWordRange(t.row,t.column);this.setState("selectByWords")}this.$clickSelection=r;this.select()};this.onTripleClick=function(e){var t=e.getDocumentPosition();var n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();if(i.isMultiLine()&&i.contains(t.row,t.column)){this.$clickSelection=n.selection.getLineRange(i.start.row);this.$clickSelection.end=n.selection.getLineRange(i.end.row).end}else{this.$clickSelection=n.selection.getLineRange(t.row)}this.select()};this.onQuadClick=function(e){var t=this.editor;t.selectAll();this.$clickSelection=t.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=function(e){if(e.getAccelKey())return;if(e.getShiftKey()&&e.wheelY&&!e.wheelX){e.wheelX=e.wheelY;e.wheelY=0}var t=this.editor;if(!this.$lastScroll)this.$lastScroll={t:0,vx:0,vy:0,allowed:0};var n=this.$lastScroll;var i=e.domEvent.timeStamp;var r=i-n.t;var a=e.wheelX/r;var o=e.wheelY/r;if(r<u){a=(a+n.vx)/2;o=(o+n.vy)/2}var s=Math.abs(a/o);var l=false;if(s>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0))l=true;if(s<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed))l=true;if(l){n.allowed=i}else if(i-n.allowed<u){var c=Math.abs(a)<=1.1*Math.abs(n.vx)&&Math.abs(o)<=1.1*Math.abs(n.vy);if(c){l=true;n.allowed=i}else{n.allowed=0}}n.t=i;n.vx=a;n.vy=o;if(l){t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed);return e.stop()}};this.onTouchMove=function(e){this.editor._emit("mousewheel",e)}}).call(o.prototype);t.DefaultHandlers=o;function l(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}function c(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var n=t.column-4;else var n=2*t.row-e.start.row-e.end.row;if(n<0)return{cursor:e.start,anchor:e.end};else return{cursor:e.end,anchor:e.start}}});ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";var i=e("./lib/oop");var r=e("./lib/dom");function a(e){this.isOpen=false;this.$element=null;this.$parentNode=e}(function(){this.$init=function(){this.$element=r.createElement("div");this.$element.className="ace_tooltip";this.$element.style.display="none";this.$parentNode.appendChild(this.$element);return this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(e){r.setInnerText(this.getElement(),e)};this.setHtml=function(e){this.getElement().innerHTML=e};this.setPosition=function(e,t){this.getElement().style.left=e+"px";this.getElement().style.top=t+"px"};this.setClassName=function(e){r.addCssClass(this.getElement(),e)};this.show=function(e,t,n){if(e!=null)this.setText(e);if(t!=null&&n!=null)this.setPosition(t,n);if(!this.isOpen){this.getElement().style.display="block";this.isOpen=true}};this.hide=function(){if(this.isOpen){this.getElement().style.display="none";this.isOpen=false}};this.getHeight=function(){return this.getElement().offsetHeight};this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=false;if(this.$element&&this.$element.parentNode){this.$element.parentNode.removeChild(this.$element)}}}).call(a.prototype);t.Tooltip=a});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";var r=e("../lib/dom");var i=e("../lib/oop");var a=e("../lib/event");var o=e("../tooltip").Tooltip;function s(l){var c=l.editor;var u=c.renderer.$gutterLayer;var h=new g(c.container);l.editor.setDefaultHandler("guttermousedown",function(e){if(!c.isFocused()||e.getButton()!=0)return;var t=u.getRegion(e);if(t=="foldWidgets")return;var n=e.getDocumentPosition().row;var i=c.session.selection;if(e.getShiftKey())i.selectTo(n,0);else{if(e.domEvent.detail==2){c.selectAll();return e.preventDefault()}l.$clickSelection=c.selection.getLineRange(n)}l.setState("selectByLines");l.captureMouse(e);return e.preventDefault()});var n,f,d;function i(){var e=f.getDocumentPosition().row;var t=u.$annotations[e];if(!t)return p();var n=c.session.getLength();if(e==n){var i=c.renderer.pixelToScreenCoordinates(0,f.y).row;var r=f.$pos;if(i>c.session.documentToScreenRow(r.row,r.column))return p()}if(d==t)return;d=t.text.join("<br/>");h.setHtml(d);h.show();c._signal("showGutterTooltip",h);c.on("mousewheel",p);if(l.$tooltipFollowsMouse){m(f)}else{var a=f.domEvent.target;var o=a.getBoundingClientRect();var s=h.getElement().style;s.left=o.right+"px";s.top=o.bottom+"px"}}function p(){if(n)n=clearTimeout(n);if(d){h.hide();d=null;c._signal("hideGutterTooltip",h);c.removeEventListener("mousewheel",p)}}function m(e){h.setPosition(e.x,e.y)}l.editor.setDefaultHandler("guttermousemove",function(e){var t=e.domEvent.target||e.domEvent.srcElement;if(r.hasCssClass(t,"ace_fold-widget"))return p();if(d&&l.$tooltipFollowsMouse)m(e);f=e;if(n)return;n=setTimeout(function(){n=null;if(f&&!l.isMousePressed)i();else p()},50)});a.addListener(c.renderer.$gutter,"mouseout",function(e){f=null;if(!d||n)return;n=setTimeout(function(){n=null;p()},50)});c.on("changeSession",p)}function g(e){o.call(this,e)}i.inherits(g,o);(function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth;var i=window.innerHeight||document.documentElement.clientHeight;var r=this.getWidth();var a=this.getHeight();e+=15;t+=15;if(e+r>n){e-=e+r-n}if(t+a>i){t-=20+a}o.prototype.setPosition.call(this,e,t)}}).call(g.prototype);t.GutterHandler=s});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var i=e("../lib/event");var r=e("../lib/useragent");var a=t.MouseEvent=function(e,t){this.domEvent=e;this.editor=t;this.x=this.clientX=e.clientX;this.y=this.clientY=e.clientY;this.$pos=null;this.$inSelection=null;this.propagationStopped=false;this.defaultPrevented=false};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent);this.propagationStopped=true};this.preventDefault=function(){i.preventDefault(this.domEvent);this.defaultPrevented=true};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){if(this.$pos)return this.$pos;this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY);return this.$pos};this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor;var t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=false;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection};this.getButton=function(){return i.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(a.prototype)});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var S=e("../lib/dom");var T=e("../lib/event");var M=e("../lib/useragent");var k=200;var D=200;var L=5;function i(t){var d=t.editor;var i=S.createElement("img");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(M.isOpera)i.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;";var e=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];e.forEach(function(e){t[e]=this[e]},this);d.addEventListener("mousedown",this.onMouseDown.bind(t));var r=d.container;var n,p,m;var a,o;var s,l=0;var c;var u;var g;var h;var f;this.onDragStart=function(e){if(this.cancelDrag||!r.draggable){var t=this;setTimeout(function(){t.startSelect();t.captureMouse(e)},0);return e.preventDefault()}o=d.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=d.getReadOnly()?"copy":"copyMove";if(M.isOpera){d.container.appendChild(i);i.scrollTop=0}n.setDragImage&&n.setDragImage(i,0,0);if(M.isOpera){d.container.removeChild(i)}n.clearData();n.setData("Text",d.session.getTextRange());u=true;this.setState("drag")};this.onDragEnd=function(e){r.draggable=false;u=false;this.setState(null);if(!d.getReadOnly()){var t=e.dataTransfer.dropEffect;if(!c&&t=="move")d.session.remove(d.getSelectionRange());d.renderer.$cursorLayer.setBlinking(true)}this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(e){if(d.getReadOnly()||!A(e.dataTransfer))return;p=e.clientX;m=e.clientY;if(!n)x();l++;e.dataTransfer.dropEffect=c=C(e);return T.preventDefault(e)};this.onDragOver=function(e){if(d.getReadOnly()||!A(e.dataTransfer))return;p=e.clientX;m=e.clientY;if(!n){x();l++}if(_!==null)_=null;e.dataTransfer.dropEffect=c=C(e);return T.preventDefault(e)};this.onDragLeave=function(e){l--;if(l<=0&&n){w();c=null;return T.preventDefault(e)}};this.onDrop=function(e){if(!s)return;var t=e.dataTransfer;if(u){switch(c){case"move":if(o.contains(s.row,s.column)){o={start:s,end:s}}else{o=d.moveText(o,s)}break;case"copy":o=d.moveText(o,s,true);break}}else{var n=t.getData("Text");o={start:s,end:d.session.insert(s,n)};d.focus();c=null}w();return T.preventDefault(e)};T.addListener(r,"dragstart",this.onDragStart.bind(t));T.addListener(r,"dragend",this.onDragEnd.bind(t));T.addListener(r,"dragenter",this.onDragEnter.bind(t));T.addListener(r,"dragover",this.onDragOver.bind(t));T.addListener(r,"dragleave",this.onDragLeave.bind(t));T.addListener(r,"drop",this.onDrop.bind(t));function v(e,t){var n=Date.now();var i=!t||e.row!=t.row;var r=!t||e.column!=t.column;if(!h||i||r){d.$blockScrolling+=1;d.moveCursorToPosition(e);d.$blockScrolling-=1;h=n;f={x:p,y:m}}else{var a=R(f.x,f.y,p,m);if(a>L){h=null}else if(n-h>=D){d.renderer.scrollCursorIntoView();h=null}}}function b(e,t){var n=Date.now();var i=d.renderer.layerConfig.lineHeight;var r=d.renderer.layerConfig.characterWidth;var a=d.renderer.scroller.getBoundingClientRect();var o={x:{left:p-a.left,right:a.right-p},y:{top:m-a.top,bottom:a.bottom-m}};var s=Math.min(o.x.left,o.x.right);var l=Math.min(o.y.top,o.y.bottom);var c={row:e.row,column:e.column};if(s/r<=2){c.column+=o.x.left<o.x.right?-3:+2}if(l/i<=1){c.row+=o.y.top<o.y.bottom?-1:+1}var u=e.row!=c.row;var h=e.column!=c.column;var f=!t||e.row!=t.row;if(u||h&&!f){if(!g)g=n;else if(n-g>=k)d.renderer.scrollCursorIntoView(c)}else{g=null}}function y(){var e=s;s=d.renderer.screenToTextCoordinates(p,m);v(s,e);b(s,e)}function x(){o=d.selection.toOrientedRange();n=d.session.addMarker(o,"ace_selection",d.getSelectionStyle());d.clearSelection();if(d.isFocused())d.renderer.$cursorLayer.setBlinking(false);clearInterval(a);y();a=setInterval(y,20);l=0;T.addListener(document,"mousemove",E)}function w(){clearInterval(a);d.session.removeMarker(n);n=null;d.$blockScrolling+=1;d.selection.fromOrientedRange(o);d.$blockScrolling-=1;if(d.isFocused()&&!u)d.renderer.$cursorLayer.setBlinking(!d.getReadOnly());o=null;s=null;l=0;g=null;h=null;T.removeListener(document,"mousemove",E)}var _=null;function E(){if(_==null){_=setTimeout(function(){if(_!=null&&n)w()},20)}}function A(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return e=="text/plain"||e=="Text"})}function C(e){var t=["copy","copymove","all","uninitialized"];var n=["move","copymove","linkmove","all","uninitialized"];var i=M.isMac?e.altKey:e.ctrlKey;var r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var a="none";if(i&&t.indexOf(r)>=0)a="copy";else if(n.indexOf(r)>=0)a="move";else if(t.indexOf(r)>=0)a="copy";return a}}(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;if(e>this.editor.getDragDelay())this.startDrag()};this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=false;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){this.cancelDrag=false;var e=this.editor;var t=e.container;t.draggable=true;e.renderer.$cursorLayer.setBlinking(false);e.setStyle("ace_dragging");var n=M.isWin?"default":"move";e.renderer.setCursorStyle(n);this.setState("dragReady")};this.onMouseDrag=function(e){var t=this.editor.container;if(M.isIE&&this.state=="dragReady"){var n=R(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);if(n>3)t.dragDrop()}if(this.state==="dragWait"){var n=R(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);if(n>0){t.draggable=false;this.startSelect(this.mousedownEvent.getDocumentPosition())}}};this.onMouseDown=function(e){if(!this.$dragEnabled)return;this.mousedownEvent=e;var t=this.editor;var n=e.inSelection();var i=e.getButton();var r=e.domEvent.detail||1;if(r===1&&i===0&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var a=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in a)a.unselectable="on";if(t.getDragDelay()){if(M.isWebKit){this.cancelDrag=true;var o=t.container;o.draggable=true}this.setState("dragWait")}else{this.startDrag()}this.captureMouse(e,this.onMouseDrag.bind(this));e.defaultPrevented=true}}}).call(i.prototype);function R(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}t.DragdropHandler=i});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,true);n.onreadystatechange=function(){if(n.readyState===4){t(n.responseText)}};n.send(null)};t.loadScript=function(e,n){var t=r.getDocumentHead();var i=document.createElement("script");i.src=e;t.appendChild(i);i.onload=i.onreadystatechange=function(e,t){if(t||!i.readyState||i.readyState=="loaded"||i.readyState=="complete"){i=i.onload=i.onreadystatechange=null;if(!t)n()}}};t.qualifyURL=function(e){var t=document.createElement("a");t.href=e;return t.href}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var i={};var a=function(){this.propagationStopped=true};var o=function(){this.defaultPrevented=true};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[];var i=this._defaultHandlers[e];if(!n.length&&!i)return;if(typeof t!="object"||!t)t={};if(!t.type)t.type=e;if(!t.stopPropagation)t.stopPropagation=a;if(!t.preventDefault)t.preventDefault=o;n=n.slice();for(var r=0;r<n.length;r++){n[r](t,this);if(t.propagationStopped)break}if(i&&!t.defaultPrevented)return i(t,this)};i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(!n)return;n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)};i.once=function(t,n){var i=this;n&&this.addEventListener(t,function e(){i.removeEventListener(t,e);n.apply(null,arguments)})};i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(!n)n=this._defaultHandlers={_disabled_:{}};if(n[e]){var i=n[e];var r=n._disabled_[e];if(!r)n._disabled_[e]=r=[];r.push(i);var a=r.indexOf(t);if(a!=-1)r.splice(a,1)}n[e]=t};i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(!n)return;var i=n._disabled_[e];if(n[e]==t){var r=n[e];if(i)this.setDefaultHandler(e,i.pop())}else if(i){var a=i.indexOf(t);if(a!=-1)i.splice(a,1)}};i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(!i)i=this._eventRegistry[e]=[];if(i.indexOf(t)==-1)i[n?"unshift":"push"](t);return t};i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(!n)return;var i=n.indexOf(t);if(i!==-1)n.splice(i,1)};i.removeAllListeners=function(e){if(this._eventRegistry)this._eventRegistry[e]=[]};t.EventEmitter=i});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";var r=e("./oop");var i=e("./event_emitter").EventEmitter;var a={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(e){var t={};if(!e){e=Object.keys(this.$options)}else if(!Array.isArray(e)){t=e;e=Object.keys(t)}e.forEach(function(e){t[e]=this.getOption(e)},this);return t},setOption:function(e,t){if(this["$"+e]===t)return;var n=this.$options[e];if(!n){return o('misspelled option "'+e+'"')}if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);if(!n.handlesSet)this["$"+e]=t;if(n&&n.set)n.set.call(this,t)},getOption:function(e){var t=this.$options[e];if(!t){return o('misspelled option "'+e+'"')}if(t.forwardTo)return this[t.forwardTo]&&this[t.forwardTo].getOption(e);return t&&t.get?t.get.call(this):this["$"+e]}};function o(e){if(typeof console!="undefined"&&console.warn)console.warn.apply(console,arguments)}function s(e,t){var n=new Error(e);n.data=t;if(typeof console=="object"&&console.error)console.error(n);setTimeout(function(){throw n})}var l=function(){this.$defaultOptions={}};(function(){r.implement(this,i);this.defineOptions=function(n,e,i){if(!n.$options)this.$defaultOptions[e]=n.$options={};Object.keys(i).forEach(function(e){var t=i[e];if(typeof t=="string")t={forwardTo:t};t.name||(t.name=e);n.$options[t.name]=t;if("initialValue"in t)n["$"+t.name]=t.initialValue});r.implement(n,a);return this};this.resetOptions=function(n){Object.keys(n.$options).forEach(function(e){var t=n.$options[e];if("value"in t)n.setOption(e,t.value)})};this.setDefaultValue=function(e,t,n){var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});if(i[t]){if(i.forwardTo)this.setDefaultValue(i.forwardTo,t,n);else i[t].value=n}};this.setDefaultValues=function(t,n){Object.keys(n).forEach(function(e){this.setDefaultValue(t,e,n[e])},this)};this.warn=o;this.reportError=s}).call(l.prototype);t.AppConfig=l});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(m,g,v){"no use strict";var e=m("./lib/lang");var t=m("./lib/oop");var a=m("./lib/net");var n=m("./lib/app_config").AppConfig;v.exports=g=new n;var b=function(){return this||typeof window!="undefined"&&window}();var y={packaged:false,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};g.get=function(e){if(!y.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return y[e]};g.set=function(e,t){if(!y.hasOwnProperty(e))throw new Error("Unknown config key: "+e);y[e]=t};g.all=function(){return e.copyObject(y)};g.moduleUrl=function(e,t){if(y.$moduleUrls[e])return y.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var i=t=="snippets"?"/":"-";var r=n[n.length-1];if(t=="worker"&&i=="-"){var a=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(a,"")}if((!r||r==t)&&n.length>1)r=n[n.length-2];var o=y[t+"Path"];if(o==null){o=y.basePath}else if(i=="/"){t=i=""}if(o&&o.slice(-1)!="/")o+="/";return o+t+i+r+this.get("suffix")};g.setModuleUrl=function(e,t){return y.$moduleUrls[e]=t};g.$loading={};g.loadModule=function(n,e){var t,i;if(Array.isArray(n)){i=n[0];n=n[1]}try{t=m(n)}catch(e){}if(t&&!g.$loading[n])return e&&e(t);if(!g.$loading[n])g.$loading[n]=[];g.$loading[n].push(e);if(g.$loading[n].length>1)return;var r=function(){m([n],function(t){g._emit("load.module",{name:n,module:t});var e=g.$loading[n];g.$loading[n]=null;e.forEach(function(e){e&&e(t)})})};if(!g.get("packaged"))return r();a.loadScript(g.moduleUrl(n,i),r)};i(true);function i(e){if(!b||!b.document)return;y.packaged=e||m.packaged||v.packaged||b.define&&define.packaged;var t={};var n="";var i=document.currentScript||document._currentScript;var r=i&&i.ownerDocument||document;var a=r.getElementsByTagName("script");for(var o=0;o<a.length;o++){var s=a[o];var l=s.src||s.getAttribute("src");if(!l)continue;var c=s.attributes;for(var u=0,h=c.length;u<h;u++){var f=c[u];if(f.name.indexOf("data-ace-")===0){t[x(f.name.replace(/^data-ace-/,""))]=f.value}}var d=l.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);if(d)n=d[1]}if(n){t.base=t.base||n;t.packaged=true}t.basePath=t.base;t.workerPath=t.workerPath||t.base;t.modePath=t.modePath||t.base;t.themePath=t.themePath||t.base;delete t.base;for(var p in t)if(typeof t[p]!=="undefined")g.set(p,t[p])}g.init=i;function x(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){"use strict";var l=e("../lib/event");var c=e("../lib/useragent");var i=e("./default_handlers").DefaultHandlers;var o=e("./default_gutter_handler").GutterHandler;var u=e("./mouse_event").MouseEvent;var s=e("./dragdrop_handler").DragdropHandler;var r=e("../config");var a=function(r){var a=this;this.editor=r;new i(this);new o(this);new s(this);var e=function(e){var t=!document.hasFocus||!document.hasFocus()||!r.isFocused()&&document.activeElement==(r.textInput&&r.textInput.getElement());if(t)window.focus();r.focus()};var t=r.renderer.getMouseEventTarget();l.addListener(t,"click",this.onMouseEvent.bind(this,"click"));l.addListener(t,"mousemove",this.onMouseMove.bind(this,"mousemove"));l.addMultiMouseDownListener([t,r.renderer.scrollBarV&&r.renderer.scrollBarV.inner,r.renderer.scrollBarH&&r.renderer.scrollBarH.inner,r.textInput&&r.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");l.addMouseWheelListener(r.container,this.onMouseWheel.bind(this,"mousewheel"));l.addTouchMoveListener(r.container,this.onTouchMove.bind(this,"touchmove"));var n=r.renderer.$gutter;l.addListener(n,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));l.addListener(n,"click",this.onMouseEvent.bind(this,"gutterclick"));l.addListener(n,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));l.addListener(n,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));l.addListener(t,"mousedown",e);l.addListener(n,"mousedown",e);if(c.isIE&&r.renderer.scrollBarV){l.addListener(r.renderer.scrollBarV.element,"mousedown",e);l.addListener(r.renderer.scrollBarH.element,"mousedown",e)}r.on("mousemove",function(e){if(a.state||a.$dragDelay||!a.$dragEnabled)return;var t=r.renderer.screenToTextCoordinates(e.x,e.y);var n=r.session.selection.getRange();var i=r.renderer;if(!n.isEmpty()&&n.insideStart(t.row,t.column)){i.setCursorStyle("default")}else{i.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new u(t,this.editor))};this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!n||!n.length)return;this.editor._emit(e,new u(t,this.editor))};this.onMouseWheel=function(e,t){var n=new u(t,this.editor);n.speed=this.$scrollSpeed*2;n.wheelX=t.wheelX;n.wheelY=t.wheelY;this.editor._emit(e,n)};this.onTouchMove=function(e,t){var n=new u(t,this.editor);n.speed=1;n.wheelX=t.wheelX;n.wheelY=t.wheelY;this.editor._emit(e,n)};this.setState=function(e){this.state=e};this.captureMouse=function(e,t){this.x=e.x;this.y=e.y;this.isMousePressed=true;var n=this.editor.renderer;if(n.$keepTextAreaAtCursor)n.$keepTextAreaAtCursor=null;var i=this;var r=function(e){if(!e)return;if(c.isWebKit&&!e.which&&i.releaseMouse)return i.releaseMouse();i.x=e.clientX;i.y=e.clientY;t&&t(e);i.mouseEvent=new u(e,i.editor);i.$mouseMoved=true};var a=function(e){clearInterval(s);o();i[i.state+"End"]&&i[i.state+"End"](e);i.state="";if(n.$keepTextAreaAtCursor==null){n.$keepTextAreaAtCursor=true;n.$moveTextAreaToCursor()}i.isMousePressed=false;i.$onCaptureMouseMove=i.releaseMouse=null;e&&i.onMouseEvent("mouseup",e)};var o=function(){i[i.state]&&i[i.state]();i.$mouseMoved=false};if(c.isOldIE&&e.domEvent.type=="dblclick"){return setTimeout(function(){a(e)})}i.$onCaptureMouseMove=r;i.releaseMouse=l.capture(this.editor.container,r,a);var s=setInterval(o,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var t=function(e){if(e&&e.domEvent&&e.domEvent.type!="contextmenu")return;this.editor.off("nativecontextmenu",t);if(e&&e.domEvent)l.stopEvent(e.domEvent)}.bind(this);setTimeout(t,10);this.editor.on("nativecontextmenu",t)}}).call(a.prototype);r.defineOptions(a.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:c.isMac?150:0},dragEnabled:{initialValue:true},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:true}});t.MouseHandler=a});ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){"use strict";function i(s){s.on("click",function(e){var t=e.getDocumentPosition();var n=s.session;var i=n.getFoldAt(t.row,t.column,1);if(i){if(e.getAccelKey())n.removeFold(i);else n.expandFold(i);e.stop()}});s.on("gutterclick",function(e){var t=s.renderer.$gutterLayer.getRegion(e);if(t=="foldWidgets"){var n=e.getDocumentPosition().row;var i=s.session;if(i.foldWidgets&&i.foldWidgets[n])s.session.onFoldWidgetClick(n,e);if(!s.isFocused())s.focus();e.stop()}});s.on("gutterdblclick",function(e){var t=s.renderer.$gutterLayer.getRegion(e);if(t=="foldWidgets"){var n=e.getDocumentPosition().row;var i=s.session;var r=i.getParentFoldRangeData(n,true);var a=r.range||r.firstRange;if(a){n=a.start.row;var o=i.getFoldAt(n,i.getLine(n).length,1);if(o){i.removeFold(o)}else{i.addFold("...",a);s.renderer.scrollCursorIntoView({row:a.start.row,column:0})}}e.stop()}})}t.FoldHandler=i});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var r=e("../lib/keys");var l=e("../lib/event");var i=function(e){this.$editor=e;this.$data={editor:e};this.$handlers=[];this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=e;this.addKeyboardHandler(e,0)};this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]==e)return;while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)};this.addKeyboardHandler=function(e,t){if(!e)return;if(typeof e=="function"&&!e.handleKeyboard)e.handleKeyboard=e;var n=this.$handlers.indexOf(e);if(n!=-1)this.$handlers.splice(n,1);if(t==undefined)this.$handlers.push(e);else this.$handlers.splice(t,0,e);if(n==-1&&e.attach)e.attach(this.$editor)};this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);if(t==-1)return false;this.$handlers.splice(t,1);e.detach&&e.detach(this.$editor);return true};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var t=this.$data;var n=t.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(n,t)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(e,t,n,i){var r;var a=false;var o=this.$editor.commands;for(var s=this.$handlers.length;s--;){r=this.$handlers[s].handleKeyboard(this.$data,e,t,n,i);if(!r||!r.command)continue;if(r.command=="null"){a=true}else{a=o.exec(r.command,this.$editor,r.args,i)}if(a&&i&&e!=-1&&r.passEvent!=true&&r.command.passEvent!=true){l.stopEvent(i)}if(a)break}if(!a&&e==-1){r={command:"insertstring"};a=o.exec("insertstring",this.$editor,t)}if(a&&this.$editor._signal)this.$editor._signal("keyboardActivity",r);return a};this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)};this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(i.prototype);t.KeyBinding=i});ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,l,t){"use strict";var n=["",""];var i=["",""];var g=0,v=0;var b=false,y=false,x=false,w=false,r=false,a=false;var _=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];var E=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];var c=0,u=1;var h=0;var f=1;var d=2;var p=3;var m=4;var A=5;var C=6;var S=7;var T=8;var M=9;var k=10;var D=11;var L=12;var R=13;var F=14;var P=15;var I=16;var N=17;var O=18;var o=[O,O,O,O,O,O,O,O,O,C,A,C,T,A,O,O,O,O,O,O,O,O,O,O,O,O,O,O,A,A,A,C,T,m,m,D,D,D,m,m,m,m,m,k,M,k,M,M,d,d,d,d,d,d,d,d,d,d,M,m,m,m,m,m,m,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,m,m,m,m,m,m,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,m,m,m,m,O,O,O,O,O,O,A,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,M,m,D,D,D,D,m,m,m,m,h,m,m,O,m,m,D,D,d,d,m,h,m,m,m,d,h,m,m,m,m,m];var s=[T,T,T,T,T,T,T,T,T,T,T,O,O,O,h,f,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,T,A,R,F,P,I,N,M,D,D,D,D,D,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,M,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,T];function B(e,t,n,i){var r=g?E:_,a=null,o=null,s=null,l=0,c=null,u=null,h=-1,f=null,d=null,p=[];if(!i){for(f=0,i=[];f<n;f++){i[f]=H(e[f])}}v=g;b=false;y=false;x=false;w=false;for(d=0;d<n;d++){a=l;p[d]=o=U(e,i,p,d);l=r[a][o];c=l&240;l&=15;t[d]=s=r[l][5];if(c>0){if(c==16){for(f=h;f<d;f++){t[f]=1}h=-1}else{h=-1}}u=r[l][6];if(u){if(h==-1){h=d}}else{if(h>-1){for(f=h;f<d;f++){t[f]=s}h=-1}}if(i[d]==A){t[d]=0}v|=s}if(w){for(f=0;f<n;f++){if(i[f]==C){t[f]=g;for(var m=f-1;m>=0;m--){if(i[m]==T){t[m]=g}else{break}}}}}}function z(e,t,n){if(v<e){return}if(e==1&&g==u&&!x){n.reverse();return}var i=n.length,r=0,a,o,s,l;while(r<i){if(t[r]>=e){a=r+1;while(a<i&&t[a]>=e){a++}for(o=r,s=a-1;o<s;o++,s--){l=n[o];n[o]=n[s];n[s]=l}r=a}r++}}function U(e,t,n,i){var r=t[i],a,o,s,l;switch(r){case h:case f:b=false;case m:case p:return r;case d:return b?p:d;case S:b=true;y=true;return f;case T:return m;case M:if(i<1||i+1>=t.length||(a=n[i-1])!=d&&a!=p||(o=t[i+1])!=d&&o!=p){return m}if(b){o=p}return o==a?o:m;case k:a=i>0?n[i-1]:A;if(a==d&&i+1<t.length&&t[i+1]==d){return d}return m;case D:if(i>0&&n[i-1]==d){return d}if(b){return m}l=i+1;s=t.length;while(l<s&&t[l]==D){l++}if(l<s&&t[l]==d){return d}return m;case L:s=t.length;l=i+1;while(l<s&&t[l]==L){l++}if(l<s){var c=e[i],u=c>=1425&&c<=2303||c==64286;a=t[l];if(u&&(a==f||a==S)){return f}}if(i<1||(a=t[i-1])==A){return m}return n[i-1];case A:b=false;x=true;return g;case C:w=true;return m;case R:case F:case I:case N:case P:b=false;case O:return m}}function H(e){var t=e.charCodeAt(0),n=t>>8;if(n==0){return t>191?h:o[t]}else if(n==5){return/[\u0591-\u05f4]/.test(e)?f:h}else if(n==6){if(/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e))return L;else if(/[\u0660-\u0669\u066b-\u066c]/.test(e))return p;else if(t==1642)return D;else if(/[\u06f0-\u06f9]/.test(e))return d;else return S}else if(n==32&&t<=8287){return s[t&255]}else if(n==254){return t>=65136?S:m}return m}function j(e){return e>=""&&e<=""}l.L=h;l.R=f;l.EN=d;l.ON_R=3;l.AN=4;l.R_H=5;l.B=6;l.DOT="";l.doBidiReorder=function(e,t,n){if(e.length<2)return{};var i=e.split(""),r=new Array(i.length),a=new Array(i.length),o=[];g=n?u:c;B(i,o,i.length,t);for(var s=0;s<r.length;r[s]=s,s++);z(2,o,r);z(1,o,r);for(var s=0;s<r.length-1;s++){if(t[s]===p){o[s]=l.AN}else if(o[s]===f&&(t[s]>S&&t[s]<R||t[s]===m||t[s]===O)){o[s]=l.ON_R}else if(s>0&&i[s-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(i[s])){o[s-1]=o[s]=l.R_H;s++}}if(i[i.length-1]===l.DOT)o[i.length-1]=l.B;for(var s=0;s<r.length;s++){a[s]=o[r[s]]}return{logicalFromVisual:r,bidiLevels:a}};l.hasBidiCharacters=function(e,t){var n=false;for(var i=0;i<e.length;i++){t[i]=H(e.charAt(i));if(!n&&(t[i]==f||t[i]==S))n=true}return n};l.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++){if(t.logicalFromVisual[n]==e)return n}return 0}});ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(e,t,n){"use strict";var p=e("./lib/bidiutil");var o=e("./lib/lang");var i=e("./lib/useragent");var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var a=function(e){this.session=e;this.bidiMap={};this.currentRow=null;this.bidiUtil=p;this.charWidths=[];this.EOL="";this.showInvisibles=true;this.isRtlDir=false;this.line="";this.wrapIndent=0;this.isLastRow=false;this.EOF="";this.seenBidi=false};(function(){this.isBidiRow=function(e,t,n){if(!this.seenBidi)return false;if(e!==this.currentRow){this.currentRow=e;this.updateRowLine(t,n);this.updateBidiMap()}return this.bidiMap.bidiLevels};this.onChange=function(e){if(!this.seenBidi){if(e.action=="insert"&&r.test(e.lines.join("\n"))){this.seenBidi=true;this.currentRow=null}}else{this.currentRow=null}};this.getDocumentRow=function(){var e=0;var t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);if(n>=0)e=this.session.$docRowCache[n]}return e};this.getSplitIndex=function(){var e=0;var t=this.session.$screenRowCache;if(t.length){var n,i=this.session.$getRowCacheIndex(t,this.currentRow);while(this.currentRow-e>0){n=this.session.$getRowCacheIndex(t,this.currentRow-e-1);if(n!==i)break;i=n;e++}}return e};this.updateRowLine=function(e,t){if(e===undefined)e=this.getDocumentRow();this.wrapIndent=0;this.isLastRow=e===this.session.getLength()-1;this.line=this.session.getLine(e);if(this.session.$useWrapMode){var n=this.session.$wrapData[e];if(n){if(t===undefined)t=this.getSplitIndex();if(t>0&&n.length){this.wrapIndent=n.indent;this.line=t<n.length?this.line.substring(n[t-1],n[n.length-1]):this.line.substring(n[n.length-1])}else{this.line=this.line.substring(0,n[t])}}}var i=this.session,r=0,a;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){if(e==="\t"||i.isFullWidth(e.charCodeAt(0))){a=e==="\t"?i.getScreenTabSize(t+r):2;r+=a-1;return o.stringRepeat(p.DOT,a)}return e})};this.updateBidiMap=function(){var e=[],t=this.isLastRow?this.EOF:this.EOL;var n=this.line+(this.showInvisibles?t:p.DOT);if(p.hasBidiCharacters(n,e)){this.bidiMap=p.doBidiReorder(n,e,this.isRtlDir)}else{this.bidiMap={}}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(e){if(!this.seenBidi)return;if(this.characterWidth===e.$characterSize.width)return;var t=this.characterWidth=e.$characterSize.width;var n=e.$measureCharWidth("");this.charWidths[p.L]=this.charWidths[p.EN]=this.charWidths[p.ON_R]=t;this.charWidths[p.R]=this.charWidths[p.AN]=n;this.charWidths[p.R_H]=i.isChrome?n:n*.45;this.charWidths[p.B]=0;this.currentRow=null};this.getShowInvisibles=function(){return this.showInvisibles};this.setShowInvisibles=function(e){this.showInvisibles=e;this.currentRow=null};this.setEolChar=function(e){this.EOL=e};this.setTextDir=function(e){this.isRtlDir=e};this.getPosLeft=function(e){e-=this.wrapIndent;var t=p.getVisualFromLogicalIdx(e>0?e-1:0,this.bidiMap),n=this.bidiMap.bidiLevels,i=0;if(e===0&&n[t]%2!==0)t++;for(var r=0;r<t;r++){i+=this.charWidths[n[r]]}if(e!==0&&n[t]%2===0)i+=this.charWidths[n[t]];if(this.wrapIndent)i+=this.wrapIndent*this.charWidths[p.L];return i};this.getSelections=function(e,t){var n=this.bidiMap,i=n.bidiLevels,r,a=this.wrapIndent*this.charWidths[p.L],o=[],s=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=false,u=false,h=0;for(var f,d=0;d<i.length;d++){f=n.logicalFromVisual[d];r=i[d];c=f>=s&&f<l;if(c&&!u){h=a}else if(!c&&u){o.push({left:h,width:a-h})}a+=this.charWidths[r];u=c}if(c&&d===i.length){o.push({left:h,width:a-h})}return o};this.offsetToCol=function(e){var t=0,e=Math.max(e,0),n=0,i=0,r=this.bidiMap.bidiLevels,a=this.charWidths[r[i]];if(this.wrapIndent){e-=this.wrapIndent*this.charWidths[p.L]}while(e>n+a/2){n+=a;if(i===r.length-1){a=0;break}a=this.charWidths[r[++i]]}if(i>0&&r[i-1]%2!==0&&r[i]%2===0){if(e<n)i--;t=this.bidiMap.logicalFromVisual[i]}else if(i>0&&r[i-1]%2===0&&r[i]%2!==0){t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1])}else if(this.isRtlDir&&i===r.length-1&&a===0&&r[i-1]%2===0||!this.isRtlDir&&i===0&&r[i]%2!==0){t=1+this.bidiMap.logicalFromVisual[i]}else{if(i>0&&r[i-1]%2!==0&&a!==0)i--;t=this.bidiMap.logicalFromVisual[i]}return t+this.wrapIndent}}).call(a.prototype);t.BidiHandler=a});ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var i=function(e,t){return e.row-t.row||e.column-t.column};var a=function(e,t,n,i){this.start={row:e,column:t};this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(e,t){return this.compare(e,t)==0};this.compareRange=function(e){var t,n=e.end,i=e.start;t=this.compare(n.row,n.column);if(t==1){t=this.compare(i.row,i.column);if(t==1){return 2}else if(t==0){return 1}else{return 0}}else if(t==-1){return-2}else{t=this.compare(i.row,i.column);if(t==-1){return-1}else if(t==1){return 42}else{return 0}}};this.comparePoint=function(e){return this.compare(e.row,e.column)};this.containsRange=function(e){return this.comparePoint(e.start)==0&&this.comparePoint(e.end)==0};this.intersects=function(e){var t=this.compareRange(e);return t==-1||t==0||t==1};this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t};this.isStart=function(e,t){return this.start.row==e&&this.start.column==t};this.setStart=function(e,t){if(typeof e=="object"){this.start.column=e.column;this.start.row=e.row}else{this.start.row=e;this.start.column=t}};this.setEnd=function(e,t){if(typeof e=="object"){this.end.column=e.column;this.end.row=e.row}else{this.end.row=e;this.end.column=t}};this.inside=function(e,t){if(this.compare(e,t)==0){if(this.isEnd(e,t)||this.isStart(e,t)){return false}else{return true}}return false};this.insideStart=function(e,t){if(this.compare(e,t)==0){if(this.isEnd(e,t)){return false}else{return true}}return false};this.insideEnd=function(e,t){if(this.compare(e,t)==0){if(this.isStart(e,t)){return false}else{return true}}return false};this.compare=function(e,t){if(!this.isMultiLine()){if(e===this.start.row){return t<this.start.column?-1:t>this.end.column?1:0}}if(e<this.start.row)return-1;if(e>this.end.row)return 1;if(this.start.row===e)return t>=this.start.column?0:-1;if(this.end.row===e)return t<=this.end.column?0:1;return 0};this.compareStart=function(e,t){if(this.start.row==e&&this.start.column==t){return-1}else{return this.compare(e,t)}};this.compareEnd=function(e,t){if(this.end.row==e&&this.end.column==t){return 1}else{return this.compare(e,t)}};this.compareInside=function(e,t){if(this.end.row==e&&this.end.column==t){return 1}else if(this.start.row==e&&this.start.column==t){return-1}else{return this.compare(e,t)}};this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var i={row:t+1,column:0};else if(this.start.row<e)var i={row:e,column:0};return a.fromPoints(i||this.start,n||this.end)};this.extend=function(e,t){var n=this.compare(e,t);if(n==0)return this;else if(n==-1)var i={row:e,column:t};else var r={row:e,column:t};return a.fromPoints(i||this.start,r||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return a.fromPoints(this.start,this.end)};this.collapseRows=function(){if(this.end.column==0)return new a(this.start.row,0,Math.max(this.start.row,this.end.row-1),0);else return new a(this.start.row,0,this.end.row,0)};this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start);var n=e.documentToScreenPosition(this.end);return new a(t.row,t.column,n.row,n.column)};this.moveBy=function(e,t){this.start.row+=e;this.start.column+=t;this.end.row+=e;this.end.column+=t}}).call(a.prototype);a.fromPoints=function(e,t){return new a(e.row,e.column,t.row,t.column)};a.comparePoints=i;a.comparePoints=function(e,t){return e.row-t.row||e.column-t.column};t.Range=a});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var i=e("./lib/oop");var o=e("./lib/lang");var r=e("./lib/event_emitter").EventEmitter;var a=e("./range").Range;var s=function(e){this.session=e;this.doc=e.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor");if(!t.$isEmpty)t._emit("changeSelection");if(!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column)t.$desiredColumn=null});this.selectionAnchor.on("change",function(){if(!t.$isEmpty)t._emit("changeSelection")})};(function(){i.implement(this,r);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){if(this.isEmpty()){return false}return this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t);if(this.$isEmpty){this.$isEmpty=false;this._emit("changeSelection")}};this.getSelectionAnchor=function(){if(this.$isEmpty)return this.getSelectionLead();else return this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(e){if(this.$isEmpty){this.moveCursorTo(this.lead.row,this.lead.column+e);return}var t=this.getSelectionAnchor();var n=this.getSelectionLead();var i=this.isBackwards();if(!i||t.column!==0)this.setSelectionAnchor(t.row,t.column+e);if(i||n.column!==0){this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})}};this.isBackwards=function(){var e=this.anchor;var t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column};this.getRange=function(){var e=this.anchor;var t=this.lead;if(this.isEmpty())return a.fromPoints(t,t);if(this.isBackwards()){return a.fromPoints(t,e)}else{return a.fromPoints(e,t)}};this.clearSelection=function(){if(!this.$isEmpty){this.$isEmpty=true;this._emit("changeSelection")}};this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0);this.moveCursorTo(e,this.doc.getLine(e).length)};this.setRange=this.setSelectionRange=function(e,t){if(t){this.setSelectionAnchor(e.end.row,e.end.column);this.selectTo(e.start.row,e.start.column)}else{this.setSelectionAnchor(e.start.row,e.start.column);this.selectTo(e.end.row,e.end.column)}if(this.getRange().isEmpty())this.$isEmpty=true;this.$desiredColumn=null};this.$moveSelection=function(e){var t=this.lead;if(this.$isEmpty)this.setSelectionAnchor(t.row,t.column);e.call(this)};this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})};this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})};this.moveTo=function(e,t){this.clearSelection();this.moveCursorTo(e,t)};this.moveToPosition=function(e){this.clearSelection();this.moveCursorToPosition(e)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};this.getWordRange=function(e,t){if(typeof t=="undefined"){var n=e||this.lead;e=n.row;t=n.column}return this.session.getWordRange(e,t)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var e=this.getCursor();var t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)};this.getLineRange=function(e,t){var n=typeof e=="number"?e:this.lead.row;var i;var r=this.session.getFoldLine(n);if(r){n=r.start.row;i=r.end.row}else{i=n}if(t===true)return new a(n,0,i,this.session.getLine(i).length);else return new a(n,0,i+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column;var r=e.column+t;if(n<0){i=e.column-t;r=e.column}return this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t};this.moveCursorLeft=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,-1)){this.moveCursorTo(t.start.row,t.start.column)}else if(e.column===0){if(e.row>0){this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length)}}else{var n=this.session.getTabSize();if(this.wouldMoveIntoSoftTab(e,n,-1)&&!this.session.getNavigateWithinSoftTabs()){this.moveCursorBy(0,-n)}else{this.moveCursorBy(0,-1)}}};this.moveCursorRight=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,1)){this.moveCursorTo(t.end.row,t.end.column)}else if(this.lead.column==this.doc.getLine(this.lead.row).length){if(this.lead.row<this.doc.getLength()-1){this.moveCursorTo(this.lead.row+1,0)}}else{var n=this.session.getTabSize();var e=this.lead;if(this.wouldMoveIntoSoftTab(e,n,1)&&!this.session.getNavigateWithinSoftTabs()){this.moveCursorBy(0,n)}else{this.moveCursorBy(0,1)}}};this.moveCursorLineStart=function(){var e=this.lead.row;var t=this.lead.column;var n=this.session.documentToScreenRow(e,t);var i=this.session.screenToDocumentPosition(n,0);var r=this.session.getDisplayLine(e,null,i.row,i.column);var a=r.match(/^\s*/);if(a[0].length!=t&&!this.session.$useEmacsStyleLineStart)i.column+=a[0].length;this.moveCursorToPosition(i)};this.moveCursorLineEnd=function(){var e=this.lead;var t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);if(i>0)t.column=i}}this.moveCursorTo(t.row,t.column)};this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1;var t=this.doc.getLine(e).length;this.moveCursorTo(e,t)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};this.moveCursorLongWordRight=function(){var e=this.lead.row;var t=this.lead.column;var n=this.doc.getLine(e);var i=n.substring(t);var r;this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var a=this.session.getFoldAt(e,t,1);if(a){this.moveCursorTo(a.end.row,a.end.column);return}if(r=this.session.nonTokenRe.exec(i)){t+=this.session.nonTokenRe.lastIndex;this.session.nonTokenRe.lastIndex=0;i=n.substring(t)}if(t>=n.length){this.moveCursorTo(e,n.length);this.moveCursorRight();if(e<this.doc.getLength()-1)this.moveCursorWordRight();return}if(r=this.session.tokenRe.exec(i)){t+=this.session.tokenRe.lastIndex;this.session.tokenRe.lastIndex=0}this.moveCursorTo(e,t)};this.moveCursorLongWordLeft=function(){var e=this.lead.row;var t=this.lead.column;var n;if(n=this.session.getFoldAt(e,t,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var i=this.session.getFoldStringAt(e,t,-1);if(i==null){i=this.doc.getLine(e).substring(0,t)}var r=o.stringReverse(i);var a;this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;if(a=this.session.nonTokenRe.exec(r)){t-=this.session.nonTokenRe.lastIndex;r=r.slice(this.session.nonTokenRe.lastIndex);this.session.nonTokenRe.lastIndex=0}if(t<=0){this.moveCursorTo(e,0);this.moveCursorLeft();if(e>0)this.moveCursorWordLeft();return}if(a=this.session.tokenRe.exec(r)){t-=this.session.tokenRe.lastIndex;this.session.tokenRe.lastIndex=0}this.moveCursorTo(e,t)};this.$shortWordEndIndex=function(e){var t,n=0,i;var r=/\s/;var a=this.session.tokenRe;a.lastIndex=0;if(t=this.session.tokenRe.exec(e)){n=this.session.tokenRe.lastIndex}else{while((i=e[n])&&r.test(i))n++;if(n<1){a.lastIndex=0;while((i=e[n])&&!a.test(i)){a.lastIndex=0;n++;if(r.test(i)){if(n>2){n--;break}else{while((i=e[n])&&r.test(i))n++;if(n>2)break}}}}}a.lastIndex=0;return n};this.moveCursorShortWordRight=function(){var e=this.lead.row;var t=this.lead.column;var n=this.doc.getLine(e);var i=n.substring(t);var r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var a=this.doc.getLength();do{e++;i=this.doc.getLine(e)}while(e<a&&/^\s*$/.test(i));if(!/^\s+/.test(i))i="";t=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+o)};this.moveCursorShortWordLeft=function(){var e=this.lead.row;var t=this.lead.column;var n;if(n=this.session.getFoldAt(e,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var i=this.session.getLine(e).substring(0,t);if(t===0){do{e--;i=this.doc.getLine(e)}while(e>0&&/^\s*$/.test(i));t=i.length;if(!/\s+$/.test(i))i=""}var r=o.stringReverse(i);var a=this.$shortWordEndIndex(r);return this.moveCursorTo(e,t-a)};this.moveCursorWordRight=function(){if(this.session.$selectLongWords)this.moveCursorLongWordRight();else this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){if(this.session.$selectLongWords)this.moveCursorLongWordLeft();else this.moveCursorShortWordLeft()};this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);var i;if(t===0){if(e!==0){if(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)){i=this.session.$bidiHandler.getPosLeft(n.column);n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])}else{i=n.column*this.session.$bidiHandler.charWidths[0]}}if(this.$desiredColumn)n.column=this.$desiredColumn;else this.$desiredColumn=n.column}var r=this.session.screenToDocumentPosition(n.row+e,n.column,i);if(e!==0&&t===0&&r.row===this.lead.row&&r.column===this.lead.column){if(this.session.lineWidgets&&this.session.lineWidgets[r.row]){if(r.row>0||e>0)r.row++}}this.moveCursorTo(r.row,r.column+t,t===0)};this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)};this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);if(i){e=i.start.row;t=i.start.column}this.$keepDesiredColumnOnChange=true;var r=this.session.getLine(e);if(/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)){if(this.lead.row==e&&this.lead.column==t+1)t=t-1;else t=t+1}this.lead.setPosition(e,t);this.$keepDesiredColumnOnChange=false;if(!n)this.$desiredColumn=null};this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start);this.$desiredColumn=e.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(e){var t=this.getRange();if(e){e.start.column=t.start.column;e.start.row=t.start.row;e.end.column=t.end.column;e.end.row=t.end.row}else{e=t}e.cursor=this.isBackwards()?e.start:e.end;e.desiredColumn=this.$desiredColumn;return e};this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(e){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}};this.toJSON=function(){if(this.rangeCount){var e=this.ranges.map(function(e){var t=e.clone();t.isBackwards=e.cursor==e.start;return t})}else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e};this.fromJSON=function(e){if(e.start==undefined){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=a.fromPoints(e[t].start,e[t].end);if(e[t].isBackwards)n.cursor=n.start;this.addRange(n,true)}return}else e=e[0]}if(this.rangeList)this.toSingleRange(e);this.setSelectionRange(e,e.isBackwards)};this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return false;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;){if(!this.ranges[t].isEqual(e[t]))return false}return true}}).call(s.prototype);t.Selection=s});ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var i=e("./config");var b=2e3;var r=function(e){this.states=e;this.regExps={};this.matchMappings={};for(var t in this.states){var n=this.states[t];var i=[];var r=0;var a=this.matchMappings[t]={defaultToken:"text"};var o="g";var s=[];for(var l=0;l<n.length;l++){var c=n[l];if(c.defaultToken)a.defaultToken=c.defaultToken;if(c.caseInsensitive)o="gi";if(c.regex==null)continue;if(c.regex instanceof RegExp)c.regex=c.regex.toString().slice(1,-1);var u=c.regex;var h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;if(Array.isArray(c.token)){if(c.token.length==1||h==1){c.token=c.token[0]}else if(h-1!=c.token.length){this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1});c.token=c.token[0]}else{c.tokenArray=c.token;c.token=null;c.onMatch=this.$arrayTokens}}else if(typeof c.token=="function"&&!c.onMatch){if(h>1)c.onMatch=this.$applyToken;else c.onMatch=c.token}if(h>1){if(/\\\d/.test(c.regex)){u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+r+1)})}else{h=1;u=this.removeCapturingGroups(c.regex)}if(!c.splitRegex&&typeof c.token!="string")s.push(c)}a[r]=l;r+=h;i.push(u);if(!c.onMatch)c.onMatch=null}if(!i.length){a[0]=0;i.push("$")}s.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this);this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){b=e|0};this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1);var n=this.token.apply(this,t);if(typeof n==="string")return[{type:n,value:e}];var i=[];for(var r=0,a=n.length;r<a;r++){if(t[r])i[i.length]={type:n[r],value:t[r]}}return i};this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";var n=[];var i=this.tokenArray;for(var r=0,a=i.length;r<a;r++){if(t[r+1])n[n.length]={type:i[r],value:t[r+1]}}return n};this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t};this.createSplitterRegexp=function(e,t){if(e.indexOf("(?=")!=-1){var o=0;var s=false;var l={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,n,i,r,a){if(s){s=r!="]"}else if(r){s=true}else if(i){if(o==l.stack){l.end=a+1;l.stack=-1}o--}else if(n){o++;if(n.length!=1){l.stack=o;l.start=a}}return e});if(l.end!=null&&/^\)*$/.test(e.substr(l.end)))e=e.substring(0,l.start)+e.substr(l.end)}if(e.charAt(0)!="^")e="^"+e;if(e.charAt(e.length-1)!="$")e+="$";return new RegExp(e,(t||"").replace("g",""))};this.getLineTokens=function(e,t){if(t&&typeof t!="string"){var n=t.slice(0);t=n[0];if(t==="#tmp"){n.shift();t=n.shift()}}else var n=[];var i=t||"start";var r=this.states[i];if(!r){i="start";r=this.states[i]}var a=this.matchMappings[i];var o=this.regExps[i];o.lastIndex=0;var s,l=[];var c=0;var u=0;var h={type:null,value:""};while(s=o.exec(e)){var f=a.defaultToken;var d=null;var p=s[0];var m=o.lastIndex;if(m-p.length>c){var g=e.substring(c,m-p.length);if(h.type==f){h.value+=g}else{if(h.type)l.push(h);h={type:f,value:g}}}for(var v=0;v<s.length-2;v++){if(s[v+1]===undefined)continue;d=r[a[v]];if(d.onMatch)f=d.onMatch(p,i,n,e);else f=d.token;if(d.next){if(typeof d.next=="string"){i=d.next}else{i=d.next(i,n)}r=this.states[i];if(!r){this.reportError("state doesn't exist",i);i="start";r=this.states[i]}a=this.matchMappings[i];c=m;o=this.regExps[i];o.lastIndex=m}if(d.consumeLineEnd)c=m;break}if(p){if(typeof f==="string"){if((!d||d.merge!==false)&&h.type===f){h.value+=p}else{if(h.type)l.push(h);h={type:f,value:p}}}else if(f){if(h.type)l.push(h);h={type:null,value:""};for(var v=0;v<f.length;v++)l.push(f[v])}}if(c==e.length)break;c=m;if(u++>b){if(u>2*e.length){this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e})}while(c<e.length){if(h.type)l.push(h);h={value:e.substring(c,c+=2e3),type:"overflow"}}i="start";n=[];break}}if(h.type)l.push(h);if(n.length>1){if(n[0]!==i)n.unshift("#tmp",i)}return{tokens:l,state:n.length?n:i}};this.reportError=i.reportError}).call(r.prototype);t.Tokenizer=r});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var c=e("../lib/lang");var i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(!t){for(var n in e)this.$rules[n]=e[n];return}for(var n in e){var i=e[n];for(var r=0;r<i.length;r++){var a=i[r];if(a.next||a.onMatch){if(typeof a.next=="string"){if(a.next.indexOf(t)!==0)a.next=t+a.next}if(a.nextState&&a.nextState.indexOf(t)!==0)a.nextState=t+a.nextState}}this.$rules[t+n]=i}};this.getRules=function(){return this.$rules};this.embedRules=function(e,t,n,i,r){var a=typeof e=="function"?(new e).getRules():e;if(i){for(var o=0;o<i.length;o++)i[o]=t+i[o]}else{i=[];for(var s in a)i.push(t+s)}this.addRules(a,t);if(n){var l=Array.prototype[r?"push":"unshift"];for(var o=0;o<i.length;o++)l.apply(this.$rules[i[o]],c.deepCopy(n))}if(!this.$embeds)this.$embeds=[];this.$embeds.push(t)};this.getEmbeds=function(){return this.$embeds};var d=function(e,t){if(e!="start"||t.length)t.unshift(this.nextState,e);return this.nextState};var p=function(e,t){t.shift();return t.shift()||"start"};this.normalizeRules=function(){var u=0;var h=this.$rules;function f(e){var t=h[e];t.processed=true;for(var n=0;n<t.length;n++){var i=t[n];var r=null;if(Array.isArray(i)){r=i;i={}}if(!i.regex&&i.start){i.regex=i.start;if(!i.next)i.next=[];i.next.push({defaultToken:i.token},{token:i.token+".end",regex:i.end||i.start,next:"pop"});i.token=i.token+".start";i.push=true}var a=i.next||i.push;if(a&&Array.isArray(a)){var o=i.stateName;if(!o){o=i.token;if(typeof o!="string")o=o[0]||"";if(h[o])o+=u++}h[o]=a;i.next=o;f(o)}else if(a=="pop"){i.next=p}if(i.push){i.nextState=i.next||i.push;i.next=d;delete i.push}if(i.rules){for(var s in i.rules){if(h[s]){if(h[s].push)h[s].push.apply(h[s],i.rules[s])}else{h[s]=i.rules[s]}}}var l=typeof i=="string"?i:i.include;if(l){if(Array.isArray(l))r=l.map(function(e){return h[e]});else r=h[l]}if(r){var c=[n,1].concat(r);if(i.noEscape)c=c.filter(function(e){return!e.next});t.splice.apply(t,c);n--}if(i.keywordMap){i.token=this.createKeywordMapper(i.keywordMap,i.defaultToken||"text",i.caseInsensitive);delete i.defaultToken}}}Object.keys(h).forEach(f,this)};this.createKeywordMapper=function(r,t,a,o){var s=Object.create(null);Object.keys(r).forEach(function(e){var t=r[e];if(a)t=t.toLowerCase();var n=t.split(o||"|");for(var i=n.length;i--;)s[n[i]]=e});if(Object.getPrototypeOf(s)){s.__proto__=null}this.$keywordList=Object.keys(s);r=null;return a?function(e){return s[e.toLowerCase()]||t}:function(e){return s[e]||t}};this.getKeywords=function(){return this.$keywords}}).call(i.prototype);t.TextHighlightRules=i});ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n};this.addBehaviours=function(e){for(var t in e){for(var n in e[t]){this.add(t,n,e[t][n])}}};this.remove=function(e){if(this.$behaviours&&this.$behaviours[e]){delete this.$behaviours[e]}};this.inherit=function(e,t){if(typeof e==="function"){var n=(new e).getBehaviours(t)}else{var n=e.getBehaviours(t)}this.addBehaviours(n)};this.getBehaviours=function(e){if(!e){return this.$behaviours}else{var t={};for(var n=0;n<e.length;n++){if(this.$behaviours[e[n]]){t[e[n]]=this.$behaviours[e[n]]}}return t}}}).call(i.prototype);t.Behaviour=i});ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,n){"use strict";var i=e("./range").Range;var r=function(e,t,n){this.$session=e;this.$row=t;this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0){this.$row=0;return null}this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};this.stepForward=function(){this.$tokenIndex+=1;var e;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1;if(!e)e=this.$session.getLength();if(this.$row>=e){this.$row=e-1;return null}this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var e=this.$rowTokens;var t=this.$tokenIndex;var n=e[t].start;if(n!==undefined)return n;n=0;while(t>0){t-=1;n+=e[t].value.length}return n};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex];var t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(r.prototype);t.TokenIterator=r});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var i=e("../../lib/oop");var r=e("../behaviour").Behaviour;var a=e("../../token_iterator").TokenIterator;var g=e("../../lib/lang");var o=["text","paren.rparen","punctuation.operator"];var s=["text","paren.rparen","punctuation.operator","comment"];var v;var l={};var w={'"':'"',"'":"'"};var _=function(e){var t=-1;if(e.multiSelect){t=e.selection.index;if(l.rangeCount!=e.multiSelect.rangeCount)l={rangeCount:e.multiSelect.rangeCount}}if(l[t])return v=l[t];v=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}};var E=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}};var b=function(m){this.add("braces","insertion",function(e,t,n,i,r){var a=n.getCursorPosition();var o=i.doc.getLine(a.row);if(r=="{"){_(n);var s=n.getSelectionRange();var l=i.doc.getTextRange(s);if(l!==""&&l!=="{"&&n.getWrapBehavioursEnabled()){return E(s,l,"{","}")}else if(b.isSaneInsertion(n,i)){if(/[\]\}\)]/.test(o[a.column])||n.inMultiSelectMode||m&&m.braces){b.recordAutoInsert(n,i,"}");return{text:"{}",selection:[1,1]}}else{b.recordMaybeInsert(n,i,"{");return{text:"{",selection:[1,1]}}}}else if(r=="}"){_(n);var c=o.substring(a.column,a.column+1);if(c=="}"){var u=i.$findOpeningBracket("}",{column:a.column+1,row:a.row});if(u!==null&&b.isAutoInsertedClosing(a,o,r)){b.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}else if(r=="\n"||r=="\r\n"){_(n);var h="";if(b.isMaybeInsertedClosing(a,o)){h=g.stringRepeat("}",v.maybeInsertedBrackets);b.clearMaybeInsertedClosing()}var c=o.substring(a.column,a.column+1);if(c==="}"){var f=i.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!f)return null;var d=this.$getIndent(i.getLine(f.row))}else if(h){var d=this.$getIndent(o)}else{b.clearMaybeInsertedClosing();return}var p=d+i.getTabString();return{text:"\n"+p+"\n"+d+h,selection:[1,p.length,1,p.length]}}else{b.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&a=="{"){_(n);var o=i.doc.getLine(r.start.row);var s=o.substring(r.end.column,r.end.column+1);if(s=="}"){r.end.column++;return r}else{v.maybeInsertedBrackets--}}});this.add("parens","insertion",function(e,t,n,i,r){if(r=="("){_(n);var a=n.getSelectionRange();var o=i.doc.getTextRange(a);if(o!==""&&n.getWrapBehavioursEnabled()){return E(a,o,"(",")")}else if(b.isSaneInsertion(n,i)){b.recordAutoInsert(n,i,")");return{text:"()",selection:[1,1]}}}else if(r==")"){_(n);var s=n.getCursorPosition();var l=i.doc.getLine(s.row);var c=l.substring(s.column,s.column+1);if(c==")"){var u=i.$findOpeningBracket(")",{column:s.column+1,row:s.row});if(u!==null&&b.isAutoInsertedClosing(s,l,r)){b.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}});this.add("parens","deletion",function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&a=="("){_(n);var o=i.doc.getLine(r.start.row);var s=o.substring(r.start.column+1,r.start.column+2);if(s==")"){r.end.column++;return r}}});this.add("brackets","insertion",function(e,t,n,i,r){if(r=="["){_(n);var a=n.getSelectionRange();var o=i.doc.getTextRange(a);if(o!==""&&n.getWrapBehavioursEnabled()){return E(a,o,"[","]")}else if(b.isSaneInsertion(n,i)){b.recordAutoInsert(n,i,"]");return{text:"[]",selection:[1,1]}}}else if(r=="]"){_(n);var s=n.getCursorPosition();var l=i.doc.getLine(s.row);var c=l.substring(s.column,s.column+1);if(c=="]"){var u=i.$findOpeningBracket("]",{column:s.column+1,row:s.row});if(u!==null&&b.isAutoInsertedClosing(s,l,r)){b.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}});this.add("brackets","deletion",function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&a=="["){_(n);var o=i.doc.getLine(r.start.row);var s=o.substring(r.start.column+1,r.start.column+2);if(s=="]"){r.end.column++;return r}}});this.add("string_dquotes","insertion",function(e,t,n,i,r){var a=i.$mode.$quotes||w;if(r.length==1&&a[r]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(r)!=-1)return;_(n);var o=r;var s=n.getSelectionRange();var l=i.doc.getTextRange(s);if(l!==""&&(l.length!=1||!a[l])&&n.getWrapBehavioursEnabled()){return E(s,l,o,o)}else if(!l){var c=n.getCursorPosition();var u=i.doc.getLine(c.row);var h=u.substring(c.column-1,c.column);var f=u.substring(c.column,c.column+1);var d=i.getTokenAt(c.row,c.column);var p=i.getTokenAt(c.row,c.column+1);if(h=="\\"&&d&&/escape/.test(d.type))return null;var m=d&&/string|escape/.test(d.type);var g=!p||/string|escape/.test(p.type);var v;if(f==o){v=m!==g;if(v&&/string\.end/.test(p.type))v=false}else{if(m&&!g)return null;if(m&&g)return null;var b=i.$mode.tokenRe;b.lastIndex=0;var y=b.test(h);b.lastIndex=0;var x=b.test(h);if(y||x)return null;if(f&&!/[\s;,.})\]\\]/.test(f))return null;v=true}return{text:v?o+o:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&(a=='"'||a=="'")){_(n);var o=i.doc.getLine(r.start.row);var s=o.substring(r.start.column+1,r.start.column+2);if(s==a){r.end.column++;return r}}})};b.isSaneInsertion=function(e,t){var n=e.getCursorPosition();var i=new a(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",o)){var r=new a(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",o))return false}i.stepForward();return i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",s)};b.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1};b.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition();var r=t.doc.getLine(i.row);if(!this.isAutoInsertedClosing(i,r,v.autoInsertedLineEnd[0]))v.autoInsertedBrackets=0;v.autoInsertedRow=i.row;v.autoInsertedLineEnd=n+r.substr(i.column);v.autoInsertedBrackets++};b.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition();var r=t.doc.getLine(i.row);if(!this.isMaybeInsertedClosing(i,r))v.maybeInsertedBrackets=0;v.maybeInsertedRow=i.row;v.maybeInsertedLineStart=r.substr(0,i.column)+n;v.maybeInsertedLineEnd=r.substr(i.column);v.maybeInsertedBrackets++};b.isAutoInsertedClosing=function(e,t,n){return v.autoInsertedBrackets>0&&e.row===v.autoInsertedRow&&n===v.autoInsertedLineEnd[0]&&t.substr(e.column)===v.autoInsertedLineEnd};b.isMaybeInsertedClosing=function(e,t){return v.maybeInsertedBrackets>0&&e.row===v.maybeInsertedRow&&t.substr(e.column)===v.maybeInsertedLineEnd&&t.substr(0,e.column)==v.maybeInsertedLineStart};b.popAutoInsertedClosing=function(){v.autoInsertedLineEnd=v.autoInsertedLineEnd.substr(1);v.autoInsertedBrackets--};b.clearMaybeInsertedClosing=function(){if(v){v.maybeInsertedBrackets=0;v.maybeInsertedRow=-1}};i.inherits(b,r);t.CstyleBehaviour=b});ace.define("ace/unicode",["require","exports","module"],function(e,i,t){"use strict";i.packages={};n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"});function n(e){var t=/\w{4}/g;for(var n in e)i.packages[n]=e[n].replace(t,"\\u$&")}});ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var i=e("../tokenizer").Tokenizer;var r=e("./text_highlight_rules").TextHighlightRules;var a=e("./behaviour/cstyle").CstyleBehaviour;var o=e("../unicode");var w=e("../lib/lang");var g=e("../token_iterator").TokenIterator;var v=e("../range").Range;var s=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new a;this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){if(!this.$tokenizer){this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig);this.$tokenizer=new i(this.$highlightRules.getRules())}return this.$tokenizer};this.lineCommentStart="";this.blockComment="";this.toggleCommentLines=function(e,r,n,i){var a=r.doc;var o=true;var s=true;var l=Infinity;var c=r.getTabSize();var t=false;if(!this.lineCommentStart){if(!this.blockComment)return false;var u=this.blockComment.start;var h=this.blockComment.end;var f=new RegExp("^(\\s*)(?:"+w.escapeRegExp(u)+")");var d=new RegExp("(?:"+w.escapeRegExp(h)+")\\s*$");var p=function(e,t){if(g(e,t))return;if(!o||/\S/.test(e)){a.insertInLine({row:t,column:e.length},h);a.insertInLine({row:t,column:l},u)}};var m=function(e,t){var n;if(n=e.match(d))a.removeInLine(t,e.length-n[0].length,e.length);if(n=e.match(f))a.removeInLine(t,n[1].length,n[0].length)};var g=function(e,t){if(f.test(e))return true;var n=r.getTokens(t);for(var i=0;i<n.length;i++){if(n[i].type==="comment")return true}}}else{if(Array.isArray(this.lineCommentStart)){var f=this.lineCommentStart.map(w.escapeRegExp).join("|");var u=this.lineCommentStart[0]}else{var f=w.escapeRegExp(this.lineCommentStart);var u=this.lineCommentStart}f=new RegExp("^(\\s*)(?:"+f+") ?");t=r.getUseSoftTabs();var m=function(e,t){var n=e.match(f);if(!n)return;var i=n[1].length,r=n[0].length;if(!b(e,i,r)&&n[0][r-1]==" ")r--;a.removeInLine(t,i,r)};var v=u+" ";var p=function(e,t){if(!o||/\S/.test(e)){if(b(e,l,l))a.insertInLine({row:t,column:l},v);else a.insertInLine({row:t,column:l},u)}};var g=function(e,t){return f.test(e)};var b=function(e,t,n){var i=0;while(t--&&e.charAt(t)==" ")i++;if(i%c!=0)return false;var i=0;while(e.charAt(n++)==" ")i++;if(c>2)return i%c!=c-1;else return i%c==0;return true}}function y(e){for(var t=n;t<=i;t++)e(a.getLine(t),t)}var x=Infinity;y(function(e,t){var n=e.search(/\S/);if(n!==-1){if(n<l)l=n;if(s&&!g(e,t))s=false}else if(x>e.length){x=e.length}});if(l==Infinity){l=x;o=false;s=false}if(t&&l%c!=0)l=Math.floor(l/c)*c;y(s?m:p)};this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(!r)return;if(!r.start&&r[0])r=r[0];var a=new g(t,i.row,i.column);var o=a.getCurrentToken();var s=t.selection;var l=t.selection.toOrientedRange();var c,u;if(o&&/comment/.test(o.type)){var h,f;while(o&&/comment/.test(o.type)){var d=o.value.indexOf(r.start);if(d!=-1){var p=a.getCurrentTokenRow();var m=a.getCurrentTokenColumn()+d;h=new v(p,m,p,m+r.start.length);break}o=a.stepBackward()}var a=new g(t,i.row,i.column);var o=a.getCurrentToken();while(o&&/comment/.test(o.type)){var d=o.value.indexOf(r.end);if(d!=-1){var p=a.getCurrentTokenRow();var m=a.getCurrentTokenColumn()+d;f=new v(p,m,p,m+r.end.length);break}o=a.stepForward()}if(f)t.remove(f);if(h){t.remove(h);c=h.start.row;u=-r.start.length}}else{u=r.start.length;c=n.start.row;t.insert(n.end,r.end);t.insert(n.start,r.start)}if(l.start.row==c)l.start.column+=u;if(l.end.row==c)l.end.column+=u;t.selection.fromOrientedRange(l)};this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)};this.checkOutdent=function(e,t,n){return false};this.autoOutdent=function(e,t,n){};this.$getIndent=function(e){return e.match(/^\s*/)[0]};this.createWorker=function(e){return null};this.createModeDelegates=function(e){this.$embeds=[];this.$modes={};for(var i in e){if(e[i]){this.$embeds.push(i);this.$modes[i]=new e[i]}}var r=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(var i=0;i<r.length;i++){(function(e){var t=r[i];var n=e[t];e[r[i]]=function(){return this.$delegator(t,arguments,n)}})(this)}};this.$delegator=function(e,t,n){var i=t[0];if(typeof i!="string")i=i[0];for(var r=0;r<this.$embeds.length;r++){if(!this.$modes[this.$embeds[r]])continue;var a=i.split(this.$embeds[r]);if(!a[0]&&a[1]){t[0]=a[1];var o=this.$modes[this.$embeds[r]];return o[e].apply(o,t)}}var s=n.apply(this,t);return n?s:undefined};this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var a=this.$behaviour.getBehaviours();for(var o in a){if(a[o][t]){var s=a[o][t].apply(this,arguments);if(s){return s}}}}};this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules;var n=[];for(var i in t){var r=t[i];for(var a=0,o=r.length;a<o;a++){if(typeof r[a].token==="string"){if(/keyword|support|storage/.test(r[a].token))n.push(r[a].regex)}else if(typeof r[a].token==="object"){for(var s=0,l=r[a].token.length;s<l;s++){if(/keyword|support|storage/.test(r[a].token[s])){var i=r[a].regex.match(/\(.+?\)/g)[s];n.push(i.substr(1,i.length-2))}}}}}this.completionKeywords=n}if(!e)return this.$keywordList;return n.concat(this.$keywordList||[])};this.$createKeywordList=function(){if(!this.$highlightRules)this.getTokenizer();return this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(e,t,n,i){var r=this.$keywordList||this.$createKeywordList();return r.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(s.prototype);t.Mode=s});ace.define("ace/apply_delta",["require","exports","module"],function(e,t,n){"use strict";function o(e,t){console.log("Invalid Delta:",e);throw"Invalid Delta: "+t}function s(e,t){return t.row>=0&&t.row<e.length&&t.column>=0&&t.column<=e[t.row].length}function i(e,t){if(t.action!="insert"&&t.action!="remove")o(t,"delta.action must be 'insert' or 'remove'");if(!(t.lines instanceof Array))o(t,"delta.lines must be an Array");if(!t.start||!t.end)o(t,"delta.start/end must be an present");var n=t.start;if(!s(e,t.start))o(t,"delta.start must be contained in document");var i=t.end;if(t.action=="remove"&&!s(e,i))o(t,"delta.end must contained in document for 'remove' actions");var r=i.row-n.row;var a=i.column-(r==0?n.column:0);if(r!=t.lines.length-1||t.lines[r].length!=a)o(t,"delta.range must match delta lines")}t.applyDelta=function(e,t,n){var i=t.start.row;var r=t.start.column;var a=e[i]||"";switch(t.action){case"insert":var o=t.lines;if(o.length===1){e[i]=a.substring(0,r)+t.lines[0]+a.substring(r)}else{var s=[i,1].concat(t.lines);e.splice.apply(e,s);e[i]=a.substring(0,r)+e[i];e[i+t.lines.length-1]+=a.substring(r)}break;case"remove":var l=t.end.column;var c=t.end.row;if(i===c){e[i]=a.substring(0,r)+a.substring(l)}else{e.splice(i,c-i+1,a.substring(0,r)+e[c].substring(l))}break}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop");var r=e("./lib/event_emitter").EventEmitter;var a=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this);this.attach(e);if(typeof n=="undefined")this.setPosition(t.row,t.column);else this.setPosition(t,n)};(function(){i.implement(this,r);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};this.$insertRight=false;this.onChange=function(e){if(e.start.row==e.end.row&&e.start.row!=this.row)return;if(e.start.row>this.row)return;var t=n(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,true)};function l(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}function n(e,t,n){var i=e.action=="insert";var r=(i?1:-1)*(e.end.row-e.start.row);var a=(i?1:-1)*(e.end.column-e.start.column);var o=e.start;var s=i?o:e.end;if(l(t,o,n)){return{row:t.row,column:t.column}}if(l(s,t,!n)){return{row:t.row+r,column:t.column+(t.row==s.row?a:0)}}return{row:o.row,column:o.column}}this.setPosition=function(e,t,n){var i;if(n){i={row:e,column:t}}else{i=this.$clipPositionToDocument(e,t)}if(this.row==i.row&&this.column==i.column)return;var r={row:this.row,column:this.column};this.row=i.row;this.column=i.column;this._signal("change",{old:r,value:i})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(e){this.document=e||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(e,t){var n={};if(e>=this.document.getLength()){n.row=Math.max(0,this.document.getLength()-1);n.column=this.document.getLine(n.row).length}else if(e<0){n.row=0;n.column=0}else{n.row=e;n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))}if(t<0)n.column=0;return n}}).call(a.prototype)});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var i=e("./lib/oop");var r=e("./apply_delta").applyDelta;var a=e("./lib/event_emitter").EventEmitter;var u=e("./range").Range;var o=e("./anchor").Anchor;var s=function(e){this.$lines=[""];if(e.length===0){this.$lines=[""]}else if(Array.isArray(e)){this.insertMergedLines({row:0,column:0},e)}else{this.insert({row:0,column:0},e)}};(function(){i.implement(this,a);this.setValue=function(e){var t=this.getLength()-1;this.remove(new u(0,0,t,this.getLine(t).length));this.insert({row:0,column:0},e)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(e,t){return new o(this,e,t)};if("aaa".split(/a/).length===0){this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}}else{this.$split=function(e){return e.split(/\r\n|\r|\n/)}}this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n";this._signal("changeNewLineMode")};this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(e){if(this.$newLineMode===e)return;this.$newLineMode=e;this._signal("changeNewLineMode")};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(e){return e=="\r\n"||e=="\r"||e=="\n"};this.getLine=function(e){return this.$lines[e]||""};this.getLines=function(e,t){return this.$lines.slice(e,t+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())};this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row){t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)]}else{t=this.getLines(e.start.row,e.end.row);t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;if(e.end.row-e.start.row==n)t[n]=t[n].substring(0,e.end.column)}return t};this.insertLines=function(e,t){console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");return this.insertFullLines(e,t)};this.removeLines=function(e,t){console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");return this.removeFullLines(e,t)};this.insertNewLine=function(e){console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");return this.insertMergedLines(e,["",""])};this.insert=function(e,t){if(this.getLength()<=1)this.$detectNewLine(t);return this.insertMergedLines(e,this.$split(t))};this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column);var i=this.pos(e.row,e.column+t.length);this.applyDelta({start:n,end:i,action:"insert",lines:[t]},true);return this.clonePos(i)};this.clippedPos=function(e,t){var n=this.getLength();if(e===undefined){e=n}else if(e<0){e=0}else if(e>=n){e=n-1;t=undefined}var i=this.getLine(e);if(t==undefined)t=i.length;t=Math.min(Math.max(t,0),i.length);return{row:e,column:t}};this.clonePos=function(e){return{row:e.row,column:e.column}};this.pos=function(e,t){return{row:e,column:t}};this.$clipPosition=function(e){var t=this.getLength();if(e.row>=t){e.row=Math.max(0,t-1);e.column=this.getLine(t-1).length}else{e.row=Math.max(0,e.row);e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)}return e};this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;if(e<this.getLength()){t=t.concat([""]);n=0}else{t=[""].concat(t);e--;n=this.$lines[e].length}this.insertMergedLines({row:e,column:n},t)};this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column);var i={row:n.row+t.length-1,column:(t.length==1?n.column:0)+t[t.length-1].length};this.applyDelta({start:n,end:i,action:"insert",lines:t});return this.clonePos(i)};this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column);var n=this.clippedPos(e.end.row,e.end.column);this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})});return this.clonePos(t)};this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t);var r=this.clippedPos(e,n);this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},true);return this.clonePos(i)};this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0;var i=t<this.getLength()-1;var r=n?e-1:e;var a=n?this.getLine(r).length:0;var o=i?t+1:t;var s=i?0:this.getLine(o).length;var l=new u(r,a,o,s);var c=this.$lines.slice(e,t+1);this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)});return c};this.removeNewLine=function(e){if(e<this.getLength()-1&&e>=0){this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})}};this.replace=function(e,t){if(!(e instanceof u))e=u.fromPoints(e.start,e.end);if(t.length===0&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;if(t){n=this.insert(e.start,t)}else{n=e.start}return n};this.applyDeltas=function(e){for(var t=0;t<e.length;t++){this.applyDelta(e[t])}};this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){this.revertDelta(e[t])}};this.applyDelta=function(e,t){var n=e.action=="insert";if(n?e.lines.length<=1&&!e.lines[0]:!u.comparePoints(e.start,e.end)){return}if(n&&e.lines.length>2e4)this.$splitAndapplyLargeDelta(e,2e4);r(this.$lines,e,t);this._signal("change",e)};this.$splitAndapplyLargeDelta=function(e,t){var n=e.lines;var i=n.length;var r=e.start.row;var a=e.start.column;var o=0,s=0;do{o=s;s+=t-1;var l=n.slice(o,s);if(s>i){e.lines=l;e.start.row=r+o;e.start.column=a;break}l.push("");this.applyDelta({start:this.pos(r+o,a),end:this.pos(r+s,a=0),action:e.action,lines:l},true)}while(true)};this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action=="insert"?"remove":"insert",lines:e.lines.slice()})};this.indexToPosition=function(e,t){var n=this.$lines||this.getAllLines();var i=this.getNewLineCharacter().length;for(var r=t||0,a=n.length;r<a;r++){e-=n[r].length+i;if(e<0)return{row:r,column:e+n[r].length+i}}return{row:a-1,column:n[a-1].length}};this.positionToIndex=function(e,t){var n=this.$lines||this.getAllLines();var i=this.getNewLineCharacter().length;var r=0;var a=Math.min(e.row,n.length);for(var o=t||0;o<a;++o)r+=n[o].length+i;return r+e.column}}).call(s.prototype);t.Document=s});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop");var r=e("./lib/event_emitter").EventEmitter;var a=function(e,t){this.running=false;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=e;var s=this;this.$worker=function(){if(!s.running){return}var e=new Date;var t=s.currentLine;var n=-1;var i=s.doc;var r=t;while(s.lines[t])t++;var a=i.getLength();var o=0;s.running=false;while(t<a){s.$tokenizeRow(t);n=t;do{t++}while(s.lines[t]);o++;if(o%5===0&&new Date-e>20){s.running=setTimeout(s.$worker,20);break}}s.currentLine=t;if(n==-1)n=t;if(r<=n)s.fireUpdateEvent(r,n)}};(function(){i.implement(this,r);this.setTokenizer=function(e){this.tokenizer=e;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(e){this.doc=e;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})};this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){if(!this.running)this.running=setTimeout(this.$worker,700)};this.$updateOnChange=function(e){var t=e.start.row;var n=e.end.row-t;if(n===0){this.lines[t]=null}else if(e.action=="remove"){this.lines.splice(t,n+1,null);this.states.splice(t,n+1,null)}else{var i=Array(n+1);i.unshift(t,1);this.lines.splice.apply(this.lines,i);this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){if(this.running)clearTimeout(this.running);this.running=false};this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)};this.getState=function(e){if(this.currentLine==e)this.$tokenizeRow(e);return this.states[e]||"start"};this.$tokenizeRow=function(e){var t=this.doc.getLine(e);var n=this.states[e-1];var i=this.tokenizer.getLineTokens(t,n,e);if(this.states[e]+""!==i.state+""){this.states[e]=i.state;this.lines[e+1]=null;if(this.currentLine>e+1)this.currentLine=e+1}else if(this.currentLine==e){this.currentLine=e+1}return this.lines[e]=i.tokens}}).call(a.prototype);t.BackgroundTokenizer=a});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var c=e("./lib/lang");var i=e("./lib/oop");var u=e("./range").Range;var r=function(e,t,n){this.setRegexp(e);this.clazz=t;this.type=n||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(e){if(this.regExp+""==e+"")return;this.regExp=e;this.cache=[]};this.update=function(e,t,n,i){if(!this.regExp)return;var r=i.firstRow,a=i.lastRow;for(var o=r;o<=a;o++){var s=this.cache[o];if(s==null){s=c.getMatchOffsets(n.getLine(o),this.regExp);if(s.length>this.MAX_RANGES)s=s.slice(0,this.MAX_RANGES);s=s.map(function(e){return new u(o,e.offset,o,e.offset+e.length)});this.cache[o]=s.length?s:""}for(var l=s.length;l--;){t.drawSingleLineMarker(e,s[l].toScreenRange(n),this.clazz,i)}}}}).call(r.prototype);t.SearchHighlight=r});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";var i=e("../range").Range;function c(e,t){this.foldData=e;if(Array.isArray(t)){this.folds=t}else{t=this.folds=[t]}var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(e){e.setFoldLine(this)},this)}(function(){this.shiftRow=function(t){this.start.row+=t;this.end.row+=t;this.folds.forEach(function(e){e.start.row+=t;e.end.row+=t})};this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow){throw new Error("Can't add a fold to this FoldLine as it has no connection")}this.folds.push(e);this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)});if(this.range.compareEnd(e.start.row,e.start.column)>0){this.end.row=e.end.row;this.end.column=e.end.column}else if(this.range.compareStart(e.end.row,e.end.column)<0){this.start.row=e.start.row;this.start.column=e.start.column}}else if(e.start.row==this.end.row){this.folds.push(e);this.end.row=e.end.row;this.end.column=e.end.column}else if(e.end.row==this.start.row){this.folds.unshift(e);this.start.row=e.start.row;this.start.column=e.start.column}else{throw new Error("Trying to add fold to FoldRow that doesn't have a matching row")}e.foldLine=this};this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row};this.walk=function(e,t,n){var i=0,r=this.folds,a,o,s,l=true;if(t==null){t=this.end.row;n=this.end.column}for(var c=0;c<r.length;c++){a=r[c];o=a.range.compareStart(t,n);if(o==-1){e(null,t,n,i,l);return}s=e(null,a.start.row,a.start.column,i,l);s=!s&&e(a.placeholder,a.start.row,a.start.column,i);if(s||o===0){return}l=!a.sameRow;i=a.end.column}e(null,t,n,i,l)};this.getNextFoldTo=function(e,t){var n,i;for(var r=0;r<this.folds.length;r++){n=this.folds[r];i=n.range.compareEnd(e,t);if(i==-1){return{fold:n,kind:"after"}}else if(i===0){return{fold:n,kind:"inside"}}}return null};this.addRemoveChars=function(e,t,n){var i=this.getNextFoldTo(e,t),r,a;if(i){r=i.fold;if(i.kind=="inside"&&r.start.column!=t&&r.start.row!=e){window.console&&window.console.log(e,t,r)}else if(r.start.row==e){a=this.folds;var o=a.indexOf(r);if(o===0){this.start.column+=n}for(o;o<a.length;o++){r=a[o];r.start.column+=n;if(!r.sameRow){return}r.end.column+=n}this.end.column+=n}}};this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||n.kind=="inside")return null;var i=n.fold;var r=this.folds;var a=this.foldData;var o=r.indexOf(i);var s=r[o-1];this.end.row=s.end.row;this.end.column=s.end.column;r=r.splice(o,r.length-o);var l=new c(a,r);a.splice(a.indexOf(this)+1,0,l);return l};this.merge=function(e){var t=e.folds;for(var n=0;n<t.length;n++){this.addFold(t[n])}var i=this.foldData;i.splice(i.indexOf(e),1)};this.toString=function(){var t=[this.range.toString()+": ["];this.folds.forEach(function(e){t.push("  "+e.toString())});t.push("]");return t.join("\n")};this.idxToPosition=function(e){var t=0;for(var n=0;n<this.folds.length;n++){var i=this.folds[n];e-=i.start.column-t;if(e<0){return{row:i.start.row,column:i.start.column+e}}e-=i.placeholder.length;if(e<0){return i.start}t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(c.prototype);t.FoldLine=c});ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var i=e("./range").Range;var l=i.comparePoints;var r=function(){this.ranges=[]};(function(){this.comparePoints=l;this.pointIndex=function(e,t,n){var i=this.ranges;for(var r=n||0;r<i.length;r++){var a=i[r];var o=l(e,a.end);if(o>0)continue;var s=l(e,a.start);if(o===0)return t&&s!==0?-r-2:r;if(s>0||s===0&&!t)return r;return-r-1}return-r-1};this.add=function(e){var t=!e.isEmpty();var n=this.pointIndex(e.start,t);if(n<0)n=-n-1;var i=this.pointIndex(e.end,t,n);if(i<0)i=-i-1;else i++;return this.ranges.splice(n,i-n,e)};this.addList=function(e){var t=[];for(var n=e.length;n--;){t.push.apply(t,this.add(e[n]))}return t};this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)};this.merge=function(){var e=[];var t=this.ranges;t=t.sort(function(e,t){return l(e.start,t.start)});var n=t[0],i;for(var r=1;r<t.length;r++){i=n;n=t[r];var a=l(i.end,n.start);if(a<0)continue;if(a==0&&!i.isEmpty()&&!n.isEmpty())continue;if(l(i.end,n.end)<0){i.end.row=n.end.row;i.end.column=n.end.column}t.splice(r,1);e.push(n);n=i;r--}this.ranges=t;return e};this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0};this.containsPoint=function(e){return this.pointIndex(e)>=0};this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]};this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});if(i<0)i=-i-1;var r=this.pointIndex({row:t,column:0},i);if(r<0)r=-r-1;var a=[];for(var o=i;o<r;o++){a.push(n[o])}return a};this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(e){if(this.session)this.detach();this.session=e;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){if(!this.session)return;this.session.removeListener("change",this.onChange);this.session=null};this.$onChange=function(e){if(e.action=="insert"){var t=e.start;var n=e.end}else{var n=e.start;var t=e.end}var i=t.row;var r=n.row;var a=r-i;var o=-t.column+n.column;var s=this.ranges;for(var l=0,c=s.length;l<c;l++){var u=s[l];if(u.end.row<i)continue;if(u.start.row>i)break;if(u.start.row==i&&u.start.column>=t.column){if(u.start.column==t.column&&this.$insertRight){}else{u.start.column+=o;u.start.row+=a}}if(u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$insertRight){continue}if(u.end.column==t.column&&o>0&&l<c-1){if(u.end.column>u.start.column&&u.end.column==s[l+1].start.column)u.end.column-=o}u.end.column+=o;u.end.row+=a}}if(a!=0&&l<c){for(;l<c;l++){var u=s[l];u.start.row+=a;u.end.row+=a}}}}).call(r.prototype);t.RangeList=r});ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";var i=e("../range").Range;var r=e("../range_list").RangeList;var a=e("../lib/oop");var o=t.Fold=function(e,t){this.foldLine=null;this.placeholder=t;this.range=e;this.start=e.start;this.end=e.end;this.sameRow=e.start.row==e.end.row;this.subFolds=this.ranges=[]};a.inherits(o,r);(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(t){this.foldLine=t;this.subFolds.forEach(function(e){e.setFoldLine(t)})};this.clone=function(){var e=this.range.clone();var t=new o(e,this.placeholder);this.subFolds.forEach(function(e){t.subFolds.push(e.clone())});t.collapseChildren=this.collapseChildren;return t};this.addSubFold=function(e){if(this.range.isEqual(e))return;if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);c(e,this.start);var t=e.start.row,n=e.start.column;for(var i=0,r=-1;i<this.subFolds.length;i++){r=this.subFolds[i].range.compare(t,n);if(r!=1)break}var a=this.subFolds[i];if(r==0)return a.addSubFold(e);var t=e.range.end.row,n=e.range.end.column;for(var o=i,r=-1;o<this.subFolds.length;o++){r=this.subFolds[o].range.compare(t,n);if(r!=1)break}var s=this.subFolds[o];if(r==0)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);var l=this.subFolds.splice(i,o-i,e);e.setFoldLine(this.foldLine);return e};this.restoreRange=function(e){return u(e,this.start)}}).call(o.prototype);function s(e,t){e.row-=t.row;if(e.row==0)e.column-=t.column}function c(e,t){s(e.start,t);s(e.end,t)}function l(e,t){if(e.row==0)e.column+=t.column;e.row+=t.row}function u(e,t){l(e.start,t);l(e.end,t)}});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";var u=e("../range").Range;var m=e("./fold_line").FoldLine;var g=e("./fold").Fold;var h=e("../token_iterator").TokenIterator;function i(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;var r=i.folds;for(var a=0;a<r.length;a++){var o=r[a];if(o.range.contains(e,t)){if(n==1&&o.range.isEnd(e,t)){continue}else if(n==-1&&o.range.isStart(e,t)){continue}return o}}};this.getFoldsInRange=function(e){var t=e.start;var n=e.end;var i=this.$foldData;var r=[];t.column+=1;n.column-=1;for(var a=0;a<i.length;a++){var o=i[a].range.compareRange(e);if(o==2){continue}else if(o==-2){break}var s=i[a].folds;for(var l=0;l<s.length;l++){var c=s[l];o=c.range.compareRange(e);if(o==-2){break}else if(o==2){continue}else if(o==42){break}r.push(c)}}t.column-=1;n.column+=1;return r};this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else{var t=this.getFoldsInRange(e)}return t};this.getAllFolds=function(){var e=[];var t=this.$foldData;for(var n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e};this.getFoldStringAt=function(e,t,n,i){i=i||this.getFoldLine(e);if(!i)return null;var r={end:{column:0}};var a,o;for(var s=0;s<i.folds.length;s++){o=i.folds[s];var l=o.range.compareEnd(e,t);if(l==-1){a=this.getLine(o.start.row).substring(r.end.column,o.start.column);break}else if(l===0){return null}r=o}if(!a)a=this.getLine(o.start.row).substring(r.end.column);if(n==-1)return a.substring(0,t-r.end.column);else if(n==1)return a.substring(t-r.end.column);else return a};this.getFoldLine=function(e,t){var n=this.$foldData;var i=0;if(t)i=n.indexOf(t);if(i==-1)i=0;for(i;i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e){return r}else if(r.end.row>e){return null}}return null};this.getNextFoldLine=function(e,t){var n=this.$foldData;var i=0;if(t)i=n.indexOf(t);if(i==-1)i=0;for(i;i<n.length;i++){var r=n[i];if(r.end.row>=e){return r}}return null};this.getFoldedRowCount=function(e,t){var n=this.$foldData,i=t-e+1;for(var r=0;r<n.length;r++){var a=n[r],o=a.end.row,s=a.start.row;if(o>=t){if(s<t){if(s>=e)i-=t-s;else i=0}break}else if(o>=e){if(s>=e)i-=o-s;else i-=o-e+1}}return i};this.$addFoldLine=function(e){this.$foldData.push(e);this.$foldData.sort(function(e,t){return e.start.row-t.start.row});return e};this.addFold=function(e,t){var n=this.$foldData;var i=false;var r;if(e instanceof g)r=e;else{r=new g(t,e);r.collapseChildren=t.collapseChildren}this.$clipRangeToDocument(r.range);var a=r.start.row;var o=r.start.column;var s=r.end.row;var l=r.end.column;if(!(a<s||a==s&&o<=l-2))throw new Error("The range has to be at least 2 characters width");var c=this.getFoldAt(a,o,1);var u=this.getFoldAt(s,l,-1);if(c&&u==c)return c.addSubFold(r);if(c&&!c.range.isStart(a,o))this.removeFold(c);if(u&&!u.range.isEnd(s,l))this.removeFold(u);var h=this.getFoldsInRange(r.range);if(h.length>0){this.removeFolds(h);h.forEach(function(e){r.addSubFold(e)})}for(var f=0;f<n.length;f++){var d=n[f];if(s==d.start.row){d.addFold(r);i=true;break}else if(a==d.end.row){d.addFold(r);i=true;if(!r.sameRow){var p=n[f+1];if(p&&p.start.row==s){d.merge(p);break}}break}else if(s<=d.start.row){break}}if(!i)d=this.$addFoldLine(new m(this.$foldData,r));if(this.$useWrapMode)this.$updateWrapData(d.start.row,d.start.row);else this.$updateRowLengthCache(d.start.row,d.start.row);this.$modified=true;this._signal("changeFold",{data:r,action:"add"});return r};this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)};this.removeFold=function(e){var t=e.foldLine;var n=t.start.row;var i=t.end.row;var r=this.$foldData;var a=t.folds;if(a.length==1){r.splice(r.indexOf(t),1)}else if(t.range.isEnd(e.end.row,e.end.column)){a.pop();t.end.row=a[a.length-1].end.row;t.end.column=a[a.length-1].end.column}else if(t.range.isStart(e.start.row,e.start.column)){a.shift();t.start.row=a[0].start.row;t.start.column=a[0].start.column}else if(e.sameRow){a.splice(a.indexOf(e),1)}else{var o=t.split(e.start.row,e.start.column);a=o.folds;a.shift();o.start.row=a[0].start.row;o.start.column=a[0].start.column}if(!this.$updating){if(this.$useWrapMode)this.$updateWrapData(n,i);else this.$updateRowLengthCache(n,i)}this.$modified=true;this._signal("changeFold",{data:e,action:"remove"})};this.removeFolds=function(e){var t=[];for(var n=0;n<e.length;n++){t.push(e[n])}t.forEach(function(e){this.removeFold(e)},this);this.$modified=true};this.expandFold=function(t){this.removeFold(t);t.subFolds.forEach(function(e){t.restoreRange(e);this.addFold(e)},this);if(t.collapseChildren>0){this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1)}t.subFolds=[]};this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)};this.unfold=function(e,t){var n,i;if(e==null){n=new u(0,0,this.getLength(),0);t=true}else if(typeof e=="number")n=new u(e,0,e,this.getLine(e).length);else if("row"in e)n=u.fromPoints(e,e);else n=e;i=this.getFoldsInRangeList(n);if(t){this.removeFolds(i)}else{var r=i;while(r.length){this.expandFolds(r);r=this.getFoldsInRangeList(n)}}if(i.length)return i};this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)};this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e};this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e};this.getFoldDisplayLine=function(e,t,n,r,a){if(r==null)r=e.start.row;if(a==null)a=0;if(t==null)t=e.end.row;if(n==null)n=this.getLine(t).length;var o=this.doc;var s="";e.walk(function(e,t,n,i){if(t<r)return;if(t==r){if(n<a)return;i=Math.max(a,i)}if(e!=null){s+=e}else{s+=o.getLine(t).substring(i,n)}},t,n);return s};this.getDisplayLine=function(e,t,n,i){var r=this.getFoldLine(e);if(!r){var a;a=this.doc.getLine(e);return a.substring(i||0,t||a.length)}else{return this.getFoldDisplayLine(r,e,t,n,i)}};this.$cloneFoldData=function(){var n=[];n=this.$foldData.map(function(e){var t=e.folds.map(function(e){return e.clone()});return new m(n,t)});return n};this.toggleFold=function(e){var t=this.selection;var n=t.getRange();var i;var r;if(n.isEmpty()){var a=n.start;i=this.getFoldAt(a.row,a.column);if(i){this.expandFold(i);return}else if(r=this.findMatchingBracket(a)){if(n.comparePoint(r)==1){n.end=r}else{n.start=r;n.start.column++;n.end.column--}}else if(r=this.findMatchingBracket({row:a.row,column:a.column+1})){if(n.comparePoint(r)==1)n.end=r;else n.start=r;n.start.column++}else{n=this.getCommentFoldRange(a.row,a.column)||n}}else{var o=this.getFoldsInRange(n);if(e&&o.length){this.expandFolds(o);return}else if(o.length==1){i=o[0]}}if(!i)i=this.getFoldAt(n.start.row,n.start.column);if(i&&i.range.toString()==n.toString()){this.expandFold(i);return}var s="...";if(!n.isMultiLine()){s=this.getTextRange(n);if(s.length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,n)};this.getCommentFoldRange=function(e,t,n){var i=new h(this,e,t);var r=i.getCurrentToken();var a=r.type;if(r&&/^comment|string/.test(a)){a=a.match(/comment|string/)[0];if(a=="comment")a+="|doc-start";var o=new RegExp(a);var s=new u;if(n!=1){do{r=i.stepBackward()}while(r&&o.test(r.type));i.stepForward()}s.start.row=i.getCurrentTokenRow();s.start.column=i.getCurrentTokenColumn()+2;i=new h(this,e,t);if(n!=-1){var l=-1;do{r=i.stepForward();if(l==-1){var c=this.getState(i.$row);if(!o.test(c))l=i.$row}else if(i.$row>l){break}}while(r&&o.test(r.type));r=i.stepBackward()}else r=i.getCurrentToken();s.end.row=i.getCurrentTokenRow();s.end.column=i.getCurrentTokenColumn()+r.value.length-2;return s}};this.foldAll=function(e,t,n){if(n==undefined)n=1e5;var i=this.foldWidgets;if(!i)return;t=t||this.getLength();e=e||0;for(var r=e;r<t;r++){if(i[r]==null)i[r]=this.getFoldWidget(r);if(i[r]!="start")continue;var a=this.getFoldWidgetRange(r);if(a&&a.isMultiLine()&&a.end.row<=t&&a.start.row>=e){r=a.end.row;try{var o=this.addFold("...",a);if(o)o.collapseChildren=n}catch(e){}}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle==e)return;this.$foldStyle=e;if(e=="manual")this.unfold();var t=this.$foldMode;this.$setFolding(null);this.$setFolding(t)};this.$setFolding=function(e){if(this.$foldMode==e)return;this.$foldMode=e;this.off("change",this.$updateFoldWidgets);this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets);this._signal("changeAnnotation");if(!e||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[];this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle);this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle);this.$updateFoldWidgets=this.updateFoldWidgets.bind(this);this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this);this.on("change",this.$updateFoldWidgets);this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)};this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};var i=e-1,r;while(i>=0){var a=n[i];if(a==null)a=n[i]=this.getFoldWidget(i);if(a=="start"){var o=this.getFoldWidgetRange(i);if(!r)r=o;if(o&&o.end.row>=e)break}i--}return{range:i!==-1&&o,firstRange:r}};this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};var i=this.$toggleFoldWidget(e,n);if(!i){var r=t.target||t.srcElement;if(r&&/ace_fold-widget/.test(r.className))r.className+=" ace_invalid"}};this.$toggleFoldWidget=function(e,t){if(!this.getFoldWidget)return;var n=this.getFoldWidget(e);var i=this.getLine(e);var r=n==="end"?-1:1;var a=this.getFoldAt(e,r===-1?0:i.length,r);if(a){if(t.children||t.all)this.removeFold(a);else this.expandFold(a);return a}var o=this.getFoldWidgetRange(e,true);if(o&&!o.isMultiLine()){a=this.getFoldAt(o.start.row,o.start.column,1);if(a&&o.isEqual(a.range)){this.removeFold(a);return a}}if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range){var l=s.range.start.row+1;var c=s.range.end.row}this.foldAll(l,c,t.all?1e4:0)}else if(t.children){c=o?o.end.row:this.getLength();this.foldAll(e+1,c,t.all?1e4:0)}else if(o){if(t.all)o.collapseChildren=1e4;this.addFold("...",o)}return o};this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(n)return;var i=this.getParentFoldRangeData(t,true);n=i.range||i.firstRange;if(n){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);if(r){this.removeFold(r)}else{this.addFold("...",n)}}};this.updateFoldWidgets=function(e){var t=e.start.row;var n=e.end.row-t;if(n===0){this.foldWidgets[t]=null}else if(e.action=="remove"){this.foldWidgets.splice(t,n+1,null)}else{var i=Array(n+1);i.unshift(t,1);this.foldWidgets.splice.apply(this.foldWidgets,i)}};this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;if(t.first!=t.last){if(this.foldWidgets.length>t.first)this.foldWidgets.splice(t.first,this.foldWidgets.length)}}}t.Folding=i});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var h=e("../token_iterator").TokenIterator;var s=e("../range").Range;function i(){this.findMatchingBracket=function(e,t){if(e.column==0)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(n=="")return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);if(!i)return null;if(i[1])return this.$findClosingBracket(i[1],e);else return this.$findOpeningBracket(i[2],e)};this.getBracketRange=function(e){var t=this.getLine(e.row);var n=true,i;var r=t.charAt(e.column-1);var a=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(!a){r=t.charAt(e.column);e={row:e.row,column:e.column+1};a=r&&r.match(/([\(\[\{])|([\)\]\}])/);n=false}if(!a)return null;if(a[1]){var o=this.$findClosingBracket(a[1],e);if(!o)return null;i=s.fromPoints(e,o);if(!n){i.end.column++;i.start.column--}i.cursor=i.end}else{var o=this.$findOpeningBracket(a[2],e);if(!o)return null;i=s.fromPoints(o,e);if(!n){i.start.column++;i.end.column--}i.cursor=i.start}return i};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e];var r=1;var a=new h(this,t.row,t.column);var o=a.getCurrentToken();if(!o)o=a.stepForward();if(!o)return;if(!n){n=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+")}var s=t.column-a.getCurrentTokenColumn()-2;var l=o.value;while(true){while(s>=0){var c=l.charAt(s);if(c==i){r-=1;if(r==0){return{row:a.getCurrentTokenRow(),column:s+a.getCurrentTokenColumn()}}}else if(c==e){r+=1}s-=1}do{o=a.stepBackward()}while(o&&!n.test(o.type));if(o==null)break;l=o.value;s=l.length-1}return null};this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e];var r=1;var a=new h(this,t.row,t.column);var o=a.getCurrentToken();if(!o)o=a.stepForward();if(!o)return;if(!n){n=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+")}var s=t.column-a.getCurrentTokenColumn();while(true){var l=o.value;var c=l.length;while(s<c){var u=l.charAt(s);if(u==i){r-=1;if(r==0){return{row:a.getCurrentTokenRow(),column:s+a.getCurrentTokenColumn()}}}else if(u==e){r+=1}s+=1}do{o=a.stepForward()}while(o&&!n.test(o.type));if(o==null)break;s=0}return null}}t.BracketMatch=i});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){"use strict";var i=e("./lib/oop");var r=e("./lib/lang");var a=e("./bidihandler").BidiHandler;var o=e("./config");var c=e("./lib/event_emitter").EventEmitter;var s=e("./selection").Selection;var u=e("./mode/text").Mode;var h=e("./range").Range;var l=e("./document").Document;var f=e("./background_tokenizer").BackgroundTokenizer;var d=e("./search_highlight").SearchHighlight;var p=function(e,t){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=true;this.$foldData=[];this.id="session"+ ++p.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);if(typeof e!="object"||!e.getLine)e=new l(e);this.$bidiHandler=new a(this);this.setDocument(e);this.selection=new s(this);o.resetOptions(this);this.setMode(t);o._signal("session",this)};p.$uid=0;(function(){i.implement(this,c);this.setDocument=function(e){if(this.doc)this.doc.removeListener("change",this.$onChange);this.doc=e;e.on("change",this.$onChange);if(this.bgTokenizer)this.bgTokenizer.setDocument(this.getDocument());this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(e){if(!e){this.$docRowCache=[];this.$screenRowCache=[];return}var t=this.$docRowCache.length;var n=this.$getRowCacheIndex(this.$docRowCache,e)+1;if(t>n){this.$docRowCache.splice(n,t);this.$screenRowCache.splice(n,t)}};this.$getRowCacheIndex=function(e,t){var n=0;var i=e.length-1;while(n<=i){var r=n+i>>1;var a=e[r];if(t>a)n=r+1;else if(t<a)i=r-1;else return r}return n-1};this.resetCaches=function(){this.$modified=true;this.$wrapData=[];this.$rowLengthCache=[];this.$resetRowCache(0);if(this.bgTokenizer)this.bgTokenizer.start(0)};this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)};this.onChange=function(e){this.$modified=true;this.$bidiHandler.onChange(e);this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);if(!this.$fromUndo&&this.$undoManager&&!e.ignore){this.$deltasDoc.push(e);if(t&&t.length!=0){this.$deltasFold.push({action:"removeFolds",folds:t})}this.$informUndoManager.schedule()}this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e);this._signal("change",e)};this.setValue=function(e){this.doc.setValue(e);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(e){return this.bgTokenizer.getState(e)};this.getTokens=function(e){return this.bgTokenizer.getTokens(e)};this.getTokenAt=function(e,t){var n=this.bgTokenizer.getTokens(e);var i,r=0;if(t==null){var a=n.length-1;r=this.getLine(e).length}else{for(var a=0;a<n.length;a++){r+=n[a].value.length;if(r>=t)break}}i=n[a];if(!i)return null;i.index=a;i.start=r-i.value.length;return i};this.setUndoManager=function(e){this.$undoManager=e;this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];if(this.$informUndoManager)this.$informUndoManager.cancel();if(e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel();if(t.$deltasFold.length){t.$deltas.push({group:"fold",deltas:t.$deltasFold});t.$deltasFold=[]}if(t.$deltasDoc.length){t.$deltas.push({group:"doc",deltas:t.$deltasDoc});t.$deltasDoc=[]}if(t.$deltas.length>0){e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas})}t.mergeUndoDeltas=false;t.$deltas=[]};this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){if(this.$syncInformUndoManager)this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){if(this.getUseSoftTabs()){return r.stringRepeat(" ",this.getTabSize())}else{return"\t"}};this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(e){this.setOption("tabSize",e)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0};this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=false;this.setOverwrite=function(e){this.setOption("overwrite",e)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(e,t){if(!this.$decorations[e])this.$decorations[e]="";this.$decorations[e]+=" "+t;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++){this.$breakpoints[e[t]]="ace_breakpoint"}this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=function(e,t){if(t===undefined)t="ace_breakpoint";if(t)this.$breakpoints[e]=t;else delete this.$breakpoints[e];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(e){delete this.$breakpoints[e];this._signal("changeBreakpoint",{})};this.addMarker=function(e,t,n,i){var r=this.$markerId++;var a={range:e,type:n||"line",renderer:typeof n=="function"?n:null,clazz:t,inFront:!!i,id:r};if(i){this.$frontMarkers[r]=a;this._signal("changeFrontMarker")}else{this.$backMarkers[r]=a;this._signal("changeBackMarker")}return r};this.addDynamicMarker=function(e,t){if(!e.update)return;var n=this.$markerId++;e.id=n;e.inFront=!!t;if(t){this.$frontMarkers[n]=e;this._signal("changeFrontMarker")}else{this.$backMarkers[n]=e;this._signal("changeBackMarker")}return e};this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(!t)return;var n=t.inFront?this.$frontMarkers:this.$backMarkers;if(t){delete n[e];this._signal(t.inFront?"changeFrontMarker":"changeBackMarker")}};this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers};this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)};this.highlightLines=function(e,t,n,i){if(typeof t!="number"){n=t;t=e}if(!n)n="ace_step";var r=new h(e,0,t,Infinity);r.id=this.addMarker(r,n,"fullLine",i);return r};this.setAnnotations=function(e){this.$annotations=e;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);if(t){this.$autoNewLine=t[1]}else{this.$autoNewLine="\n"}};this.getWordRange=function(e,t){var n=this.getLine(e);var i=false;if(t>0)i=!!n.charAt(t-1).match(this.tokenRe);if(!i)i=!!n.charAt(t).match(this.tokenRe);if(i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var r=/\s/;else var r=this.nonTokenRe;var a=t;if(a>0){do{a--}while(a>=0&&n.charAt(a).match(r));a++}var o=t;while(o<n.length&&n.charAt(o).match(r)){o++}return new h(e,a,e,o)};this.getAWordRange=function(e,t){var n=this.getWordRange(e,t);var i=this.getLine(n.end.row);while(i.charAt(n.end.column).match(/[ \t]/)){n.end.column+=1}return n};this.setNewLineMode=function(e){this.doc.setNewLineMode(e)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(e){this.setOption("useWorker",e)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first);this._signal("tokenizerUpdate",e)};this.$modes={};this.$mode=null;this.$modeId=null;this.setMode=function(e,t){if(e&&typeof e==="object"){if(e.getTokenizer)return this.$onChangeMode(e);var n=e;var i=n.path}else{i=e||"ace/mode/text"}if(!this.$modes["ace/mode/text"])this.$modes["ace/mode/text"]=new u;if(this.$modes[i]&&!n){this.$onChangeMode(this.$modes[i]);t&&t();return}this.$modeId=i;o.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();if(this.$modes[i]&&!n){this.$onChangeMode(this.$modes[i])}else if(e&&e.Mode){e=new e.Mode(n);if(!n){this.$modes[i]=e;e.$id=i}this.$onChangeMode(e)}t&&t()}.bind(this));if(!this.$mode)this.$onChangeMode(this.$modes["ace/mode/text"],true)};this.$onChangeMode=function(e,t){if(!t)this.$modeId=e.$id;if(this.$mode===e)return;this.$mode=e;this.$stopWorker();if(this.$useWorker)this.$startWorker();var n=e.getTokenizer();if(n.addEventListener!==undefined){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(!this.bgTokenizer){this.bgTokenizer=new f(n);var r=this;this.bgTokenizer.addEventListener("update",function(e){r._signal("tokenizerUpdate",e)})}else{this.bgTokenizer.setTokenizer(n)}this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=e.tokenRe;this.nonTokenRe=e.nonTokenRe;if(!t){if(e.attachToSession)e.attachToSession(this);this.$options.wrapMethod.set.call(this,this.$wrapMethod);this.$setFolding(e.foldingRules);this.bgTokenizer.start(0);this._emit("changeMode")}};this.$stopWorker=function(){if(this.$worker){this.$worker.terminate();this.$worker=null}};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e);this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(e){if(this.$scrollTop===e||isNaN(e))return;this.$scrollTop=e;this._signal("changeScrollTop",e)};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(e){if(this.$scrollLeft===e||isNaN(e))return;this.$scrollLeft=e;this._signal("changeScrollLeft",e)};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){this.$computeWidth();if(this.lineWidgets)return Math.max(this.getLineWidgetMaxWidth(),this.screenWidth);return this.screenWidth};this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var t=0;this.lineWidgets.forEach(function(e){if(e&&e.screenWidth>t)t=e.screenWidth});return this.lineWidgetWidth=t};this.$computeWidth=function(e){if(this.$modified||e){this.$modified=false;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var t=this.doc.getAllLines();var n=this.$rowLengthCache;var i=0;var r=0;var a=this.$foldData[r];var o=a?a.start.row:Infinity;var s=t.length;for(var l=0;l<s;l++){if(l>o){l=a.end.row+1;if(l>=s)break;a=this.$foldData[r++];o=a?a.start.row:Infinity}if(n[l]==null)n[l]=this.$getStringScreenWidth(t[l])[0];if(n[l]>i)i=n[l]}this.screenWidth=i}};this.getLine=function(e){return this.doc.getLine(e)};this.getLines=function(e,t){return this.doc.getLines(e,t)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())};this.insert=function(e,t){return this.doc.insert(e,t)};this.remove=function(e){return this.doc.remove(e)};this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)};this.undoChanges=function(e,t){if(!e.length)return;this.$fromUndo=true;var n=null;for(var i=e.length-1;i!=-1;i--){var r=e[i];if(r.group=="doc"){this.doc.revertDeltas(r.deltas);n=this.$getUndoSelection(r.deltas,true,n)}else{r.deltas.forEach(function(e){this.addFolds(e.folds)},this)}}this.$fromUndo=false;n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n);return n};this.redoChanges=function(e,t){if(!e.length)return;this.$fromUndo=true;var n=null;for(var i=0;i<e.length;i++){var r=e[i];if(r.group=="doc"){this.doc.applyDeltas(r.deltas);n=this.$getUndoSelection(r.deltas,false,n)}}this.$fromUndo=false;n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n);return n};this.setUndoSelect=function(e){this.$undoSelect=e};this.$getUndoSelection=function(e,t,n){function i(e){return t?e.action!=="insert":e.action==="insert"}var r=e[0];var a,o;var s=false;if(i(r)){a=h.fromPoints(r.start,r.end);s=true}else{a=h.fromPoints(r.start,r.start);s=false}for(var l=1;l<e.length;l++){r=e[l];if(i(r)){o=r.start;if(a.compare(o.row,o.column)==-1){a.setStart(o)}o=r.end;if(a.compare(o.row,o.column)==1){a.setEnd(o)}s=true}else{o=r.start;if(a.compare(o.row,o.column)==-1){a=h.fromPoints(r.start,r.start)}s=false}}if(n!=null){if(h.comparePoints(n.start,a.start)===0){n.start.column+=a.end.column-a.start.column;n.end.column+=a.end.column-a.start.column}var c=n.compareRange(a);if(c==1){a.setStart(n.start)}else if(c==-1){a.setEnd(n.end)}}return a};this.replace=function(e,t){return this.doc.replace(e,t)};this.moveText=function(e,t,n){var i=this.getTextRange(e);var r=this.getFoldsInRange(e);var a=h.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row;var s=o?-e.end.column:e.start.column-e.end.column;if(s){if(a.start.row==e.end.row&&a.start.column>e.end.column)a.start.column+=s;if(a.end.row==e.end.row&&a.end.column>e.end.column)a.end.column+=s}if(o&&a.start.row>=e.end.row){a.start.row+=o;a.end.row+=o}}a.end=this.insert(a.start,i);if(r.length){var l=e.start;var c=a.start;var o=c.row-l.row;var s=c.column-l.column;this.addFolds(r.map(function(e){e=e.clone();if(e.start.row==l.row)e.start.column+=s;if(e.end.row==l.row)e.end.column+=s;e.start.row+=o;e.end.row+=o;return e}))}return a};this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)};this.outdentRows=function(e){var t=e.collapseRows();var n=new h(0,0,0,0);var i=this.getTabSize();for(var r=t.start.row;r<=t.end.row;++r){var a=this.getLine(r);n.start.row=r;n.end.row=r;for(var o=0;o<i;++o)if(a.charAt(o)!=" ")break;if(o<i&&a.charAt(o)=="\t"){n.start.column=o;n.end.column=o+1}else{n.start.column=0;n.end.column=o}this.remove(n)}};this.$moveLines=function(e,t,n){e=this.getRowFoldStart(e);t=this.getRowFoldEnd(t);if(n<0){var i=this.getRowFoldStart(e+n);if(i<0)return 0;var r=i-e}else if(n>0){var i=this.getRowFoldEnd(t+n);if(i>this.doc.getLength()-1)return 0;var r=i-t}else{e=this.$clipRowToDocument(e);t=this.$clipRowToDocument(t);var r=t-e+1}var a=new h(e,0,t,Number.MAX_VALUE);var o=this.getFoldsInRange(a).map(function(e){e=e.clone();e.start.row+=r;e.end.row+=r;return e});var s=n==0?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);this.doc.insertFullLines(e+r,s);o.length&&this.addFolds(o);return r};this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)};this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)};this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)};this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))};this.$clipColumnToRow=function(e,t){if(t<0)return 0;return Math.min(this.doc.getLine(e).length,t)};this.$clipPositionToDocument=function(e,t){t=Math.max(0,t);if(e<0){e=0;t=0}else{var n=this.doc.getLength();if(e>=n){e=n-1;t=this.doc.getLine(n-1).length}else{t=Math.min(this.doc.getLine(e).length,t)}}return{row:e,column:t}};this.$clipRangeToDocument=function(e){if(e.start.row<0){e.start.row=0;e.start.column=0}else{e.start.column=this.$clipColumnToRow(e.start.row,e.start.column)}var t=this.doc.getLength()-1;if(e.end.row>t){e.end.row=t;e.end.column=this.doc.getLine(t).length}else{e.end.column=this.$clipColumnToRow(e.end.row,e.end.column)}return e};this.$wrapLimit=80;this.$useWrapMode=false;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){this.$useWrapMode=e;this.$modified=true;this.$resetRowCache(0);if(e){var t=this.getLength();this.$wrapData=Array(t);this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(e,t){if(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t){this.$wrapLimitRange={min:e,max:t};this.$modified=true;this.$bidiHandler.markAsDirty();if(this.$useWrapMode)this._signal("changeWrapMode")}};this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;if(n.max<0)n={min:t,max:t};var i=this.$constrainWrapLimit(e,n.min,n.max);if(i!=this.$wrapLimit&&i>1){this.$wrapLimit=i;this.$modified=true;if(this.$useWrapMode){this.$updateWrapData(0,this.getLength()-1);this.$resetRowCache(0);this._signal("changeWrapLimit")}return true}return false};this.$constrainWrapLimit=function(e,t,n){if(t)e=Math.max(t,e);if(n)e=Math.min(n,e);return e};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode;var n=e.action;var i=e.start;var r=e.end;var a=i.row;var o=r.row;var s=o-a;var l=null;this.$updating=true;if(s!=0){if(n==="remove"){this[t?"$wrapData":"$rowLengthCache"].splice(a,s);var c=this.$foldData;l=this.getFoldsInRange(e);this.removeFolds(l);var u=this.getFoldLine(r.row);var h=0;if(u){u.addRemoveChars(r.row,r.column,i.column-r.column);u.shiftRow(-s);var f=this.getFoldLine(a);if(f&&f!==u){f.merge(u);u=f}h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];if(u.start.row>=r.row){u.shiftRow(-s)}}o=a}else{var d=Array(s);d.unshift(a,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,d);var c=this.$foldData;var u=this.getFoldLine(a);var h=0;if(u){var m=u.range.compareInside(i.row,i.column);if(m==0){u=u.split(i.row,i.column);if(u){u.shiftRow(s);u.addRemoveChars(o,0,r.column-i.column)}}else if(m==-1){u.addRemoveChars(a,0,r.column-i.column);u.shiftRow(s)}h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];if(u.start.row>=a){u.shiftRow(s)}}}}else{s=Math.abs(e.start.column-e.end.column);if(n==="remove"){l=this.getFoldsInRange(e);this.removeFolds(l);s=-s}var u=this.getFoldLine(a);if(u){u.addRemoveChars(a,i.column,s)}}if(t&&this.$wrapData.length!=this.doc.getLength()){console.error("doc.getLength() and $wrapData.length have to be the same!")}this.$updating=false;if(t)this.$updateWrapData(a,o);else this.$updateRowLengthCache(a,o);return l};this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null;this.$rowLengthCache[t]=null};this.$updateWrapData=function(e,t){var o=this.doc.getAllLines();var n=this.getTabSize();var i=this.$wrapData;var r=this.$wrapLimit;var s;var a;var l=e;t=Math.min(t,o.length-1);while(l<=t){a=this.getFoldLine(l,a);if(!a){s=this.$getDisplayTokens(o[l]);i[l]=this.$computeWrapSplits(s,r,n);l++}else{s=[];a.walk(function(e,t,n,i){var r;if(e!=null){r=this.$getDisplayTokens(e,s.length);r[0]=g;for(var a=1;a<r.length;a++){r[a]=v}}else{r=this.$getDisplayTokens(o[t].substring(i,n),s.length)}s=s.concat(r)}.bind(this),a.end.row,o[a.end.row].length+1);i[a.start.row]=this.$computeWrapSplits(s,r,n);l=a.end.row+1}}};var s=1,m=2,g=3,v=4,b=9,y=10,x=11,w=12;this.$computeWrapSplits=function(i,e,r){if(i.length==0){return[]}var a=[];var t=i.length;var o=0,s=0;var l=this.$wrapAsCode;var c=this.$indentedSoftWrap;var u=e<=Math.max(2*r,8)||c===false?0:Math.floor(e/2);function h(){var e=0;if(u===0)return e;if(c){for(var t=0;t<i.length;t++){var n=i[t];if(n==y)e+=1;else if(n==x)e+=r;else if(n==w)continue;else break}}if(l&&c!==false)e+=r;return Math.min(e,u)}function n(e){var t=i.slice(o,e);var n=t.length;t.join("").replace(/12/g,function(){n-=1}).replace(/2/g,function(){n-=1});if(!a.length){f=h();a.indent=f}s+=n;a.push(s);o=e}var f=0;while(t-o>e-f){var d=o+e-f;if(i[d-1]>=y&&i[d]>=y){n(d);continue}if(i[d]==g||i[d]==v){for(d;d!=o-1;d--){if(i[d]==g){break}}if(d>o){n(d);continue}d=o+e;for(d;d<i.length;d++){if(i[d]!=v){break}}if(d==i.length){break}n(d);continue}var p=Math.max(d-(e-(e>>2)),o-1);while(d>p&&i[d]<g){d--}if(l){while(d>p&&i[d]<g){d--}while(d>p&&i[d]==b){d--}}else{while(d>p&&i[d]<y){d--}}if(d>p){n(++d);continue}d=o+e;if(i[d]==m)d--;n(d-f)}return a};this.$getDisplayTokens=function(e,t){var n=[];var i;t=t||0;for(var r=0;r<e.length;r++){var a=e.charCodeAt(r);if(a==9){i=this.getScreenTabSize(n.length+t);n.push(x);for(var o=1;o<i;o++){n.push(w)}}else if(a==32){n.push(y)}else if(a>39&&a<48||a>57&&a<64){n.push(b)}else if(a>=4352&&l(a)){n.push(s,m)}else{n.push(s)}}return n};this.$getStringScreenWidth=function(e,t,n){if(t==0)return[0,0];if(t==null)t=Infinity;n=n||0;var i,r;for(r=0;r<e.length;r++){i=e.charCodeAt(r);if(i==9){n+=this.getScreenTabSize(n)}else if(i>=4352&&l(i)){n+=2}else{n+=1}if(n>t){break}}return[n,r]};this.lineWidgets=null;this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;if(!this.$useWrapMode||!this.$wrapData[e]){return 1+t}else{return this.$wrapData[e].length+1+t}};this.getRowLineCount=function(e){if(!this.$useWrapMode||!this.$wrapData[e]){return 1}else{return this.$wrapData[e].length+1}};this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);var n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}else{return 0}};this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)};this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)};this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)};this.getRowSplitData=function(e){if(!this.$useWrapMode){return undefined}else{return this.$wrapData[e]}};this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize};this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row};this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column};this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i;var r=0;var a=0;var o;var s=0;var l=0;var c=this.$screenRowCache;var u=this.$getRowCacheIndex(c,e);var h=c.length;if(h&&u>=0){var s=c[u];var r=this.$docRowCache[u];var f=e>c[h-1]}else{var f=!h}var d=this.getLength()-1;var p=this.getNextFoldLine(r);var m=p?p.start.row:Infinity;while(s<=e){l=this.getRowLength(r);if(s+l>e||r>=d){break}else{s+=l;r++;if(r>m){r=p.end.row+1;p=this.getNextFoldLine(r,p);m=p?p.start.row:Infinity}}if(f){this.$docRowCache.push(r);this.$screenRowCache.push(s)}}if(p&&p.start.row<=r){i=this.getFoldDisplayLine(p);r=p.start.row}else if(s+l<=e||r>d){return{row:d,column:this.getLine(d).length}}else{i=this.getLine(r);p=null}var g=0,v=Math.floor(e-s);if(this.$useWrapMode){var b=this.$wrapData[r];if(b){o=b[v];if(v>0&&b.length){g=b.indent;a=b[v-1]||b[b.length-1];i=i.substring(a)}}}if(n!==undefined&&this.$bidiHandler.isBidiRow(s+v,r,v))t=this.$bidiHandler.offsetToCol(n);a+=this.$getStringScreenWidth(i,t-g)[1];if(this.$useWrapMode&&a>=o)a=o-1;if(p)return p.idxToPosition(a);return{row:r,column:a}};this.documentToScreenPosition=function(e,t){if(typeof t==="undefined")var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row;t=n.column;var i=0;var r=null;var a=null;a=this.getFoldAt(e,t,1);if(a){e=a.start.row;t=a.start.column}var o,s=0;var l=this.$docRowCache;var c=this.$getRowCacheIndex(l,e);var u=l.length;if(u&&c>=0){var s=l[c];var i=this.$screenRowCache[c];var h=e>l[u-1]}else{var h=!u}var f=this.getNextFoldLine(s);var d=f?f.start.row:Infinity;while(s<e){if(s>=d){o=f.end.row+1;if(o>e)break;f=this.getNextFoldLine(o,f);d=f?f.start.row:Infinity}else{o=s+1}i+=this.getRowLength(s);s=o;if(h){this.$docRowCache.push(s);this.$screenRowCache.push(i)}}var p="";if(f&&s>=d){p=this.getFoldDisplayLine(f,e,t);r=f.start.row}else{p=this.getLine(e).substring(0,t);r=e}var m=0;if(this.$useWrapMode){var g=this.$wrapData[r];if(g){var v=0;while(p.length>=g[v]){i++;v++}p=p.substring(g[v-1]||0,p.length);m=v>0?g.indent:0}}return{row:i,column:m+this.$getStringScreenWidth(p)[0]}};this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column};this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row};this.getScreenLength=function(){var e=0;var t=null;if(!this.$useWrapMode){e=this.getLength();var n=this.$foldData;for(var i=0;i<n.length;i++){t=n[i];e-=t.end.row-t.start.row}}else{var r=this.$wrapData.length;var a=0,i=0;var t=this.$foldData[i++];var o=t?t.start.row:Infinity;while(a<r){var s=this.$wrapData[a];e+=s?s.length+1:1;a++;if(a>o){a=t.end.row+1;t=this.$foldData[i++];o=t?t.start.row:Infinity}}}if(this.lineWidgets)e+=this.$getWidgetScreenLength();return e};this.$setFontMetrics=function(a){if(!this.$enableVarChar)return;this.$getStringScreenWidth=function(e,t,n){if(t===0)return[0,0];if(!t)t=Infinity;n=n||0;var i,r;for(r=0;r<e.length;r++){i=e.charAt(r);if(i==="\t"){n+=this.getScreenTabSize(n)}else{n+=a.getCharacterWidth(i)}if(n>t){break}}return[n,r]}};this.destroy=function(){if(this.bgTokenizer){this.bgTokenizer.setDocument(null);this.bgTokenizer=null}this.$stopWorker()};this.isFullWidth=l;function l(e){if(e<4352)return false;return e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510}}).call(p.prototype);e("./edit_session/folding").Folding.call(p.prototype);e("./edit_session/bracket_match").BracketMatch.call(p.prototype);o.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(!e||e=="off")e=false;else if(e=="free")e=true;else if(e=="printMargin")e=-1;else if(typeof e=="string")e=parseInt(e,10)||false;if(this.$wrap==e)return;this.$wrap=e;if(!e){this.setUseWrapMode(false)}else{var t=typeof e=="number"?e:null;this.setWrapLimitRange(t,t);this.setUseWrapMode(true)}},get:function(){if(this.getUseWrapMode()){if(this.$wrap==-1)return"printMargin";if(!this.getWrapLimitRange().min)return"free";return this.$wrap}return"off"},handlesSet:true},wrapMethod:{set:function(e){e=e=="auto"?this.$mode.type!="text":e!="text";if(e!=this.$wrapAsCode){this.$wrapAsCode=e;if(this.$useWrapMode){this.$modified=true;this.$resetRowCache(0);this.$updateWrapData(0,this.getLength()-1)}}},initialValue:"auto"},indentedSoftWrap:{initialValue:true},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e;this.$stopWorker();if(e)this.$startWorker()},initialValue:true},useSoftTabs:{initialValue:true},tabSize:{set:function(e){if(isNaN(e)||this.$tabSize===e)return;this.$modified=true;this.$rowLengthCache=[];this.$tabSize=e;this._signal("changeTabSize")},initialValue:4,handlesSet:true},navigateWithinSoftTabs:{initialValue:false},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:false},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:true},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}});t.EditSession=p});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var x=e("./lib/lang");var i=e("./lib/oop");var w=e("./range").Range;var r=function(){this.$options={}};(function(){this.set=function(e){i.mixin(this.$options,e);return this};this.getOptions=function(){return x.copyObject(this.$options)};this.setOptions=function(e){this.$options=e};this.find=function(e){var r=this.$options;var t=this.$matchIterator(e,r);if(!t)return false;var a=null;t.forEach(function(e,t,n,i){a=new w(e,t,n,i);if(t==i&&r.start&&r.start.start&&r.skipCurrent!=false&&a.isEqual(r.start)){a=null;return false}return true});return a};this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range;var i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines();var r=[];var a=t.re;if(t.$isMultiLine){var o=a.length;var s=i.length-o;var l;e:for(var c=a.offset||0;c<=s;c++){for(var u=0;u<o;u++)if(i[c+u].search(a[u])==-1)continue e;var h=i[c];var f=i[c+o-1];var d=h.length-h.match(a[0])[0].length;var p=f.match(a[o-1])[0].length;if(l&&l.end.row===c&&l.end.column>d){continue}r.push(l=new w(c,d,c+o-1,p));if(o>2)c=c+o-2}}else{for(var m=0;m<i.length;m++){var g=x.getMatchOffsets(i[m],a);for(var u=0;u<g.length;u++){var v=g[u];r.push(new w(m,v.offset,m,v.offset+v.length))}}}if(n){var b=n.start.column;var y=n.start.column;var m=0,u=r.length-1;while(m<u&&r[m].start.column<b&&r[m].start.row==n.start.row)m++;while(m<u&&r[u].end.column>y&&r[u].end.row==n.end.row)u--;r=r.slice(m,u+1);for(m=0,u=r.length;m<u;m++){r[m].start.row+=n.start.row;r[m].end.row+=n.start.row}}return r};this.replace=function(e,t){var n=this.$options;var i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(!i)return;var r=i.exec(e);if(!r||r[0].length!=e.length)return null;t=e.replace(i,t);if(n.preserveCase){t=t.split("");for(var a=Math.min(e.length,e.length);a--;){var o=e[a];if(o&&o.toLowerCase()!=o)t[a]=t[a].toUpperCase();else t[a]=t[a].toLowerCase()}t=t.join("")}return t};this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=false;if(!e.regExp)n=x.escapeRegExp(n);if(e.wholeWord)n=a(n,e);var i=e.caseSensitive?"gm":"gmi";e.$isMultiLine=!t&&/[\n\r]/.test(n);if(e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var r=new RegExp(n,i)}catch(e){r=false}return e.re=r};this.$assembleMultilineRegExp=function(e,t){var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n");var i=[];for(var r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return false}return i};this.$matchIterator=function(u,n){var h=this.$assembleRegExp(n);if(!h)return false;var l=n.backwards==true;var e=n.skipCurrent!=false;var t=n.range;var i=n.start;if(!i)i=t?t[l?"end":"start"]:u.selection.getRange();if(i.start)i=i[e!=l?"end":"start"];var r=t?t.start.row:0;var a=t?t.end.row:u.getLength()-1;if(l){var o=function(e){var t=i.row;if(s(t,i.column,e))return;for(t--;t>=r;t--)if(s(t,Number.MAX_VALUE,e))return;if(n.wrap==false)return;for(t=a,r=i.row;t>=r;t--)if(s(t,Number.MAX_VALUE,e))return}}else{var o=function(e){var t=i.row;if(s(t,i.column,e))return;for(t=t+1;t<=a;t++)if(s(t,0,e))return;if(n.wrap==false)return;for(t=r,a=i.row;t<=a;t++)if(s(t,0,e))return}}if(n.$isMultiLine){var c=h.length;var s=function(e,t,n){var i=l?e-c+1:e;if(i<0)return;var r=u.getLine(i);var a=r.search(h[0]);if(!l&&a<t||a===-1)return;for(var o=1;o<c;o++){r=u.getLine(i+o);if(r.search(h[o])==-1)return}var s=r.match(h[c-1])[0].length;if(l&&s>t)return;if(n(i,a,i+c-1,s))return true}}else if(l){var s=function(e,t,n){var i=u.getLine(e);var r=[];var a,o=0;h.lastIndex=0;while(a=h.exec(i)){var s=a[0].length;o=a.index;if(!s){if(o>=i.length)break;h.lastIndex=o+=1}if(a.index+s>t)break;r.push(a.index,s)}for(var l=r.length-1;l>=0;l-=2){var c=r[l-1];var s=r[l];if(n(e,c,e,c+s))return true}}}else{var s=function(e,t,n){var i=u.getLine(e);var r;var a=t;h.lastIndex=t;while(r=h.exec(i)){var o=r[0].length;a=r.index;if(n(e,a,e,a+o))return true;if(!o){h.lastIndex=a+=1;if(a>=i.length)return false}}}}return{forEach:o}}}).call(r.prototype);function a(e,t){function n(e){if(/\w/.test(e)||t.regExp)return"\\b";return""}return n(e[0])+e+n(e[e.length-1])}t.Search=r});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";var s=e("../lib/keys");var i=e("../lib/useragent");var c=s.KEY_MODS;function r(e,t){this.platform=t||(i.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(e);this.$singleCommand=true}function a(e,t){r.call(this,e,t);this.$singleCommand=false}a.prototype=r.prototype;(function(){this.addCommand=function(e){if(this.commands[e.name])this.removeCommand(e);this.commands[e.name]=e;if(e.bindKey)this._buildKeyHash(e)};this.removeCommand=function(e,t){var n=e&&(typeof e==="string"?e:e.name);e=this.commands[n];if(!t)delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var a=i[r];if(a==e){delete i[r]}else if(Array.isArray(a)){var o=a.indexOf(e);if(o!=-1){a.splice(o,1);if(a.length==1)i[r]=a[0]}}}};this.bindKey=function(e,a,o){if(typeof e=="object"&&e){if(o==undefined)o=e.position;e=e[this.platform]}if(!e)return;if(typeof a=="function")return this.addCommand({exec:a,bindKey:e,name:a.name||e});e.split("|").forEach(function(e){var i="";if(e.indexOf(" ")!=-1){var t=e.split(/\s+/);e=t.pop();t.forEach(function(e){var t=this.parseKeys(e);var n=c[t.hashId]+t.key;i+=(i?" ":"")+n;this._addCommandToBinding(i,"chainKeys")},this);i+=" "}var n=this.parseKeys(e);var r=c[n.hashId]+n.key;this._addCommandToBinding(i+r,a,o)},this)};function l(e){return typeof e=="object"&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this._addCommandToBinding=function(e,t,n){var i=this.commandKeyBinding,r;if(!t){delete i[e]}else if(!i[e]||this.$singleCommand){i[e]=t}else{if(!Array.isArray(i[e])){i[e]=[i[e]]}else if((r=i[e].indexOf(t))!=-1){i[e].splice(r,1)}if(typeof n!="number"){n=l(t)}var a=i[e];for(r=0;r<a.length;r++){var o=a[r];var s=l(o);if(s>n)break}a.splice(r,0,t)}};this.addCommands=function(n){n&&Object.keys(n).forEach(function(e){var t=n[e];if(!t)return;if(typeof t==="string")return this.bindKey(t,e);if(typeof t==="function")t={exec:t};if(typeof t!=="object")return;if(!t.name)t.name=e;this.addCommand(t)},this)};this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)};this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)};this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)};this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e});var n=t.pop();var i=s[n];if(s.FUNCTION_KEYS[i])n=s.FUNCTION_KEYS[i].toLowerCase();else if(!t.length)return{key:n,hashId:-1};else if(t.length==1&&t[0]=="shift")return{key:n.toUpperCase(),hashId:-1};var r=0;for(var a=t.length;a--;){var o=s.KEY_MODS[t[a]];if(o==null){if(typeof console!="undefined")console.error("invalid modifier "+t[a]+" in "+e);return false}r|=o}return{key:n,hashId:r}};this.findKeyCommand=function e(t,n){var i=c[t]+n;return this.commandKeyBinding[i]};this.handleKeyboard=function(e,t,n,i){if(i<0)return;var r=c[t]+n;var a=this.commandKeyBinding[r];if(e.$keyChain){e.$keyChain+=" "+r;a=this.commandKeyBinding[e.$keyChain]||a}if(a){if(a=="chainKeys"||a[a.length-1]=="chainKeys"){e.$keyChain=e.$keyChain||r;return{command:"null"}}}if(e.$keyChain){if((!t||t==4)&&n.length==1)e.$keyChain=e.$keyChain.slice(0,-r.length-1);else if(t==-1||i>0)e.$keyChain=""}return{command:a}};this.getStatusText=function(e,t){return t.$keyChain||""}}).call(r.prototype);t.HashHandler=r;t.MultiHashHandler=a});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("../lib/oop");var r=e("../keyboard/hash_handler").MultiHashHandler;var a=e("../lib/event_emitter").EventEmitter;var o=function(e,t){r.call(this,t,e);this.byName=this.commands;this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};i.inherits(o,r);(function(){i.implement(this,a);this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;){if(this.exec(e[i],t,n))return true}return false}if(typeof e==="string")e=this.commands[e];if(!e)return false;if(t&&t.$readOnly&&!e.readOnly)return false;if(e.isAvailable&&!e.isAvailable(t))return false;var r={editor:t,command:e,args:n};r.returnValue=this._emit("exec",r);this._signal("afterExec",r);return r.returnValue===false?false:true};this.toggleRecording=function(e){if(this.$inReplay)return;e&&e._emit("changeStatus");if(this.recording){this.macro.pop();this.removeEventListener("exec",this.$addCommandToMacro);if(!this.macro.length)this.macro=this.oldMacro;return this.recording=false}if(!this.$addCommandToMacro){this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)}this.oldMacro=this.macro;this.macro=[];this.on("exec",this.$addCommandToMacro);return this.recording=true};this.replay=function(t){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(t);try{this.$inReplay=true;this.macro.forEach(function(e){if(typeof e=="string")this.exec(e,t);else this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=false}};this.trimMacro=function(e){return e.map(function(e){if(typeof e[0]!="string")e[0]=e[0].name;if(!e[1])e=e[0];return e})}}).call(o.prototype);t.CommandManager=o});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";var u=e("../lib/lang");var i=e("../config");var h=e("../range").Range;function r(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(t){i.loadModule("ace/ext/settings_menu",function(e){e.init(t);t.showSettingsMenu()})},readOnly:true},{name:"goToNextError",bindKey:r("Alt-E","F4"),exec:function(t){i.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:true},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Shift-F4"),exec:function(t){i.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:true},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:true},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:true},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);if(!isNaN(t)){e.gotoLine(t)}},readOnly:true},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(false)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(true)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(true)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"foldall",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:true},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll();e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:true},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:true},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){if(e.selection.isEmpty())e.selection.selectWord();else e.findNext()},readOnly:true},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){if(e.selection.isEmpty())e.selection.selectWord();else e.findPrevious()},readOnly:true},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(t){i.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:true},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:true},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:true,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:true,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:true,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:true,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:true},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:true},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:true},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:true},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:true},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:true},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:true},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:true},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:true},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:true},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:true},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(true)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:true},{name:"expandToMatching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(true,true)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:true},{name:"passKeysToBrowser",bindKey:r(null,null),exec:function(){},passEvent:true,readOnly:true},{name:"copy",exec:function(e){},readOnly:true},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t);if(!e.selection.isEmpty()){e.session.remove(t);e.clearSelection()}},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(t){i.loadModule("ace/ext/searchbox",function(e){e.Search(t,true)})}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(e){if(e.selection.isEmpty()){e.remove("left")}else{return false}},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:r("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0;e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:r("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE;e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(u.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0;t.end.row++;e.selection.setRange(t,false)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"joinlines",bindKey:r(null,null),exec:function(e){var t=e.selection.isBackwards();var n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor();var i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead();var r=e.session.doc.getLine(n.row).length;var a=e.session.doc.getTextRange(e.selection.getRange());var o=a.replace(/\n\s*/," ").length;var s=e.session.doc.getLine(n.row);for(var l=n.row+1;l<=i.row+1;l++){var c=u.stringTrimLeft(u.stringTrimRight(e.session.doc.getLine(l)));if(c.length!==0){c=" "+c}s+=c}if(i.row+1<e.session.doc.getLength()-1){s+=e.session.doc.getNewLineCharacter()}e.clearSelection();e.session.doc.replace(new h(n.row,0,i.row+2,0),s);if(o>0){e.selection.moveCursorTo(n.row,n.column);e.selection.selectTo(n.row,n.column+o)}else{r=e.session.doc.getLine(n.row).length>r?r+1:r;e.selection.moveCursorTo(n.row,r)}},multiSelectAction:"forEach",readOnly:true},{name:"invertSelection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1;var n=e.session.doc.getLine(t).length;var i=e.selection.rangeList.ranges;var r=[];if(i.length<1){i=[e.selection.getRange()]}for(var a=0;a<i.length;a++){if(a==i.length-1){if(!(i[a].end.row===t&&i[a].end.column===n)){r.push(new h(i[a].end.row,i[a].end.column,t,n))}}if(a===0){if(!(i[a].start.row===0&&i[a].start.column===0)){r.push(new h(0,0,i[a].start.row,i[a].start.column))}}else{r.push(new h(i[a-1].end.row,i[a-1].end.column,i[a].start.row,i[a].start.column))}}e.exitMultiSelectMode();e.clearSelection();for(var a=0;a<r.length;a++){e.selection.addRange(r[a],false)}},readOnly:true,scrollIntoView:"none"}]});ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var a=e("./lib/oop");var i=e("./lib/dom");var u=e("./lib/lang");var r=e("./lib/useragent");var o=e("./keyboard/textinput").TextInput;var s=e("./mouse/mouse_handler").MouseHandler;var l=e("./mouse/fold_handler").FoldHandler;var c=e("./keyboard/keybinding").KeyBinding;var h=e("./edit_session").EditSession;var f=e("./search").Search;var m=e("./range").Range;var d=e("./lib/event_emitter").EventEmitter;var p=e("./commands/command_manager").CommandManager;var g=e("./commands/default_commands").commands;var v=e("./config");var b=e("./token_iterator").TokenIterator;var y=function(e,t){var n=e.getContainerElement();this.container=n;this.renderer=e;this.id="editor"+ ++y.$uid;this.commands=new p(r.isMac?"mac":"win",g);if(typeof document=="object"){this.textInput=new o(e.getTextAreaContainer(),this);this.renderer.textarea=this.textInput.getElement();this.$mouseHandler=new s(this);new l(this)}this.keyBinding=new c(this);this.$blockScrolling=0;this.$search=(new f).set({wrap:true});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=u.delayedCall(function(){this._signal("input",{});if(this.session&&this.session.bgTokenizer)this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(e,t){t._$emitInputEvent.schedule(31)});this.setSession(t||new h(""));v.resetOptions(this);v._signal("editor",this)};y.$uid=0;(function(){a.implement(this,d);this.$initOperationListeners=function(){function e(e){return e[e.length-1]}this.selections=[];this.commands.on("exec",this.startOperation.bind(this),true);this.commands.on("afterExec",this.endOperation.bind(this),true);this.$opResetTimer=u.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||this.startOperation();this.curOp.docChanged=true}.bind(this),true);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=true}.bind(this),true)};this.curOp=null;this.prevOp={};this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}if(!e){this.previousCommand=null;e={}}this.$opResetTimer.schedule();this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop};if(this.curOp.command.name&&this.curOp.command.scrollIntoView!==undefined)this.$blockScrolling++};this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===false)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;if(t.name&&this.$blockScrolling>0)this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange();var r=this.renderer.layerConfig;if(i.start.row>=r.lastRow||i.end.row<=r.firstRow){this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}break;default:break}if(n=="animate")this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(e){if(!this.$mergeUndoDeltas)return;var t=this.prevOp;var n=this.$mergeableCommands;var i=t.command&&e.command.name==t.command.name;if(e.command.name=="insertstring"){var r=e.args;if(this.mergeNextCommand===undefined)this.mergeNextCommand=true;i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args));this.mergeNextCommand=true}else{i=i&&n.indexOf(e.command.name)!==-1}if(this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3){i=false}if(i)this.session.mergeUndoDeltas=true;else if(n.indexOf(e.command.name)!==-1)this.sequenceStartTime=Date.now()};this.setKeyboardHandler=function(t,n){if(t&&typeof t==="string"){this.$keybindingId=t;var i=this;v.loadModule(["keybinding",t],function(e){if(i.$keybindingId==t)i.keyBinding.setKeyboardHandler(e&&e.handler);n&&n()})}else{this.$keybindingId=null;this.keyBinding.setKeyboardHandler(t);n&&n()}};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(e){if(this.session==e)return;if(this.curOp)this.endOperation();this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange);this.session.off("changeMode",this.$onChangeMode);this.session.off("tokenizerUpdate",this.$onTokenizerUpdate);this.session.off("changeTabSize",this.$onChangeTabSize);this.session.off("changeWrapLimit",this.$onChangeWrapLimit);this.session.off("changeWrapMode",this.$onChangeWrapMode);this.session.off("changeFold",this.$onChangeFold);this.session.off("changeFrontMarker",this.$onChangeFrontMarker);this.session.off("changeBackMarker",this.$onChangeBackMarker);this.session.off("changeBreakpoint",this.$onChangeBreakpoint);this.session.off("changeAnnotation",this.$onChangeAnnotation);this.session.off("changeOverwrite",this.$onCursorChange);this.session.off("changeScrollTop",this.$onScrollTopChange);this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange);n.off("changeSelection",this.$onSelectionChange)}this.session=e;if(e){this.$onDocumentChange=this.onDocumentChange.bind(this);e.on("change",this.$onDocumentChange);this.renderer.setSession(e);this.$onChangeMode=this.onChangeMode.bind(this);e.on("changeMode",this.$onChangeMode);this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this);e.on("tokenizerUpdate",this.$onTokenizerUpdate);this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer);e.on("changeTabSize",this.$onChangeTabSize);this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this);e.on("changeWrapLimit",this.$onChangeWrapLimit);this.$onChangeWrapMode=this.onChangeWrapMode.bind(this);e.on("changeWrapMode",this.$onChangeWrapMode);this.$onChangeFold=this.onChangeFold.bind(this);e.on("changeFold",this.$onChangeFold);this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this);this.session.on("changeFrontMarker",this.$onChangeFrontMarker);this.$onChangeBackMarker=this.onChangeBackMarker.bind(this);this.session.on("changeBackMarker",this.$onChangeBackMarker);this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this);this.session.on("changeBreakpoint",this.$onChangeBreakpoint);this.$onChangeAnnotation=this.onChangeAnnotation.bind(this);this.session.on("changeAnnotation",this.$onChangeAnnotation);this.$onCursorChange=this.onCursorChange.bind(this);this.session.on("changeOverwrite",this.$onCursorChange);this.$onScrollTopChange=this.onScrollTopChange.bind(this);this.session.on("changeScrollTop",this.$onScrollTopChange);this.$onScrollLeftChange=this.onScrollLeftChange.bind(this);this.session.on("changeScrollLeft",this.$onScrollLeftChange);this.selection=e.getSelection();this.selection.on("changeCursor",this.$onCursorChange);this.$onSelectionChange=this.onSelectionChange.bind(this);this.selection.on("changeSelection",this.$onSelectionChange);this.onChangeMode();this.$blockScrolling+=1;this.onCursorChange();this.$blockScrolling-=1;this.onScrollTopChange();this.onScrollLeftChange();this.onSelectionChange();this.onChangeFrontMarker();this.onChangeBackMarker();this.onChangeBreakpoint();this.onChangeAnnotation();this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit();this.renderer.updateFull()}else{this.selection=null;this.renderer.setSession(e)}this._signal("changeSession",{session:e,oldSession:t});this.curOp=null;t&&t._signal("changeEditor",{oldEditor:this});e&&e._signal("changeEditor",{editor:this});if(e&&e.bgTokenizer)e.bgTokenizer.scheduleStart()};this.getSession=function(){return this.session};this.setValue=function(e,t){this.session.doc.setValue(e);if(!t)this.selectAll();else if(t==1)this.navigateFileEnd();else if(t==-1)this.navigateFileStart();return e};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(e){this.renderer.onResize(e)};this.setTheme=function(e,t){this.renderer.setTheme(e,t)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(e){this.renderer.setStyle(e)};this.unsetStyle=function(e){this.renderer.unsetStyle(e)};this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")};this.setFontSize=function(e){this.setOption("fontSize",e)};this.$highlightBrackets=function(){if(this.session.$bracketHighlight){this.session.removeMarker(this.session.$bracketHighlight);this.session.$bracketHighlight=null}if(this.$highlightPending){return}var i=this;this.$highlightPending=true;setTimeout(function(){i.$highlightPending=false;var e=i.session;if(!e||!e.bgTokenizer)return;var t=e.findMatchingBracket(i.getCursorPosition());if(t){var n=new m(t.row,t.column,t.row,t.column+1)}else if(e.$mode.getMatching){var n=e.$mode.getMatching(i.session)}if(n)e.$bracketHighlight=e.addMarker(n,"ace_bracket","text")},50)};this.$highlightTags=function(){if(this.$highlightTagPending)return;var h=this;this.$highlightTagPending=true;setTimeout(function(){h.$highlightTagPending=false;var e=h.session;if(!e||!e.bgTokenizer)return;var t=h.getCursorPosition();var n=new b(h.session,t.row,t.column);var i=n.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type)){e.removeMarker(e.$tagHighlight);e.$tagHighlight=null;return}if(i.type.indexOf("tag-open")!=-1){i=n.stepForward();if(!i)return}var r=i.value;var a=0;var o=n.stepBackward();if(o.value=="<"){do{o=i;i=n.stepForward();if(i&&i.value===r&&i.type.indexOf("tag-name")!==-1){if(o.value==="<"){a++}else if(o.value==="</"){a--}}}while(i&&a>=0)}else{do{i=o;o=n.stepBackward();if(i&&i.value===r&&i.type.indexOf("tag-name")!==-1){if(o.value==="<"){a++}else if(o.value==="</"){a--}}}while(o&&a<=0);n.stepForward()}if(!i){e.removeMarker(e.$tagHighlight);e.$tagHighlight=null;return}var s=n.getCurrentTokenRow();var l=n.getCurrentTokenColumn();var c=new m(s,l,s,l+i.value.length);var u=e.$backMarkers[e.$tagHighlight];if(e.$tagHighlight&&u!=undefined&&c.compareRange(u.range)!==0){e.removeMarker(e.$tagHighlight);e.$tagHighlight=null}if(c&&!e.$tagHighlight)e.$tagHighlight=e.addMarker(c,"ace_bracket","text")},50)};this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()});this.textInput.focus()};this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(e){if(this.$isFocused)return;this.$isFocused=true;this.renderer.showCursor();this.renderer.visualizeFocus();this._emit("focus",e)};this.onBlur=function(e){if(!this.$isFocused)return;this.$isFocused=false;this.renderer.hideCursor();this.renderer.visualizeBlur();this._emit("blur",e)};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(e){var t=this.session.$useWrapMode;var n=e.start.row==e.end.row?e.end.row:Infinity;this.renderer.updateLines(e.start.row,n,t);this._signal("change",e);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();if(!this.$blockScrolling){v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message");this.renderer.scrollCursorIntoView()}this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var e=this.getSession();var t;if(this.$highlightActiveLine){if(this.$selectionStyle!="line"||!this.selection.isMultiLine())t=this.getCursorPosition();if(this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1))t=false}if(e.$highlightLineMarker&&!t){e.removeMarker(e.$highlightLineMarker.id);e.$highlightLineMarker=null}else if(!e.$highlightLineMarker&&t){var n=new m(t.row,t.column,t.row,Infinity);n.id=e.addMarker(n,"ace_active-line","screenLine");e.$highlightLineMarker=n}else if(t){e.$highlightLineMarker.start.row=t.row;e.$highlightLineMarker.end.row=t.row;e.$highlightLineMarker.start.column=t.column;e._signal("changeBackMarker")}};this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker){t.removeMarker(t.$selectionMarker)}t.$selectionMarker=null;if(!this.selection.isEmpty()){var n=this.selection.getRange();var i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}else{this.$updateHighlightActiveLine()}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var e=this.session;var t=this.getSelectionRange();if(t.isEmpty()||t.isMultiLine())return;var n=t.start.column-1;var i=t.end.column+1;var r=e.getLine(t.start.row);var a=r.length;var o=r.substring(Math.max(n,0),Math.min(i,a));if(n>=0&&/^[\w\d]/.test(o)||i<=a&&/[\w\d]$/.test(o))return;o=r.substring(t.start.column,t.end.column);if(!/^[\w\d]+$/.test(o))return;var s=this.$search.$assembleRegExp({wholeWord:true,caseSensitive:true,needle:o});return s};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(e){this.renderer.updateText();this._emit("changeMode",e)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(true)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=function(){var e=this.getSelectedText();this._signal("copy",e);return e};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)};this.$handlePaste=function(e){if(typeof e=="string")e={text:e};this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode){this.insert(t)}else{var n=t.split(/\r\n|\r|\n/);var i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var r=i.length;r--;){var a=i[r];if(!a.isEmpty())this.session.remove(a);this.session.insert(a.start,n[r])}}};this.execCommand=function(e,t){return this.commands.exec(e,this,t)};this.insert=function(e,t){var n=this.session;var i=n.getMode();var r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var a=i.transformAction(n.getState(r.row),"insertion",this,n,e);if(a){if(e!==a.text){this.session.mergeUndoDeltas=false;this.$mergeNextCommand=false}e=a.text}}if(e=="\t")e=this.session.getTabString();if(!this.selection.isEmpty()){var o=this.getSelectionRange();r=this.session.remove(o);this.clearSelection()}else if(this.session.getOverwrite()&&e.indexOf("\n")==-1){var o=new m.fromPoints(r,r);o.end.column+=e.length;this.session.remove(o)}if(e=="\n"||e=="\r\n"){var s=n.getLine(r.row);if(r.column>s.search(/\S|$/)){var l=s.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column;var u=n.getState(r.row);var s=n.getLine(r.row);var h=i.checkOutdent(u,s,e);var f=n.insert(r,e);if(a&&a.selection){if(a.selection.length==2){this.selection.setSelectionRange(new m(r.row,c+a.selection[0],r.row,c+a.selection[1]))}else{this.selection.setSelectionRange(new m(r.row+a.selection[0],a.selection[1],r.row+a.selection[2],a.selection[3]))}}if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(u,s.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}if(h)i.autoOutdent(u,n,r.row)};this.onTextInput=function(e){this.keyBinding.onTextInput(e)};this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)};this.setOverwrite=function(e){this.session.setOverwrite(e)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(e){this.setOption("dragDelay",e)};this.getDragDelay=function(){return this.getOption("dragDelay")};this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)};this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(e){this.setOption("readOnly",e)};this.getReadOnly=function(){return this.getOption("readOnly")};this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(e){if(this.selection.isEmpty()){if(e=="left")this.selection.selectLeft();else this.selection.selectRight()}var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session;var i=n.getState(t.start.row);var r=n.getMode().transformAction(i,"deletion",this,n,t);if(t.end.column===0){var a=n.getTextRange(t);if(a[a.length-1]=="\n"){var o=n.getLine(t.end.row);if(/^\s+$/.test(o)){t.end.column=o.length}}}if(r)t=r}this.session.remove(t);this.clearSelection()};this.removeWordRight=function(){if(this.selection.isEmpty())this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){if(this.selection.isEmpty())this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){if(this.selection.isEmpty())this.selection.selectLineStart();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineEnd=function(){if(this.selection.isEmpty())this.selection.selectLineEnd();var e=this.getSelectionRange();if(e.start.column==e.end.column&&e.start.row==e.end.row){e.end.column=0;e.end.row++}this.session.remove(e);this.clearSelection()};this.splitLine=function(){if(!this.selection.isEmpty()){this.session.remove(this.getSelectionRange());this.clearSelection()}var e=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(e)};this.transposeLetters=function(){if(!this.selection.isEmpty()){return}var e=this.getCursorPosition();var t=e.column;if(t===0)return;var n=this.session.getLine(e.row);var i,r;if(t<n.length){i=n.charAt(t)+n.charAt(t-1);r=new m(e.row,t-1,e.row,t+1)}else{i=n.charAt(t-1)+n.charAt(t-2);r=new m(e.row,t-2,e.row,t)}this.session.replace(r,i);this.session.selection.moveToPosition(r.end)};this.toLowerCase=function(){var e=this.getSelectionRange();if(this.selection.isEmpty()){this.selection.selectWord()}var t=this.getSelectionRange();var n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase());this.selection.setSelectionRange(e)};this.toUpperCase=function(){var e=this.getSelectionRange();if(this.selection.isEmpty()){this.selection.selectWord()}var t=this.getSelectionRange();var n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase());this.selection.setSelectionRange(e)};this.indent=function(){var e=this.session;var t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,"\t");return}else if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,"\t");return}}var r=e.getLine(t.start.row);var a=t.start;var o=e.getTabSize();var s=e.documentToScreenColumn(a.row,a.column);if(this.session.getUseSoftTabs()){var l=o-s%o;var c=u.stringRepeat(" ",l)}else{var l=s%o;while(r[t.start.column-1]==" "&&l){t.start.column--;l--}this.selection.setSelectionRange(t);c="\t"}return this.insert(c)};this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")};this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())};this.sortLines=function(){var e=this.$getSelectedRows();var t=this.session;var n=[];for(var i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){if(e.toLowerCase()<t.toLowerCase())return-1;if(e.toLowerCase()>t.toLowerCase())return 1;return 0});var r=new m(0,0,0,0);for(var i=e.first;i<=e.last;i++){var a=t.getLine(i);r.start.row=i;r.end.row=i;r.end.column=a.length;t.replace(r,n[i-e.first])}};this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row);var t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)};this.toggleBlockComment=function(){var e=this.getCursorPosition();var t=this.session.getState(e.row);var n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)};this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;var i=this.session.getLine(e);while(n.lastIndex<t){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t){var a={value:r[0],start:r.index,end:r.index+r[0].length};return a}}return null};this.modifyNumber=function(e){var t=this.selection.getCursor().row;var n=this.selection.getCursor().column;var i=new m(t,n-1,t,n);var r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var a=this.getNumberAt(t,n);if(a){var o=a.value.indexOf(".")>=0?a.start+a.value.indexOf(".")+1:a.end;var s=a.start+a.value.length-o;var l=parseFloat(a.value);l*=Math.pow(10,s);if(o!==a.end&&n<o){e*=Math.pow(10,a.end-n-1)}else{e*=Math.pow(10,a.end-n)}l+=e;l/=Math.pow(10,s);var c=l.toFixed(s);var u=new m(t,a.start,t,a.end);this.session.replace(u,c);this.moveCursorTo(t,Math.max(a.start+1,n+c.length-a.value.length))}}};this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last);this.clearSelection()};this.duplicateSelection=function(){var e=this.selection;var t=this.session;var n=e.getRange();var i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var a=i?n.start:n.end;var o=t.insert(a,t.getTextRange(n),false);n.start=a;n.end=o;e.setSelectionRange(n,i)}};this.moveLinesDown=function(){this.$moveLines(1,false)};this.moveLinesUp=function(){this.$moveLines(-1,false)};this.moveText=function(e,t,n){return this.session.moveText(e,t,n)};this.copyLinesUp=function(){this.$moveLines(-1,true)};this.copyLinesDown=function(){this.$moveLines(1,true)};this.$moveLines=function(e,t){var n,i;var r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var a=r.toOrientedRange();n=this.$getSelectedRows(a);i=this.session.$moveLines(n.first,n.last,t?0:e);if(t&&e==-1)i=0;a.moveBy(i,0);r.fromOrientedRange(a)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session);this.inVirtualSelectionMode=true;var s=0;var l=0;var c=o.length;for(var u=0;u<c;u++){var h=u;o[u].moveBy(s,0);n=this.$getSelectedRows(o[u]);var f=n.first;var d=n.last;while(++u<c){if(l)o[u].moveBy(l,0);var p=this.$getSelectedRows(o[u]);if(t&&p.first!=d)break;else if(!t&&p.first>d+1)break;d=p.last}u--;s=this.session.$moveLines(f,d,t?0:e);if(t&&e==-1)h=u+1;while(h<=u){o[h].moveBy(s,0);h++}if(!t)s=0;l+=s}r.fromOrientedRange(r.ranges[0]);r.rangeList.attach(this.session);this.inVirtualSelectionMode=false}};this.$getSelectedRows=function(e){e=(e||this.getSelectionRange()).collapseRows();return{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}};this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()};this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(e,t){var n=this.renderer;var i=this.renderer.layerConfig;var r=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++;if(t===true){this.selection.$moveSelection(function(){this.moveCursorBy(r,0)})}else if(t===false){this.selection.moveCursorBy(r,0);this.selection.clearSelection()}this.$blockScrolling--;var a=n.scrollTop;n.scrollBy(0,r*i.lineHeight);if(t!=null)n.scrollCursorIntoView(null,.5);n.animateScrolling(a)};this.selectPageDown=function(){this.$moveByPage(1,true)};this.selectPageUp=function(){this.$moveByPage(-1,true)};this.gotoPageDown=function(){this.$moveByPage(1,false)};this.gotoPageUp=function(){this.$moveByPage(-1,false)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(e){this.renderer.scrollToRow(e)};this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)};this.centerSelection=function(){var e=this.getSelectionRange();var t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();this.$blockScrolling-=1};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)};this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)};this.jumpToMatching=function(e,t){var n=this.getCursorPosition();var i=new b(this.session,n.row,n.column);var r=i.getCurrentToken();var a=r||i.stepForward();if(!a)return;var o;var s=false;var l={};var c=n.column-a.start;var u;var h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(a.value.match(/[{}()\[\]]/g)){for(;c<a.value.length&&!s;c++){if(!h[a.value[c]]){continue}u=h[a.value[c]]+"."+a.type.replace("rparen","lparen");if(isNaN(l[u])){l[u]=0}switch(a.value[c]){case"(":case"[":case"{":l[u]++;break;case")":case"]":case"}":l[u]--;if(l[u]===-1){o="bracket";s=true}break}}}else if(a&&a.type.indexOf("tag-name")!==-1){if(isNaN(l[a.value])){l[a.value]=0}if(r.value==="<"){l[a.value]++}else if(r.value==="</"){l[a.value]--}if(l[a.value]===-1){o="tag";s=true}}if(!s){r=a;a=i.stepForward();c=0}}while(a&&!s);if(!o)return;var f,d;if(o==="bracket"){f=this.session.getBracketRange(n);if(!f){f=new m(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1);d=f.start;if(t||d.row===n.row&&Math.abs(d.column-n.column)<2)f=this.session.getBracketRange(d)}}else if(o==="tag"){if(a&&a.type.indexOf("tag-name")!==-1)var p=a.value;else return;f=new m(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2);if(f.compare(n.row,n.column)===0){s=false;do{a=r;r=i.stepBackward();if(r){if(r.type.indexOf("tag-close")!==-1){f.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1)}if(a.value===p&&a.type.indexOf("tag-name")!==-1){if(r.value==="<"){l[p]++}else if(r.value==="</"){l[p]--}if(l[p]===0)s=true}}}while(r&&!s)}if(a&&a.type.indexOf("tag-name")){d=f.start;if(d.row==n.row&&Math.abs(d.column-n.column)<2)d=f.end}}d=f&&f.cursor||d;if(d){if(e){if(f&&t){this.selection.setRange(f)}else if(f&&f.isEqual(this.getSelectionRange())){this.clearSelection()}else{this.selection.selectTo(d.row,d.column)}}else{this.selection.moveTo(d.row,d.column)}}};this.gotoLine=function(e,t,n){this.selection.clearSelection();this.session.unfold({row:e-1,column:t||0});this.$blockScrolling+=1;this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(e-1,t||0);this.$blockScrolling-=1;if(!this.isRowFullyVisible(e-1))this.scrollToLine(e-1,true,n)};this.navigateTo=function(e,t){this.selection.moveTo(e,t)};this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(-e||-1,0)};this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(e||1,0)};this.navigateLeft=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}else{e=e||1;while(e--){this.selection.moveCursorLeft()}}this.clearSelection()};this.navigateRight=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}else{e=e||1;while(e--){this.selection.moveCursorRight()}}this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(e,t){if(t)this.$search.set(t);var n=this.$search.find(this.session);var i=0;if(!n)return i;if(this.$tryReplace(n,e)){i=1}if(n!==null){this.selection.setSelectionRange(n);this.renderer.scrollSelectionIntoView(n.start,n.end)}return i};this.replaceAll=function(e,t){if(t){this.$search.set(t)}var n=this.$search.findAll(this.session);var i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var a=n.length-1;a>=0;--a){if(this.$tryReplace(n[a],e)){i++}}this.selection.setSelectionRange(r);this.$blockScrolling-=1;return i};this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);t=this.$search.replace(n,t);if(t!==null){e.end=this.session.replace(e,t);return e}else{return null}};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(e,t,n){if(!t)t={};if(typeof e=="string"||e instanceof RegExp)t.needle=e;else if(typeof e=="object")a.mixin(t,e);var i=this.selection.getRange();if(t.needle==null){e=this.session.getTextRange(i)||this.$search.$options.needle;if(!e){i=this.session.getWordRange(i.start.row,i.start.column);e=this.session.getTextRange(i)}this.$search.set({needle:e})}this.$search.set(t);if(!t.start)this.$search.set({start:i});var r=this.$search.find(this.session);if(t.preventScroll)return r;if(r){this.revealRange(r,n);return r}if(t.backwards)i.start=i.end;else i.end=i.start;this.selection.setRange(i)};this.findNext=function(e,t){this.find({skipCurrent:true,backwards:false},e,t)};this.findPrevious=function(e,t){this.find(e,{skipCurrent:true,backwards:true},t)};this.revealRange=function(e,t){this.$blockScrolling+=1;this.session.unfold(e);this.selection.setSelectionRange(e);this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5);if(t!==false)this.renderer.animateScrolling(n)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();this._signal("destroy",this);if(this.session){this.session.destroy()}};this.setAutoScrollEditorIntoView=function(e){if(!e)return;var r;var a=this;var o=false;if(!this.$scrollAnchor)this.$scrollAnchor=document.createElement("div");var s=this.$scrollAnchor;s.style.cssText="position:absolute";this.container.insertBefore(s,this.container.firstChild);var t=this.on("changeSelection",function(){o=true});var n=this.renderer.on("beforeRender",function(){if(o)r=a.renderer.container.getBoundingClientRect()});var i=this.renderer.on("afterRender",function(){if(o&&r&&(a.isFocused()||a.searchBox&&a.searchBox.isFocused())){var e=a.renderer;var t=e.$cursorLayer.$pixelPos;var n=e.layerConfig;var i=t.top-n.offset;if(t.top>=0&&i+r.top<0){o=true}else if(t.top<n.height&&t.top+r.top+n.lineHeight>window.innerHeight){o=false}else{o=null}if(o!=null){s.style.top=i+"px";s.style.left=t.left+"px";s.style.height=n.lineHeight+"px";s.scrollIntoView(o)}o=r=null}});this.setAutoScrollEditorIntoView=function(e){if(e)return;delete this.setAutoScrollEditorIntoView;this.off("changeSelection",t);this.renderer.off("afterRender",i);this.renderer.off("beforeRender",n)}};this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace";var t=this.renderer.$cursorLayer;if(!t)return;t.setSmoothBlinking(/smooth/.test(e));t.isBlinking=!this.$readOnly&&e!="wide";i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e))}}).call(y.prototype);v.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange();this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:true},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:true},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:false},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[false,true,"always"],initialValue:true},behavioursEnabled:{initialValue:true},wrapBehavioursEnabled:{initialValue:true},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:true},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});t.Editor=y});ace.define("ace/undomanager",["require","exports","module"],function(e,t,n){"use strict";var i=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1];if(e.merge&&this.hasUndo()){this.dirtyCounter--;t=this.$undoStack.pop().concat(t)}this.$undoStack.push(t);this.$redoStack=[];if(this.dirtyCounter<0){this.dirtyCounter=NaN}this.dirtyCounter++};this.undo=function(e){var t=this.$undoStack.pop();var n=null;if(t){n=this.$doc.undoChanges(t,e);this.$redoStack.push(t);this.dirtyCounter--}return n};this.redo=function(e){var t=this.$redoStack.pop();var n=null;if(t){n=this.$doc.redoChanges(this.$deserializeDeltas(t),e);this.$undoStack.push(t);this.dirtyCounter++}return n};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return this.$undoStack.length>0};this.hasRedo=function(){return this.$redoStack.length>0};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return this.dirtyCounter===0};this.$serializeDeltas=function(e){return i(e,t)};this.$deserializeDeltas=function(e){return i(e,n)};function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines.length==1?null:e.lines,text:e.lines.length==1?e.lines[0]:null}}function n(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function i(e,t){var n=new Array(e.length);for(var i=0;i<e.length;i++){var r=e[i];var a={group:r.group,deltas:new Array(r.length)};for(var o=0;o<r.deltas.length;o++){var s=r.deltas[o];a.deltas[o]=t(s)}n[i]=a}return n}}).call(i.prototype);t.UndoManager=i});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){"use strict";var w=e("../lib/dom");var i=e("../lib/oop");var s=e("../lib/lang");var r=e("../lib/event_emitter").EventEmitter;var a=function(e){this.element=w.createElement("div");this.element.className="ace_layer ace_gutter-layer";e.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);this.$cells=[]};(function(){i.implement(this,r);this.setSession=function(e){if(this.session)this.session.removeEventListener("change",this.$updateAnnotations);this.session=e;if(e)e.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(e,t){if(window.console)console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(e,t)};this.removeGutterDecoration=function(e,t){if(window.console)console.warn&&console.warn("deprecated use session.removeGutterDecoration");this.session.removeGutterDecoration(e,t)};this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t];var i=n.row;var r=this.$annotations[i];if(!r)r=this.$annotations[i]={text:[]};var a=n.text;a=a?s.escapeHTML(a):n.html||"";if(r.text.indexOf(a)===-1)r.text.push(a);var o=n.type;if(o=="error")r.className=" ace_error";else if(o=="warning"&&r.className!=" ace_error")r.className=" ace_warning";else if(o=="info"&&!r.className)r.className=" ace_info"}};this.$updateAnnotations=function(e){if(!this.$annotations.length)return;var t=e.start.row;var n=e.end.row-t;if(n===0){}else if(e.action=="remove"){this.$annotations.splice(t,n+1,null)}else{var i=new Array(n+1);i.unshift(t,1);this.$annotations.splice.apply(this.$annotations,i)}};this.update=function(e){var t=this.session;var n=e.firstRow;var i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);var r=t.getNextFoldLine(n);var a=r?r.start.row:Infinity;var o=this.$showFoldWidgets&&t.foldWidgets;var s=t.$breakpoints;var l=t.$decorations;var c=t.$firstLineNumber;var u=0;var h=t.gutterRenderer||this.$renderer;var f=null;var d=-1;var p=n;while(true){if(p>a){p=r.end.row+1;r=t.getNextFoldLine(p,r);a=r?r.start.row:Infinity}if(p>i){while(this.$cells.length>d+1){f=this.$cells.pop();this.element.removeChild(f.element)}break}f=this.$cells[++d];if(!f){f={element:null,textNode:null,foldWidget:null};f.element=w.createElement("div");f.textNode=document.createTextNode("");f.element.appendChild(f.textNode);this.element.appendChild(f.element);this.$cells[d]=f}var m="ace_gutter-cell ";if(s[p])m+=s[p];if(l[p])m+=l[p];if(this.$annotations[p])m+=this.$annotations[p].className;if(f.element.className!=m)f.element.className=m;var g=t.getRowLength(p)*e.lineHeight+"px";if(g!=f.element.style.height)f.element.style.height=g;if(o){var v=o[p];if(v==null)v=o[p]=t.getFoldWidget(p)}if(v){if(!f.foldWidget){f.foldWidget=w.createElement("span");f.element.appendChild(f.foldWidget)}var m="ace_fold-widget ace_"+v;if(v=="start"&&p==a&&p<r.end.row)m+=" ace_closed";else m+=" ace_open";if(f.foldWidget.className!=m)f.foldWidget.className=m;var g=e.lineHeight+"px";if(f.foldWidget.style.height!=g)f.foldWidget.style.height=g}else{if(f.foldWidget){f.element.removeChild(f.foldWidget);f.foldWidget=null}}var b=u=h?h.getText(t,p):p+c;if(b!==f.textNode.data)f.textNode.data=b;p++}this.element.style.height=e.minHeight+"px";if(this.$fixedWidth||t.$useWrapMode)u=t.getLength()+c;var y=h?h.getWidth(t,u,e):u.toString().length*e.characterWidth;var x=this.$padding||this.$computePadding();y+=x.left+x.right;if(y!==this.gutterWidth&&!isNaN(y)){this.gutterWidth=y;this.element.style.width=Math.ceil(this.gutterWidth)+"px";this._emit("changeGutterWidth",y)}};this.$fixedWidth=false;this.$showLineNumbers=true;this.$renderer="";this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=true;this.setShowFoldWidgets=function(e){if(e)w.addCssClass(this.element,"ace_folding-enabled");else w.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=e;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=w.computedStyle(this.element.firstChild);this.$padding={};this.$padding.left=parseInt(e.paddingLeft)+1||0;this.$padding.right=parseInt(e.paddingRight)||0;return this.$padding};this.getRegion=function(e){var t=this.$padding||this.$computePadding();var n=this.element.getBoundingClientRect();if(e.x<t.left+n.left)return"markers";if(this.$showFoldWidgets&&e.x>n.right-t.right)return"foldWidgets"}}).call(a.prototype);t.Gutter=a});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){"use strict";var m=e("../range").Range;var i=e("../lib/dom");var r=function(e){this.element=i.createElement("div");this.element.className="ace_layer ace_marker-layer";e.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(e){this.$padding=e};this.setSession=function(e){this.session=e};this.setMarkers=function(e){this.markers=e};this.update=function(e){if(!e)return;this.config=e;var t=[];for(var n in this.markers){var i=this.markers[n];if(!i.range){i.update(t,this,this.session,e);continue}var r=i.range.clipRows(e.firstRow,e.lastRow);if(r.isEmpty())continue;r=r.toScreenRange(this.session);if(i.renderer){var a=this.$getTop(r.start.row,e);var o=this.$padding+(this.session.$bidiHandler.isBidiRow(r.start.row)?this.session.$bidiHandler.getPosLeft(r.start.column):r.start.column*e.characterWidth);i.renderer(t,r,o,a,e)}else if(i.type=="fullLine"){this.drawFullLineMarker(t,r,i.clazz,e)}else if(i.type=="screenLine"){this.drawScreenLineMarker(t,r,i.clazz,e)}else if(r.isMultiLine()){if(i.type=="text")this.drawTextMarker(t,r,i.clazz,e);else this.drawMultiLineMarker(t,r,i.clazz,e)}else{if(this.session.$bidiHandler.isBidiRow(r.start.row)){this.drawBidiSingleLineMarker(t,r,i.clazz+" ace_start"+" ace_br15",e)}else{this.drawSingleLineMarker(t,r,i.clazz+" ace_start"+" ace_br15",e)}}}this.element.innerHTML=t.join("")};this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight};function p(e,t,n,i){return(e?1:0)|(t?2:0)|(n?4:0)|(i?8:0)}this.drawTextMarker=function(e,t,n,i,r){var a=this.session;var o=t.start.row;var s=t.end.row;var l=o;var c=0;var u=0;var h=a.getScreenLastRowColumn(l);var f=null;var d=new m(l,t.start.column,l,u);for(;l<=s;l++){d.start.row=d.end.row=l;d.start.column=l==o?t.start.column:a.getRowWrapIndent(l);d.end.column=h;c=u;u=h;h=l+1<s?a.getScreenLastRowColumn(l+1):l==s?0:t.end.column;f=n+(l==o?" ace_start":"")+" ace_br"+p(l==o||l==o+1&&t.start.column,c<u,u>h,l==s);if(this.session.$bidiHandler.isBidiRow(l)){this.drawBidiSingleLineMarker(e,d,f,i,l==s?0:1,r)}else{this.drawSingleLineMarker(e,d,f,i,l==s?0:1,r)}}};this.drawMultiLineMarker=function(e,t,n,i,r){var a=this.$padding;var o,s,l;r=r||"";if(this.session.$bidiHandler.isBidiRow(t.start.row)){var c=t.clone();c.end.row=c.start.row;c.end.column=this.session.getLine(c.start.row).length;this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,r)}else{o=i.lineHeight;s=this.$getTop(t.start.row,i);l=a+t.start.column*i.characterWidth;e.push("<div class='",n," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",l,"px;",r,"'></div>")}if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c=t.clone();c.start.row=c.end.row;c.start.column=0;this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,r)}else{var u=t.end.column*i.characterWidth;o=i.lineHeight;s=this.$getTop(t.end.row,i);e.push("<div class='",n," ace_br12' style='","height:",o,"px;","width:",u,"px;","top:",s,"px;","left:",a,"px;",r,"'></div>")}o=(t.end.row-t.start.row-1)*i.lineHeight;if(o<=0)return;s=this.$getTop(t.start.row+1,i);var h=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,h?" ace_br"+h:"","' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",a,"px;",r,"'></div>")};this.drawSingleLineMarker=function(e,t,n,i,r,a){var o=i.lineHeight;var s=(t.end.column+(r||0)-t.start.column)*i.characterWidth;var l=this.$getTop(t.start.row,i);var c=this.$padding+t.start.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",o,"px;","width:",s,"px;","top:",l,"px;","left:",c,"px;",a||"","'></div>")};this.drawBidiSingleLineMarker=function(t,e,n,i,r,a){var o=i.lineHeight,s=this.$getTop(e.start.row,i),l=this.$padding;var c=this.session.$bidiHandler.getSelections(e.start.column,e.end.column);c.forEach(function(e){t.push("<div class='",n,"' style='","height:",o,"px;","width:",e.width+(r||0),"px;","top:",s,"px;","left:",l+e.left,"px;",a||"","'></div>")})};this.drawFullLineMarker=function(e,t,n,i,r){var a=this.$getTop(t.start.row,i);var o=i.lineHeight;if(t.start.row!=t.end.row)o+=this.$getTop(t.end.row,i)-a;e.push("<div class='",n,"' style='","height:",o,"px;","top:",a,"px;","left:0;right:0;",r||"","'></div>")};this.drawScreenLineMarker=function(e,t,n,i,r){var a=this.$getTop(t.start.row,i);var o=i.lineHeight;e.push("<div class='",n,"' style='","height:",o,"px;","top:",a,"px;","left:0;right:0;",r||"","'></div>")}}).call(r.prototype);t.Marker=r});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("../lib/oop");var c=e("../lib/dom");var h=e("../lib/lang");var r=e("../lib/useragent");var a=e("../lib/event_emitter").EventEmitter;var o=function(e){this.element=c.createElement("div");this.element.className="ace_layer ace_text-layer";e.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,a);this.EOF_CHAR="";this.EOL_CHAR_LF="";this.EOL_CHAR_CRLF="";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="";this.SPACE_CHAR="";this.$padding=0;this.$updateEolChar=function(){var e=this.session.doc.getNewLineCharacter()=="\n"?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e){this.EOL_CHAR=e;return true}};this.setPadding=function(e){this.$padding=e;this.element.style.padding="0 "+e+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(e){this.$fontMetrics=e;this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(e){this.session=e;if(e)this.$computeTabString()};this.showInvisibles=false;this.setShowInvisibles=function(e){if(this.showInvisibles==e)return false;this.showInvisibles=e;this.$computeTabString();return true};this.displayIndentGuides=true;this.setDisplayIndentGuides=function(e){if(this.displayIndentGuides==e)return false;this.displayIndentGuides=e;this.$computeTabString();return true};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;var t=this.$tabStrings=[0];for(var n=1;n<e+1;n++){if(this.showInvisibles){t.push("<span class='ace_invisible ace_invisible_tab'>"+h.stringRepeat(this.TAB_CHAR,n)+"</span>")}else{t.push(h.stringRepeat(" ",n))}}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide";var r="";var a="";if(this.showInvisibles){i+=" ace_invisible";r=" ace_invisible_space";a=" ace_invisible_tab";var o=h.stringRepeat(this.SPACE_CHAR,this.tabSize);var s=h.stringRepeat(this.TAB_CHAR,this.tabSize)}else{var o=h.stringRepeat(" ",this.tabSize);var s=o}this.$tabStrings[" "]="<span class='"+i+r+"'>"+o+"</span>";this.$tabStrings["\t"]="<span class='"+i+a+"'>"+s+"</span>"}};this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow){this.scrollLines(e)}this.config=e;var i=Math.max(t,e.firstRow);var r=Math.min(n,e.lastRow);var a=this.element.childNodes;var o=0;for(var s=e.firstRow;s<i;s++){var l=this.session.getFoldLine(s);if(l){if(l.containsRow(i)){i=l.start.row;break}else{s=l.end.row}}o++}var s=i;var l=this.session.getNextFoldLine(s);var c=l?l.start.row:Infinity;while(true){if(s>c){s=l.end.row+1;l=this.session.getNextFoldLine(s,l);c=l?l.start.row:Infinity}if(s>r)break;var u=a[o++];if(u){var h=[];this.$renderLine(h,s,!this.$useLineGroups(),s==c?l:false);u.style.height=e.lineHeight*this.session.getRowLength(s)+"px";u.innerHTML=h.join("")}s++}};this.scrollLines=function(e){var t=this.config;this.config=e;if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);if(n.firstChild)n.insertBefore(r,n.firstChild);else n.appendChild(r)}if(e.lastRow>t.lastRow){var r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(r)}};this.$renderLinesFragment=function(e,t,n){var i=this.element.ownerDocument.createDocumentFragment();var r=t;var a=this.session.getNextFoldLine(r);var o=a?a.start.row:Infinity;while(true){if(r>o){r=a.end.row+1;a=this.session.getNextFoldLine(r,a);o=a?a.start.row:Infinity}if(r>n)break;var s=c.createElement("div");var l=[];this.$renderLine(l,r,false,r==o?a:false);s.innerHTML=l.join("");if(this.$useLineGroups()){s.className="ace_line_group";i.appendChild(s);s.style.height=e.lineHeight*this.session.getRowLength(r)+"px"}else{while(s.firstChild)i.appendChild(s.firstChild)}r++}return i};this.update=function(e){this.config=e;var t=[];var n=e.firstRow,i=e.lastRow;var r=n;var a=this.session.getNextFoldLine(r);var o=a?a.start.row:Infinity;while(true){if(r>o){r=a.end.row+1;a=this.session.getNextFoldLine(r,a);o=a?a.start.row:Infinity}if(r>i)break;if(this.$useLineGroups())t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(r),"px'>");this.$renderLine(t,r,false,r==o?a:false);if(this.$useLineGroups())t.push("</div>");r++}this.element.innerHTML=t.join("")};this.$textToken={text:true,rparen:true,lparen:true};this.$renderToken=function(e,l,t,n){var c=this;var i=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var r=function(e,t,n,i,r){if(t){return c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+h.stringRepeat(c.SPACE_CHAR,e.length)+"</span>":e}else if(e=="&"){return"&#38;"}else if(e=="<"){return"&#60;"}else if(e==">"){return"&#62;"}else if(e=="\t"){var a=c.session.getScreenTabSize(l+i);l+=a-1;return c.$tabStrings[a]}else if(e==""){var o=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk";var s=c.showInvisibles?c.SPACE_CHAR:"";l+=1;return"<span class='"+o+"' style='width:"+c.config.characterWidth*2+"px'>"+s+"</span>"}else if(n){return"<span class='ace_invisible ace_invisible_space ace_invalid'>"+c.SPACE_CHAR+"</span>"}else{l+=1;return"<span class='ace_cjk' style='width:"+c.config.characterWidth*2+"px'>"+e+"</span>"}};var a=n.replace(i,r);if(!this.$textToken[t.type]){var o="ace_"+t.type.replace(/\./g," ace_");var s="";if(t.type=="fold")s=" style='width:"+t.value.length*this.config.characterWidth+"px;' ";e.push("<span class='",o,"'",s,">",a,"</span>")}else{e.push(a)}return l+n.length};this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(t[0]==" "){i-=i%this.tabSize;e.push(h.stringRepeat(this.$tabStrings[" "],i/this.tabSize));return t.substr(i)}else if(t[0]=="\t"){e.push(h.stringRepeat(this.$tabStrings["\t"],i));return t.substr(i)}return t};this.$renderWrappedLine=function(e,t,n,i){var r=0;var a=0;var o=n[0];var s=0;for(var l=0;l<t.length;l++){var c=t[l];var u=c.value;if(l==0&&this.displayIndentGuides){r=u.length;u=this.renderIndentGuide(e,u,o);if(!u)continue;r-=u.length}if(r+u.length<o){s=this.$renderToken(e,s,c,u);r+=u.length}else{while(r+u.length>=o){s=this.$renderToken(e,s,c,u.substring(0,o-r));u=u.substring(o-r);r=o;if(!i){e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>")}e.push(h.stringRepeat("",n.indent));a++;s=0;o=n[a]||Number.MAX_VALUE}if(u.length!=0){r+=u.length;s=this.$renderToken(e,s,c,u)}}}};this.$renderSimpleLine=function(e,t){var n=0;var i=t[0];var r=i.value;if(this.displayIndentGuides)r=this.renderIndentGuide(e,r);if(r)n=this.$renderToken(e,n,i,r);for(var a=1;a<t.length;a++){i=t[a];r=i.value;n=this.$renderToken(e,n,i,r)}};this.$renderLine=function(e,t,n,i){if(!i&&i!=false)i=this.session.getFoldLine(t);if(i)var r=this.$getFoldLineTokens(t,i);else var r=this.session.getTokens(t);if(!n){e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>")}if(r.length){var a=this.session.getRowSplitData(t);if(a&&a.length)this.$renderWrappedLine(e,r,a,n);else this.$renderSimpleLine(e,r)}if(this.showInvisibles){if(i)t=i.end.row;e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")}if(!n)e.push("</div>")};this.$getFoldLineTokens=function(e,t){var a=this.session;var o=[];function s(e,t,n){var i=0,r=0;while(r+e[i].value.length<t){r+=e[i].value.length;i++;if(i==e.length)return}if(r!=t){var a=e[i].value.substring(t-r);if(a.length>n-t)a=a.substring(0,n-t);o.push({type:e[i].type,value:a});r=t+a.length;i+=1}while(r<n&&i<e.length){var a=e[i].value;if(a.length+r>n){o.push({type:e[i].type,value:a.substring(0,n-r)})}else o.push(e[i]);r+=a.length;i+=1}}var l=a.getTokens(e);t.walk(function(e,t,n,i,r){if(e!=null){o.push({type:"fold",value:e})}else{if(r)l=a.getTokens(t);if(l.length)s(l,i,n)}},t.end.row,this.session.getLine(t.end.row).length);return o};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);if(this.$measureNode)this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(o.prototype);t.Text=o});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var i=e("../lib/dom");var r;var a=function(e){this.element=i.createElement("div");this.element.className="ace_layer ace_cursor-layer";e.appendChild(this.element);if(r===undefined)r=!("opacity"in this.element.style);this.isVisible=false;this.isBlinking=true;this.blinkInterval=1e3;this.smoothBlinking=false;this.cursors=[];this.cursor=this.addCursor();i.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){var t=this.cursors;for(var n=t.length;n--;)t[n].style.visibility=e?"":"hidden"};this.$updateOpacity=function(e){var t=this.cursors;for(var n=t.length;n--;)t[n].style.opacity=e?"":"0"};this.$padding=0;this.setPadding=function(e){this.$padding=e};this.setSession=function(e){this.session=e};this.setBlinking=function(e){if(e!=this.isBlinking){this.isBlinking=e;this.restartTimer()}};this.setBlinkInterval=function(e){if(e!=this.blinkInterval){this.blinkInterval=e;this.restartTimer()}};this.setSmoothBlinking=function(e){if(e!=this.smoothBlinking&&!r){this.smoothBlinking=e;i.setCssClass(this.element,"ace_smooth-blinking",e);this.$updateCursors(true);this.$updateCursors=this.$updateOpacity.bind(this);this.restartTimer()}};this.addCursor=function(){var e=i.createElement("div");e.className="ace_cursor";this.element.appendChild(e);this.cursors.push(e);return e};this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();e.parentNode.removeChild(e);return e}};this.hideCursor=function(){this.isVisible=false;i.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=true;i.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var e=this.$updateCursors;clearInterval(this.intervalId);clearTimeout(this.timeoutId);if(this.smoothBlinking){i.removeCssClass(this.element,"ace_smooth-blinking")}e(true);if(!this.isBlinking||!this.blinkInterval||!this.isVisible)return;if(this.smoothBlinking){setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))}var t=function(){this.timeoutId=setTimeout(function(){e(false)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(true);t()},this.blinkInterval);t()};this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};if(!e)e=this.session.selection.getCursor();var n=this.session.documentToScreenPosition(e);var i=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth);var r=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}};this.update=function(e){this.config=e;var t=this.session.$selectionMarkers;var n=0,i=0;if(t===undefined||t.length===0){t=[{cursor:null}]}for(var n=0,r=t.length;n<r;n++){var a=this.getPixelPosition(t[n].cursor,true);if((a.top>e.height+e.offset||a.top<0)&&n>1){continue}var o=(this.cursors[i++]||this.addCursor()).style;if(!this.drawCursor){o.left=a.left+"px";o.top=a.top+"px";o.width=e.characterWidth+"px";o.height=e.lineHeight+"px"}else{this.drawCursor(o,a,e,t[n],this.session)}}while(this.cursors.length>i)this.removeCursor();var s=this.session.getOverwrite();this.$setOverwrite(s);this.$pixelPos=a;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(e){if(e!=this.overwrite){this.overwrite=e;if(e)i.addCssClass(this.element,"ace_overwrite-cursors");else i.removeCssClass(this.element,"ace_overwrite-cursors")}};this.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)}}).call(a.prototype);t.Cursor=a});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop");var r=e("./lib/dom");var a=e("./lib/event");var o=e("./lib/event_emitter").EventEmitter;var s=32768;var l=function(e){this.element=r.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=r.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);e.appendChild(this.element);this.setVisible(false);this.skipEvent=false;a.addListener(this.element,"scroll",this.onScroll.bind(this));a.addListener(this.element,"mousedown",a.preventDefault)};(function(){i.implement(this,o);this.setVisible=function(e){this.element.style.display=e?"":"none";this.isVisible=e;this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e);this.scrollTop=0;this.scrollHeight=0;t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=0};i.inherits(c,l);(function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(this.coeff!=1){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=false};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(e){this.element.style.height=e+"px"};this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e;if(e>s){this.coeff=s/e;e=s}else if(this.coeff!=1){this.coeff=1}this.inner.style.height=e+"px"};this.setScrollTop=function(e){if(this.scrollTop!=e){this.skipEvent=true;this.scrollTop=e;this.element.scrollTop=e*this.coeff}}}).call(c.prototype);var u=function(e,t){l.call(this,e);this.scrollLeft=0;this.height=t.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(u,l);(function(){this.classSuffix="-h";this.onScroll=function(){if(!this.skipEvent){this.scrollLeft=this.element.scrollLeft;this._emit("scroll",{data:this.scrollLeft})}this.skipEvent=false};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(e){this.element.style.width=e+"px"};this.setInnerWidth=function(e){this.inner.style.width=e+"px"};this.setScrollWidth=function(e){this.inner.style.width=e+"px"};this.setScrollLeft=function(e){if(this.scrollLeft!=e){this.skipEvent=true;this.scrollLeft=this.element.scrollLeft=e}}}).call(u.prototype);t.ScrollBar=c;t.ScrollBarV=c;t.ScrollBarH=u;t.VScrollBar=c;t.HScrollBar=u});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var i=e("./lib/event");var r=function(e,t){this.onRender=e;this.pending=false;this.changes=0;this.window=t||window};(function(){this.schedule=function(e){this.changes=this.changes|e;if(!this.pending&&this.changes){this.pending=true;var t=this;i.nextFrame(function(){t.pending=false;var e;while(e=t.changes){t.changes=0;t.onRender(e)}},this.window)}}}).call(r.prototype);t.RenderLoop=r});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var i=e("../lib/oop");var r=e("../lib/dom");var a=e("../lib/lang");var o=e("../lib/useragent");var s=e("../lib/event_emitter").EventEmitter;var l=0;var c=t.FontMetrics=function(e){this.el=r.createElement("div");this.$setMeasureNodeStyles(this.el.style,true);this.$main=r.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=r.createElement("div");this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);e.appendChild(this.el);if(!l)this.$testFractionalRect();this.$measureNode.innerHTML=a.stringRepeat("X",l);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){i.implement(this,s);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var e=r.createElement("div");this.$setMeasureNodeStyles(e.style);e.style.width="0.2px";document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;if(t>0&&t<1)l=50;else l=100;e.parentNode.removeChild(e)};this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto";e.left=e.top="0px";e.visibility="hidden";e.position="absolute";e.whiteSpace="pre";if(o.isIE<8){e["font-family"]="inherit"}else{e.font="inherit"}e.overflow=t?"hidden":"visible"};this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=e;this.charSizes=Object.create(null);this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height;this._emit("changeCharacterSize",{data:e})}};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)};this.setPolling=function(e){if(e){this.$pollSizeChanges()}else if(this.$pollSizeChangesTimer){clearInterval(this.$pollSizeChangesTimer);this.$pollSizeChangesTimer=0}};this.$measureSizes=function(){if(l===50){var t=null;try{t=this.$measureNode.getBoundingClientRect()}catch(e){t={width:0,height:0}}var e={height:t.height,width:t.width/l}}else{var e={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l}}if(e.width===0||e.height===0)return null;return e};this.$measureCharWidth=function(e){this.$main.innerHTML=a.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l};this.getCharacterWidth=function(e){var t=this.charSizes[e];if(t===undefined){t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width}return t};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);if(this.el&&this.el.parentNode)this.el.parentNode.removeChild(this.el)}}).call(c.prototype)});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){"use strict";var i=e("./lib/oop");var a=e("./lib/dom");var o=e("./config");var r=e("./lib/useragent");var s=e("./layer/gutter").Gutter;var l=e("./layer/marker").Marker;var c=e("./layer/text").Text;var u=e("./layer/cursor").Cursor;var h=e("./scrollbar").HScrollBar;var f=e("./scrollbar").VScrollBar;var d=e("./renderloop").RenderLoop;var p=e("./layer/font_metrics").FontMetrics;var m=e("./lib/event_emitter").EventEmitter;var g='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}';a.importCssString(g,"ace_editor.css");var v=function(e,t){var n=this;this.container=e||a.createElement("div");this.$keepTextAreaAtCursor=!r.isOldIE;a.addCssClass(this.container,"ace_editor");this.setTheme(t);this.$gutter=a.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",true);this.scroller=a.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=a.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new s(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new l(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element;this.$markerFront=new l(this.content);this.$cursorLayer=new u(this.content);this.$horizScroll=false;this.$vScroll=false;this.scrollBar=this.scrollBarV=new f(this.container,this);this.scrollBarH=new h(this.container,this);this.scrollBarV.addEventListener("scroll",function(e){if(!n.$scrollAnimation)n.session.setScrollTop(e.data-n.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(e){if(!n.$scrollAnimation)n.session.setScrollLeft(e.data-n.scrollMargin.left)});this.scrollTop=0;this.scrollLeft=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new p(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize();n.onResize(true,n.gutterWidth,n.$size.width,n.$size.height);n._signal("changeCharacterSize",e)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:true};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();this.setPadding(4);o.resetOptions(this);o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;i.implement(this,m);this.updateCharacterSize=function(){if(this.$textLayer.allowBoldFonts!=this.$allowBoldFonts){this.$allowBoldFonts=this.$textLayer.allowBoldFonts;this.setStyle("ace_nobold",!this.$allowBoldFonts)}this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(e){if(this.session)this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);this.session=e;if(e&&this.scrollMargin.top&&e.getScrollTop()<=0)e.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(e);this.$markerBack.setSession(e);this.$markerFront.setSession(e);this.$gutterLayer.setSession(e);this.$textLayer.setSession(e);if(!e)return;this.$loop.schedule(this.CHANGE_FULL);this.session.$setFontMetrics(this.$fontMetrics);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null;this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this);this.onChangeNewLineMode();this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode)};this.updateLines=function(e,t,n){if(t===undefined)t=Infinity;if(!this.$changedLines){this.$changedLines={firstRow:e,lastRow:t}}else{if(this.$changedLines.firstRow>e)this.$changedLines.firstRow=e;if(this.$changedLines.lastRow<t)this.$changedLines.lastRow=t}if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(n)this.$changedLines.lastRow=this.layerConfig.lastRow;else return}if(this.$changedLines.firstRow>this.layerConfig.lastRow)return;this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(e){if(e)this.$renderChanges(this.CHANGE_FULL,true);else this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){if(this.$loop.pending)this.$size.$dirty=true;else this.onResize()};this.onResize=function(e,t,n,i){if(this.resizing>2)return;else if(this.resizing>0)this.resizing++;else this.resizing=e?1:0;var r=this.container;if(!i)i=r.clientHeight||r.scrollHeight;if(!n)n=r.clientWidth||r.scrollWidth;var a=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;if(e)this.$gutterLayer.$padding=null;if(e)this.$renderChanges(a|this.$changes,true);else this.$loop.schedule(a|this.$changes);if(this.resizing)this.resizing=0;this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null};this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var r=0;var a=this.$size;var o={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};if(i&&(e||a.height!=i)){a.height=i;r|=this.CHANGE_SIZE;a.scrollerHeight=a.height;if(this.$horizScroll)a.scrollerHeight-=this.scrollBarH.getHeight();this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px";r=r|this.CHANGE_SCROLL}if(n&&(e||a.width!=n)){r|=this.CHANGE_SIZE;a.width=n;if(t==null)t=this.$showGutter?this.$gutter.offsetWidth:0;this.gutterWidth=t;this.scrollBarH.element.style.left=this.scroller.style.left=t+"px";a.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth());this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px";this.scroller.style.bottom=this.scrollBarH.getHeight()+"px";if(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)r|=this.CHANGE_FULL}a.$dirty=!n||!i;if(r)this._signal("resize",o);return r};this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;if(e!=this.gutterWidth)this.$changes|=this.$updateCachedSize(true,e,this.$size.width,this.$size.height);if(this.session.getUseWrapMode()&&this.adjustWrapLimit()){this.$loop.schedule(this.CHANGE_FULL)}else if(this.$size.$dirty){this.$loop.schedule(this.CHANGE_FULL)}else{this.$computeLayerConfig();this.$loop.schedule(this.CHANGE_MARKER)}};this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-this.$padding*2;var t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(e){this.setOption("showInvisibles",e);this.session.$bidiHandler.setShowInvisibles(e)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)};this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)};this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(e){return this.setOption("showGutter",e)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)};this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos;var t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0;e=this.$cursorLayer.getPixelPosition(n,true);t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=t+"px"};this.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var e=a.createElement("div");e.className="ace_layer ace_print-margin-layer";this.$printMarginEl=a.createElement("div");this.$printMarginEl.className="ace_print-margin";e.appendChild(this.$printMarginEl);this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px";t.visibility=this.$showPrintMargin?"visible":"hidden";if(this.session&&this.session.$wrap==-1)this.adjustWrapLimit()};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){if(!this.$keepTextAreaAtCursor)return;var e=this.layerConfig;var t=this.$cursorLayer.$pixelPos.top;var n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var i=this.textarea.style;var r=this.lineHeight;if(t<0||t>e.height-r){i.top=i.left="0";return}var a=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");a*=this.session.$getStringScreenWidth(o)[0]+2;r+=2}n-=this.scrollLeft;if(n>this.$size.scrollerWidth-a)n=this.$size.scrollerWidth-a;n+=this.gutterWidth;i.height=r+"px";i.width=a+"px";i.left=Math.min(n,this.$size.scrollerWidth-a)+"px";i.top=Math.min(t,this.$size.height-r)+"px"};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)};this.getLastFullyVisibleRow=function(){var e=this.layerConfig;var t=e.lastRow;var n=this.session.documentToScreenRow(t,0)*e.lineHeight;if(n-this.session.getScrollTop()>e.height-e.lineHeight)return t-1;return t};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(e){this.$padding=e;this.$textLayer.setPadding(e);this.$cursorLayer.setPadding(e);this.$markerFront.setPadding(e);this.$markerBack.setPadding(e);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()};this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=e|0;r.bottom=t|0;r.right=i|0;r.left=n|0;r.v=r.top+r.bottom;r.h=r.left+r.right;if(r.top&&this.scrollTop<=0&&this.session)this.session.setScrollTop(-r.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)};this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight;var t=this.$size.scrollerHeight;if(!this.$maxLines&&this.$scrollPastEnd){e-=(t-this.lineHeight)*this.$scrollPastEnd;if(this.scrollTop>e-t){e=this.scrollTop+t;this.scrollBarV.scrollTop=null}}this.scrollBarV.setScrollHeight(e+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=false;this.freeze=function(){this.$frozen=true};this.unfreeze=function(){this.$frozen=false};this.$renderChanges=function(e,t){if(this.$changes){e|=this.$changes;this.$changes=0}if(!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t){this.$changes|=e;return}if(this.$size.$dirty){this.$changes|=e;return this.onResize(true)}if(!this.lineHeight){this.$textLayer.checkForSizeChanges()}this._signal("beforeRender");if(this.session&&this.session.$bidiHandler)this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){e|=this.$computeLayerConfig();if(n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;if(i>0){this.scrollTop=i;e=e|this.CHANGE_SCROLL;e|=this.$computeLayerConfig()}}n=this.layerConfig;this.$updateScrollBarV();if(e&this.CHANGE_H_SCROLL)this.$updateScrollBarH();this.$gutterLayer.element.style.marginTop=-n.offset+"px";this.content.style.marginTop=-n.offset+"px";this.content.style.width=n.width+2*this.$padding+"px";this.content.style.height=n.minHeight+"px"}if(e&this.CHANGE_H_SCROLL){this.content.style.marginLeft=-this.scrollLeft+"px";this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"}if(e&this.CHANGE_FULL){this.$textLayer.update(n);if(this.$showGutter)this.$gutterLayer.update(n);this.$markerBack.update(n);this.$markerFront.update(n);this.$cursorLayer.update(n);this.$moveTextAreaToCursor();this.$highlightGutterLine&&this.$updateGutterLineHighlight();this._signal("afterRender");return}if(e&this.CHANGE_SCROLL){if(e&this.CHANGE_TEXT||e&this.CHANGE_LINES)this.$textLayer.update(n);else this.$textLayer.scrollLines(n);if(this.$showGutter)this.$gutterLayer.update(n);this.$markerBack.update(n);this.$markerFront.update(n);this.$cursorLayer.update(n);this.$highlightGutterLine&&this.$updateGutterLineHighlight();this.$moveTextAreaToCursor();this._signal("afterRender");return}if(e&this.CHANGE_TEXT){this.$textLayer.update(n);if(this.$showGutter)this.$gutterLayer.update(n)}else if(e&this.CHANGE_LINES){if(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)this.$gutterLayer.update(n)}else if(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER){if(this.$showGutter)this.$gutterLayer.update(n)}if(e&this.CHANGE_CURSOR){this.$cursorLayer.update(n);this.$moveTextAreaToCursor();this.$highlightGutterLine&&this.$updateGutterLineHighlight()}if(e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)){this.$markerFront.update(n)}if(e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)){this.$markerBack.update(n)}this._signal("afterRender")};this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight;var t=this.$maxLines*this.lineHeight;var n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);if(this.$horizScroll)n+=this.scrollBarH.getHeight();if(this.$maxPixelHeight&&n>this.$maxPixelHeight)n=this.$maxPixelHeight;var i=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){if(i!=this.$vScroll){this.$vScroll=i;this.scrollBarV.setVisible(i)}var r=this.container.clientWidth;this.container.style.height=n+"px";this.$updateCachedSize(true,this.$gutterWidth,r,n);this.desiredHeight=n;this._signal("autosize")}};this.$computeLayerConfig=function(){var e=this.session;var t=this.$size;var n=t.height<=2*this.lineHeight;var i=this.session.getScreenLength();var r=i*this.lineHeight;var a=this.$getLongestLine();var o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-a-2*this.$padding<0);var s=this.$horizScroll!==o;if(s){this.$horizScroll=o;this.scrollBarH.setVisible(o)}var l=this.$vScroll;if(this.$maxLines&&this.lineHeight>1)this.$autosize();var c=this.scrollTop%this.lineHeight;var u=t.scrollerHeight+this.lineHeight;var h=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=h;var f=this.scrollMargin;this.session.setScrollTop(Math.max(-f.top,Math.min(this.scrollTop,r-t.scrollerHeight+f.bottom)));this.session.setScrollLeft(Math.max(-f.left,Math.min(this.scrollLeft,a+2*this.$padding-t.scrollerWidth+f.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+h<0||this.scrollTop>f.top);var p=l!==d;if(p){this.$vScroll=d;this.scrollBarV.setVisible(d)}var m=Math.ceil(u/this.lineHeight)-1;var g=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight));var v=g+m;var b,y;var x=this.lineHeight;g=e.screenToDocumentRow(g,0);var w=e.getFoldLine(g);if(w){g=w.start.row}b=e.documentToScreenRow(g,0);y=e.getRowLength(g)*x;v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1);u=t.scrollerHeight+e.getRowLength(v)*x+y;c=this.scrollTop-b*x;var _=0;if(this.layerConfig.width!=a)_=this.CHANGE_H_SCROLL;if(s||p){_=this.$updateCachedSize(true,this.gutterWidth,t.width,t.height);this._signal("scrollbarVisibilityChanged");if(p)a=this.$getLongestLine()}this.layerConfig={width:a,padding:this.$padding,firstRow:g,firstRowScreen:b,lastRow:v,lineHeight:x,characterWidth:this.characterWidth,minHeight:u,maxHeight:r,offset:c,gutterOffset:x?Math.max(0,Math.ceil((c+t.height-t.scrollerHeight)/x)):0,height:this.$size.scrollerHeight};return _};this.$updateLines=function(){if(!this.$changedLines)return;var e=this.$changedLines.firstRow;var t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(e>n.lastRow+1){return}if(t<n.firstRow){return}if(t===Infinity){if(this.$showGutter)this.$gutterLayer.update(n);this.$textLayer.update(n);return}this.$textLayer.updateLines(n,e,t);return true};this.$getLongestLine=function(){var e=this.session.getScreenWidth();if(this.showInvisibles&&!this.session.$useWrapMode)e+=1;return Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(true));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)};this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)};this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n);this.scrollCursorIntoView(t,n)};this.scrollCursorIntoView=function(e,t,n){if(this.$size.scrollerHeight===0)return;var i=this.$cursorLayer.getPixelPosition(e);var r=i.left;var a=i.top;var o=n&&n.top||0;var s=n&&n.bottom||0;var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;if(l+o>a){if(t&&l+o>a+this.lineHeight)a-=t*this.$size.scrollerHeight;if(a===0)a=-this.scrollMargin.top;this.session.setScrollTop(a)}else if(l+this.$size.scrollerHeight-s<a+this.lineHeight){if(t&&l+this.$size.scrollerHeight-s<a-this.lineHeight)a+=t*this.$size.scrollerHeight;this.session.setScrollTop(a+this.lineHeight-this.$size.scrollerHeight)}var c=this.scrollLeft;if(c>r){if(r<this.$padding+2*this.layerConfig.characterWidth)r=-this.scrollMargin.left;this.session.setScrollLeft(r)}else if(c+this.$size.scrollerWidth<r+this.characterWidth){this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth))}else if(c<=this.$padding&&r-c<this.characterWidth){this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)};this.alignCursor=function(e,t){if(typeof e=="number")e={row:e,column:0};var n=this.$cursorLayer.getPixelPosition(e);var i=this.$size.scrollerHeight-this.lineHeight;var r=n.top-i*(t||0);this.session.setScrollTop(r);return r};this.STEPS=8;this.$calcSteps=function(e,t){var n=0;var i=this.STEPS;var r=[];var a=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<i;++n)r.push(a(n/this.STEPS,e,t-e));return r};this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0});var a=r.top;if(t)a-=this.$size.scrollerHeight/2;var o=this.scrollTop;this.session.setScrollTop(a);if(n!==false)this.animateScrolling(o,i)};this.animateScrolling=function(e,t){var n=this.scrollTop;if(!this.$animatedScroll)return;var i=this;if(e==n)return;if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length){e=r[0];if(e==n)return}}var a=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:a};clearInterval(this.$timer);i.session.setScrollTop(a.shift());i.session.$scrollTop=n;this.$timer=setInterval(function(){if(a.length){i.session.setScrollTop(a.shift());i.session.$scrollTop=n}else if(n!=null){i.session.$scrollTop=-1;i.session.setScrollTop(n);n=null}else{i.$timer=clearInterval(i.$timer);i.$scrollAnimation=null;t&&t()}},10)};this.scrollToY=function(e){if(this.scrollTop!==e){this.$loop.schedule(this.CHANGE_SCROLL);this.scrollTop=e}};this.scrollToX=function(e){if(this.scrollLeft!==e)this.scrollLeft=e;this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(e,t){this.session.setScrollTop(t);this.session.setScrollLeft(t)};this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t);e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)};this.isScrollableBy=function(e,t){if(t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top)return true;if(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom)return true;if(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left)return true;if(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return true};this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding;var r=i/this.characterWidth;var a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);var o=Math.round(r);return{row:a,column:o,side:r-o>0?1:-1,offsetX:i}};this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding;var r=Math.round(i/this.characterWidth);var a=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(a,Math.max(r,0),i)};this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect();var i=this.session.documentToScreenPosition(e,t);var r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth));var a=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+a-this.scrollTop}};this.visualizeFocus=function(){a.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){a.removeCssClass(this.container,"ace_focus")};this.showComposition=function(e){if(!this.$composition)this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText};this.$keepTextAreaAtCursor=true;a.addCssClass(this.textarea,"ace_composition");this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(e){this.$moveTextAreaToCursor()};this.hideComposition=function(){if(!this.$composition)return;a.removeCssClass(this.textarea,"ace_composition");this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor;this.textarea.style.cssText=this.$composition.cssText;this.$composition=null};this.setTheme=function(n,i){var r=this;this.$themeId=n;r._dispatchEvent("themeChange",{theme:n});if(!n||typeof n=="string"){var e=n||this.$options.theme.initialValue;o.loadModule(["theme",e],t)}else{t(n)}function t(e){if(r.$themeId!=n)return i&&i();if(!e||!e.cssClass)throw new Error("couldn't load module "+n+" or it didn't call define");a.importCssString(e.cssText,e.cssClass,r.container.ownerDocument);if(r.theme)a.removeCssClass(r.container,r.theme.cssClass);var t="padding"in e?e.padding:"padding"in(r.theme||{})?4:r.$padding;if(r.$padding&&t!=r.$padding)r.setPadding(t);r.$theme=e.cssClass;r.theme=e;a.addCssClass(r.container,e.cssClass);a.setCssClass(r.container,"ace_dark",e.isDark);if(r.$size){r.$size.width=0;r.$updateSizeAsync()}r._dispatchEvent("themeLoaded",{theme:e});i&&i()}};this.getTheme=function(){return this.$themeId};this.setStyle=function(e,t){a.setCssClass(this.container,e,t!==false)};this.unsetStyle=function(e){a.removeCssClass(this.container,e)};this.setCursorStyle=function(e){if(this.scroller.style.cursor!=e)this.scroller.style.cursor=e};this.setMouseCursor=function(e){this.scroller.style.cursor=e};this.destroy=function(){this.$textLayer.destroy();this.$cursorLayer.destroy()}}).call(v.prototype);o.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:false},showInvisibles:{set:function(e){if(this.$textLayer.setShowInvisibles(e))this.$loop.schedule(this.CHANGE_TEXT)},initialValue:false},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:true},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){if(typeof e=="number")this.$printMarginColumn=e;this.$showPrintMargin=!!e;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:true},fadeFoldWidgets:{set:function(e){a.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:false},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:true},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:true},displayIndentGuides:{set:function(e){if(this.$textLayer.setDisplayIndentGuides(e))this.$loop.schedule(this.CHANGE_TEXT)},initialValue:true},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight){this.$gutterLineHighlight=a.createElement("div");this.$gutterLineHighlight.className="ace_gutter-active-line";this.$gutter.appendChild(this.$gutterLineHighlight);return}this.$gutterLineHighlight.style.display=e?"":"none";if(this.$cursorLayer.$pixelPos)this.$updateGutterLineHighlight()},initialValue:false,value:true},hScrollBarAlwaysVisible:{set:function(e){if(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:false},vScrollBarAlwaysVisible:{set:function(e){if(!this.$vScrollBarAlwaysVisible||!this.$vScroll)this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:false},fontSize:{set:function(e){if(typeof e=="number")e=e+"px";this.container.style.fontSize=e;this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e;this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0;if(this.$scrollPastEnd==e)return;this.$scrollPastEnd=e;this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:0,handlesSet:true},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:true}});t.VirtualRenderer=v});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(s,e,t){"use strict";var n=s("../lib/oop");var a=s("../lib/net");var l=s("../lib/event_emitter").EventEmitter;var c=s("../config");function o(e,t){var n=t.src;"importScripts('"+a.qualifyURL(e)+"');";try{return new Blob([n],{type:"application/javascript"})}catch(e){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;var r=new i;r.append(n);return r.getBlob("application/javascript")}}function u(e,t){var n=o(e,t);var i=window.URL||window.webkitURL;var r=i.createObjectURL(n);return new Worker(r)}var i=function(e,t,n,i,r){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);if(s.nameToUrl&&!s.toUrl)s.toUrl=s.nameToUrl;if(c.get("packaged")||!s.toUrl){i=i||c.moduleUrl(t.id,"worker")}else{var a=this.$normalizePath;i=i||a(s.toUrl("ace/worker/worker.js",null,"_"));var o={};e.forEach(function(e){o[e]=a(s.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=u(i,t);if(r){this.send("importScripts",r)}this.$worker.postMessage({init:true,tlns:o,module:t.id,classname:n});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage};(function(){n.implement(this,l);this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];if(n){n(t.data);delete this.callbacks[t.id]}break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data);break}};this.reportError=function(e){window.console&&console.error&&console.error(e)};this.$normalizePath=function(e){return a.qualifyURL(e)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;if(this.$doc)this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(e,t){this.$worker.postMessage({command:e,args:t})};this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n;t.push(i)}this.send(e,t)};this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}};this.attachToDocument=function(e){if(this.$doc)this.terminate();this.$doc=e;this.call("setValue",[e.getValue()]);e.on("change",this.changeListener)};this.changeListener=function(e){if(!this.deltaQueue){this.deltaQueue=[];setTimeout(this.$sendDeltaQueue,0)}if(e.action=="insert")this.deltaQueue.push(e.start,e.lines);else this.deltaQueue.push(e.start,e.end)};this.$sendDeltaQueue=function(){var e=this.deltaQueue;if(!e)return;this.deltaQueue=null;if(e.length>50&&e.length>this.$doc.getLength()>>1){this.call("setValue",[this.$doc.getValue()])}else this.emit("change",{data:e})}}).call(i.prototype);var r=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var i=null;var r=false;var a=Object.create(l);var o=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(e){o.messageBuffer.push(e);if(i){if(r)setTimeout(s);else s()}};this.setEmitSync=function(e){r=e};var s=function(){var e=o.messageBuffer.shift();if(e.command)i[e.command].apply(i,e.args);else if(e.event)a._signal(e.event,e.data)};a.postMessage=function(e){o.onMessage({data:e})};a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})};a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})};c.loadModule(["worker",t],function(e){i=new e[n](a);while(o.messageBuffer.length)s()})};r.prototype=i.prototype;e.UIWorkerClient=r;e.WorkerClient=i;e.createWorker=u});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var l=e("./range").Range;var i=e("./lib/event_emitter").EventEmitter;var r=e("./lib/oop");var a=function(e,t,n,i,r,a){var o=this;this.length=t;this.session=e;this.doc=e.getDocument();this.mainClass=r;this.othersClass=a;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=i;this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})};this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length;this.setup();e.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,i);this.setup=function(){var n=this;var i=this.doc;var e=this.session;this.selectionBefore=e.selection.toJSON();if(e.selection.inMultiSelectMode)e.selection.toSingleRange();this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var t=this.pos;t.$insertRight=true;t.detach();t.markerId=e.addMarker(new l(t.row,t.column,t.row,t.column+this.length),this.mainClass,null,false);this.others=[];this.$others.forEach(function(e){var t=i.createAnchor(e.row,e.column);t.$insertRight=true;t.detach();n.others.push(t)});e.setUndoSelect(false)};this.showOtherMarkers=function(){if(this.othersActive)return;var t=this.session;var n=this;this.othersActive=true;this.others.forEach(function(e){e.markerId=t.addMarker(new l(e.row,e.column,e.row,e.column+n.length),n.othersClass,null,false)})};this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=false;for(var e=0;e<this.others.length;e++){this.session.removeMarker(this.others[e].markerId)}};this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row!==t.end.row)return;if(t.start.row!==this.pos.row)return;this.$updating=true;var n=e.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column;var i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1;var r=t.start.column-this.pos.column;this.updateAnchors(e);if(i)this.length+=n;if(i&&!this.session.$fromUndo){if(e.action==="insert"){for(var a=this.others.length-1;a>=0;a--){var o=this.others[a];var s={row:o.row,column:o.column+r};this.doc.insertMergedLines(s,e.lines)}}else if(e.action==="remove"){for(var a=this.others.length-1;a>=0;a--){var o=this.others[a];var s={row:o.row,column:o.column+r};this.doc.remove(new l(s.row,s.column,s.row,s.column-n))}}}this.$updating=false;this.updateMarkers()};this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()};this.updateMarkers=function(){if(this.$updating)return;var n=this;var i=this.session;var e=function(e,t){i.removeMarker(e.markerId);e.markerId=i.addMarker(new l(e.row,e.column,e.row,e.column+n.length),t,null,false)};e(this.pos,this.mainClass);for(var t=this.others.length;t--;)e(this.others[t],this.othersClass)};this.onCursorChange=function(e){if(this.$updating||!this.session)return;var t=this.session.selection.getCursor();if(t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length){this.showOtherMarkers();this._emit("cursorEnter",e)}else{this.hideOtherMarkers();this._emit("cursorLeave",e)}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(true);this.session=null};this.cancel=function(){if(this.$undoStackDepth===-1)return;var e=this.session.getUndoManager();var t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth;for(var n=0;n<t;n++){e.undo(true)}if(this.selectionBefore)this.session.selection.fromJSON(this.selectionBefore)}}).call(a.prototype);t.PlaceHolder=a});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){var M=e("../lib/event");var k=e("../lib/useragent");function D(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent;var n=t.altKey;var i=t.shiftKey;var r=t.ctrlKey;var a=e.getAccelKey();var o=e.getButton();if(r&&k.isMac)o=t.button;if(e.editor.inMultiSelectMode&&o==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!r&&!n&&!a){if(o===0&&e.editor.inMultiSelectMode)e.editor.exitMultiSelectMode();return}if(o!==0)return;var s=e.editor;var l=s.selection;var c=s.inMultiSelectMode;var u=e.getDocumentPosition();var h=l.getCursor();var f=e.inSelection()||l.isEmpty()&&D(u,h);var d=e.x,p=e.y;var m=function(e){d=e.clientX;p=e.clientY};var g=s.session;var v=s.renderer.pixelToScreenCoordinates(d,p);var b=v;var y;if(s.$mouseHandler.$enableJumpToDef){if(r&&n||a&&n)y=i?"block":"add";else if(n&&s.$blockSelectEnabled)y="block"}else{if(a&&!n){y="add";if(!c&&i)return}else if(n&&s.$blockSelectEnabled){y="block"}}if(y&&k.isMac&&t.ctrlKey){s.$mouseHandler.cancelContextMenu()}if(y=="add"){if(!c&&f)return;if(!c){var x=l.toOrientedRange();s.addSelectionMarker(x)}var w=l.rangeList.rangeAtPoint(u);s.$blockScrolling++;s.inVirtualSelectionMode=true;if(i){w=null;x=l.ranges[0]||x;s.removeSelectionMarker(x)}s.once("mouseup",function(){var e=l.toOrientedRange();if(w&&e.isEmpty()&&D(w.cursor,e.cursor))l.substractPoint(e.cursor);else{if(i){l.substractPoint(x.cursor)}else if(x){s.removeSelectionMarker(x);l.addRange(x)}l.addRange(e)}s.$blockScrolling--;s.inVirtualSelectionMode=false})}else if(y=="block"){e.stop();s.inVirtualSelectionMode=true;var _;var E=[];var A=function(){var e=s.renderer.pixelToScreenCoordinates(d,p);var t=g.screenToDocumentPosition(e.row,e.column,e.offsetX);if(D(b,e)&&D(t,l.lead))return;b=e;s.$blockScrolling++;s.selection.moveToPosition(t);s.renderer.scrollCursorIntoView();s.removeSelectionMarkers(E);E=l.rectangularRangeBlock(b,v);if(s.$mouseHandler.$clickSelection&&E.length==1&&E[0].isEmpty())E[0]=s.$mouseHandler.$clickSelection.clone();E.forEach(s.addSelectionMarker,s);s.updateSelectionMarkers();s.$blockScrolling--};s.$blockScrolling++;if(c&&!a){l.toSingleRange()}else if(!c&&a){_=l.toOrientedRange();s.addSelectionMarker(_)}if(i)v=g.documentToScreenPosition(l.lead);else l.moveToPosition(u);s.$blockScrolling--;b={row:-1,column:-1};var C=function(e){clearInterval(T);s.removeSelectionMarkers(E);if(!E.length)E=[l.toOrientedRange()];s.$blockScrolling++;if(_){s.removeSelectionMarker(_);l.toSingleRange(_)}for(var t=0;t<E.length;t++)l.addRange(E[t]);s.inVirtualSelectionMode=false;s.$mouseHandler.$clickSelection=null;s.$blockScrolling--};var S=A;M.capture(s.container,m,C);var T=setInterval(function(){S()},20);return e.preventDefault()}}t.onMouseDown=i});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:true},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:true},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,true)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:true},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,true)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:true},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:true},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:true},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,true)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:true},{name:"selectNextAfter",exec:function(e){e.selectMore(1,true)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:true},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:true},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:true}];t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:true,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){var i=e("./range_list").RangeList;var b=e("./range").Range;var m=e("./selection").Selection;var r=e("./mouse/multi_select_handler").onMouseDown;var a=e("./lib/event");var g=e("./lib/lang");var o=e("./commands/multi_select_commands");t.commands=o.defaultCommands.concat(o.multiSelectCommands);var s=e("./search").Search;var l=new s;function c(e,t,n){l.$options.wrap=true;l.$options.needle=t;l.$options.backwards=n==-1;return l.find(e)}var u=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype);(function(){this.ranges=null;this.rangeList=null;this.addRange=function(e,t){if(!e)return;if(!this.inMultiSelectMode&&this.rangeCount===0){var n=this.toOrientedRange();this.rangeList.add(n);this.rangeList.add(e);if(this.rangeList.ranges.length!=2){this.rangeList.removeAll();return t||this.fromOrientedRange(e)}this.rangeList.removeAll();this.rangeList.add(n);this.$onAddRange(n)}if(!e.cursor)e.cursor=e.end;var i=this.rangeList.add(e);this.$onAddRange(e);if(i.length)this.$onRemoveRange(i);if(this.rangeCount>1&&!this.inMultiSelectMode){this._signal("multiSelect");this.inMultiSelectMode=true;this.session.$undoSelect=false;this.rangeList.attach(this.session)}return t||this.fromOrientedRange(e)};this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();if(t.length)this.$onRemoveRange(t);e&&this.fromOrientedRange(e)};this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t){this.$onRemoveRange(t);return t[0]}};this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();if(e.length)this.$onRemoveRange(e);else if(this.ranges[0])this.fromOrientedRange(this.ranges[0])};this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(e);this._signal("addRange",{range:e})};this.$onRemoveRange=function(e){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t);this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e});if(this.rangeCount===0&&this.inMultiSelectMode){this.inMultiSelectMode=false;this._signal("singleSelect");this.session.$undoSelect=true;this.rangeList.detach(this.session)}t=t||this.ranges[0];if(t&&!t.isEqual(this.getRange()))this.fromOrientedRange(t)};this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new i;this.ranges=[];this.rangeCount=0};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges;var t=e[e.length-1];var n=b.fromPoints(e[0].start,t.end);this.toSingleRange();this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange();var i=this.isBackwards();var r=n.start.row;var a=n.end.row;if(r==a){if(i)var o=n.end,s=n.start;else var o=n.start,s=n.end;this.addRange(b.fromPoints(s,s));this.addRange(b.fromPoints(o,o));return}var l=[];var c=this.getLineRange(r,true);c.start.column=n.start.column;l.push(c);for(var u=r+1;u<a;u++)l.push(this.getLineRange(u,true));c=this.getLineRange(a,true);c.end.column=n.end.column;l.push(c);l.forEach(this.addRange,this)}};this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges;var t=e[e.length-1];var n=b.fromPoints(e[0].start,t.end);this.toSingleRange();this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead);var r=this.session.documentToScreenPosition(this.selectionAnchor);var a=this.rectangularRangeBlock(i,r);a.forEach(this.addRange,this)}};this.rectangularRangeBlock=function(e,t,n){var i=[];var r=e.column<t.column;if(r){var a=e.column;var o=t.column;var s=e.offsetX;var l=t.offsetX}else{var a=t.column;var o=e.column;var s=t.offsetX;var l=e.offsetX}var c=e.row<t.row;if(c){var u=e.row;var h=t.row}else{var u=t.row;var h=e.row}if(a<0)a=0;if(u<0)u=0;if(u==h)n=true;for(var f=u;f<=h;f++){var d=b.fromPoints(this.session.screenToDocumentPosition(f,a,s),this.session.screenToDocumentPosition(f,o,l));if(d.isEmpty()){if(p&&y(d.end,p))break;var p=d.end}d.cursor=r?d.start:d.end;i.push(d)}if(c)i.reverse();if(!n){var m=i.length-1;while(i[m].isEmpty()&&m>0)m--;if(m>0){var g=0;while(i[g].isEmpty())g++}for(var v=m;v>=g;v--){if(i[v].isEmpty())i.splice(v,1)}}return i}}).call(m.prototype);var h=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(e){if(!e.cursor)e.cursor=e.end;var t=this.getSelectionStyle();e.marker=this.session.addMarker(e,"ace_selection",t);this.session.$selectionMarkers.push(e);this.session.selectionMarkerCount=this.session.$selectionMarkers.length;return e};this.removeSelectionMarker=function(e){if(!e.marker)return;this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);if(t!=-1)this.session.$selectionMarkers.splice(t,1);this.session.selectionMarkerCount=this.session.$selectionMarkers.length};this.removeSelectionMarkers=function(e){var t=this.session.$selectionMarkers;for(var n=e.length;n--;){var i=e[n];if(!i.marker)continue;this.session.removeMarker(i.marker);var r=t.indexOf(i);if(r!=-1)t.splice(r,1)}this.session.selectionMarkerCount=t.length};this.$onAddRange=function(e){this.addSelectionMarker(e.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(e){if(this.inMultiSelectMode)return;this.inMultiSelectMode=true;this.setStyle("ace_multiselect");this.keyBinding.addKeyboardHandler(o.keyboardHandler);this.commands.setDefaultHandler("exec",this.$onMultiSelectExec);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onSingleSelect=function(e){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=false;this.unsetStyle("ace_multiselect");this.keyBinding.removeKeyboardHandler(o.keyboardHandler);this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec);this.renderer.updateCursor();this.renderer.updateBackMarkers();this._emit("changeSelection")};this.$onMultiSelectExec=function(e){var t=e.command;var n=e.editor;if(!n.multiSelect)return;if(!t.multiSelectAction){var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange());n.multiSelect.mergeOverlappingRanges()}else if(t.multiSelectAction=="forEach"){i=n.forEachSelection(t,e.args)}else if(t.multiSelectAction=="forEachLine"){i=n.forEachSelection(t,e.args,true)}else if(t.multiSelectAction=="single"){n.exitMultiSelectMode();i=t.exec(n,e.args||{})}else{i=t.multiSelectAction(n,e.args||{})}return i};this.forEachSelection=function(e,t,n){if(this.inVirtualSelectionMode)return;var i=n&&n.keepOrder;var r=n==true||n&&n.$byLines;var a=this.session;var o=this.selection;var s=o.rangeList;var l=(i?o:s).ranges;var c;if(!l.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=o._eventRegistry;o._eventRegistry={};var h=new m(a);this.inVirtualSelectionMode=true;for(var f=l.length;f--;){if(r){while(f>0&&l[f].start.row==l[f-1].end.row)f--}h.fromOrientedRange(l[f]);h.index=f;this.selection=a.selection=h;var d=e.exec?e.exec(this,t||{}):e(this,t||{});if(!c&&d!==undefined)c=d;h.toOrientedRange(l[f])}h.detach();this.selection=a.selection=o;this.inVirtualSelectionMode=false;o._eventRegistry=u;o.mergeOverlappingRanges();var p=this.renderer.$scrollAnimation;this.onCursorChange();this.onSelectionChange();if(p&&p.from==p.to)this.renderer.animateScrolling(p.from);return c};this.exitMultiSelectMode=function(){if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()};this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var t=this.multiSelect.rangeList.ranges;var n=[];for(var i=0;i<t.length;i++){n.push(this.session.getTextRange(t[i]))}var r=this.session.getDocument().getNewLineCharacter();e=n.join(r);if(e.length==(n.length-1)*r.length)e=""}else if(!this.selection.isEmpty()){e=this.session.getTextRange(this.getSelectionRange())}return e};this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;if(i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column)this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}};this.findAll=function(e,t,n){t=t||{};t.needle=e||t.needle;if(t.needle==undefined){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var a=this.multiSelect;if(!n)a.toSingleRange(r[0]);for(var o=r.length;o--;)a.addRange(r[o],true);if(i&&a.rangeList.rangeAtPoint(i.start))a.addRange(i,true);this.$blockScrolling-=1;return r.length};this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange();var i=n.cursor==n.end;var r=this.session.documentToScreenPosition(n.cursor);if(this.selection.$desiredColumn)r.column=this.selection.$desiredColumn;var a=this.session.screenToDocumentPosition(r.row+e,r.column);if(!n.isEmpty()){var o=this.session.documentToScreenPosition(i?n.end:n.start);var s=this.session.screenToDocumentPosition(o.row+e,o.column)}else{var s=a}if(i){var l=b.fromPoints(a,s);l.cursor=l.start}else{var l=b.fromPoints(s,a);l.cursor=l.end}l.desiredColumn=r.column;if(!this.selection.inMultiSelectMode){this.selection.addRange(n)}else{if(t)var c=n.cursor}this.selection.addRange(l);if(c)this.selection.substractPoint(c)};this.transposeSelections=function(e){var t=this.session;var n=t.multiSelect;var i=n.ranges;for(var r=i.length;r--;){var a=i[r];if(a.isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row;a.start.column=o.start.column;a.end.row=o.end.row;a.end.column=o.end.column}}n.mergeOverlappingRanges();var s=[];for(var r=i.length;r--;){var a=i[r];s.unshift(t.getTextRange(a))}if(e<0)s.unshift(s.pop());else s.push(s.shift());for(var r=i.length;r--;){var a=i[r];var o=a.clone();t.replace(a,s[r]);a.start.row=o.start.row;a.start.column=o.start.column}};this.selectMore=function(e,t,n){var i=this.session;var r=i.multiSelect;var a=r.toOrientedRange();if(a.isEmpty()){a=i.getWordRange(a.start.row,a.start.column);a.cursor=e==-1?a.start:a.end;this.multiSelect.addRange(a);if(n)return}var o=i.getTextRange(a);var s=c(i,o,e);if(s){s.cursor=e==-1?s.start:s.end;this.$blockScrolling+=1;this.session.unfold(s);this.multiSelect.addRange(s);this.$blockScrolling-=1;this.renderer.scrollCursorIntoView(null,.5)}if(t)this.multiSelect.substractPoint(a.cursor)};this.alignCursors=function(){var a=this.session;var t=a.multiSelect;var e=t.ranges;var n=-1;var i=e.filter(function(e){if(e.cursor.row==n)return true;n=e.cursor.row});if(!e.length||i.length==e.length-1){var r=this.selection.getRange();var o=r.start.row,s=r.end.row;var l=o==s;if(l){var c=this.session.getLength();var u;do{u=this.session.getLine(s)}while(/[=:]/.test(u)&&++s<c);do{u=this.session.getLine(o)}while(/[=:]/.test(u)&&--o>0);if(o<0)o=0;if(s>=c)s=c-1}var h=this.session.removeFullLines(o,s);h=this.$reAlignText(h,l);this.session.insert({row:o,column:0},h.join("\n")+"\n");if(!l){r.start.column=0;r.end.column=h[h.length-1].length}this.selection.setRange(r)}else{i.forEach(function(e){t.substractPoint(e.cursor)});var f=0;var d=Infinity;var p=e.map(function(e){var t=e.cursor;var n=a.getLine(t.row);var i=n.substr(t.column).search(/\S/g);if(i==-1)i=0;if(t.column>f)f=t.column;if(i<d)d=i;return i});e.forEach(function(e,t){var n=e.cursor;var i=f-n.column;var r=p[t]-d;if(i>r)a.insert(n,g.stringRepeat(" ",i-r));else a.remove(new b(n.row,n.column,n.row,n.column-i+r));e.start.column=e.end.column=f;e.start.row=e.end.row=n.row;e.cursor=e.end});t.fromOrientedRange(e[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}};this.$reAlignText=function(e,t){var n=true,i=true;var r,a,o;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);if(!t)return[e];if(r==null){r=t[1].length;a=t[2].length;o=t[3].length;return t}if(r+a+o!=t[1].length+t[2].length+t[3].length)i=false;if(r!=t[1].length)n=false;if(r>t[1].length)r=t[1].length;if(a<t[2].length)a=t[2].length;if(o>t[3].length)o=t[3].length;return t}).map(t?l:n?i?c:l:u);function s(e){return g.stringRepeat(" ",e)}function l(e){return!e[2]?e[0]:s(r)+e[2]+s(a-e[2].length+o)+e[4].replace(/^([=:])\s+/,"$1 ")}function c(e){return!e[2]?e[0]:s(r+a-e[2].length)+e[2]+s(o," ")+e[4].replace(/^([=:])\s+/,"$1 ")}function u(e){return!e[2]?e[0]:s(r)+e[2]+s(o)+e[4].replace(/^([=:])\s+/,"$1 ")}}}).call(h.prototype);function y(e,t){return e.row==t.row&&e.column==t.column}t.onSessionChange=function(e){var t=e.session;if(t&&!t.multiSelect){t.$selectionMarkers=[];t.selection.$initRangeList();t.multiSelect=t.selection}this.multiSelect=t&&t.multiSelect;var n=e.oldSession;if(n){n.multiSelect.off("addRange",this.$onAddRange);n.multiSelect.off("removeRange",this.$onRemoveRange);n.multiSelect.off("multiSelect",this.$onMultiSelect);n.multiSelect.off("singleSelect",this.$onSingleSelect);n.multiSelect.lead.off("change",this.$checkMultiselectChange);n.multiSelect.anchor.off("change",this.$checkMultiselectChange)}if(t){t.multiSelect.on("addRange",this.$onAddRange);t.multiSelect.on("removeRange",this.$onRemoveRange);t.multiSelect.on("multiSelect",this.$onMultiSelect);t.multiSelect.on("singleSelect",this.$onSingleSelect);t.multiSelect.lead.on("change",this.$checkMultiselectChange);t.multiSelect.anchor.on("change",this.$checkMultiselectChange)}if(t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode){if(t.selection.inMultiSelectMode)this.$onMultiSelect();else this.$onSingleSelect()}};function f(e){if(e.$multiselectOnSessionChange)return;e.$onAddRange=e.$onAddRange.bind(e);e.$onRemoveRange=e.$onRemoveRange.bind(e);e.$onMultiSelect=e.$onMultiSelect.bind(e);e.$onSingleSelect=e.$onSingleSelect.bind(e);e.$multiselectOnSessionChange=t.onSessionChange.bind(e);e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e);e.$multiselectOnSessionChange(e);e.on("changeSession",e.$multiselectOnSessionChange);e.on("mousedown",r);e.commands.addCommands(o.defaultCommands);d(e)}function d(n){var e=n.textInput.getElement();var i=false;a.addListener(e,"keydown",function(e){var t=e.keyCode==18&&!(e.ctrlKey||e.shiftKey||e.metaKey);if(n.$blockSelectEnabled&&t){if(!i){n.renderer.setMouseCursor("crosshair");i=true}}else if(i){r()}});a.addListener(e,"keyup",r);a.addListener(e,"blur",r);function r(e){if(i){n.renderer.setMouseCursor("");i=false}}}t.MultiSelect=f;e("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(e){f(this);if(e){this.on("changeSession",this.$multiselectOnSessionChange);this.on("mousedown",r)}else{this.off("changeSession",this.$multiselectOnSessionChange);this.off("mousedown",r)}},value:true},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:true}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var f=e("../../range").Range;var i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null;this.foldingStopMarker=null;this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.foldingStartMarker.test(i))return"start";if(t=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(i))return"end";return""};this.getFoldWidgetRange=function(e,t,n){return null};this.indentationBlock=function(e,t,n){var i=/\S/;var r=e.getLine(t);var a=r.search(i);if(a==-1)return;var o=n||r.length;var s=e.getLength();var l=t;var c=t;while(++t<s){var u=e.getLine(t).search(i);if(u==-1)continue;if(u<=a)break;c=t}if(c>l){var h=e.getLine(c).length;return new f(l,o,c,h)}};this.openingBracketBlock=function(e,t,n,i,r){var a={row:n,column:i+1};var o=e.$findClosingBracket(t,a,r);if(!o)return;var s=e.foldWidgets[o.row];if(s==null)s=e.getFoldWidget(o.row);if(s=="start"&&o.row>a.row){o.row--;o.column=e.getLine(o.row).length}return f.fromPoints(a,o)};this.closingBracketBlock=function(e,t,n,i,r){var a={row:n,column:i};var o=e.$findOpeningBracket(t,a);if(!o)return;o.column++;a.column--;return f.fromPoints(o,a)}}).call(i.prototype)});ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=false;t.cssClass="ace-tm";t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var i=e("../lib/dom");i.importCssString(t.cssText,t.cssClass)});ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){"use strict";var i=e("./lib/oop");var a=e("./lib/dom");var r=e("./range").Range;function o(e){this.session=e;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;if(this.lineWidgets)t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;if(!this.$useWrapMode||!this.$wrapData[e]){return 1+t}else{return this.$wrapData[e].length+1+t}};this.$getWidgetScreenLength=function(){var t=0;this.lineWidgets.forEach(function(e){if(e&&e.rowCount&&!e.hidden)t+=e.rowCount});return t};this.$onChangeEditor=function(e){this.attach(e.editor)};this.attach=function(e){if(e&&e.widgetManager&&e.widgetManager!=this)e.widgetManager.detach();if(this.editor==e)return;this.detach();this.editor=e;if(e){e.widgetManager=this;e.renderer.on("beforeRender",this.measureWidgets);e.renderer.on("afterRender",this.renderWidgets)}};this.detach=function(e){var t=this.editor;if(!t)return;this.editor=null;t.widgetManager=null;t.renderer.off("beforeRender",this.measureWidgets);t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){if(e&&e.el&&e.el.parentNode){e._inDocument=false;e.el.parentNode.removeChild(e.el)}})};this.updateOnFold=function(e,t){var n=t.lineWidgets;if(!n||!e.action)return;var i=e.data;var r=i.start.row;var a=i.end.row;var o=e.action=="add";for(var s=r+1;s<a;s++){if(n[s])n[s].hidden=o}if(n[a]){if(o){if(!n[r])n[r]=n[a];else n[a].hidden=o}else{if(n[r]==n[a])n[r]=undefined;n[a].hidden=o}}};this.updateOnChange=function(e){var t=this.session.lineWidgets;if(!t)return;var n=e.start.row;var i=e.end.row-n;if(i===0){}else if(e.action=="remove"){var r=t.splice(n+1,i);r.forEach(function(e){e&&this.removeLineWidget(e)},this);this.$updateRows()}else{var a=new Array(i);a.unshift(n,0);t.splice.apply(t,a);this.$updateRows()}};this.$updateRows=function(){var e=this.session.lineWidgets;if(!e)return;var n=true;e.forEach(function(e,t){if(e){n=false;e.row=t;while(e.$oldWidget){e.$oldWidget.row=t;e=e.$oldWidget}}});if(n)this.session.lineWidgets=null};this.addLineWidget=function(e){if(!this.session.lineWidgets)this.session.lineWidgets=new Array(this.session.getLength());var t=this.session.lineWidgets[e.row];if(t){e.$oldWidget=t;if(t.el&&t.el.parentNode){t.el.parentNode.removeChild(t.el);t._inDocument=false}}this.session.lineWidgets[e.row]=e;e.session=this.session;var n=this.editor.renderer;if(e.html&&!e.el){e.el=a.createElement("div");e.el.innerHTML=e.html}if(e.el){a.addCssClass(e.el,"ace_lineWidgetContainer");e.el.style.position="absolute";e.el.style.zIndex=5;n.container.appendChild(e.el);e._inDocument=true}if(!e.coverGutter){e.el.style.zIndex=3}if(e.pixelHeight==null){e.pixelHeight=e.el.offsetHeight}if(e.rowCount==null){e.rowCount=e.pixelHeight/n.layerConfig.lineHeight}var i=this.session.getFoldAt(e.row,0);e.$fold=i;if(i){var r=this.session.lineWidgets;if(e.row==i.end.row&&!r[i.start.row])r[i.start.row]=e;else e.hidden=true}this.session._emit("changeFold",{data:{start:{row:e.row}}});this.$updateRows();this.renderWidgets(null,n);this.onWidgetChanged(e);return e};this.removeLineWidget=function(e){e._inDocument=false;e.session=null;if(e.el&&e.el.parentNode)e.el.parentNode.removeChild(e.el);if(e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e){this.session.lineWidgets[e.row]=e.$oldWidget;if(e.$oldWidget)this.onWidgetChanged(e.$oldWidget)}else{while(t){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}}this.session._emit("changeFold",{data:{start:{row:e.row}}});this.$updateRows()};this.getWidgetsAtRow=function(e){var t=this.session.lineWidgets;var n=t&&t[e];var i=[];while(n){i.push(n);n=n.$oldWidget}return i};this.onWidgetChanged=function(e){this.session._changedWidgets.push(e);this.editor&&this.editor.renderer.updateFull()};this.measureWidgets=function(e,t){var n=this.session._changedWidgets;var i=t.layerConfig;if(!n||!n.length)return;var r=Infinity;for(var a=0;a<n.length;a++){var o=n[a];if(!o||!o.el)continue;if(o.session!=this.session)continue;if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=true;t.container.appendChild(o.el)}o.h=o.el.offsetHeight;if(!o.fixedWidth){o.w=o.el.offsetWidth;o.screenWidth=Math.ceil(o.w/i.characterWidth)}var s=o.h/i.lineHeight;if(o.coverLine){s-=this.session.getRowLineCount(o.row);if(s<0)s=0}if(o.rowCount!=s){o.rowCount=s;if(o.row<r)r=o.row}}if(r!=Infinity){this.session._emit("changeFold",{data:{start:{row:r}}});this.session.lineWidgetWidth=null}this.session._changedWidgets=[]};this.renderWidgets=function(e,t){var n=t.layerConfig;var i=this.session.lineWidgets;if(!i)return;var r=Math.min(this.firstRow,n.firstRow);var a=Math.max(this.lastRow,n.lastRow,i.length);while(r>0&&!i[r])r--;this.firstRow=n.firstRow;this.lastRow=n.lastRow;t.$cursorLayer.config=n;for(var o=r;o<=a;o++){var s=i[o];if(!s||!s.el)continue;if(s.hidden){s.el.style.top=-100-(s.pixelHeight||0)+"px";continue}if(!s._inDocument){s._inDocument=true;t.container.appendChild(s.el)}var l=t.$cursorLayer.getPixelPosition({row:o,column:0},true).top;if(!s.coverLine)l+=n.lineHeight*this.session.getRowLineCount(s.row);s.el.style.top=l-n.offset+"px";var c=s.coverGutter?0:t.gutterWidth;if(!s.fixedWidth)c-=t.scrollLeft;s.el.style.left=c+"px";if(s.fullWidth&&s.screenWidth){s.el.style.minWidth=n.width+2*n.padding+"px"}if(s.fixedWidth){s.el.style.right=t.scrollBar.getWidth()+"px"}else{s.el.style.right=""}}}}).call(o.prototype);t.LineWidgets=o});ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";var p=e("../line_widgets").LineWidgets;var m=e("../lib/dom");var s=e("../range").Range;function l(e,t,n){var i=0;var r=e.length-1;while(i<=r){var a=i+r>>1;var o=n(t,e[a]);if(o>0)i=a+1;else if(o<0)r=a-1;else return a}return-(i+1)}function g(e,t,n){var i=e.getAnnotations().sort(s.comparePoints);if(!i.length)return;var r=l(i,{row:t,column:-1},s.comparePoints);if(r<0)r=-r-1;if(r>=i.length)r=n>0?0:i.length-1;else if(r===0&&n<0)r=i.length-1;var a=i[r];if(!a||!n)return;if(a.row===t){do{a=i[r+=n]}while(a&&a.row===t);if(!a)return i.slice()}var o=[];t=a.row;do{o[n<0?"unshift":"push"](a);a=i[r+=n]}while(a&&a.row==t);return o.length&&o}t.showErrorMarker=function(e,t){var n=e.session;if(!n.widgetManager){n.widgetManager=new p(n);n.widgetManager.attach(e)}var i=e.getCursorPosition();var r=i.row;var a=n.widgetManager.getWidgetsAtRow(r).filter(function(e){return e.type=="errorMarker"})[0];if(a){a.destroy()}else{r-=t}var o=g(n,r,t);var s;if(o){var l=o[0];i.column=(l.pos&&typeof l.column!="number"?l.pos.sc:l.column)||0;i.row=l.row;s=e.renderer.$gutterLayer.$annotations[i.row]}else if(a){return}else{s={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(i.row);e.selection.moveToPosition(i);var c={row:i.row,fixedWidth:true,coverGutter:true,el:m.createElement("div"),type:"errorMarker"};var u=c.el.appendChild(m.createElement("div"));var h=c.el.appendChild(m.createElement("div"));h.className="error_widget_arrow "+s.className;var f=e.renderer.$cursorLayer.getPixelPosition(i).left;h.style.left=f+e.renderer.gutterWidth-5+"px";c.el.className="error_widget_wrapper";u.className="error_widget "+s.className;u.innerHTML=s.text.join("<br>");u.appendChild(m.createElement("div"));var d=function(e,t,n){if(t===0&&(n==="esc"||n==="return")){c.destroy();return{command:"null"}}};c.destroy=function(){if(e.$mouseHandler.isMousePressed)return;e.keyBinding.removeKeyboardHandler(d);n.widgetManager.removeLineWidget(c);e.off("changeSelection",c.destroy);e.off("changeSession",c.destroy);e.off("mouseup",c.destroy);e.off("change",c.destroy)};e.keyBinding.addKeyboardHandler(d);e.on("changeSelection",c.destroy);e.on("changeSession",c.destroy);e.on("mouseup",c.destroy);e.on("change",c.destroy);e.session.widgetManager.addLineWidget(c);c.el.onmousedown=e.focus.bind(e);e.renderer.scrollCursorIntoView(null,.5,{bottom:c.el.offsetHeight})};m.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")});ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,s,t){"use strict";e("./lib/fixoldbrowsers");var l=e("./lib/dom");var c=e("./lib/event");var u=e("./editor").Editor;var i=e("./edit_session").EditSession;var r=e("./undomanager").UndoManager;var h=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client");e("./keyboard/hash_handler");e("./placeholder");e("./multi_select");e("./mode/folding/fold_mode");e("./theme/textmate");e("./ext/error_marker");s.config=e("./config");s.acequire=e;if(typeof define==="function")s.define=define;s.edit=function(e){if(typeof e=="string"){var t=e;e=document.getElementById(t);if(!e)throw new Error("ace.edit can't find div #"+t)}if(e&&e.env&&e.env.editor instanceof u)return e.env.editor;var n="";if(e&&/input|textarea/i.test(e.tagName)){var i=e;n=i.value;e=l.createElement("pre");i.parentNode.replaceChild(e,i)}else if(e){n=l.getInnerText(e);e.innerHTML=""}var r=s.createEditSession(n);var a=new u(new h(e));a.setSession(r);var o={document:r,editor:a,onResize:a.resize.bind(a,null)};if(i)o.textarea=i;c.addListener(window,"resize",o.onResize);a.on("destroy",function(){c.removeListener(window,"resize",o.onResize);o.editor.container.env=null});a.container.env=a.env=o;return a};s.createEditSession=function(e,t){var n=new i(e,t);n.setUndoManager(new r);return n};s.EditSession=i;s.UndoManager=r;s.version="1.2.9"});(function(){ace.acequire(["ace/ace"],function(e){if(e){e.config.init(true);e.define=ace.define}if(!window.ace)window.ace=e;for(var t in e)if(e.hasOwnProperty(t))window.ace[t]=e[t]})})();t.exports=window.ace.acequire("ace/ace")},{}],6:[function(e,t,n){ace.define("ace/mode/prolog_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var i=e("../lib/oop");var r=e("./text_highlight_rules").TextHighlightRules;var a=function(){this.$rules={start:[{include:"#comment"},{include:"#basic_fact"},{include:"#rule"},{include:"#directive"},{include:"#fact"}],"#atom":[{token:"constant.other.atom.prolog",regex:"\\b[a-z][a-zA-Z0-9_]*\\b"},{token:"constant.numeric.prolog",regex:"-?\\d+(?:\\.\\d+)?"},{include:"#string"}],"#basic_elem":[{include:"#comment"},{include:"#statement"},{include:"#constants"},{include:"#operators"},{include:"#builtins"},{include:"#list"},{include:"#atom"},{include:"#variable"}],"#basic_fact":[{token:["entity.name.function.fact.basic.prolog","punctuation.end.fact.basic.prolog"],regex:"([a-z]\\w*)(\\.)"}],"#builtins":[{token:"support.function.builtin.prolog",regex:"\\b(?:abolish|abort|ancestors|arg|ascii|assert[az]|atom(?:ic)?|body|char|close|conc|concat|consult|define|definition|dynamic|dump|fail|file|free|free_proc|functor|getc|goal|halt|head|head|integer|length|listing|match_args|member|next_clause|nl|nonvar|nth|number|cvars|nvars|offset|op|print?|prompt|putc|quoted|ratom|read|redefine|rename|retract(?:all)?|see|seeing|seen|skip|spy|statistics|system|tab|tell|telling|term|time|told|univ|unlink_clause|unspy_predicate|var|write)\\b"}],"#comment":[{token:["punctuation.definition.comment.prolog","comment.line.percentage.prolog"],regex:"(%)(.*$)"},{token:"punctuation.definition.comment.prolog",regex:"/\\*",push:[{token:"punctuation.definition.comment.prolog",regex:"\\*/",next:"pop"},{defaultToken:"comment.block.prolog"}]}],"#constants":[{token:"constant.language.prolog",regex:"\\b(?:true|false|yes|no)\\b"}],"#directive":[{token:"keyword.operator.directive.prolog",regex:":-",push:[{token:"meta.directive.prolog",regex:"\\.",next:"pop"},{include:"#comment"},{include:"#statement"},{defaultToken:"meta.directive.prolog"}]}],"#expr":[{include:"#comments"},{token:"meta.expression.prolog",regex:"\\(",push:[{token:"meta.expression.prolog",regex:"\\)",next:"pop"},{include:"#expr"},{defaultToken:"meta.expression.prolog"}]},{token:"keyword.control.cutoff.prolog",regex:"!"},{token:"punctuation.control.and.prolog",regex:","},{token:"punctuation.control.or.prolog",regex:";"},{include:"#basic_elem"}],"#fact":[{token:["entity.name.function.fact.prolog","punctuation.begin.fact.parameters.prolog"],regex:"([a-z]\\w*)(\\()(?!.*:-)",push:[{token:["punctuation.end.fact.parameters.prolog","punctuation.end.fact.prolog"],regex:"(\\))(\\.?)",next:"pop"},{include:"#parameter"},{defaultToken:"meta.fact.prolog"}]}],"#list":[{token:"punctuation.begin.list.prolog",regex:"\\[(?=.*\\])",push:[{token:"punctuation.end.list.prolog",regex:"\\]",next:"pop"},{include:"#comment"},{token:"punctuation.separator.list.prolog",regex:","},{token:"punctuation.concat.list.prolog",regex:"\\|",push:[{token:"meta.list.concat.prolog",regex:"(?=\\s*\\])",next:"pop"},{include:"#basic_elem"},{defaultToken:"meta.list.concat.prolog"}]},{include:"#basic_elem"},{defaultToken:"meta.list.prolog"}]}],"#operators":[{token:"keyword.operator.prolog",regex:"\\\\\\+|\\bnot\\b|\\bis\\b|->|[><]|[><\\\\:=]?=|(?:=\\\\|\\\\=)="}],"#parameter":[{token:"variable.language.anonymous.prolog",regex:"\\b_\\b"},{token:"variable.parameter.prolog",regex:"\\b[A-Z_]\\w*\\b"},{token:"punctuation.separator.parameters.prolog",regex:","},{include:"#basic_elem"},{token:"text",regex:"[^\\s]"}],"#rule":[{token:"meta.rule.prolog",regex:"(?=[a-z]\\w*.*:-)",push:[{token:"punctuation.rule.end.prolog",regex:"\\.",next:"pop"},{token:"meta.rule.signature.prolog",regex:"(?=[a-z]\\w*.*:-)",push:[{token:"meta.rule.signature.prolog",regex:"(?=:-)",next:"pop"},{token:"entity.name.function.rule.prolog",regex:"[a-z]\\w*(?=\\(|\\s*:-)"},{token:"punctuation.rule.parameters.begin.prolog",regex:"\\(",push:[{token:"punctuation.rule.parameters.end.prolog",regex:"\\)",next:"pop"},{include:"#parameter"},{defaultToken:"meta.rule.parameters.prolog"}]},{defaultToken:"meta.rule.signature.prolog"}]},{token:"keyword.operator.definition.prolog",regex:":-",push:[{token:"meta.rule.definition.prolog",regex:"(?=\\.)",next:"pop"},{include:"#comment"},{include:"#expr"},{defaultToken:"meta.rule.definition.prolog"}]},{defaultToken:"meta.rule.prolog"}]}],"#statement":[{token:"meta.statement.prolog",regex:"(?=[a-z]\\w*\\()",push:[{token:"punctuation.end.statement.parameters.prolog",regex:"\\)",next:"pop"},{include:"#builtins"},{include:"#atom"},{token:"punctuation.begin.statement.parameters.prolog",regex:"\\(",push:[{token:"meta.statement.parameters.prolog",regex:"(?=\\))",next:"pop"},{token:"punctuation.separator.statement.prolog",regex:","},{include:"#basic_elem"},{defaultToken:"meta.statement.parameters.prolog"}]},{defaultToken:"meta.statement.prolog"}]}],"#string":[{token:"punctuation.definition.string.begin.prolog",regex:"'",push:[{token:"punctuation.definition.string.end.prolog",regex:"'",next:"pop"},{token:"constant.character.escape.prolog",regex:"\\\\."},{token:"constant.character.escape.quote.prolog",regex:"''"},{defaultToken:"string.quoted.single.prolog"}]}],"#variable":[{token:"variable.language.anonymous.prolog",regex:"\\b_\\b"},{token:"variable.other.prolog",regex:"\\b[A-Z_][a-zA-Z0-9_]*\\b"}]};this.normalizeRules()};a.metaData={fileTypes:["plg","prolog"],foldingStartMarker:"(%\\s*region \\w*)|([a-z]\\w*.*:- ?)",foldingStopMarker:"(%\\s*end(\\s*region)?)|(?=\\.)",keyEquivalent:"^~P",name:"Prolog",scopeName:"source.prolog"};i.inherits(a,r);t.PrologHighlightRules=a});ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var i=e("../../lib/oop");var u=e("../../range").Range;var r=e("./fold_mode").FoldMode;var a=t.FoldMode=function(e){if(e){this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start));this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end))}};i.inherits(a,r);(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/;this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/;this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/;this._getFoldWidgetBase=this.getFoldWidget;this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)){if(!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return""}var r=this._getFoldWidgetBase(e,t,n);if(!r&&this.startRegionRe.test(i))return"start";return r};this.getFoldWidgetRange=function(e,t,n,i){var r=e.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,n);var a=r.match(this.foldingStartMarker);if(a){var o=a.index;if(a[1])return this.openingBracketBlock(e,a[1],n,o);var s=e.getCommentFoldRange(n,o+a[0].length,1);if(s&&!s.isMultiLine()){if(i){s=this.getSectionRange(e,n)}else if(t!="all")s=null}return s}if(t==="markbegin")return;var a=r.match(this.foldingStopMarker);if(a){var o=a.index+a[0].length;if(a[1])return this.closingBracketBlock(e,a[1],n,o);return e.getCommentFoldRange(n,o,-1)}};this.getSectionRange=function(e,t){var n=e.getLine(t);var i=n.search(/\S/);var r=t;var a=n.length;t=t+1;var o=t;var s=e.getLength();while(++t<s){n=e.getLine(t);var l=n.search(/\S/);if(l===-1)continue;if(i>l)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=r){break}else if(c.isMultiLine()){t=c.end.row}else if(i==l){break}}o=t}return new u(r,a,o,e.getLine(o).length)};this.getCommentRegionBlock=function(e,t,n){var i=t.search(/\s*$/);var r=e.getLength();var a=n;var o=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;var s=1;while(++n<r){t=e.getLine(n);var l=o.exec(t);if(!l)continue;if(l[1])s--;else s++;if(!s)break}var c=n;if(c>a){return new u(a,i,c,t.length)}}}).call(a.prototype)});ace.define("ace/mode/prolog",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/prolog_highlight_rules","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var i=e("../lib/oop");var r=e("./text").Mode;var a=e("./prolog_highlight_rules").PrologHighlightRules;var o=e("./folding/cstyle").FoldMode;var s=function(){this.HighlightRules=a;this.foldingRules=new o;this.$behaviour=this.$defaultBehaviour};i.inherits(s,r);(function(){this.lineCommentStart="%";this.blockComment={start:"/*",end:"*/"};this.$id="ace/mode/prolog"}).call(s.prototype);t.Mode=s})},{}],7:[function(h,e,t){ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var i=e("../lib/oop");var r=e("./text_highlight_rules").TextHighlightRules;var a=function(e){var t="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:true},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]};if(this.constructor===a)this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]});this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){n.splice(0);return this.token}}];this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype);i.inherits(a,r);t.XmlHighlightRules=a});ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var i=e("../../lib/oop");var r=e("../behaviour").Behaviour;var p=e("../../token_iterator").TokenIterator;var a=e("../../lib/lang");function m(e,t){return e.type.lastIndexOf(t+".xml")>-1}var o=function(){this.add("string_dquotes","insertion",function(e,t,n,i,r){if(r=='"'||r=="'"){var a=r;var o=i.doc.getTextRange(n.getSelectionRange());if(o!==""&&o!=="'"&&o!='"'&&n.getWrapBehavioursEnabled()){return{text:a+o+a,selection:false}}var s=n.getCursorPosition();var l=i.doc.getLine(s.row);var c=l.substring(s.column,s.column+1);var u=new p(i,s.row,s.column);var h=u.getCurrentToken();if(c==a&&(m(h,"attribute-value")||m(h,"string"))){return{text:"",selection:[1,1]}}if(!h)h=u.stepBackward();if(!h)return;while(m(h,"tag-whitespace")||m(h,"whitespace")){h=u.stepBackward()}var f=!c||c.match(/\s/);if(m(h,"attribute-equals")&&(f||c==">")||m(h,"decl-attribute-equals")&&(f||c=="?")){return{text:a+a,selection:[1,1]}}}});this.add("string_dquotes","deletion",function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&(a=='"'||a=="'")){var o=i.doc.getLine(r.start.row);var s=o.substring(r.start.column+1,r.start.column+2);if(s==a){r.end.column++;return r}}});this.add("autoclosing","insertion",function(e,t,n,i,r){if(r==">"){var a=n.getSelectionRange().start;var o=new p(i,a.row,a.column);var s=o.getCurrentToken()||o.stepBackward();if(!s||!(m(s,"tag-name")||m(s,"tag-whitespace")||m(s,"attribute-name")||m(s,"attribute-equals")||m(s,"attribute-value")))return;if(m(s,"reference.attribute-value"))return;if(m(s,"attribute-value")){var l=s.value.charAt(0);if(l=='"'||l=="'"){var c=s.value.charAt(s.value.length-1);var u=o.getCurrentTokenColumn()+s.value.length;if(u>a.column||u==a.column&&l!=c)return}}while(!m(s,"tag-name")){s=o.stepBackward();if(s.value=="<"){s=o.stepForward();break}}var h=o.getCurrentTokenRow();var f=o.getCurrentTokenColumn();if(m(o.stepBackward(),"end-tag-open"))return;var d=s.value;if(h==a.row)d=d.substring(0,a.column-f);if(this.voidElements.hasOwnProperty(d.toLowerCase()))return;return{text:">"+"</"+d+">",selection:[1,1]}}});this.add("autoindent","insertion",function(e,t,n,i,r){if(r=="\n"){var a=n.getCursorPosition();var o=i.getLine(a.row);var s=new p(i,a.row,a.column);var l=s.getCurrentToken();if(l&&l.type.indexOf("tag-close")!==-1){if(l.value=="/>")return;while(l&&l.type.indexOf("tag-name")===-1){l=s.stepBackward()}if(!l){return}var c=l.value;var u=s.getCurrentTokenRow();l=s.stepBackward();if(!l||l.type.indexOf("end-tag")!==-1){return}if(this.voidElements&&!this.voidElements[c]){var h=i.getTokenAt(a.row,a.column+1);var o=i.getLine(u);var f=this.$getIndent(o);var d=f+i.getTabString();if(h&&h.value==="</"){return{text:"\n"+d+"\n"+f,selection:[1,d.length,1,d.length]}}else{return{text:"\n"+d}}}}}})};i.inherits(o,r);t.XmlBehaviour=o});ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,n){"use strict";var i=e("../../lib/oop");var r=e("../../lib/lang");var u=e("../../range").Range;var a=e("./fold_mode").FoldMode;var h=e("../../token_iterator").TokenIterator;var o=t.FoldMode=function(e,t){a.call(this);this.voidElements=e||{};this.optionalEndTags=i.mixin({},this.voidElements);if(t)i.mixin(this.optionalEndTags,t)};i.inherits(o,a);var s=function(){this.tagName="";this.closing=false;this.selfClosing=false;this.start={row:0,column:0};this.end={row:0,column:0}};function l(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);if(!i)return this.getCommentFoldWidget(e,n);if(i.closing||!i.tagName&&i.selfClosing)return t=="markbeginend"?"end":"";if(!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase()))return"";if(this._findEndTagInLine(e,n,i.tagName,i.end.column))return"";return"start"};this.getCommentFoldWidget=function(e,t){if(/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t)))return"start";return""};this._getFirstTagInLine=function(e,t){var n=e.getTokens(t);var i=new s;for(var r=0;r<n.length;r++){var a=n[r];if(l(a,"tag-open")){i.end.column=i.start.column+a.value.length;i.closing=l(a,"end-tag-open");a=n[++r];if(!a)return null;i.tagName=a.value;i.end.column+=a.value.length;for(r++;r<n.length;r++){a=n[r];i.end.column+=a.value.length;if(l(a,"tag-close")){i.selfClosing=a.value=="/>";break}}return i}else if(l(a,"tag-close")){i.selfClosing=a.value=="/>";return i}i.start.column+=a.value.length}return null};this._findEndTagInLine=function(e,t,n,i){var r=e.getTokens(t);var a=0;for(var o=0;o<r.length;o++){var s=r[o];a+=s.value.length;if(a<i)continue;if(l(s,"end-tag-open")){s=r[o+1];if(s&&s.value==n)return true}}return false};this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new s;do{if(l(t,"tag-open")){n.closing=l(t,"end-tag-open");n.start.row=e.getCurrentTokenRow();n.start.column=e.getCurrentTokenColumn()}else if(l(t,"tag-name")){n.tagName=t.value}else if(l(t,"tag-close")){n.selfClosing=t.value=="/>";n.end.row=e.getCurrentTokenRow();n.end.column=e.getCurrentTokenColumn()+t.value.length;e.stepForward();return n}}while(t=e.stepForward());return null};this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new s;do{if(l(t,"tag-open")){n.closing=l(t,"end-tag-open");n.start.row=e.getCurrentTokenRow();n.start.column=e.getCurrentTokenColumn();e.stepBackward();return n}else if(l(t,"tag-name")){n.tagName=t.value}else if(l(t,"tag-close")){n.selfClosing=t.value=="/>";n.end.row=e.getCurrentTokenRow();n.end.column=e.getCurrentTokenColumn()+t.value.length}}while(t=e.stepBackward());return null};this._pop=function(e,t){while(e.length){var n=e[e.length-1];if(!t||n.tagName==t.tagName){return e.pop()}else if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}else{return null}}};this.getFoldWidgetRange=function(e,t,n){var i=this._getFirstTagInLine(e,n);if(!i){return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length)}var r=i.closing||i.selfClosing;var a=[];var o;if(!r){var s=new h(e,n,i.start.column);var l={row:n,column:i.start.column+i.tagName.length+2};if(i.start.row==i.end.row)l.column=i.end.column;while(o=this._readTagForward(s)){if(o.selfClosing){if(!a.length){o.start.column+=o.tagName.length+2;o.end.column-=2;return u.fromPoints(o.start,o.end)}else continue}if(o.closing){this._pop(a,o);if(a.length==0)return u.fromPoints(l,o.start)}else{a.push(o)}}}else{var s=new h(e,n,i.end.column);var c={row:n,column:i.start.column};while(o=this._readTagBackward(s)){if(o.selfClosing){if(!a.length){o.start.column+=o.tagName.length+2;o.end.column-=2;return u.fromPoints(o.start,o.end)}else continue}if(!o.closing){this._pop(a,o);if(a.length==0){o.start.column+=o.tagName.length+2;if(o.start.row==o.end.row&&o.start.column<o.end.column)o.start.column=o.end.column;return u.fromPoints(o.start,c)}}else{a.push(o)}}}}}).call(o.prototype)});ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(e,t,n){"use strict";var i=e("../lib/oop");var r=e("../lib/lang");var a=e("./text").Mode;var o=e("./xml_highlight_rules").XmlHighlightRules;var s=e("./behaviour/xml").XmlBehaviour;var l=e("./folding/xml").FoldMode;var c=e("../worker/worker_client").WorkerClient;var u=function(){this.HighlightRules=o;this.$behaviour=new s;this.foldingRules=new l};i.inherits(u,a);(function(){this.voidElements=r.arrayToMap([]);this.blockComment={start:"\x3c!--",end:"--\x3e"};this.createWorker=function(t){var e=new c(["ace"],h("../worker/xml"),"Worker");e.attachToDocument(t.getDocument());e.on("error",function(e){t.setAnnotations(e.data)});e.on("terminate",function(){t.clearAnnotations()});return e};this.$id="ace/mode/xml"}).call(u.prototype);t.Mode=u})},{"../worker/xml":10}],8:[function(e,t,n){ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=true;t.cssClass="ace-monokai";t.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}";var i=e("../lib/dom");i.importCssString(t.cssText,t.cssClass)})},{}],9:[function(e,t,n){ace.define("ace/theme/solarized_light",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=false;t.cssClass="ace-solarized-light";t.cssText=".ace-solarized-light .ace_gutter {background: #fbf1d3;color: #333}.ace-solarized-light .ace_print-margin {width: 1px;background: #e8e8e8}.ace-solarized-light {background-color: #FDF6E3;color: #586E75}.ace-solarized-light .ace_cursor {color: #000000}.ace-solarized-light .ace_marker-layer .ace_selection {background: rgba(7, 54, 67, 0.09)}.ace-solarized-light.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FDF6E3;}.ace-solarized-light .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-solarized-light .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgba(147, 161, 161, 0.50)}.ace-solarized-light .ace_marker-layer .ace_active-line {background: #EEE8D5}.ace-solarized-light .ace_gutter-active-line {background-color : #EDE5C1}.ace-solarized-light .ace_marker-layer .ace_selected-word {border: 1px solid #073642}.ace-solarized-light .ace_invisible {color: rgba(147, 161, 161, 0.50)}.ace-solarized-light .ace_keyword,.ace-solarized-light .ace_meta,.ace-solarized-light .ace_support.ace_class,.ace-solarized-light .ace_support.ace_type {color: #859900}.ace-solarized-light .ace_constant.ace_character,.ace-solarized-light .ace_constant.ace_other {color: #CB4B16}.ace-solarized-light .ace_constant.ace_language {color: #B58900}.ace-solarized-light .ace_constant.ace_numeric {color: #D33682}.ace-solarized-light .ace_fold {background-color: #268BD2;border-color: #586E75}.ace-solarized-light .ace_entity.ace_name.ace_function,.ace-solarized-light .ace_entity.ace_name.ace_tag,.ace-solarized-light .ace_support.ace_function,.ace-solarized-light .ace_variable,.ace-solarized-light .ace_variable.ace_language {color: #268BD2}.ace-solarized-light .ace_storage {color: #073642}.ace-solarized-light .ace_string {color: #2AA198}.ace-solarized-light .ace_string.ace_regexp {color: #D30102}.ace-solarized-light .ace_comment,.ace-solarized-light .ace_entity.ace_other.ace_attribute-name {color: #93A1A1}.ace-solarized-light .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHjy8NJ/AAjgA5fzQUmBAAAAAElFTkSuQmCC) right repeat-y}";var i=e("../lib/dom");i.importCssString(t.cssText,t.cssClass)})},{}],10:[function(e,t,n){t.exports.id="ace/mode/xml_worker";t.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/xml/sax",["require","exports","module"],function(){function XMLReader(){}function parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){function fixedFromCharCode(code){if(code>65535){code-=65536;var surrogate1=55296+(code>>10),surrogate2=56320+(1023&code);return String.fromCharCode(surrogate1,surrogate2)}return String.fromCharCode(code)}function entityReplacer(a){var k=a.slice(1,-1);return k in entityMap?entityMap[k]:"#"===k.charAt(0)?fixedFromCharCode(parseInt(k.substr(1).replace("x","0x"))):(errorHandler.error("entity not found:"+a),a)}function appendText(end){var xt=source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);locator&&position(start),domBuilder.characters(xt,0,end-start),start=end}function position(start,m){for(;start>=endPos&&(m=linePattern.exec(source));)startPos=m.index,endPos=startPos+m[0].length,locator.lineNumber++;locator.columnNumber=start-startPos+1}for(var startPos=0,endPos=0,linePattern=/.+(?:\\r\\n?|\\n)|.*$/g,locator=domBuilder.locator,parseStack=[{currentNSMap:defaultNSMapCopy}],closeMap={},start=0;;){var i=source.indexOf("<",start);if(0>i){if(!source.substr(start).match(/^\\s*$/)){var doc=domBuilder.document,text=doc.createTextNode(source.substr(start));doc.appendChild(text),domBuilder.currentElement=text}return}switch(i>start&&appendText(i),source.charAt(i+1)){case"/":var config,end=source.indexOf(">",i+3),tagName=source.substring(i+2,end);if(!(parseStack.length>1)){errorHandler.fatalError("end tag name not found for: "+tagName);break}config=parseStack.pop();var localNSMap=config.localNSMap;if(config.tagName!=tagName&&errorHandler.fatalError("end tag name: "+tagName+" does not match the current start tagName: "+config.tagName),domBuilder.endElement(config.uri,config.localName,tagName),localNSMap)for(var prefix in localNSMap)domBuilder.endPrefixMapping(prefix);end++;break;case"?":locator&&position(i),end=parseInstruction(source,i,domBuilder);break;case"!":locator&&position(i),end=parseDCC(source,i,domBuilder,errorHandler);break;default:try{locator&&position(i);var el=new ElementAttributes,end=parseElementStartPart(source,i,el,entityReplacer,errorHandler),len=el.length;if(len&&locator){for(var backup=copyLocator(locator,{}),i=0;len>i;i++){var a=el[i];position(a.offset),a.offset=copyLocator(locator,{})}copyLocator(backup,locator)}!el.closed&&fixSelfClosed(source,end,el.tagName,closeMap)&&(el.closed=!0,entityMap.nbsp||errorHandler.warning("unclosed xml attribute")),appendElement(el,domBuilder,parseStack),"http://www.w3.org/1999/xhtml"!==el.uri||el.closed?end++:end=parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)}catch(e){errorHandler.error("element parse error: "+e),end=-1}}0>end?appendText(i+1):start=end}}function copyLocator(f,t){return t.lineNumber=f.lineNumber,t.columnNumber=f.columnNumber,t}function parseElementStartPart(source,start,el,entityReplacer,errorHandler){for(var attrName,value,p=++start,s=S_TAG;;){var c=source.charAt(p);switch(c){case"=":if(s===S_ATTR)attrName=source.slice(start,p),s=S_EQ;else{if(s!==S_ATTR_S)throw Error("attribute equal must after attrName");s=S_EQ}break;case"\'":case\'"\':if(s===S_EQ){if(start=p+1,p=source.indexOf(c,start),!(p>0))throw Error("attribute value no end \'"+c+"\' match");value=source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer),el.add(attrName,value,start-1),s=S_E}else{if(s!=S_V)throw Error(\'attribute value must after "="\');value=source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer),el.add(attrName,value,start),errorHandler.warning(\'attribute "\'+attrName+\'" missed start quot(\'+c+")!!"),start=p+1,s=S_E}break;case"/":switch(s){case S_TAG:el.setTagName(source.slice(start,p));case S_E:case S_S:case S_C:s=S_C,el.closed=!0;case S_V:case S_ATTR:case S_ATTR_S:break;default:throw Error("attribute invalid close char(\'/\')")}break;case"":errorHandler.error("unexpected end of input");case">":switch(s){case S_TAG:el.setTagName(source.slice(start,p));case S_E:case S_S:case S_C:break;case S_V:case S_ATTR:value=source.slice(start,p),"/"===value.slice(-1)&&(el.closed=!0,value=value.slice(0,-1));case S_ATTR_S:s===S_ATTR_S&&(value=attrName),s==S_V?(errorHandler.warning(\'attribute "\'+value+\'" missed quot(")!!\'),el.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)):(errorHandler.warning(\'attribute "\'+value+\'" missed value!! "\'+value+\'" instead!!\'),el.add(value,value,start));break;case S_EQ:throw Error("attribute value missed!!")}return p;case"":c=" ";default:if(" ">=c)switch(s){case S_TAG:el.setTagName(source.slice(start,p)),s=S_S;break;case S_ATTR:attrName=source.slice(start,p),s=S_ATTR_S;break;case S_V:var value=source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);errorHandler.warning(\'attribute "\'+value+\'" missed quot(")!!\'),el.add(attrName,value,start);case S_E:s=S_S}else switch(s){case S_ATTR_S:errorHandler.warning(\'attribute "\'+attrName+\'" missed value!! "\'+attrName+\'" instead!!\'),el.add(attrName,attrName,start),start=p,s=S_ATTR;\nbreak;case S_E:errorHandler.warning(\'attribute space is acequired"\'+attrName+\'"!!\');case S_S:s=S_ATTR,start=p;break;case S_EQ:s=S_V,start=p;break;case S_C:throw Error("elements closed character \'/\' and \'>\' must be connected to")}}p++}}function appendElement(el,domBuilder,parseStack){for(var tagName=el.tagName,localNSMap=null,currentNSMap=parseStack[parseStack.length-1].currentNSMap,i=el.length;i--;){var a=el[i],qName=a.qName,value=a.value,nsp=qName.indexOf(":");if(nsp>0)var prefix=a.prefix=qName.slice(0,nsp),localName=qName.slice(nsp+1),nsPrefix="xmlns"===prefix&&localName;else localName=qName,prefix=null,nsPrefix="xmlns"===qName&&"";a.localName=localName,nsPrefix!==!1&&(null==localNSMap&&(localNSMap={},_copy(currentNSMap,currentNSMap={})),currentNSMap[nsPrefix]=localNSMap[nsPrefix]=value,a.uri="http://www.w3.org/2000/xmlns/",domBuilder.startPrefixMapping(nsPrefix,value))}for(var i=el.length;i--;){a=el[i];var prefix=a.prefix;prefix&&("xml"===prefix&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==prefix&&(a.uri=currentNSMap[prefix]))}var nsp=tagName.indexOf(":");nsp>0?(prefix=el.prefix=tagName.slice(0,nsp),localName=el.localName=tagName.slice(nsp+1)):(prefix=null,localName=el.localName=tagName);var ns=el.uri=currentNSMap[prefix||""];if(domBuilder.startElement(ns,localName,tagName,el),el.closed){if(domBuilder.endElement(ns,localName,tagName),localNSMap)for(prefix in localNSMap)domBuilder.endPrefixMapping(prefix)}else el.currentNSMap=currentNSMap,el.localNSMap=localNSMap,parseStack.push(el)}function parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){if(/^(?:script|textarea)$/i.test(tagName)){var elEndStart=source.indexOf("</"+tagName+">",elStartEnd),text=source.substring(elStartEnd+1,elEndStart);if(/[&<]/.test(text))return/^script$/i.test(tagName)?(domBuilder.characters(text,0,text.length),elEndStart):(text=text.replace(/&#?\\w+;/g,entityReplacer),domBuilder.characters(text,0,text.length),elEndStart)}return elStartEnd+1}function fixSelfClosed(source,elStartEnd,tagName,closeMap){var pos=closeMap[tagName];return null==pos&&(pos=closeMap[tagName]=source.lastIndexOf("</"+tagName+">")),elStartEnd>pos}function _copy(source,target){for(var n in source)target[n]=source[n]}function parseDCC(source,start,domBuilder,errorHandler){var next=source.charAt(start+2);switch(next){case"-":if("-"===source.charAt(start+3)){var end=source.indexOf("--\x3e",start+4);return end>start?(domBuilder.comment(source,start+4,end-start-4),end+3):(errorHandler.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==source.substr(start+3,6)){var end=source.indexOf("]]>",start+9);return domBuilder.startCDATA(),domBuilder.characters(source,start+9,end-start-9),domBuilder.endCDATA(),end+3}var matchs=split(source,start),len=matchs.length;if(len>1&&/!doctype/i.test(matchs[0][0])){var name=matchs[1][0],pubid=len>3&&/^public$/i.test(matchs[2][0])&&matchs[3][0],sysid=len>4&&matchs[4][0],lastMatch=matchs[len-1];return domBuilder.startDTD(name,pubid&&pubid.replace(/^([\'"])(.*?)\\1$/,"$2"),sysid&&sysid.replace(/^([\'"])(.*?)\\1$/,"$2")),domBuilder.endDTD(),lastMatch.index+lastMatch[0].length}}return-1}function parseInstruction(source,start,domBuilder){var end=source.indexOf("?>",start);if(end){var match=source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);return match?(match[0].length,domBuilder.processingInstruction(match[1],match[2]),end+2):-1}return-1}function ElementAttributes(){}function _set_proto_(thiz,parent){return thiz.__proto__=parent,thiz}function split(source,start){var match,buf=[],reg=/\'[^\']+\'|"[^"]+"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;for(reg.lastIndex=start,reg.exec(source);match=reg.exec(source);)if(buf.push(match),match[1])return buf}var nameStartChar=/[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,nameChar=RegExp("[\\\\-\\\\.0-9"+nameStartChar.source.slice(1,-1)+"-\\\\ux203F-]"),tagNamePattern=RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_S=2,S_EQ=3,S_V=4,S_E=5,S_S=6,S_C=7;return XMLReader.prototype={parse:function(source,defaultNSMap,entityMap){var domBuilder=this.domBuilder;domBuilder.startDocument(),_copy(defaultNSMap,defaultNSMap={}),parse(source,defaultNSMap,entityMap,domBuilder,this.errorHandler),domBuilder.endDocument()}},ElementAttributes.prototype={setTagName:function(tagName){if(!tagNamePattern.test(tagName))throw Error("invalid tagName:"+tagName);this.tagName=tagName},add:function(qName,value,offset){if(!tagNamePattern.test(qName))throw Error("invalid attribute:"+qName);this[this.length++]={qName:qName,value:value,offset:offset}},length:0,getLocalName:function(i){return this[i].localName},getOffset:function(i){return this[i].offset},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(thiz,parent){function p(){}p.prototype=parent,p=new p;for(parent in thiz)p[parent]=thiz[parent];return p}),XMLReader}),ace.define("ace/mode/xml/dom",["require","exports","module"],function(){function copy(src,dest){for(var p in src)dest[p]=src[p]}function _extends(Class,Super){function t(){}var pt=Class.prototype;if(Object.create){var ppt=Object.create(Super.prototype);pt.__proto__=ppt}pt instanceof Super||(t.prototype=Super.prototype,t=new t,copy(pt,t),Class.prototype=pt=t),pt.constructor!=Class&&("function"!=typeof Class&&console.error("unknow Class:"+Class),pt.constructor=Class)}function DOMException(code,message){if(message instanceof Error)var error=message;else error=this,Error.call(this,ExceptionMessage[code]),this.message=ExceptionMessage[code],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return error.code=code,message&&(this.message=this.message+": "+message),error}function NodeList(){}function LiveNodeList(node,refresh){this._node=node,this._refresh=refresh,_updateLiveList(this)}function _updateLiveList(list){var inc=list._node._inc||list._node.ownerDocument._inc;if(list._inc!=inc){var ls=list._refresh(list._node);__set__(list,"length",ls.length),copy(ls,list),list._inc=inc}}function NamedNodeMap(){}function _findNodeIndex(list,node){for(var i=list.length;i--;)if(list[i]===node)return i}function _addNamedNode(el,list,newAttr,oldAttr){if(oldAttr?list[_findNodeIndex(list,oldAttr)]=newAttr:list[list.length++]=newAttr,el){newAttr.ownerElement=el;var doc=el.ownerDocument;doc&&(oldAttr&&_onRemoveAttribute(doc,el,oldAttr),_onAddAttribute(doc,el,newAttr))}}function _removeNamedNode(el,list,attr){var i=_findNodeIndex(list,attr);if(!(i>=0))throw DOMException(NOT_FOUND_ERR,Error());for(var lastIndex=list.length-1;lastIndex>i;)list[i]=list[++i];if(list.length=lastIndex,el){var doc=el.ownerDocument;doc&&(_onRemoveAttribute(doc,el,attr),attr.ownerElement=null)}}function DOMImplementation(features){if(this._features={},features)for(var feature in features)this._features=features[feature]}function Node(){}function _xmlEncoder(c){return"<"==c&&"&lt;"||">"==c&&"&gt;"||"&"==c&&"&amp;"||\'"\'==c&&"&quot;"||"&#"+c.charCodeAt()+";"}function _visitNode(node,callback){if(callback(node))return!0;if(node=node.firstChild)do if(_visitNode(node,callback))return!0;while(node=node.nextSibling)}function Document(){}function _onAddAttribute(doc,el,newAttr){doc&&doc._inc++;var ns=newAttr.namespaceURI;"http://www.w3.org/2000/xmlns/"==ns&&(el._nsMap[newAttr.prefix?newAttr.localName:""]=newAttr.value)}function _onRemoveAttribute(doc,el,newAttr){doc&&doc._inc++;var ns=newAttr.namespaceURI;"http://www.w3.org/2000/xmlns/"==ns&&delete el._nsMap[newAttr.prefix?newAttr.localName:""]}function _onUpdateChild(doc,el,newChild){if(doc&&doc._inc){doc._inc++;var cs=el.childNodes;if(newChild)cs[cs.length++]=newChild;else{for(var child=el.firstChild,i=0;child;)cs[i++]=child,child=child.nextSibling;cs.length=i}}}function _removeChild(parentNode,child){var previous=child.previousSibling,next=child.nextSibling;return previous?previous.nextSibling=next:parentNode.firstChild=next,next?next.previousSibling=previous:parentNode.lastChild=previous,_onUpdateChild(parentNode.ownerDocument,parentNode),child}function _insertBefore(parentNode,newChild,nextChild){var cp=newChild.parentNode;if(cp&&cp.removeChild(newChild),newChild.nodeType===DOCUMENT_FRAGMENT_NODE){var newFirst=newChild.firstChild;if(null==newFirst)return newChild;var newLast=newChild.lastChild}else newFirst=newLast=newChild;var pre=nextChild?nextChild.previousSibling:parentNode.lastChild;newFirst.previousSibling=pre,newLast.nextSibling=nextChild,pre?pre.nextSibling=newFirst:parentNode.firstChild=newFirst,null==nextChild?parentNode.lastChild=newLast:nextChild.previousSibling=newLast;do newFirst.parentNode=parentNode;while(newFirst!==newLast&&(newFirst=newFirst.nextSibling));return _onUpdateChild(parentNode.ownerDocument||parentNode,parentNode),newChild.nodeType==DOCUMENT_FRAGMENT_NODE&&(newChild.firstChild=newChild.lastChild=null),newChild}function _appendSingleChild(parentNode,newChild){var cp=newChild.parentNode;if(cp){var pre=parentNode.lastChild;cp.removeChild(newChild);var pre=parentNode.lastChild}var pre=parentNode.lastChild;return newChild.parentNode=parentNode,newChild.previousSibling=pre,newChild.nextSibling=null,pre?pre.nextSibling=newChild:parentNode.firstChild=newChild,parentNode.lastChild=newChild,_onUpdateChild(parentNode.ownerDocument,parentNode,newChild),newChild}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function serializeToString(node,buf){switch(node.nodeType){case ELEMENT_NODE:var attrs=node.attributes,len=attrs.length,child=node.firstChild,nodeName=node.tagName,isHTML=htmlns===node.namespaceURI;buf.push("<",nodeName);for(var i=0;len>i;i++)serializeToString(attrs.item(i),buf,isHTML);if(child||isHTML&&!/^(?:meta|link|img|br|hr|input|button)$/i.test(nodeName)){if(buf.push(">"),isHTML&&/^script$/i.test(nodeName))child&&buf.push(child.data);else for(;child;)serializeToString(child,buf),child=child.nextSibling;buf.push("</",nodeName,">")}else buf.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var child=node.firstChild;child;)serializeToString(child,buf),child=child.nextSibling;return;case ATTRIBUTE_NODE:return buf.push(" ",node.name,\'="\',node.value.replace(/[<&"]/g,_xmlEncoder),\'"\');case TEXT_NODE:return buf.push(node.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return buf.push("<![CDATA[",node.data,"]]>");case COMMENT_NODE:return buf.push("\x3c!--",node.data,"--\x3e");case DOCUMENT_TYPE_NODE:var pubid=node.publicId,sysid=node.systemId;if(buf.push("<!DOCTYPE ",node.name),pubid)buf.push(\' PUBLIC "\',pubid),sysid&&"."!=sysid&&buf.push(\'" "\',sysid),buf.push(\'">\');else if(sysid&&"."!=sysid)buf.push(\' SYSTEM "\',sysid,\'">\');else{var sub=node.internalSubset;sub&&buf.push(" [",sub,"]"),buf.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return buf.push("<?",node.target," ",node.data,"?>");case ENTITY_REFERENCE_NODE:return buf.push("&",node.nodeName,";");default:buf.push("??",node.nodeName)}}function importNode(doc,node,deep){var node2;switch(node.nodeType){case ELEMENT_NODE:node2=node.cloneNode(!1),node2.ownerDocument=doc;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:deep=!0}if(node2||(node2=node.cloneNode(!1)),node2.ownerDocument=doc,node2.parentNode=null,deep)for(var child=node.firstChild;child;)node2.appendChild(importNode(doc,child,deep)),child=child.nextSibling;return node2}function cloneNode(doc,node,deep){var node2=new node.constructor;for(var n in node){var v=node[n];"object"!=typeof v&&v!=node2[n]&&(node2[n]=v)}switch(node.childNodes&&(node2.childNodes=new NodeList),node2.ownerDocument=doc,node2.nodeType){case ELEMENT_NODE:var attrs=node.attributes,attrs2=node2.attributes=new NamedNodeMap,len=attrs.length;attrs2._ownerElement=node2;for(var i=0;len>i;i++)node2.setAttributeNode(cloneNode(doc,attrs.item(i),!0));break;case ATTRIBUTE_NODE:deep=!0}if(deep)for(var child=node.firstChild;child;)node2.appendChild(cloneNode(doc,child,deep)),child=child.nextSibling;return node2}function __set__(object,key,value){object[key]=value}function getTextContent(node){switch(node.nodeType){case 1:case 11:var buf=[];for(node=node.firstChild;node;)7!==node.nodeType&&8!==node.nodeType&&buf.push(getTextContent(node)),node=node.nextSibling;return buf.join("");default:return node.nodeValue}}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={};ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7);var NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8);ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9);var INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10);ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15),DOMException.prototype=Error.prototype,copy(ExceptionCode,DOMException),NodeList.prototype={length:0,item:function(index){return this[index]||null}},LiveNodeList.prototype.item=function(i){return _updateLiveList(this),this[i]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(key){for(var i=this.length;i--;){var attr=this[i];if(attr.nodeName==key)return attr}},setNamedItem:function(attr){var el=attr.ownerElement;if(el&&el!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var oldAttr=this.getNamedItem(attr.nodeName);return _addNamedNode(this._ownerElement,this,attr,oldAttr),oldAttr},setNamedItemNS:function(attr){var oldAttr,el=attr.ownerElement;if(el&&el!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return oldAttr=this.getNamedItemNS(attr.namespaceURI,attr.localName),_addNamedNode(this._ownerElement,this,attr,oldAttr),oldAttr},removeNamedItem:function(key){var attr=this.getNamedItem(key);return _removeNamedNode(this._ownerElement,this,attr),attr},removeNamedItemNS:function(namespaceURI,localName){var attr=this.getNamedItemNS(namespaceURI,localName);return _removeNamedNode(this._ownerElement,this,attr),attr},getNamedItemNS:function(namespaceURI,localName){for(var i=this.length;i--;){var node=this[i];if(node.localName==localName&&node.namespaceURI==namespaceURI)return node}return null}},DOMImplementation.prototype={hasFeature:function(feature,version){var versions=this._features[feature.toLowerCase()];return versions&&(!version||version in versions)?!0:!1},createDocument:function(namespaceURI,qualifiedName,doctype){var doc=new Document;if(doc.implementation=this,doc.childNodes=new NodeList,doc.doctype=doctype,doctype&&doc.appendChild(doctype),qualifiedName){var root=doc.createElementNS(namespaceURI,qualifiedName);doc.appendChild(root)}return doc},createDocumentType:function(qualifiedName,publicId,systemId){var node=new DocumentType;return node.name=qualifiedName,node.nodeName=qualifiedName,node.publicId=publicId,node.systemId=systemId,node}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(newChild,refChild){return _insertBefore(this,newChild,refChild)},replaceChild:function(newChild,oldChild){this.insertBefore(newChild,oldChild),oldChild&&this.removeChild(oldChild)},removeChild:function(oldChild){return _removeChild(this,oldChild)},appendChild:function(newChild){return this.insertBefore(newChild,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(deep){return cloneNode(this.ownerDocument||this,this,deep)},normalize:function(){for(var child=this.firstChild;child;){var next=child.nextSibling;next&&next.nodeType==TEXT_NODE&&child.nodeType==TEXT_NODE?(this.removeChild(next),child.appendData(next.data)):(child.normalize(),child=next)}},isSupported:function(feature,version){return this.ownerDocument.implementation.hasFeature(feature,version)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(namespaceURI){for(var el=this;el;){var map=el._nsMap;if(map)for(var n in map)if(map[n]==namespaceURI)return n;el=2==el.nodeType?el.ownerDocument:el.parentNode}return null},lookupNamespaceURI:function(prefix){for(var el=this;el;){var map=el._nsMap;if(map&&prefix in map)return map[prefix];el=2==el.nodeType?el.ownerDocument:el.parentNode}return null},isDefaultNamespace:function(namespaceURI){var prefix=this.lookupPrefix(namespaceURI);return null==prefix}},copy(NodeType,Node),copy(NodeType,Node.prototype),Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(newChild,refChild){if(newChild.nodeType==DOCUMENT_FRAGMENT_NODE){for(var child=newChild.firstChild;child;){var next=child.nextSibling;this.insertBefore(child,refChild),child=next}return newChild}return null==this.documentElement&&1==newChild.nodeType&&(this.documentElement=newChild),_insertBefore(this,newChild,refChild),newChild.ownerDocument=this,newChild},removeChild:function(oldChild){return this.documentElement==oldChild&&(this.documentElement=null),_removeChild(this,oldChild)},importNode:function(importedNode,deep){return importNode(this,importedNode,deep)},getElementById:function(id){var rtv=null;return _visitNode(this.documentElement,function(node){return 1==node.nodeType&&node.getAttribute("id")==id?(rtv=node,!0):void 0}),rtv},createElement:function(tagName){var node=new Element;node.ownerDocument=this,node.nodeName=tagName,node.tagName=tagName,node.childNodes=new NodeList;var attrs=node.attributes=new NamedNodeMap;return attrs._ownerElement=node,node},createDocumentFragment:function(){var node=new DocumentFragment;return node.ownerDocument=this,node.childNodes=new NodeList,node},createTextNode:function(data){var node=new Text;return node.ownerDocument=this,node.appendData(data),node},createComment:function(data){var node=new Comment;return node.ownerDocument=this,node.appendData(data),node},createCDATASection:function(data){var node=new CDATASection;return node.ownerDocument=this,node.appendData(data),node},createProcessingInstruction:function(target,data){var node=new ProcessingInstruction;return node.ownerDocument=this,node.tagName=node.target=target,node.nodeValue=node.data=data,node},createAttribute:function(name){var node=new Attr;return node.ownerDocument=this,node.name=name,node.nodeName=name,node.localName=name,node.specified=!0,node},createEntityReference:function(name){var node=new EntityReference;return node.ownerDocument=this,node.nodeName=name,node},createElementNS:function(namespaceURI,qualifiedName){var node=new Element,pl=qualifiedName.split(":"),attrs=node.attributes=new NamedNodeMap;return node.childNodes=new NodeList,node.ownerDocument=this,node.nodeName=qualifiedName,node.tagName=qualifiedName,node.namespaceURI=namespaceURI,2==pl.length?(node.prefix=pl[0],node.localName=pl[1]):node.localName=qualifiedName,attrs._ownerElement=node,node},createAttributeNS:function(namespaceURI,qualifiedName){var node=new Attr,pl=qualifiedName.split(":");return node.ownerDocument=this,node.nodeName=qualifiedName,node.name=qualifiedName,node.namespaceURI=namespaceURI,node.specified=!0,2==pl.length?(node.prefix=pl[0],node.localName=pl[1]):node.localName=qualifiedName,node}},_extends(Document,Node),Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(name){return null!=this.getAttributeNode(name)},getAttribute:function(name){var attr=this.getAttributeNode(name);return attr&&attr.value||""},getAttributeNode:function(name){return this.attributes.getNamedItem(name)},setAttribute:function(name,value){var attr=this.ownerDocument.createAttribute(name);attr.value=attr.nodeValue=""+value,this.setAttributeNode(attr)},removeAttribute:function(name){var attr=this.getAttributeNode(name);attr&&this.removeAttributeNode(attr)},appendChild:function(newChild){return newChild.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(newChild,null):_appendSingleChild(this,newChild)},setAttributeNode:function(newAttr){return this.attributes.setNamedItem(newAttr)},setAttributeNodeNS:function(newAttr){return this.attributes.setNamedItemNS(newAttr)},removeAttributeNode:function(oldAttr){return this.attributes.removeNamedItem(oldAttr.nodeName)},removeAttributeNS:function(namespaceURI,localName){var old=this.getAttributeNodeNS(namespaceURI,localName);old&&this.removeAttributeNode(old)},hasAttributeNS:function(namespaceURI,localName){return null!=this.getAttributeNodeNS(namespaceURI,localName)},getAttributeNS:function(namespaceURI,localName){var attr=this.getAttributeNodeNS(namespaceURI,localName);return attr&&attr.value||""},setAttributeNS:function(namespaceURI,qualifiedName,value){var attr=this.ownerDocument.createAttributeNS(namespaceURI,qualifiedName);attr.value=attr.nodeValue=""+value,this.setAttributeNode(attr)},getAttributeNodeNS:function(namespaceURI,localName){return this.attributes.getNamedItemNS(namespaceURI,localName)},getElementsByTagName:function(tagName){return new LiveNodeList(this,function(base){var ls=[];return _visitNode(base,function(node){node===base||node.nodeType!=ELEMENT_NODE||"*"!==tagName&&node.tagName!=tagName||ls.push(node)}),ls})},getElementsByTagNameNS:function(namespaceURI,localName){return new LiveNodeList(this,function(base){var ls=[];return _visitNode(base,function(node){node===base||node.nodeType!==ELEMENT_NODE||"*"!==namespaceURI&&node.namespaceURI!==namespaceURI||"*"!==localName&&node.localName!=localName||ls.push(node)}),ls})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=ATTRIBUTE_NODE,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(offset,count){return this.data.substring(offset,offset+count)},appendData:function(text){text=this.data+text,this.nodeValue=this.data=text,this.length=text.length},insertData:function(offset,text){this.replaceData(offset,0,text)},appendChild:function(){throw Error(ExceptionMessage[3])},deleteData:function(offset,count){this.replaceData(offset,count,"")},replaceData:function(offset,count,text){var start=this.data.substring(0,offset),end=this.data.substring(offset+count);text=start+text+end,this.nodeValue=this.data=text,this.length=text.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(offset){var text=this.data,newText=text.substring(offset);text=text.substring(0,offset),this.data=this.nodeValue=text,this.length=text.length;var newNode=this.ownerDocument.createTextNode(newText);return this.parentNode&&this.parentNode.insertBefore(newNode,this.nextSibling),newNode}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(node){var buf=[];return serializeToString(node,buf),buf.join("")},Node.prototype.toString=function(){return XMLSerializer.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(data){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(data||data+"")&&this.appendChild(this.ownerDocument.createTextNode(data));break;default:this.data=data,this.value=value,this.nodeValue=data}}}),__set__=function(object,key,value){object["$$"+key]=value})}catch(e){}return DOMImplementation}),ace.define("ace/mode/xml/dom-parser",["require","exports","module","ace/mode/xml/sax","ace/mode/xml/dom"],function(acequire){"use strict";function DOMParser(options){this.options=options||{locator:{}}}function buildErrorHandler(errorImpl,domBuilder,locator){function build(key){var fn=errorImpl[key];if(!fn)if(isCallback)fn=2==errorImpl.length?function(msg){errorImpl(key,msg)}:errorImpl;else for(var i=arguments.length;--i&&!(fn=errorImpl[arguments[i]]););errorHandler[key]=fn&&function(msg){fn(msg+_locator(locator),msg,locator)}||function(){}}if(!errorImpl){if(domBuilder instanceof DOMHandler)return domBuilder;errorImpl=domBuilder}var errorHandler={},isCallback=errorImpl instanceof Function;return locator=locator||{},build("warning","warn"),build("error","warn","warning"),build("fatalError","warn","warning","error"),errorHandler}function DOMHandler(){this.cdata=!1}function position(locator,node){node.lineNumber=locator.lineNumber,node.columnNumber=locator.columnNumber}function _locator(l){return l?"\\n@"+(l.systemId||"")+"#[line:"+l.lineNumber+",col:"+l.columnNumber+"]":void 0}function _toString(chars,start,length){return"string"==typeof chars?chars.substr(start,length):chars.length>=start+length||start?new java.lang.String(chars,start,length)+"":chars}function appendElement(hander,node){hander.currentElement?hander.currentElement.appendChild(node):hander.document.appendChild(node)}var XMLReader=acequire("./sax"),DOMImplementation=acequire("./dom");return DOMParser.prototype.parseFromString=function(source,mimeType){var options=this.options,sax=new XMLReader,domBuilder=options.domBuilder||new DOMHandler,errorHandler=options.errorHandler,locator=options.locator,defaultNSMap=options.xmlns||{},entityMap={lt:"<",gt:">",amp:"&",quot:\'"\',apos:"\'"};return locator&&domBuilder.setDocumentLocator(locator),sax.errorHandler=buildErrorHandler(errorHandler,domBuilder,locator),sax.domBuilder=options.domBuilder||domBuilder,/\\/x?html?$/.test(mimeType)&&(entityMap.nbsp="",entityMap.copy="",defaultNSMap[""]="http://www.w3.org/1999/xhtml"),source?sax.parse(source,defaultNSMap,entityMap):sax.errorHandler.error("invalid document source"),domBuilder.document},DOMHandler.prototype={startDocument:function(){this.document=(new DOMImplementation).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(namespaceURI,localName,qName,attrs){var doc=this.document,el=doc.createElementNS(namespaceURI,qName||localName),len=attrs.length;appendElement(this,el),this.currentElement=el,this.locator&&position(this.locator,el);for(var i=0;len>i;i++){var namespaceURI=attrs.getURI(i),value=attrs.getValue(i),qName=attrs.getQName(i),attr=doc.createAttributeNS(namespaceURI,qName);attr.getOffset&&position(attr.getOffset(1),attr),attr.value=attr.nodeValue=value,el.setAttributeNode(attr)}},endElement:function(){var current=this.currentElement;current.tagName,this.currentElement=current.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(target,data){var ins=this.document.createProcessingInstruction(target,data);this.locator&&position(this.locator,ins),appendElement(this,ins)},ignorableWhitespace:function(){},characters:function(chars){if(chars=_toString.apply(this,arguments),this.currentElement&&chars){if(this.cdata){var charNode=this.document.createCDATASection(chars);this.currentElement.appendChild(charNode)}else{var charNode=this.document.createTextNode(chars);this.currentElement.appendChild(charNode)}this.locator&&position(this.locator,charNode)}},skippedEntity:function(){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(locator){(this.locator=locator)&&(locator.lineNumber=0)},comment:function(chars){chars=_toString.apply(this,arguments);var comm=this.document.createComment(chars);this.locator&&position(this.locator,comm),appendElement(this,comm)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(name,publicId,systemId){var impl=this.document.implementation;if(impl&&impl.createDocumentType){var dt=impl.createDocumentType(name,publicId,systemId);this.locator&&position(this.locator,dt),appendElement(this,dt)}},warning:function(error){console.warn(error,_locator(this.locator))},error:function(error){console.error(error,_locator(this.locator))},fatalError:function(error){throw console.error(error,_locator(this.locator)),error}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\\w+/g,function(key){DOMHandler.prototype[key]=function(){return null}}),{DOMParser:DOMParser}}),ace.define("ace/mode/xml_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/xml/dom-parser"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop");acequire("../lib/lang");var Mirror=acequire("../worker/mirror").Mirror,DOMParser=acequire("./xml/dom-parser").DOMParser,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.context=null};oop.inherits(Worker,Mirror),function(){this.setOptions=function(options){this.context=options.context},this.onUpdate=function(){var value=this.doc.getValue();if(value){var parser=new DOMParser,errors=[];parser.options.errorHandler={fatalError:function(fullMsg,errorMsg,locator){errors.push({row:locator.lineNumber,column:locator.columnNumber,text:errorMsg,type:"error"})},error:function(fullMsg,errorMsg,locator){errors.push({row:locator.lineNumber,column:locator.columnNumber,text:errorMsg,type:"error"})},warning:function(fullMsg,errorMsg,locator){errors.push({row:locator.lineNumber,column:locator.columnNumber,text:errorMsg,type:"warning"})}},parser.parseFromString(value),this.sender.emit("error",errors)}}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object\n}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},{}],11:[function(e,t,n){"use strict";var r=[];var o=function(e,t){var n=document.head||document.getElementsByTagName("head")[0];var i=r[r.length-1];t=t||{};t.insertAt=t.insertAt||"bottom";if(t.insertAt==="top"){if(!i){n.insertBefore(e,n.firstChild)}else if(i.nextSibling){n.insertBefore(e,i.nextSibling)}else{n.appendChild(e)}r.push(e)}else if(t.insertAt==="bottom"){n.appendChild(e)}else{throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}};t.exports={createLink:function(e,t){var n=document.head||document.getElementsByTagName("head")[0];var i=document.createElement("link");i.href=e;i.rel="stylesheet";for(var r in t){if(!t.hasOwnProperty(r)){continue}var a=t[r];i.setAttribute("data-"+r,a)}n.appendChild(i)},createStyle:function(e,t,n){n=n||{};var i=document.createElement("style");i.type="text/css";for(var r in t){if(!t.hasOwnProperty(r)){continue}var a=t[r];i.setAttribute("data-"+r,a)}if(i.sheet){i.innerHTML=e;i.sheet.cssText=e;o(i,{insertAt:n.insertAt})}else if(i.styleSheet){o(i,{insertAt:n.insertAt});i.styleSheet.cssText=e}else{i.appendChild(document.createTextNode(e));o(i,{insertAt:n.insertAt})}}}},{}],12:[function(e,n,i){(function(e,t){typeof i==="object"&&typeof n!=="undefined"?t(i):typeof define==="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(this,function(e){"use strict";var n="$";function s(){}s.prototype=g.prototype={constructor:s,has:function(e){return n+e in this},get:function(e){return this[n+e]},set:function(e,t){this[n+e]=t;return this},remove:function(e){var t=n+e;return t in this&&delete this[t]},clear:function(){for(var e in this)if(e[0]===n)delete this[e]},keys:function(){var e=[];for(var t in this)if(t[0]===n)e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)if(t[0]===n)e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)if(t[0]===n)e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)if(t[0]===n)++e;return e},empty:function(){for(var e in this)if(e[0]===n)return false;return true},each:function(e){for(var t in this)if(t[0]===n)e(this[t],t.slice(1),this)}};function g(e,t){var n=new s;if(e instanceof s)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i=-1,r=e.length,a;if(t==null)while(++i<r)n.set(i,e[i]);else while(++i<r)n.set(t(a=e[i],i,e),a)}else if(e)for(var o in e)n.set(o,e[o]);return n}function t(){var f=[],t=[],d,p,n;function m(e,n,i,r){if(n>=f.length){if(d!=null)e.sort(d);return p!=null?p(e):e}var t=-1,a=e.length,o=f[n++],s,l,c=g(),u,h=i();while(++t<a){if(u=c.get(s=o(l=e[t])+"")){u.push(l)}else{c.set(s,[l])}}c.each(function(e,t){r(h,t,m(e,n,i,r))});return h}function a(e,n){if(++n>f.length)return e;var i,r=t[n-1];if(p!=null&&n>=f.length)i=e.entries();else i=[],e.each(function(e,t){i.push({key:t,values:a(e,n)})});return r!=null?i.sort(function(e,t){return r(e.key,t.key)}):i}return n={object:function(e){return m(e,0,i,r)},map:function(e){return m(e,0,o,l)},entries:function(e){return a(m(e,0,o,l),0)},key:function(e){f.push(e);return n},sortKeys:function(e){t[f.length-1]=e;return n},sortValues:function(e){d=e;return n},rollup:function(e){p=e;return n}}}function i(){return{}}function r(e,t,n){e[t]=n}function o(){return g()}function l(e,t,n){e.set(t,n)}function a(){}var c=g.prototype;a.prototype=u.prototype={constructor:a,has:c.has,add:function(e){e+="";this[n+e]=e;return this},remove:c.remove,clear:c.clear,values:c.keys,size:c.size,empty:c.empty,each:c.each};function u(e,t){var n=new a;if(e instanceof a)e.each(function(e){n.add(e)});else if(e){var i=-1,r=e.length;if(t==null)while(++i<r)n.add(e[i]);else while(++i<r)n.add(t(e[i],i,e))}return n}function h(e){var t=[];for(var n in e)t.push(n);return t}function f(e){var t=[];for(var n in e)t.push(e[n]);return t}function d(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}e.nest=t;e.set=u;e.map=g;e.keys=h;e.values=f;e.entries=d;Object.defineProperty(e,"__esModule",{value:true})})},{}],13:[function(e,n,i){(function(e,t){typeof i==="object"&&typeof n!=="undefined"?t(i):typeof define==="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(this,function(a){"use strict";var i="http://www.w3.org/1999/xhtml";var r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(e){var t=e+="",n=t.indexOf(":");if(n>=0&&(t=e.slice(0,n))!=="xmlns")e=e.slice(n+1);return r.hasOwnProperty(t)?{space:r[t],local:e}:e}function n(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===i&&e.documentElement.namespaceURI===i?e.createElement(n):e.createElementNS(t,n)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l(e){var t=o(e);return(t.local?s:n)(t)}function t(){}function h(e){return e==null?t:function(){return this.querySelector(e)}}function e(e){if(typeof e!=="function")e=h(e);for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r){for(var a=t[r],o=a.length,s=i[r]=new Array(o),l,c,u=0;u<o;++u){if((l=a[u])&&(c=e.call(l,l.__data__,u,a))){if("__data__"in l)c.__data__=l.__data__;s[u]=c}}}return new We(i,this._parents)}function c(){return[]}function u(e){return e==null?c:function(){return this.querySelectorAll(e)}}function f(e){if(typeof e!=="function")e=u(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a){for(var o=t[a],s=o.length,l,c=0;c<s;++c){if(l=o[c]){i.push(e.call(l,l.__data__,c,o));r.push(l)}}}return new We(i,r)}var d=function(e){return function(){return this.matches(e)}};if(typeof document!=="undefined"){var p=document.documentElement;if(!p.matches){var m=p.webkitMatchesSelector||p.msMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector;d=function(e){return function(){return m.call(this,e)}}}}var g=d;function v(e){if(typeof e!=="function")e=g(e);for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r){for(var a=t[r],o=a.length,s=i[r]=[],l,c=0;c<o;++c){if((l=a[c])&&e.call(l,l.__data__,c,a)){s.push(l)}}}return new We(i,this._parents)}function b(e){return new Array(e.length)}function y(){return new We(this._enter||this._groups.map(b),this._parents)}function x(e,t){this.ownerDocument=e.ownerDocument;this.namespaceURI=e.namespaceURI;this._next=null;this._parent=e;this.__data__=t}x.prototype={constructor:x,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _(e){return function(){return e}}var w="$";function E(e,t,n,i,r,a){var o=0,s,l=t.length,c=a.length;for(;o<c;++o){if(s=t[o]){s.__data__=a[o];i[o]=s}else{n[o]=new x(e,a[o])}}for(;o<l;++o){if(s=t[o]){r[o]=s}}}function A(e,t,n,i,r,a,o){var s,l,c={},u=t.length,h=a.length,f=new Array(u),d;for(s=0;s<u;++s){if(l=t[s]){f[s]=d=w+o.call(l,l.__data__,s,t);if(d in c){r[s]=l}else{c[d]=l}}}for(s=0;s<h;++s){d=w+o.call(e,a[s],s,a);if(l=c[d]){i[s]=l;l.__data__=a[s];c[d]=null}else{n[s]=new x(e,a[s])}}for(s=0;s<u;++s){if((l=t[s])&&c[f[s]]===l){r[s]=l}}}function C(e,t){if(!e){d=new Array(this.size()),c=-1;this.each(function(e){d[++c]=e});return d}var n=t?A:E,i=this._parents,r=this._groups;if(typeof e!=="function")e=_(e);for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],h=r[c],f=h.length,d=e.call(u,u&&u.__data__,c,i),p=d.length,m=s[c]=new Array(p),g=o[c]=new Array(p),v=l[c]=new Array(f);n(u,h,m,g,v,d,t);for(var b=0,y=0,x,w;b<p;++b){if(x=m[b]){if(b>=y)y=b+1;while(!(w=g[y])&&++y<p);x._next=w||null}}}o=new We(o,i);o._enter=s;o._exit=l;return o}function S(){return new We(this._exit||this._groups.map(b),this._parents)}function T(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s){for(var l=t[s],c=n[s],u=l.length,h=o[s]=new Array(u),f,d=0;d<u;++d){if(f=l[d]||c[d]){h[d]=f}}}for(;s<i;++s){o[s]=t[s]}return new We(o,this._parents)}function M(){for(var e=this._groups,t=-1,n=e.length;++t<n;){for(var i=e[t],r=i.length-1,a=i[r],o;--r>=0;){if(o=i[r]){if(a&&a!==o.nextSibling)a.parentNode.insertBefore(o,a);a=o}}}return this}function k(n){if(!n)n=D;function e(e,t){return e&&t?n(e.__data__,t.__data__):!e-!t}for(var t=this._groups,i=t.length,r=new Array(i),a=0;a<i;++a){for(var o=t[a],s=o.length,l=r[a]=new Array(s),c,u=0;u<s;++u){if(c=o[u]){l[u]=c}}l.sort(e)}return new We(r,this._parents).order()}function D(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function L(){var e=arguments[0];arguments[0]=this;e.apply(null,arguments);return this}function R(){var e=new Array(this.size()),t=-1;this.each(function(){e[++t]=this});return e}function F(){for(var e=this._groups,t=0,n=e.length;t<n;++t){for(var i=e[t],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}}return null}function P(){var e=0;this.each(function(){++e});return e}function I(){return!this.node()}function N(e){for(var t=this._groups,n=0,i=t.length;n<i;++n){for(var r=t[n],a=0,o=r.length,s;a<o;++a){if(s=r[a])e.call(s,s.__data__,a,r)}}return this}function O(e){return function(){this.removeAttribute(e)}}function B(e){return function(){this.removeAttributeNS(e.space,e.local)}}function z(e,t){return function(){this.setAttribute(e,t)}}function U(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function H(t,n){return function(){var e=n.apply(this,arguments);if(e==null)this.removeAttribute(t);else this.setAttribute(t,e)}}function j(t,n){return function(){var e=n.apply(this,arguments);if(e==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,e)}}function $(e,t){var n=o(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?B:O:typeof t==="function"?n.local?j:H:n.local?U:z)(n,t))}function W(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function V(e){return function(){this.style.removeProperty(e)}}function G(e,t,n){return function(){this.style.setProperty(e,t,n)}}function q(t,n,i){return function(){var e=n.apply(this,arguments);if(e==null)this.style.removeProperty(t);else this.style.setProperty(t,e,i)}}function X(e,t,n){return arguments.length>1?this.each((t==null?V:typeof t==="function"?q:G)(e,t,n==null?"":n)):Y(this.node(),e)}function Y(e,t){return e.style.getPropertyValue(t)||W(e).getComputedStyle(e,null).getPropertyValue(t)}function K(e){return function(){delete this[e]}}function Z(e,t){return function(){this[e]=t}}function Q(t,n){return function(){var e=n.apply(this,arguments);if(e==null)delete this[t];else this[t]=e}}function J(e,t){return arguments.length>1?this.each((t==null?K:typeof t==="function"?Q:Z)(e,t)):this.node()[e]}function ee(e){return e.trim().split(/^|\s+/)}function te(e){return e.classList||new ne(e)}function ne(e){this._node=e;this._names=ee(e.getAttribute("class")||"")}ne.prototype={add:function(e){var t=this._names.indexOf(e);if(t<0){this._names.push(e);this._node.setAttribute("class",this._names.join(" "))}},remove:function(e){var t=this._names.indexOf(e);if(t>=0){this._names.splice(t,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(e){return this._names.indexOf(e)>=0}};function ie(e,t){var n=te(e),i=-1,r=t.length;while(++i<r)n.add(t[i])}function re(e,t){var n=te(e),i=-1,r=t.length;while(++i<r)n.remove(t[i])}function ae(e){return function(){ie(this,e)}}function oe(e){return function(){re(this,e)}}function se(e,t){return function(){(t.apply(this,arguments)?ie:re)(this,e)}}function le(e,t){var n=ee(e+"");if(arguments.length<2){var i=te(this.node()),r=-1,a=n.length;while(++r<a)if(!i.contains(n[r]))return false;return true}return this.each((typeof t==="function"?se:t?ae:oe)(n,t))}function ce(){this.textContent=""}function ue(e){return function(){this.textContent=e}}function he(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function fe(e){return arguments.length?this.each(e==null?ce:(typeof e==="function"?he:ue)(e)):this.node().textContent}function de(){this.innerHTML=""}function pe(e){return function(){this.innerHTML=e}}function me(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function ge(e){return arguments.length?this.each(e==null?de:(typeof e==="function"?me:pe)(e)):this.node().innerHTML}function ve(){if(this.nextSibling)this.parentNode.appendChild(this)}function be(){return this.each(ve)}function ye(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xe(){return this.each(ye)}function we(e){var t=typeof e==="function"?e:l(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _e(){return null}function Ee(e,t){var n=typeof e==="function"?e:l(e),i=t==null?_e:typeof t==="function"?t:h(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ae(){var e=this.parentNode;if(e)e.removeChild(this)}function Ce(){return this.each(Ae)}function Se(){return this.parentNode.insertBefore(this.cloneNode(false),this.nextSibling)}function Te(){return this.parentNode.insertBefore(this.cloneNode(true),this.nextSibling)}function Me(e){return this.select(e?Te:Se)}function ke(e){return arguments.length?this.property("__data__",e):this.node().__data__}var De={};a.event=null;if(typeof document!=="undefined"){var Le=document.documentElement;if(!("onmouseenter"in Le)){De={mouseenter:"mouseover",mouseleave:"mouseout"}}}function Re(n,e,t){n=Fe(n,e,t);return function(e){var t=e.relatedTarget;if(!t||t!==this&&!(t.compareDocumentPosition(this)&8)){n.call(this,e)}}}function Fe(n,i,r){return function(e){var t=a.event;a.event=e;try{n.call(this,this.__data__,i,r)}finally{a.event=t}}}function Pe(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0)t=e.slice(n+1),e=e.slice(0,n);return{type:e,name:t}})}function Ie(a){return function(){var e=this.__on;if(!e)return;for(var t=0,n=-1,i=e.length,r;t<i;++t){if(r=e[t],(!a.type||r.type===a.type)&&r.name===a.name){this.removeEventListener(r.type,r.listener,r.capture)}else{e[++n]=r}}if(++n)e.length=n;else delete this.__on}}function Ne(l,c,u){var h=De.hasOwnProperty(l.type)?Re:Fe;return function(e,t,n){var i=this.__on,r,a=h(c,t,n);if(i)for(var o=0,s=i.length;o<s;++o){if((r=i[o]).type===l.type&&r.name===l.name){this.removeEventListener(r.type,r.listener,r.capture);this.addEventListener(r.type,r.listener=a,r.capture=u);r.value=c;return}}this.addEventListener(l.type,a,u);r={type:l.type,name:l.name,value:c,listener:a,capture:u};if(!i)this.__on=[r];else i.push(r)}}function Oe(e,t,n){var i=Pe(e+""),r,a=i.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var l=0,c=s.length,u;l<c;++l){for(r=0,u=s[l];r<a;++r){if((o=i[r]).type===u.type&&o.name===u.name){return u.value}}}return}s=t?Ne:Ie;if(n==null)n=false;for(r=0;r<a;++r)this.each(s(i[r],t,n));return this}function Be(e,t,n,i){var r=a.event;e.sourceEvent=a.event;a.event=e;try{return t.apply(n,i)}finally{a.event=r}}function ze(e,t,n){var i=W(e),r=i.CustomEvent;if(typeof r==="function"){r=new r(t,n)}else{r=i.document.createEvent("Event");if(n)r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail;else r.initEvent(t,false,false)}e.dispatchEvent(r)}function Ue(e,t){return function(){return ze(this,e,t)}}function He(e,t){return function(){return ze(this,e,t.apply(this,arguments))}}function je(e,t){return this.each((typeof t==="function"?He:Ue)(e,t))}var $e=[null];function We(e,t){this._groups=e;this._parents=t}function Ve(){return new We([[document.documentElement]],$e)}We.prototype=Ve.prototype={constructor:We,select:e,selectAll:f,filter:v,data:C,enter:y,exit:S,merge:T,order:M,sort:k,call:L,nodes:R,node:F,size:P,empty:I,each:N,attr:$,style:X,property:J,classed:le,text:fe,html:ge,raise:be,lower:xe,append:we,insert:Ee,remove:Ce,clone:Me,datum:ke,on:Oe,dispatch:je};function Ge(e){return typeof e==="string"?new We([[document.querySelector(e)]],[document.documentElement]):new We([[e]],$e)}function qe(e){return Ge(l(e).call(document.documentElement))}var Xe=0;function Ye(){return new Ke}function Ke(){this._="@"+(++Xe).toString(36)}Ke.prototype=Ye.prototype={constructor:Ke,get:function(e){var t=this._;while(!(t in e))if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function Ze(){var e=a.event,t;while(t=e.sourceEvent)e=t;return e}function Qe(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();i.x=t.clientX,i.y=t.clientY;i=i.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function Je(e){var t=Ze();if(t.changedTouches)t=t.changedTouches[0];return Qe(e,t)}function et(e){return typeof e==="string"?new We([document.querySelectorAll(e)],[document.documentElement]):new We([e==null?[]:e],$e)}function tt(e,t,n){if(arguments.length<3)n=t,t=Ze().changedTouches;for(var i=0,r=t?t.length:0,a;i<r;++i){if((a=t[i]).identifier===n){return Qe(e,a)}}return null}function nt(e,t){if(t==null)t=Ze().touches;for(var n=0,i=t?t.length:0,r=new Array(i);n<i;++n){r[n]=Qe(e,t[n])}return r}a.create=qe;a.creator=l;a.local=Ye;a.matcher=g;a.mouse=Je;a.namespace=o;a.namespaces=r;a.clientPoint=Qe;a.select=Ge;a.selectAll=et;a.selection=Ve;a.selector=h;a.selectorAll=u;a.style=Y;a.touch=tt;a.touches=nt;a.window=W;a.customEvent=Be;Object.defineProperty(a,"__esModule",{value:true})})},{}],14:[function(n,i,r){(function(e,t){typeof r==="object"&&typeof i!=="undefined"?i.exports=t(n("d3-collection"),n("d3-selection")):typeof define==="function"&&define.amd?define(["d3-collection","d3-selection"],t):(e.d3=e.d3||{},e.d3.tip=t(e.d3,e.d3))})(this,function(T,M){"use strict";function e(){var c=e,u=i,h=r,f=document.body,t=_(),n=null,d=null,p=null;function m(e){n=E(e);if(!n)return;d=n.createSVGPoint();f.appendChild(t)}m.show=function(){var e=Array.prototype.slice.call(arguments);if(e[e.length-1]instanceof SVGElement)p=e.pop();var t=h.apply(this,e),n=u.apply(this,e),i=c.apply(this,e),r=A(),a=v.length,o,s=document.documentElement.scrollTop||f.scrollTop,l=document.documentElement.scrollLeft||f.scrollLeft;r.html(t).style("opacity",1).style("pointer-events","all");while(a--)r.classed(v[a],false);o=g.get(i).apply(this);r.classed(i,true).style("top",o.top+n[0]+s+"px").style("left",o.left+n[1]+l+"px");return m};m.hide=function(){var e=A();e.style("opacity",0).style("pointer-events","none");return m};m.attr=function(e,t){if(arguments.length<2&&typeof e==="string"){return A().attr(e)}var n=Array.prototype.slice.call(arguments);M.selection.prototype.attr.apply(A(),n);return m};m.style=function(e,t){if(arguments.length<2&&typeof e==="string"){return A().style(e)}var n=Array.prototype.slice.call(arguments);M.selection.prototype.style.apply(A(),n);return m};m.direction=function(e){if(!arguments.length)return c;c=e==null?e:S(e);return m};m.offset=function(e){if(!arguments.length)return u;u=e==null?e:S(e);return m};m.html=function(e){if(!arguments.length)return h;h=e==null?e:S(e);return m};m.rootElement=function(e){if(!arguments.length)return f;f=e==null?e:S(e);return m};m.destroy=function(){if(t){A().remove();t=null}return m};function e(){return"n"}function i(){return[0,0]}function r(){return" "}var g=T.map({n:a,s:o,e:s,w:l,nw:b,ne:y,sw:x,se:w}),v=g.keys();function a(){var e=C(this);return{top:e.n.y-t.offsetHeight,left:e.n.x-t.offsetWidth/2}}function o(){var e=C(this);return{top:e.s.y,left:e.s.x-t.offsetWidth/2}}function s(){var e=C(this);return{top:e.e.y-t.offsetHeight/2,left:e.e.x}}function l(){var e=C(this);return{top:e.w.y-t.offsetHeight/2,left:e.w.x-t.offsetWidth}}function b(){var e=C(this);return{top:e.nw.y-t.offsetHeight,left:e.nw.x-t.offsetWidth}}function y(){var e=C(this);return{top:e.ne.y-t.offsetHeight,left:e.ne.x}}function x(){var e=C(this);return{top:e.sw.y,left:e.sw.x-t.offsetWidth}}function w(){var e=C(this);return{top:e.se.y,left:e.se.x}}function _(){var e=M.select(document.createElement("div"));e.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box");return e.node()}function E(e){var t=e.node();if(!t)return null;if(t.tagName.toLowerCase()==="svg")return t;return t.ownerSVGElement}function A(){if(t==null){t=_();f.appendChild(t)}return M.select(t)}function C(e){var t=p||e;while(t.getScreenCTM==null&&t.parentNode!=null){t=t.parentNode}var n={},i=t.getScreenCTM(),r=t.getBBox(),a=r.width,o=r.height,s=r.x,l=r.y;d.x=s;d.y=l;n.nw=d.matrixTransform(i);d.x+=a;n.ne=d.matrixTransform(i);d.y+=o;n.se=d.matrixTransform(i);d.x-=a;n.sw=d.matrixTransform(i);d.y-=o/2;n.w=d.matrixTransform(i);d.x+=a;n.e=d.matrixTransform(i);d.x-=a/2;d.y-=o/2;n.n=d.matrixTransform(i);d.y+=o;n.s=d.matrixTransform(i);return n}function S(e){return typeof e==="function"?e:function(){return e}}return m}return e})},{"d3-collection":12,"d3-selection":13}],15:[function(e,nc,t){!function(){var P={version:"3.5.17"};var r=[].slice,h=function(e){return r.call(e)};var I=this.document;function s(e){return e&&(e.ownerDocument||e.document||e).documentElement}function N(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(I){try{h(I.documentElement.childNodes)[0].nodeType}catch(e){h=function(e){var t=e.length,n=new Array(t);while(t--)n[t]=e[t];return n}}}if(!Date.now)Date.now=function(){return+new Date};if(I){try{I.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var t=this.Element.prototype,n=t.setAttribute,i=t.setAttributeNS,a=this.CSSStyleDeclaration.prototype,o=a.setProperty;t.setAttribute=function(e,t){n.call(this,e,t+"")};t.setAttributeNS=function(e,t,n){i.call(this,e,t,n+"")};a.setProperty=function(e,t,n){o.call(this,e,t+"",n)}}}P.ascending=l;function l(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}P.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN};P.min=function(e,t){var n=-1,i=e.length,r,a;if(arguments.length===1){while(++n<i)if((a=e[n])!=null&&a>=a){r=a;break}while(++n<i)if((a=e[n])!=null&&r>a)r=a}else{while(++n<i)if((a=t.call(e,e[n],n))!=null&&a>=a){r=a;break}while(++n<i)if((a=t.call(e,e[n],n))!=null&&r>a)r=a}return r};P.max=function(e,t){var n=-1,i=e.length,r,a;if(arguments.length===1){while(++n<i)if((a=e[n])!=null&&a>=a){r=a;break}while(++n<i)if((a=e[n])!=null&&a>r)r=a}else{while(++n<i)if((a=t.call(e,e[n],n))!=null&&a>=a){r=a;break}while(++n<i)if((a=t.call(e,e[n],n))!=null&&a>r)r=a}return r};P.extent=function(e,t){var n=-1,i=e.length,r,a,o;if(arguments.length===1){while(++n<i)if((a=e[n])!=null&&a>=a){r=o=a;break}while(++n<i)if((a=e[n])!=null){if(r>a)r=a;if(o<a)o=a}}else{while(++n<i)if((a=t.call(e,e[n],n))!=null&&a>=a){r=o=a;break}while(++n<i)if((a=t.call(e,e[n],n))!=null){if(r>a)r=a;if(o<a)o=a}}return[r,o]};function c(e){return e===null?NaN:+e}function u(e){return!isNaN(e)}P.sum=function(e,t){var n=0,i=e.length,r,a=-1;if(arguments.length===1){while(++a<i)if(u(r=+e[a]))n+=r}else{while(++a<i)if(u(r=+t.call(e,e[a],a)))n+=r}return n};P.mean=function(e,t){var n=0,i=e.length,r,a=-1,o=i;if(arguments.length===1){while(++a<i)if(u(r=c(e[a])))n+=r;else--o}else{while(++a<i)if(u(r=c(t.call(e,e[a],a))))n+=r;else--o}if(o)return n/o};P.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],a=n-i;return a?r+a*(e[i]-r):r};P.median=function(e,t){var n=[],i=e.length,r,a=-1;if(arguments.length===1){while(++a<i)if(u(r=c(e[a])))n.push(r)}else{while(++a<i)if(u(r=c(t.call(e,e[a],a))))n.push(r)}if(n.length)return P.quantile(n.sort(l),.5)};P.variance=function(e,t){var n=e.length,i=0,r,a,o=0,s=-1,l=0;if(arguments.length===1){while(++s<n){if(u(r=c(e[s]))){a=r-i;i+=a/++l;o+=a*(r-i)}}}else{while(++s<n){if(u(r=c(t.call(e,e[s],s)))){a=r-i;i+=a/++l;o+=a*(r-i)}}}if(l>1)return o/(l-1)};P.deviation=function(){var e=P.variance.apply(this,arguments);return e?Math.sqrt(e):e};function e(a){return{left:function(e,t,n,i){if(arguments.length<3)n=0;if(arguments.length<4)i=e.length;while(n<i){var r=n+i>>>1;if(a(e[r],t)<0)n=r+1;else i=r}return n},right:function(e,t,n,i){if(arguments.length<3)n=0;if(arguments.length<4)i=e.length;while(n<i){var r=n+i>>>1;if(a(e[r],t)>0)i=r;else n=r+1}return n}}}var f=e(l);P.bisectLeft=f.left;P.bisect=P.bisectRight=f.right;P.bisector=function(n){return e(n.length===1?function(e,t){return l(n(e),t)}:n)};P.shuffle=function(e,t,n){if((i=arguments.length)<3){n=e.length;if(i<2)t=0}var i=n-t,r,a;while(i){a=Math.random()*i--|0;r=e[i+t],e[i+t]=e[a+t],e[a+t]=r}return e};P.permute=function(e,t){var n=t.length,i=new Array(n);while(n--)i[n]=e[t[n]];return i};P.pairs=function(e){var t=0,n=e.length-1,i,r=e[0],a=new Array(n<0?0:n);while(t<n)a[t]=[i=r,r=e[++t]];return a};P.transpose=function(e){if(!(a=e.length))return[];for(var t=-1,n=P.min(e,d),i=new Array(n);++t<n;){for(var r=-1,a,o=i[t]=new Array(a);++r<a;){o[r]=e[r][t]}}return i};function d(e){return e.length}P.zip=function(){return P.transpose(arguments)};P.keys=function(e){var t=[];for(var n in e)t.push(n);return t};P.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t};P.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};P.merge=function(e){var t=e.length,n,i=-1,r=0,a,o;while(++i<t)r+=e[i].length;a=new Array(r);while(--t>=0){o=e[t];n=o.length;while(--n>=0){a[--r]=o[n]}}return a};var F=Math.abs;P.range=function(e,t,n){if(arguments.length<3){n=1;if(arguments.length<2){t=e;e=0}}if((t-e)/n===Infinity)throw new Error("infinite range");var i=[],r=p(F(n)),a=-1,o;e*=r,t*=r,n*=r;if(n<0)while((o=e+n*++a)>t)i.push(o/r);else while((o=e+n*++a)<t)i.push(o/r);return i};function p(e){var t=1;while(e*t%1)t*=10;return t}function m(e,t){for(var n in t){Object.defineProperty(e.prototype,n,{value:t[n],enumerable:false})}}P.map=function(e,t){var n=new b;if(e instanceof b){e.forEach(function(e,t){n.set(e,t)})}else if(Array.isArray(e)){var i=-1,r=e.length,a;if(arguments.length===1)while(++i<r)n.set(i,e[i]);else while(++i<r)n.set(t.call(e,a=e[i],i),a)}else{for(var o in e)n.set(o,e[o])}return n};function b(){this._=Object.create(null)}var g="__proto__",v="\0";m(b,{has:w,get:function(e){return this._[y(e)]},set:function(e,t){return this._[y(e)]=t},remove:_,keys:E,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:x(t),value:this._[t]});return e},size:A,empty:C,forEach:function(e){for(var t in this._)e.call(this,x(t),this._[t])}});function y(e){return(e+="")===g||e[0]===v?v+e:e}function x(e){return(e+="")[0]===v?e.slice(1):e}function w(e){return y(e)in this._}function _(e){return(e=y(e))in this._&&delete this._[e]}function E(){var e=[];for(var t in this._)e.push(x(t));return e}function A(){var e=0;for(var t in this._)++e;return e}function C(){for(var e in this._)return false;return true}P.nest=function(){var h={},f=[],t=[],d,p;function m(n,e,i){if(i>=f.length)return p?p.call(h,e):d?e.sort(d):e;var t=-1,r=e.length,a=f[i++],o,s,l,c=new b,u;while(++t<r){if(u=c.get(o=a(s=e[t]))){u.push(s)}else{c.set(o,[s])}}if(n){s=n();l=function(e,t){s.set(e,m(n,t,i))}}else{s={};l=function(e,t){s[e]=m(n,t,i)}}c.forEach(l);return s}function a(e,n){if(n>=f.length)return e;var i=[],r=t[n++];e.forEach(function(e,t){i.push({key:e,values:a(t,n)})});return r?i.sort(function(e,t){return r(e.key,t.key)}):i}h.map=function(e,t){return m(t,e,0)};h.entries=function(e){return a(m(P.map,e,0),0)};h.key=function(e){f.push(e);return h};h.sortKeys=function(e){t[f.length-1]=e;return h};h.sortValues=function(e){d=e;return h};h.rollup=function(e){p=e;return h};return h};P.set=function(e){var t=new S;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t};function S(){this._=Object.create(null)}m(S,{has:w,add:function(e){this._[y(e+="")]=true;return e},remove:_,values:E,size:A,empty:C,forEach:function(e){for(var t in this._)e.call(this,x(t))}});P.behavior={};function O(e){return e}P.rebind=function(e,t){var n=1,i=arguments.length,r;while(++n<i)e[r=arguments[n]]=T(e,t,t[r]);return e};function T(t,n,i){return function(){var e=i.apply(n,arguments);return e===n?t:e}}function M(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=k.length;n<i;++n){var r=k[n]+t;if(r in e)return r}}var k=["webkit","ms","moz","Moz","o","O"];function D(){}P.dispatch=function(){var e=new L,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=R(e);return e};function L(){}L.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0){i=e.slice(n+1);e=e.slice(0,n)}if(e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(arguments.length===2){if(t==null)for(e in this){if(this.hasOwnProperty(e))this[e].on(i,null)}return this}};function R(r){var a=[],o=new b;function e(){var e=a,t=-1,n=e.length,i;while(++t<n)if(i=e[t].on)i.apply(this,arguments);return r}e.on=function(e,t){var n=o.get(e),i;if(arguments.length<2)return n&&n.on;if(n){n.on=null;a=a.slice(0,i=a.indexOf(n)).concat(a.slice(i+1));o.remove(e)}if(t)a.push(o.set(e,{on:t}));return r};return e}P.event=null;function B(){P.event.preventDefault()}function z(){var e=P.event,t;while(t=e.sourceEvent)e=t;return e}function U(r){var a=new L,e=0,t=arguments.length;while(++e<t)a[arguments[e]]=R(a);a.of=function(n,i){return function(e){try{var t=e.sourceEvent=P.event;e.target=r;P.event=e;a[e.type].apply(n,i)}finally{P.event=t}}};return a}P.requote=function(e){return e.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var j={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function $(e){j(e,q);return e}var W=function(e,t){return t.querySelector(e)},V=function(e,t){return t.querySelectorAll(e)},G=function(e,t){var n=e.matches||e[M(e,"matchesSelector")];G=function(e,t){return n.call(e,t)};return G(e,t)};if(typeof Sizzle==="function"){W=function(e,t){return Sizzle(e,t)[0]||null};V=Sizzle;G=Sizzle.matchesSelector}P.selection=function(){return P.select(I.documentElement)};var q=P.selection.prototype=[];q.select=function(e){var t=[],n,i,r,a;e=X(e);for(var o=-1,s=this.length;++o<s;){t.push(n=[]);n.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;){if(a=r[l]){n.push(i=e.call(a,a.__data__,l,o));if(i&&"__data__"in a)i.__data__=a.__data__}else{n.push(null)}}}return $(t)};function X(e){return typeof e==="function"?e:function(){return W(e,this)}}q.selectAll=function(e){var t=[],n,i;e=Y(e);for(var r=-1,a=this.length;++r<a;){for(var o=this[r],s=-1,l=o.length;++s<l;){if(i=o[s]){t.push(n=h(e.call(i,i.__data__,s,r)));n.parentNode=i}}}return $(t)};function Y(e){return typeof e==="function"?e:function(){return V(e,this)}}var K="http://www.w3.org/1999/xhtml";var Z={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};P.ns={prefix:Z,qualify:function(e){var t=e.indexOf(":"),n=e;if(t>=0&&(n=e.slice(0,t))!=="xmlns")e=e.slice(t+1);return Z.hasOwnProperty(n)?{space:Z[n],local:e}:e}};q.attr=function(e,t){if(arguments.length<2){if(typeof e==="string"){var n=this.node();e=P.ns.qualify(e);return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(Q(t,e[t]));return this}return this.each(Q(e,t))};function Q(t,n){t=P.ns.qualify(t);function e(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,n)}function a(){this.setAttributeNS(t.space,t.local,n)}function o(){var e=n.apply(this,arguments);if(e==null)this.removeAttribute(t);else this.setAttribute(t,e)}function s(){var e=n.apply(this,arguments);if(e==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,e)}return n==null?t.local?i:e:typeof n==="function"?t.local?s:o:t.local?a:r}function J(e){return e.trim().replace(/\s+/g," ")}q.classed=function(e,t){if(arguments.length<2){if(typeof e==="string"){var n=this.node(),i=(e=te(e)).length,r=-1;if(t=n.classList){while(++r<i)if(!t.contains(e[r]))return false}else{t=n.getAttribute("class");while(++r<i)if(!ee(e[r]).test(t))return false}return true}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))};function ee(e){return new RegExp("(?:^|\\s+)"+P.requote(e)+"(?:\\s+|$)","g")}function te(e){return(e+"").trim().split(/^|\s+/)}function ne(n,i){n=te(n).map(ie);var r=n.length;function e(){var e=-1;while(++e<r)n[e](this,i)}function t(){var e=-1,t=i.apply(this,arguments);while(++e<r)n[e](this,t)}return typeof i==="function"?t:e}function ie(i){var r=ee(i);return function(e,t){if(n=e.classList)return t?n.add(i):n.remove(i);var n=e.getAttribute("class")||"";if(t){r.lastIndex=0;if(!r.test(n))e.setAttribute("class",J(n+" "+i))}else{e.setAttribute("class",J(n.replace(r," ")))}}}q.style=function(e,t,n){var i=arguments.length;if(i<3){if(typeof e!=="string"){if(i<2)t="";for(n in e)this.each(re(n,e[n],t));return this}if(i<2){var r=this.node();return N(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(re(e,t,n))};function re(t,n,i){function e(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,n,i)}function a(){var e=n.apply(this,arguments);if(e==null)this.style.removeProperty(t);else this.style.setProperty(t,e,i)}return n==null?e:typeof n==="function"?a:r}q.property=function(e,t){if(arguments.length<2){if(typeof e==="string")return this.node()[e];for(t in e)this.each(ae(t,e[t]));return this}return this.each(ae(e,t))};function ae(t,n){function e(){delete this[t]}function i(){this[t]=n}function r(){var e=n.apply(this,arguments);if(e==null)delete this[t];else this[t]=e}return n==null?e:typeof n==="function"?r:i}q.text=function(t){return arguments.length?this.each(typeof t==="function"?function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}:t==null?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent};q.html=function(t){return arguments.length?this.each(typeof t==="function"?function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}:t==null?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML};q.append=function(e){e=oe(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function oe(n){function e(){var e=this.ownerDocument,t=this.namespaceURI;return t===K&&e.documentElement.namespaceURI===K?e.createElement(n):e.createElementNS(t,n)}function t(){return this.ownerDocument.createElementNS(n.space,n.local)}return typeof n==="function"?n:(n=P.ns.qualify(n)).local?t:e}q.insert=function(e,t){e=oe(e);t=X(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})};q.remove=function(){return this.each(se)};function se(){var e=this.parentNode;if(e)e.removeChild(this)}q.data=function(e,p){var t=-1,n=this.length,i,r;if(!arguments.length){e=new Array(n=(i=this[0]).length);while(++t<n){if(r=i[t]){e[t]=r.__data__}}return e}function a(e,t){var n,i=e.length,r=t.length,a=Math.min(i,r),o=new Array(r),s=new Array(r),l=new Array(i),c,u;if(p){var h=new b,f=new Array(i),d;for(n=-1;++n<i;){if(c=e[n]){if(h.has(d=p.call(c,c.__data__,n))){l[n]=c}else{h.set(d,c)}f[n]=d}}for(n=-1;++n<r;){if(!(c=h.get(d=p.call(t,u=t[n],n)))){s[n]=le(u)}else if(c!==true){o[n]=c;c.__data__=u}h.set(d,true)}for(n=-1;++n<i;){if(n in f&&h.get(f[n])!==true){l[n]=e[n]}}}else{for(n=-1;++n<a;){c=e[n];u=t[n];if(c){c.__data__=u;o[n]=c}else{s[n]=le(u)}}for(;n<r;++n){s[n]=le(t[n])}for(;n<i;++n){l[n]=e[n]}}s.update=o;s.parentNode=o.parentNode=l.parentNode=e.parentNode;m.push(s);g.push(o);v.push(l)}var m=fe([]),g=$([]),v=$([]);if(typeof e==="function"){while(++t<n){a(i=this[t],e.call(i,i.parentNode.__data__,t))}}else{while(++t<n){a(i=this[t],e)}}g.enter=function(){return m};g.exit=function(){return v};return g};function le(e){return{__data__:e}}q.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};q.filter=function(e){var t=[],n,i,r;if(typeof e!=="function")e=ce(e);for(var a=0,o=this.length;a<o;a++){t.push(n=[]);n.parentNode=(i=this[a]).parentNode;for(var s=0,l=i.length;s<l;s++){if((r=i[s])&&e.call(r,r.__data__,s,a)){n.push(r)}}}return $(t)};function ce(e){return function(){return G(this,e)}}q.order=function(){for(var e=-1,t=this.length;++e<t;){for(var n=this[e],i=n.length-1,r=n[i],a;--i>=0;){if(a=n[i]){if(r&&r!==a.nextSibling)r.parentNode.insertBefore(a,r);r=a}}}return this};q.sort=function(e){e=ue.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()};function ue(n){if(!arguments.length)n=l;return function(e,t){return e&&t?n(e.__data__,t.__data__):!e-!t}}q.each=function(i){return he(this,function(e,t,n){i.call(e,e.__data__,t,n)})};function he(e,t){for(var n=0,i=e.length;n<i;n++){for(var r=e[n],a=0,o=r.length,s;a<o;a++){if(s=r[a])t(s,a,n)}}return e}q.call=function(e){var t=h(arguments);e.apply(t[0]=this,t);return this};q.empty=function(){return!this.node()};q.node=function(){for(var e=0,t=this.length;e<t;e++){for(var n=this[e],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}}return null};q.size=function(){var e=0;he(this,function(){++e});return e};function fe(e){j(e,de);return e}var de=[];P.selection.enter=fe;P.selection.enter.prototype=de;de.append=q.append;de.empty=q.empty;de.node=q.node;de.call=q.call;de.size=q.size;de.select=function(e){var t=[],n,i,r,a,o;for(var s=-1,l=this.length;++s<l;){r=(a=this[s]).update;t.push(n=[]);n.parentNode=a.parentNode;for(var c=-1,u=a.length;++c<u;){if(o=a[c]){n.push(r[c]=i=e.call(a.parentNode,o.__data__,c,s));i.__data__=o.__data__}else{n.push(null)}}}return $(t)};de.insert=function(e,t){if(arguments.length<2)t=pe(this);return q.insert.call(this,e,t)};function pe(o){var s,l;return function(e,t,n){var i=o[n].update,r=i.length,a;if(n!=l)l=n,s=0;if(t>=s)s=t+1;while(!(a=i[s])&&++s<r);return a}}P.select=function(e){var t;if(typeof e==="string"){t=[W(e,I)];t.parentNode=I.documentElement}else{t=[e];t.parentNode=s(e)}return $([t])};P.selectAll=function(e){var t;if(typeof e==="string"){t=h(V(e,I));t.parentNode=I.documentElement}else{t=h(e);t.parentNode=null}return $([t])};q.on=function(e,t,n){var i=arguments.length;if(i<3){if(typeof e!=="string"){if(i<2)t=false;for(n in e)this.each(me(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=false}return this.each(me(e,t,n))};function me(r,t,n){var i="__on"+r,e=r.indexOf("."),a=ve;if(e>0)r=r.slice(0,e);var o=ge.get(r);if(o)r=o,a=be;function s(){var e=this[i];if(e){this.removeEventListener(r,e,e.$);delete this[i]}}function l(){var e=a(t,h(arguments));s.call(this);this.addEventListener(r,this[i]=e,e.$=n);e._=t}function c(){var e=new RegExp("^__on([^.]+)"+P.requote(r)+"$"),t;for(var n in this){if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$);delete this[n]}}}return e?t?l:s:t?D:c}var ge=P.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(I){ge.forEach(function(e){if("on"+e in I)ge.remove(e)})}function ve(n,i){return function(e){var t=P.event;P.event=e;i[0]=this.__data__;try{n.apply(this,i)}finally{P.event=t}}}function be(e,t){var i=ve(e,t);return function(e){var t=this,n=e.relatedTarget;if(!n||n!==t&&!(n.compareDocumentPosition(t)&8)){i.call(t,e)}}}var ye,xe=0;function we(e){var n=".dragsuppress-"+ ++xe,i="click"+n,r=P.select(N(e)).on("touchmove"+n,B).on("dragstart"+n,B).on("selectstart"+n,B);if(ye==null){ye="onselectstart"in e?false:M(e.style,"userSelect")}if(ye){var a=s(e).style,o=a[ye];a[ye]="none"}return function(e){r.on(n,null);if(ye)a[ye]=o;if(e){var t=function(){r.on(i,null)};r.on(i,function(){B();t()},true);setTimeout(t,0)}}}P.mouse=function(e){return Ee(e,z())};var _e=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ee(e,t){if(t.changedTouches)t=t.changedTouches[0];var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(_e<0){var r=N(e);if(r.scrollX||r.scrollY){n=P.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();_e=!(a.f||a.e);n.remove()}}if(_e)i.x=t.pageX,i.y=t.pageY;else i.x=t.clientX,i.y=t.clientY;i=i.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}P.touch=function(e,t,n){if(arguments.length<3)n=t,t=z().changedTouches;if(t)for(var i=0,r=t.length,a;i<r;++i){if((a=t[i]).identifier===n){return Ee(e,a)}}};P.behavior.drag=function(){var b=U(n,"drag","dragstart","dragend"),y=null,e=i(D,P.mouse,N,"mousemove","mouseup"),t=i(Ae,P.touch,O,"touchmove","touchend");function n(){this.on("mousedown.drag",e).on("touchstart.drag",t)}function i(d,p,m,g,v){return function(){var e=this,t=P.event.target.correspondingElement||P.event.target,i=e.parentNode,r=b.of(e,arguments),a=0,o=d(),n=".drag"+(o==null?"":"-"+o),s,l=P.select(m(t)).on(g+n,h).on(v+n,f),c=we(t),u=p(i,o);if(y){s=y.apply(e,arguments);s=[s.x-u[0],s.y-u[1]]}else{s=[0,0]}r({type:"dragstart"});function h(){var e=p(i,o),t,n;if(!e)return;t=e[0]-u[0];n=e[1]-u[1];a|=t|n;u=e;r({type:"drag",x:e[0]+s[0],y:e[1]+s[1],dx:t,dy:n})}function f(){if(!p(i,o))return;l.on(g+n,null).on(v+n,null);c(a);r({type:"dragend"})}}}n.origin=function(e){if(!arguments.length)return y;y=e;return n};return P.rebind(n,b,"on")};function Ae(){return P.event.changedTouches[0].identifier}P.touches=function(n,e){if(arguments.length<2)e=z().touches;return e?h(e).map(function(e){var t=Ee(n,e);t.identifier=e.identifier;return t}):[]};var Ce=1e-6,Se=Ce*Ce,Te=Math.PI,Me=2*Te,ke=Me-Ce,De=Te/2,Le=Te/180,Re=180/Te;function Fe(e){return e>0?1:e<0?-1:0}function Pe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Ie(e){return e>1?0:e<-1?Te:Math.acos(e)}function Ne(e){return e>1?De:e<-1?-De:Math.asin(e)}function Oe(e){return((e=Math.exp(e))-1/e)/2}function Be(e){return((e=Math.exp(e))+1/e)/2}function ze(e){return((e=Math.exp(2*e))-1)/(e+1)}function Ue(e){return(e=Math.sin(e/2))*e}var He=Math.SQRT2,je=2,$e=4;P.interpolateZoom=function(e,t){var r=e[0],a=e[1],o=e[2],n=t[0],i=t[1],s=t[2],l=n-r,c=i-a,u=l*l+c*c,h,f;if(u<Se){f=Math.log(s/o)/He;h=function(e){return[r+e*l,a+e*c,o*Math.exp(He*e*f)]}}else{var d=Math.sqrt(u),p=(s*s-o*o+$e*u)/(2*o*je*d),m=(s*s-o*o-$e*u)/(2*s*je*d),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);f=(v-g)/He;h=function(e){var t=e*f,n=Be(g),i=o/(je*d)*(n*ze(He*t+g)-Oe(g));return[r+i*l,a+i*c,o*n/Be(He*t+g)]}}h.duration=f*1e3;return h};P.behavior.zoom=function(){var x={x:0,y:0,k:1},t,l,n,c=[960,500],i=We,r=250,a=0,s="mousedown.zoom",u="mousemove.zoom",h="mouseup.zoom",o,w="touchstart.zoom",_,E=U(g,"zoomstart","zoom","zoomend"),f,d,p,m;if(!Ge){Ge="onwheel"in I?(Ve=function(){return-P.event.deltaY*(P.event.deltaMode?120:1)},"wheel"):"onmousewheel"in I?(Ve=function(){return P.event.wheelDelta},"mousewheel"):(Ve=function(){return-P.event.detail},"MozMousePixelScroll")}function g(e){e.on(s,L).on(Ge+".zoom",y).on("dblclick.zoom",F).on(w,R)}g.event=function(e){e.each(function(){var s=E.of(this,arguments),t=x;if(Dl){P.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1};M(s)}).tween("zoom:zoom",function(){var i=c[0],e=c[1],r=l?l[0]:i/2,a=l?l[1]:e/2,o=P.interpolateZoom([(r-x.x)/x.k,(a-x.y)/x.k,i/x.k],[(r-t.x)/t.k,(a-t.y)/t.k,i/t.k]);return function(e){var t=o(e),n=i/t[2];this.__chart__=x={x:r-t[0]*n,y:a-t[1]*n,k:n};k(s)}}).each("interrupt.zoom",function(){D(s)}).each("end.zoom",function(){D(s)})}else{this.__chart__=x;M(s);k(s);D(s)}})};g.translate=function(e){if(!arguments.length)return[x.x,x.y];x={x:+e[0],y:+e[1],k:x.k};b();return g};g.scale=function(e){if(!arguments.length)return x.k;x={x:x.x,y:x.y,k:null};C(+e);b();return g};g.scaleExtent=function(e){if(!arguments.length)return i;i=e==null?We:[+e[0],+e[1]];return g};g.center=function(e){if(!arguments.length)return n;n=e&&[+e[0],+e[1]];return g};g.size=function(e){if(!arguments.length)return c;c=e&&[+e[0],+e[1]];return g};g.duration=function(e){if(!arguments.length)return r;r=+e;return g};g.x=function(e){if(!arguments.length)return d;d=e;f=e.copy();x={x:0,y:0,k:1};return g};g.y=function(e){if(!arguments.length)return m;m=e;p=e.copy();x={x:0,y:0,k:1};return g};function A(e){return[(e[0]-x.x)/x.k,(e[1]-x.y)/x.k]}function v(e){return[e[0]*x.k+x.x,e[1]*x.k+x.y]}function C(e){x.k=Math.max(i[0],Math.min(i[1],e))}function S(e,t){t=v(t);x.x+=e[0]-t[0];x.y+=e[1]-t[1]}function T(e,t,n,i){e.__chart__={x:x.x,y:x.y,k:x.k};C(Math.pow(2,i));S(l=t,n);e=P.select(e);if(r>0)e=e.transition().duration(r);e.call(g.event)}function b(){if(d)d.domain(f.range().map(function(e){return(e-x.x)/x.k}).map(f.invert));if(m)m.domain(p.range().map(function(e){return(e-x.y)/x.k}).map(p.invert))}function M(e){if(!a++)e({type:"zoomstart"})}function k(e){b();e({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function D(e){if(!--a)e({type:"zoomend"}),l=null}function L(){var e=this,t=E.of(e,arguments),n=0,i=P.select(N(e)).on(u,o).on(h,s),r=A(P.mouse(e)),a=we(e);Cl.call(e);M(t);function o(){n=1;S(P.mouse(e),r);k(t)}function s(){i.on(u,null).on(h,null);a(n);D(t)}}function R(){var u=this,c=E.of(u,arguments),h={},f=0,d,r=".zoom-"+P.event.changedTouches[0].identifier,p="touchmove"+r,m="touchend"+r,g=[],a=P.select(u),o=we(u);e();M(c);a.on(s,null).on(w,e);function v(){var e=P.touches(u);d=x.k;e.forEach(function(e){if(e.identifier in h)h[e.identifier]=A(e)});return e}function e(){var e=P.event.target;P.select(e).on(p,b).on(m,y);g.push(e);var t=P.event.changedTouches;for(var n=0,i=t.length;n<i;++n){h[t[n].identifier]=null}var r=v(),a=Date.now();if(r.length===1){if(a-_<500){var o=r[0];T(u,o,h[o.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1);B()}_=a}else if(r.length>1){var o=r[0],s=r[1],l=o[0]-s[0],c=o[1]-s[1];f=l*l+c*c}}function b(){var e=P.touches(u),t,n,i,r;Cl.call(u);for(var a=0,o=e.length;a<o;++a,r=null){i=e[a];if(r=h[i.identifier]){if(n)break;t=i,n=r}}if(r){var s=(s=i[0]-t[0])*s+(s=i[1]-t[1])*s,l=f&&Math.sqrt(s/f);t=[(t[0]+i[0])/2,(t[1]+i[1])/2];n=[(n[0]+r[0])/2,(n[1]+r[1])/2];C(l*d)}_=null;S(t,n);k(c)}function y(){if(P.event.touches.length){var e=P.event.changedTouches;for(var t=0,n=e.length;t<n;++t){delete h[e[t].identifier]}for(var i in h){return void v()}}P.selectAll(g).on(r,null);a.on(s,L).on(w,R);o();D(c)}}function y(){var e=E.of(this,arguments);if(o)clearTimeout(o);else Cl.call(this),t=A(l=n||P.mouse(this)),M(e);o=setTimeout(function(){o=null;D(e)},50);B();C(Math.pow(2,Ve()*.002)*x.k);S(l,t);k(e)}function F(){var e=P.mouse(this),t=Math.log(x.k)/Math.LN2;T(this,e,A(e),P.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return P.rebind(g,E,"on")};var We=[0,Infinity],Ve,Ge;P.color=qe;function qe(){}qe.prototype.toString=function(){return this.rgb()+""};P.hsl=Xe;function Xe(e,t,n){return this instanceof Xe?void(this.h=+e,this.s=+t,this.l=+n):arguments.length<2?e instanceof Xe?new Xe(e.h,e.s,e.l):gt(""+e,vt,Xe):new Xe(e,t,n)}var Ye=Xe.prototype=new qe;Ye.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);return new Xe(this.h,this.s,this.l/e)};Ye.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return new Xe(this.h,this.s,e*this.l)};Ye.rgb=function(){return Ke(this.h,this.s,this.l)};function Ke(e,t,n){var i,r;e=isNaN(e)?0:(e%=360)<0?e+360:e;t=isNaN(t)?0:t<0?0:t>1?1:t;n=n<0?0:n>1?1:n;r=n<=.5?n*(1+t):n+t-n*t;i=2*n-r;function a(e){if(e>360)e-=360;else if(e<0)e+=360;if(e<60)return i+(r-i)*e/60;if(e<180)return r;if(e<240)return i+(r-i)*(240-e)/60;return i}function o(e){return Math.round(a(e)*255)}return new ht(o(e+120),o(e),o(e-120))}P.hcl=Ze;function Ze(e,t,n){return this instanceof Ze?void(this.h=+e,this.c=+t,this.l=+n):arguments.length<2?e instanceof Ze?new Ze(e.h,e.c,e.l):e instanceof et?st(e.l,e.a,e.b):st((e=bt((e=P.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Ze(e,t,n)}var Qe=Ze.prototype=new qe;Qe.brighter=function(e){return new Ze(this.h,this.c,Math.min(100,this.l+tt*(arguments.length?e:1)))};Qe.darker=function(e){return new Ze(this.h,this.c,Math.max(0,this.l-tt*(arguments.length?e:1)))};Qe.rgb=function(){return Je(this.h,this.c,this.l).rgb()};function Je(e,t,n){if(isNaN(e))e=0;if(isNaN(t))t=0;return new et(n,Math.cos(e*=Le)*t,Math.sin(e)*t)}P.lab=et;function et(e,t,n){return this instanceof et?void(this.l=+e,this.a=+t,this.b=+n):arguments.length<2?e instanceof et?new et(e.l,e.a,e.b):e instanceof Ze?Je(e.h,e.c,e.l):bt((e=ht(e)).r,e.g,e.b):new et(e,t,n)}var tt=18;var nt=.95047,it=1,rt=1.08883;var at=et.prototype=new qe;at.brighter=function(e){return new et(Math.min(100,this.l+tt*(arguments.length?e:1)),this.a,this.b)};at.darker=function(e){return new et(Math.max(0,this.l-tt*(arguments.length?e:1)),this.a,this.b)};at.rgb=function(){return ot(this.l,this.a,this.b)};function ot(e,t,n){var i=(e+16)/116,r=i+t/500,a=i-n/200;r=lt(r)*nt;i=lt(i)*it;a=lt(a)*rt;return new ht(ut(3.2404542*r-1.5371385*i-.4985314*a),ut(-.969266*r+1.8760108*i+.041556*a),ut(.0556434*r-.2040259*i+1.0572252*a))}function st(e,t,n){return e>0?new Ze(Math.atan2(n,t)*Re,Math.sqrt(t*t+n*n),e):new Ze(NaN,NaN,e)}function lt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ct(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ut(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}P.rgb=ht;function ht(e,t,n){return this instanceof ht?void(this.r=~~e,this.g=~~t,this.b=~~n):arguments.length<2?e instanceof ht?new ht(e.r,e.g,e.b):gt(""+e,ht,Ke):new ht(e,t,n)}function ft(e){return new ht(e>>16,e>>8&255,e&255)}function dt(e){return ft(e)+""}var pt=ht.prototype=new qe;pt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;if(!t&&!n&&!i)return new ht(r,r,r);if(t&&t<r)t=r;if(n&&n<r)n=r;if(i&&i<r)i=r;return new ht(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))};pt.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return new ht(e*this.r,e*this.g,e*this.b)};pt.hsl=function(){return vt(this.r,this.g,this.b)};pt.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};function mt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function gt(e,t,n){var i=0,r=0,a=0,o,s,l;o=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase());if(o){s=o[2].split(",");switch(o[1]){case"hsl":{return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100)}case"rgb":{return t(xt(s[0]),xt(s[1]),xt(s[2]))}}}if(l=wt.get(e)){return t(l.r,l.g,l.b)}if(e!=null&&e.charAt(0)==="#"&&!isNaN(l=parseInt(e.slice(1),16))){if(e.length===4){i=(l&3840)>>4;i=i>>4|i;r=l&240;r=r>>4|r;a=l&15;a=a<<4|a}else if(e.length===7){i=(l&16711680)>>16;r=(l&65280)>>8;a=l&255}}return t(i,r,a)}function vt(e,t,n){var i=Math.min(e/=255,t/=255,n/=255),r=Math.max(e,t,n),a=r-i,o,s,l=(r+i)/2;if(a){s=l<.5?a/(r+i):a/(2-r-i);if(e==r)o=(t-n)/a+(t<n?6:0);else if(t==r)o=(n-e)/a+2;else o=(e-t)/a+4;o*=60}else{o=NaN;s=l>0&&l<1?0:o}return new Xe(o,s,l)}function bt(e,t,n){e=yt(e);t=yt(t);n=yt(n);var i=ct((.4124564*e+.3575761*t+.1804375*n)/nt),r=ct((.2126729*e+.7151522*t+.072175*n)/it),a=ct((.0193339*e+.119192*t+.9503041*n)/rt);return et(116*r-16,500*(i-r),200*(r-a))}function yt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xt(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}var wt=P.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});wt.forEach(function(e,t){wt.set(e,ft(t))});function _t(e){return typeof e==="function"?e:function(){return e}}P.functor=_t;P.xhr=Et(O);function Et(i){return function(e,t,n){if(arguments.length===2&&typeof t==="function")n=t,t=null;return At(e,t,i,n)}}function At(r,a,n,e){var o={},s=P.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;if(this.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(r))c=new XDomainRequest;"onload"in c?c.onload=c.onerror=t:c.onreadystatechange=function(){c.readyState>3&&t()};function t(){var e=c.status,t;if(!e&&St(c)||e>=200&&e<300||e===304){try{t=n.call(o,c)}catch(e){s.error.call(o,e);return}s.load.call(o,t)}else{s.error.call(o,c)}}c.onprogress=function(e){var t=P.event;P.event=e;try{s.progress.call(o,c)}finally{P.event=t}};o.header=function(e,t){e=(e+"").toLowerCase();if(arguments.length<2)return l[e];if(t==null)delete l[e];else l[e]=t+"";return o};o.mimeType=function(e){if(!arguments.length)return a;a=e==null?null:e+"";return o};o.responseType=function(e){if(!arguments.length)return u;u=e;return o};o.response=function(e){n=e;return o};["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(h(arguments)))}});o.send=function(e,t,n){if(arguments.length===2&&typeof t==="function")n=t,t=null;c.open(e,r,true);if(a!=null&&!("accept"in l))l["accept"]=a+",*/*";if(c.setRequestHeader)for(var i in l)c.setRequestHeader(i,l[i]);if(a!=null&&c.overrideMimeType)c.overrideMimeType(a);if(u!=null)c.responseType=u;if(n!=null)o.on("error",n).on("load",function(e){n(null,e)});s.beforesend.call(o,c);c.send(t==null?null:t);return o};o.abort=function(){c.abort();return o};P.rebind(o,s,"on");return e==null?o:o.get(Ct(e))}function Ct(n){return n.length===1?function(e,t){n(e==null?t:null)}:n}function St(e){var t=e.responseType;return t&&t!=="text"?e.response:e.responseText}P.dsv=function(r,a){var t=new RegExp('["'+r+"\n]"),f=r.charCodeAt(0);function o(e,t,n){if(arguments.length<3)n=t,t=null;var i=At(e,a,t==null?s:l(t),n);i.row=function(e){return arguments.length?i.response((t=e)==null?s:l(e)):t};return i}function s(e){return o.parse(e.responseText)}function l(t){return function(e){return o.parse(e.responseText,t)}}o.parse=function(e,i){var r;return o.parseRows(e,function(e,t){if(r)return r(e,t-1);var n=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=i?function(e,t){return i(n(e),t)}:n})};o.parseRows=function(r,e){var a={},o={},t=[],s=r.length,l=0,n=0,i,c;function u(){if(l>=s)return o;if(c)return c=false,a;var e=l;if(r.charCodeAt(e)===34){var t=e;while(t++<s){if(r.charCodeAt(t)===34){if(r.charCodeAt(t+1)!==34)break;++t}}l=t+2;var n=r.charCodeAt(t+1);if(n===13){c=true;if(r.charCodeAt(t+2)===10)++l}else if(n===10){c=true}return r.slice(e+1,t).replace(/""/g,'"')}while(l<s){var n=r.charCodeAt(l++),i=1;if(n===10)c=true;else if(n===13){c=true;if(r.charCodeAt(l)===10)++l,++i}else if(n!==f)continue;return r.slice(e,l-i)}return r.slice(e)}while((i=u())!==o){var h=[];while(i!==a&&i!==o){h.push(i);i=u()}if(e&&(h=e(h,n++))==null)continue;t.push(h)}return t};o.format=function(e){if(Array.isArray(e[0]))return o.formatRows(e);var n=new S,i=[];e.forEach(function(e){for(var t in e){if(!n.has(t)){i.push(n.add(t))}}});return[i.map(c).join(r)].concat(e.map(function(t){return i.map(function(e){return c(t[e])}).join(r)})).join("\n")};o.formatRows=function(e){return e.map(n).join("\n")};function n(e){return e.map(c).join(r)}function c(e){return t.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return o};P.csv=P.dsv(",","text/csv");P.tsv=P.dsv("\t","text/tab-separated-values");var Tt,Mt,kt,Dt,Lt=this[M(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};P.timer=function(){Rt.apply(this,arguments)};function Rt(e,t,n){var i=arguments.length;if(i<2)t=0;if(i<3)n=Date.now();var r=n+t,a={c:e,t:r,n:null};if(Mt)Mt.n=a;else Tt=a;Mt=a;if(!kt){Dt=clearTimeout(Dt);kt=1;Lt(Ft)}return a}function Ft(){var e=Pt(),t=It()-e;if(t>24){if(isFinite(t)){clearTimeout(Dt);Dt=setTimeout(Ft,t)}kt=0}else{kt=1;Lt(Ft)}}P.timer.flush=function(){Pt();It()};function Pt(){var e=Date.now(),t=Tt;while(t){if(e>=t.t&&t.c(e-t.t))t.c=null;t=t.n}return e}function It(){var e,t=Tt,n=Infinity;while(t){if(t.c){if(t.t<n)n=t.t;t=(e=t).n}else{t=e?e.n=t.n:Tt=t.n}}Mt=e;return n}function Nt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}P.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Ot=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Bt);P.formatPrefix=function(e,t){var n=0;if(e=+e){if(e<0)e*=-1;if(t)e=P.round(e,Nt(e,t));n=1+Math.floor(1e-12+Math.log(e)/Math.LN10);n=Math.max(-24,Math.min(24,Math.floor((n-1)/3)*3))}return Ot[8+n/3]};function Bt(e,t){var n=Math.pow(10,F(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function zt(e){var A=e.decimal,s=e.thousands,l=e.grouping,i=e.currency,C=l&&s?function(e,t){var n=e.length,i=[],r=0,a=l[0],o=0;while(n>0&&a>0){if(o+a+1>t)a=Math.max(1,t-o);i.push(e.substring(n-=a,n+a));if((o+=a+1)>t)break;a=l[r=(r+1)%l.length]}return i.reverse().join(s)}:O;return function(e){var t=Ut.exec(e),u=t[1]||" ",h=t[2]||">",f=t[3]||"-",n=t[4]||"",d=t[5],p=+t[6],m=t[7],g=t[8],v=t[9],b=1,y="",x="",w=false,_=true;if(g)g=+g.substring(1);if(d||u==="0"&&h==="="){d=u="0";h="="}switch(v){case"n":m=true;v="g";break;case"%":b=100;x="%";v="f";break;case"p":b=100;x="%";v="r";break;case"b":case"o":case"x":case"X":if(n==="#")y="0"+v.toLowerCase();case"c":_=false;case"d":w=true;g=0;break;case"s":b=-1;v="r";break}if(n==="$")y=i[0],x=i[1];if(v=="r"&&!g)v="g";if(g!=null){if(v=="g")g=Math.max(1,Math.min(21,g));else if(v=="e"||v=="f")g=Math.max(0,Math.min(20,g))}v=Ht.get(v)||jt;var E=d&&m;return function(e){var t=x;if(w&&e%1)return"";var n=e<0||e===0&&1/e<0?(e=-e,"-"):f==="-"?"":f;if(b<0){var i=P.formatPrefix(e,g);e=i.scale(e);t=i.symbol+x}else{e*=b}e=v(e,g);var r=e.lastIndexOf("."),a,o;if(r<0){var s=_?e.lastIndexOf("e"):-1;if(s<0)a=e,o="";else a=e.substring(0,s),o=e.substring(s)}else{a=e.substring(0,r);o=A+e.substring(r+1)}if(!d&&m)a=C(a,Infinity);var l=y.length+a.length+o.length+(E?0:n.length),c=l<p?new Array(l=p-l+1).join(u):"";if(E)a=C(c+a,c.length?p-o.length:Infinity);n+=y;e=a+o;return(h==="<"?n+e+c:h===">"?c+n+e:h==="^"?c.substring(0,l>>=1)+n+e+c.substring(l):n+(E?e:c+e))+t}}}var Ut=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var Ht=P.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=P.round(e,Nt(e,t))).toFixed(Math.max(0,Math.min(20,Nt(e*(1+1e-15),t))))}});function jt(e){return e+""}var $t=P.time={},Wt=Date;function Vt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Gt.setUTCDate.apply(this._,arguments)},setDay:function(){Gt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Gt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Gt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Gt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Gt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Gt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Gt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Gt.setTime.apply(this._,arguments)}};var Gt=Date.prototype;function qt(i,a,o){function e(e){var t=i(e),n=r(t,1);return e-t<n-e?t:n}function s(e){a(e=i(new Wt(e-1)),1);return e}function r(e,t){a(e=new Wt(+e),t);return e}function l(e,t,n){var i=s(e),r=[];if(n>1){while(i<t){if(!(o(i)%n))r.push(new Date(+i));a(i,1)}}else{while(i<t)r.push(new Date(+i)),a(i,1)}return r}function t(e,t,n){try{Wt=Vt;var i=new Vt;i._=e;return l(i,t,n)}finally{Wt=Date}}i.floor=i;i.round=e;i.ceil=s;i.offset=r;i.range=l;var n=i.utc=Xt(i);n.floor=n;n.round=Xt(e);n.ceil=Xt(s);n.offset=Xt(r);n.range=t;return i}function Xt(i){return function(e,t){try{Wt=Vt;var n=new Vt;n._=e;return i(n,t)._}finally{Wt=Date}}}$t.year=qt(function(e){e=$t.day(e);e.setMonth(0,1);return e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()});$t.years=$t.year.range;$t.years.utc=$t.year.utc.range;$t.day=qt(function(e){var t=new Wt(2e3,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate());return t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1});$t.days=$t.day.range;$t.days.utc=$t.day.utc.range;$t.dayOfYear=function(e){var t=$t.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,n){n=7-n;var t=$t[e]=qt(function(e){(e=$t.day(e)).setDate(e.getDate()-(e.getDay()+n)%7);return e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var t=$t.year(e).getDay();return Math.floor(($t.dayOfYear(e)+(t+n)%7)/7)-(t!==n)});$t[e+"s"]=t.range;$t[e+"s"].utc=t.utc.range;$t[e+"OfYear"]=function(e){var t=$t.year(e).getDay();return Math.floor(($t.dayOfYear(e)+(t+n)%7)/7)}});$t.week=$t.sunday;$t.weeks=$t.sunday.range;$t.weeks.utc=$t.sunday.utc.range;$t.weekOfYear=$t.sundayOfYear;function Yt(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths;function c(s){var l=s.length;function e(e){var t=[],n=-1,i=0,r,a,o;while(++n<l){if(s.charCodeAt(n)===37){t.push(s.slice(i,n));if((a=Kt[r=s.charAt(++n)])!=null)r=s.charAt(++n);if(o=x[r])r=o(e,a==null?r==="e"?" ":"0":a);t.push(r);i=n+1}}t.push(s.slice(i,n));return t.join("")}e.parse=function(e){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},n=u(t,s,e,0);if(n!=e.length)return null;if("p"in t)t.H=t.H%12+t.p*12;var i=t.Z!=null&&Wt!==Vt,r=new(i?Vt:Wt);if("j"in t)r.setFullYear(t.y,0,t.j);else if("W"in t||"U"in t){if(!("w"in t))t.w="W"in t?1:0;r.setFullYear(t.y,0,1);r.setFullYear(t.y,0,"W"in t?(t.w+6)%7+t.W*7-(r.getDay()+5)%7:t.w+t.U*7-(r.getDay()+6)%7)}else r.setFullYear(t.y,t.m,t.d);r.setHours(t.H+(t.Z/100|0),t.M+t.Z%100,t.S,t.L);return i?r._:r};e.toString=function(){return s};return e}function u(e,t,n,i){var r,a,o,s=0,l=t.length,c=n.length;while(s<l){if(i>=c)return-1;r=t.charCodeAt(s++);if(r===37){o=t.charAt(s++);a=w[o in Kt?t.charAt(s++):o];if(!a||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++)){return-1}}return i}c.utc=function(e){var n=c(e);function t(e){try{Wt=Vt;var t=new Wt;t._=e;return n(t)}finally{Wt=Date}}t.parse=function(e){try{Wt=Vt;var t=n.parse(e);return t&&t._}finally{Wt=Date}};t.toString=n.toString;return t};c.multi=c.utc.multi=yn;var h=P.map(),f=en(a),d=tn(a),p=en(o),m=tn(o),g=en(s),v=tn(s),b=en(l),y=tn(l);r.forEach(function(e,t){h.set(e.toLowerCase(),t)});var x={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:c(t),d:function(e,t){return Jt(e.getDate(),t,2)},e:function(e,t){return Jt(e.getDate(),t,2)},H:function(e,t){return Jt(e.getHours(),t,2)},I:function(e,t){return Jt(e.getHours()%12||12,t,2)},j:function(e,t){return Jt(1+$t.dayOfYear(e),t,3)},L:function(e,t){return Jt(e.getMilliseconds(),t,3)},m:function(e,t){return Jt(e.getMonth()+1,t,2)},M:function(e,t){return Jt(e.getMinutes(),t,2)},p:function(e){return r[+(e.getHours()>=12)]},S:function(e,t){return Jt(e.getSeconds(),t,2)},U:function(e,t){return Jt($t.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Jt($t.mondayOfYear(e),t,2)},x:c(n),X:c(i),y:function(e,t){return Jt(e.getFullYear()%100,t,2)},Y:function(e,t){return Jt(e.getFullYear()%1e4,t,4)},Z:vn,"%":function(){return"%"}};var w={a:_,A:E,b:A,B:C,c:S,d:hn,e:hn,H:dn,I:dn,j:fn,L:gn,m:un,M:pn,p:k,S:mn,U:rn,w:nn,W:an,x:T,X:M,y:sn,Y:on,Z:ln,"%":bn};function _(e,t,n){p.lastIndex=0;var i=p.exec(t.slice(n));return i?(e.w=m.get(i[0].toLowerCase()),n+i[0].length):-1}function E(e,t,n){f.lastIndex=0;var i=f.exec(t.slice(n));return i?(e.w=d.get(i[0].toLowerCase()),n+i[0].length):-1}function A(e,t,n){b.lastIndex=0;var i=b.exec(t.slice(n));return i?(e.m=y.get(i[0].toLowerCase()),n+i[0].length):-1}function C(e,t,n){g.lastIndex=0;var i=g.exec(t.slice(n));return i?(e.m=v.get(i[0].toLowerCase()),n+i[0].length):-1}function S(e,t,n){return u(e,x.c.toString(),t,n)}function T(e,t,n){return u(e,x.x.toString(),t,n)}function M(e,t,n){return u(e,x.X.toString(),t,n)}function k(e,t,n){var i=h.get(t.slice(n,n+=2).toLowerCase());return i==null?-1:(e.p=i,n)}return c}var Kt={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,Qt=/^%/;function Jt(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function en(e){return new RegExp("^(?:"+e.map(P.requote).join("|")+")","i")}function tn(e){var t=new b,n=-1,i=e.length;while(++n<i)t.set(e[n].toLowerCase(),n);return t}function nn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function rn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function an(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function on(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function sn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+2));return i?(e.y=cn(+i[0]),n+i[0].length):-1}function ln(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function cn(e){return e+(e>68?1900:2e3)}function un(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function hn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function fn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function dn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function pn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function mn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function gn(e,t,n){Zt.lastIndex=0;var i=Zt.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function vn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=F(t)/60|0,r=F(t)%60;return n+Jt(i,"0",2)+Jt(r,"0",2)}function bn(e,t,n){Qt.lastIndex=0;var i=Qt.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function yn(i){var e=i.length,t=-1;while(++t<e)i[t][0]=this(i[t][0]);return function(e){var t=0,n=i[t];while(!n[1](e))n=i[++t];return n[0](e)}}P.locale=function(e){return{numberFormat:zt(e),timeFormat:Yt(e)}};var xn=P.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});P.format=xn.numberFormat;P.geo={};function wn(){}wn.prototype={s:0,t:0,add:function(e){En(e,this.t,_n);En(_n.s,this.s,this);if(this.s)this.t+=_n.t;else this.s=_n.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _n=new wn;function En(e,t,n){var i=n.s=e+t,r=i-e,a=i-r;n.t=e-a+(t-r)}P.geo.stream=function(e,t){if(e&&Cn.hasOwnProperty(e.type)){Cn[e.type](e,t)}else{An(e,t)}};function An(e,t){if(e&&Sn.hasOwnProperty(e.type)){Sn[e.type](e,t)}}var Cn={Feature:function(e,t){An(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,i=-1,r=n.length;while(++i<r)An(n[i].geometry,t)}};var Sn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates;t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Tn(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)Tn(n[i],t,0)},Polygon:function(e,t){Mn(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)Mn(n[i],t)},GeometryCollection:function(e,t){var n=e.geometries,i=-1,r=n.length;while(++i<r)An(n[i],t)}};function Tn(e,t,n){var i=-1,r=e.length-n,a;t.lineStart();while(++i<r)a=e[i],t.point(a[0],a[1],a[2]);t.lineEnd()}function Mn(e,t){var n=-1,i=e.length;t.polygonStart();while(++n<i)Tn(e[n],t,1);t.polygonEnd()}P.geo.area=function(e){kn=0;P.geo.stream(e,Ln);return kn};var kn,Dn=new wn;var Ln={sphere:function(){kn+=4*Te},point:D,lineStart:D,lineEnd:D,polygonStart:function(){Dn.reset();Ln.lineStart=Rn},polygonEnd:function(){var e=2*Dn;kn+=e<0?4*Te+e:e;Ln.lineStart=Ln.lineEnd=Ln.point=D}};function Rn(){var n,i,u,h,f;Ln.point=function(e,t){Ln.point=r;u=(n=e)*Le,h=Math.cos(t=(i=t)*Le/2+Te/4),f=Math.sin(t)};function r(e,t){e*=Le;t=t*Le/2+Te/4;var n=e-u,i=n>=0?1:-1,r=i*n,a=Math.cos(t),o=Math.sin(t),s=f*o,l=h*a+s*Math.cos(r),c=s*i*Math.sin(r);Dn.add(Math.atan2(c,l));u=e,h=a,f=o}Ln.lineEnd=function(){r(n,i)}}function Fn(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function Pn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function In(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Nn(e,t){e[0]+=t[0];e[1]+=t[1];e[2]+=t[2]}function On(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Bn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t;e[1]/=t;e[2]/=t}function zn(e){return[Math.atan2(e[1],e[0]),Ne(e[2])]}function Un(e,t){return F(e[0]-t[0])<Ce&&F(e[1]-t[1])<Ce}P.geo.bounds=function(){var h,f,d,p,m,i,r,g,a,l,c;var u={point:v,lineStart:e,lineEnd:t,polygonStart:function(){u.point=n;u.lineStart=s;u.lineEnd=b;a=0;Ln.polygonStart()},polygonEnd:function(){Ln.polygonEnd();u.point=v;u.lineStart=e;u.lineEnd=t;if(Dn<0)h=-(d=180),f=-(p=90);else if(a>Ce)p=90;else if(a<-Ce)f=-90;c[0]=h,c[1]=d}};function v(e,t){l.push(c=[h=e,d=e]);if(t<f)f=t;if(t>p)p=t}function o(e,t){var n=Fn([e*Le,t*Le]);if(g){var i=In(g,n),r=[i[1],-i[0],0],a=In(r,i);Bn(a);a=zn(a);var o=e-m,s=o>0?1:-1,l=a[0]*Re*s,c=F(o)>180;if(c^(s*m<l&&l<s*e)){var u=a[1]*Re;if(u>p)p=u}else if(l=(l+360)%360-180,c^(s*m<l&&l<s*e)){var u=-a[1]*Re;if(u<f)f=u}else{if(t<f)f=t;if(t>p)p=t}if(c){if(e<m){if(y(h,e)>y(h,d))d=e}else{if(y(e,d)>y(h,d))h=e}}else{if(d>=h){if(e<h)h=e;if(e>d)d=e}else{if(e>m){if(y(h,e)>y(h,d))d=e}else{if(y(e,d)>y(h,d))h=e}}}}else{v(e,t)}g=n,m=e}function e(){u.point=o}function t(){c[0]=h,c[1]=d;u.point=v;g=null}function n(e,t){if(g){var n=e-m;a+=F(n)>180?n+(n>0?360:-360):n}else i=e,r=t;Ln.point(e,t);o(e,t)}function s(){Ln.lineStart()}function b(){n(i,r);Ln.lineEnd();if(F(a)>Ce)h=-(d=180);c[0]=h,c[1]=d;g=null}function y(e,t){return(t-=e)<0?t+360:t}function x(e,t){return e[0]-t[0]}function w(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(e){p=d=-(h=f=Infinity);l=[];P.geo.stream(e,u);var t=l.length;if(t){l.sort(x);for(var n=1,i=l[0],r,a=[i];n<t;++n){r=l[n];if(w(r[0],i)||w(r[1],i)){if(y(i[0],r[1])>y(i[0],i[1]))i[1]=r[1];if(y(r[0],i[1])>y(i[0],i[1]))i[0]=r[0]}else{a.push(i=r)}}var o=-Infinity,s;for(var t=a.length-1,n=0,i=a[t],r;n<=t;i=r,++n){r=a[n];if((s=y(i[1],r[0]))>o)o=s,h=r[0],d=i[1]}}l=c=null;return h===Infinity||f===Infinity?[[NaN,NaN],[NaN,NaN]]:[[h,f],[d,p]]}}();P.geo.centroid=function(e){Hn=jn=$n=Wn=Vn=Gn=qn=Xn=Yn=Kn=Zn=0;P.geo.stream(e,Qn);var t=Yn,n=Kn,i=Zn,r=t*t+n*n+i*i;if(r<Se){t=Gn,n=qn,i=Xn;if(jn<Ce)t=$n,n=Wn,i=Vn;r=t*t+n*n+i*i;if(r<Se)return[NaN,NaN]}return[Math.atan2(n,t)*Re,Ne(i/Math.sqrt(r))*Re]};var Hn,jn,$n,Wn,Vn,Gn,qn,Xn,Yn,Kn,Zn;var Qn={sphere:D,point:Jn,lineStart:ti,lineEnd:ni,polygonStart:function(){Qn.lineStart=ii},polygonEnd:function(){Qn.lineStart=ti}};function Jn(e,t){e*=Le;var n=Math.cos(t*=Le);ei(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function ei(e,t,n){++Hn;$n+=(e-$n)/Hn;Wn+=(t-Wn)/Hn;Vn+=(n-Vn)/Hn}function ti(){var s,l,c;Qn.point=function(e,t){e*=Le;var n=Math.cos(t*=Le);s=n*Math.cos(e);l=n*Math.sin(e);c=Math.sin(t);Qn.point=i;ei(s,l,c)};function i(e,t){e*=Le;var n=Math.cos(t*=Le),i=n*Math.cos(e),r=n*Math.sin(e),a=Math.sin(t),o=Math.atan2(Math.sqrt((o=l*a-c*r)*o+(o=c*i-s*a)*o+(o=s*r-l*i)*o),s*i+l*r+c*a);jn+=o;Gn+=o*(s+(s=i));qn+=o*(l+(l=r));Xn+=o*(c+(c=a));ei(s,l,c)}}function ni(){Qn.point=Jn}function ii(){var i,r,d,p,m;Qn.point=function(e,t){i=e,r=t;Qn.point=a;e*=Le;var n=Math.cos(t*=Le);d=n*Math.cos(e);p=n*Math.sin(e);m=Math.sin(t);ei(d,p,m)};Qn.lineEnd=function(){a(i,r);Qn.lineEnd=ni;Qn.point=Jn};function a(e,t){e*=Le;var n=Math.cos(t*=Le),i=n*Math.cos(e),r=n*Math.sin(e),a=Math.sin(t),o=p*a-m*r,s=m*i-d*a,l=d*r-p*i,c=Math.sqrt(o*o+s*s+l*l),u=d*i+p*r+m*a,h=c&&-Ie(u)/c,f=Math.atan2(c,u);Yn+=h*o;Kn+=h*s;Zn+=h*l;jn+=f;Gn+=f*(d+(d=i));qn+=f*(p+(p=r));Xn+=f*(m+(m=a));ei(d,p,m)}}function ri(n,i){function e(e,t){return e=n(e,t),i(e[0],e[1])}if(n.invert&&i.invert)e.invert=function(e,t){return e=i.invert(e,t),e&&n.invert(e[0],e[1])};return e}function ai(){return true}function oi(e,t,n,i,s){var l=[],c=[];e.forEach(function(e){if((t=e.length-1)<=0)return;var t,n=e[0],i=e[t];if(Un(n,i)){s.lineStart();for(var r=0;r<t;++r)s.point((n=e[r])[0],n[1]);s.lineEnd();return}var a=new li(n,e,null,true),o=new li(n,null,a,false);a.o=o;l.push(a);c.push(o);a=new li(i,e,null,false);o=new li(i,null,a,true);a.o=o;l.push(a);c.push(o)});c.sort(t);si(l);si(c);if(!l.length)return;for(var r=0,a=n,o=c.length;r<o;++r){c[r].e=a=!a}var u=l[0],h,f;while(1){var d=u,p=true;while(d.v)if((d=d.n)===u)return;h=d.z;s.lineStart();do{d.v=d.o.v=true;if(d.e){if(p){for(var r=0,o=h.length;r<o;++r)s.point((f=h[r])[0],f[1])}else{i(d.x,d.n.x,1,s)}d=d.n}else{if(p){h=d.p.z;for(var r=h.length-1;r>=0;--r)s.point((f=h[r])[0],f[1])}else{i(d.x,d.p.x,-1,s)}d=d.p}d=d.o;h=d.z;p=!p}while(!d.v);s.lineEnd()}}function si(e){if(!(t=e.length))return;var t,n=0,i=e[0],r;while(++n<t){i.n=r=e[n];r.p=i;i=r}i.n=r=e[0];r.p=i}function li(e,t,n,i){this.x=e;this.z=t;this.o=n;this.e=i;this.v=false;this.n=this.p=null}function ci(b,y,x,w){return function(i,o){var r=y(o),t=i.invert(w[0],w[1]);var n={point:a,lineStart:s,lineEnd:l,polygonStart:function(){n.point=m;n.lineStart=g;n.lineEnd=v;c=[];d=[]},polygonEnd:function(){n.point=a;n.lineStart=s;n.lineEnd=l;c=P.merge(c);var e=vi(t,d);if(c.length){if(!f)o.polygonStart(),f=true;oi(c,fi,e,x,o)}else if(e){if(!f)o.polygonStart(),f=true;o.lineStart();x(null,null,1,o);o.lineEnd()}if(f)o.polygonEnd(),f=false;c=d=null},sphere:function(){o.polygonStart();o.lineStart();x(null,null,1,o);o.lineEnd();o.polygonEnd()}};function a(e,t){var n=i(e,t);if(b(e=n[0],t=n[1]))o.point(e,t)}function e(e,t){var n=i(e,t);r.point(n[0],n[1])}function s(){n.point=e;r.lineStart()}function l(){n.point=a;r.lineEnd()}var c;var u=hi(),h=y(u),f=false,d,p;function m(e,t){p.push([e,t]);var n=i(e,t);h.point(n[0],n[1])}function g(){h.lineStart();p=[]}function v(){m(p[0][0],p[0][1]);h.lineEnd();var e=h.clean(),t=u.buffer(),n,i=t.length;p.pop();d.push(p);p=null;if(!i)return;if(e&1){n=t[0];var i=n.length-1,r=-1,a;if(i>0){if(!f)o.polygonStart(),f=true;o.lineStart();while(++r<i)o.point((a=n[r])[0],a[1]);o.lineEnd()}return}if(i>1&&e&2)t.push(t.pop().concat(t.shift()));c.push(t.filter(ui))}return n}}function ui(e){return e.length>1}function hi(){var t=[],n;return{lineStart:function(){t.push(n=[])},point:function(e,t){n.push([e,t])},lineEnd:D,buffer:function(){var e=t;t=[];n=null;return e},rejoin:function(){if(t.length>1)t.push(t.pop().concat(t.shift()))}}}function fi(e,t){return((e=e.x)[0]<0?e[1]-De-Ce:De-e[1])-((t=t.x)[0]<0?t[1]-De-Ce:De-t[1])}var di=ci(ai,pi,gi,[-Te,-Te/2]);function pi(r){var a=NaN,o=NaN,s=NaN,l;return{lineStart:function(){r.lineStart();l=1},point:function(e,t){var n=e>0?Te:-Te,i=F(e-a);if(F(i-Te)<Ce){r.point(a,o=(o+t)/2>0?De:-De);r.point(s,o);r.lineEnd();r.lineStart();r.point(n,o);r.point(e,o);l=0}else if(s!==n&&i>=Te){if(F(a-s)<Ce)a-=s*Ce;if(F(e-n)<Ce)e-=n*Ce;o=mi(a,o,e,t);r.point(s,o);r.lineEnd();r.lineStart();r.point(n,o);l=0}r.point(a=e,o=t);s=n},lineEnd:function(){r.lineEnd();a=o=NaN},clean:function(){return 2-l}}}function mi(e,t,n,i){var r,a,o=Math.sin(e-n);return F(o)>Ce?Math.atan((Math.sin(t)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*a*o)):(t+i)/2}function gi(e,t,n,i){var r;if(e==null){r=n*De;i.point(-Te,r);i.point(0,r);i.point(Te,r);i.point(Te,0);i.point(Te,-r);i.point(0,-r);i.point(-Te,-r);i.point(-Te,0);i.point(-Te,r)}else if(F(e[0]-t[0])>Ce){var a=e[0]<t[0]?Te:-Te;r=n*a/2;i.point(-a,r);i.point(0,r);i.point(a,r)}else{i.point(t[0],t[1])}}function vi(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Dn.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(!u)continue;var h=c[0],f=h[0],d=h[1]/2+Te/4,p=Math.sin(d),m=Math.cos(d),g=1;while(true){if(g===u)g=0;e=c[g];var v=e[0],b=e[1]/2+Te/4,y=Math.sin(b),x=Math.cos(b),w=v-f,_=w>=0?1:-1,E=_*w,A=E>Te,C=p*y;Dn.add(Math.atan2(C*_*Math.sin(E),m*x+C*Math.cos(E)));a+=A?w+_*Me:w;if(A^f>=n^v>=n){var S=In(Fn(h),Fn(e));Bn(S);var T=In(r,S);Bn(T);var M=(A^w>=0?-1:1)*Ne(T[2]);if(i>M||i===M&&(S[0]||S[1])){o+=A^w>=0?1:-1}}if(!g++)break;f=v,p=y,m=x,h=e}}return(a<-Ce||a<Ce&&Dn<-Ce)^o&1}function bi(r){var D=Math.cos(r),d=D>0,p=F(D)>Ce,e=tr(r,6*Le);return ci(m,t,e,d?[0,-r]:[-Te,r-Te]);function m(e,t){return Math.cos(e)*Math.cos(t)>D}function t(s){var l,c,u,h,f;return{lineStart:function(){h=u=false;f=1},point:function(e,t){var n=[e,t],i,r=m(e,t),a=d?r?0:v(e,t):r?v(e+(e<0?Te:-Te),t):0;if(!l&&(h=u=r))s.lineStart();if(r!==u){i=g(l,n);if(Un(l,i)||Un(n,i)){n[0]+=Ce;n[1]+=Ce;r=m(n[0],n[1])}}if(r!==u){f=0;if(r){s.lineStart();i=g(n,l);s.point(i[0],i[1])}else{i=g(l,n);s.point(i[0],i[1]);s.lineEnd()}l=i}else if(p&&l&&d^r){var o;if(!(a&c)&&(o=g(n,l,true))){f=0;if(d){s.lineStart();s.point(o[0][0],o[0][1]);s.point(o[1][0],o[1][1]);s.lineEnd()}else{s.point(o[1][0],o[1][1]);s.lineEnd();s.lineStart();s.point(o[0][0],o[0][1])}}}if(r&&(!l||!Un(l,n))){s.point(n[0],n[1])}l=n,u=r,c=a},lineEnd:function(){if(u)s.lineEnd();l=null},clean:function(){return f|(h&&u)<<1}}}function g(e,t,n){var i=Fn(e),r=Fn(t);var a=[1,0,0],o=In(i,r),s=Pn(o,o),l=o[0],c=s-l*l;if(!c)return!n&&e;var u=D*s/c,h=-D*l/c,f=In(a,o),d=On(a,u),p=On(o,h);Nn(d,p);var m=f,g=Pn(d,m),v=Pn(m,m),b=g*g-v*(Pn(d,d)-1);if(b<0)return;var y=Math.sqrt(b),x=On(m,(-g-y)/v);Nn(x,d);x=zn(x);if(!n)return x;var w=e[0],_=t[0],E=e[1],A=t[1],C;if(_<w)C=w,w=_,_=C;var S=_-w,T=F(S-Te)<Ce,M=T||S<Ce;if(!T&&A<E)C=E,E=A,A=C;if(M?T?E+A>0^x[1]<(F(x[0]-w)<Ce?E:A):E<=x[1]&&x[1]<=A:S>Te^(w<=x[0]&&x[0]<=_)){var k=On(m,(-g+y)/v);Nn(k,d);return[x,zn(k)]}}function v(e,t){var n=d?r:Te-r,i=0;if(e<-n)i|=1;else if(e>n)i|=2;if(t<-n)i|=4;else if(t>n)i|=8;return i}}function yi(f,d,p,m){return function(e){var t=e.a,n=e.b,i=t.x,r=t.y,a=n.x,o=n.y,s=0,l=1,c=a-i,u=o-r,h;h=f-i;if(!c&&h>0)return;h/=c;if(c<0){if(h<s)return;if(h<l)l=h}else if(c>0){if(h>l)return;if(h>s)s=h}h=p-i;if(!c&&h<0)return;h/=c;if(c<0){if(h>l)return;if(h>s)s=h}else if(c>0){if(h<s)return;if(h<l)l=h}h=d-r;if(!u&&h>0)return;h/=u;if(u<0){if(h<s)return;if(h<l)l=h}else if(u>0){if(h>l)return;if(h>s)s=h}h=m-r;if(!u&&h<0)return;h/=u;if(u<0){if(h>l)return;if(h>s)s=h}else if(u>0){if(h<s)return;if(h<l)l=h}if(s>0)e.a={x:i+s*c,y:r+s*u};if(l<1)e.b={x:i+l*c,y:r+l*u};return e}}var xi=1e9;P.geo.clipExtent=function(){var t,n,i,r,a,o,s={stream:function(e){if(a)a.valid=false;a=o(e);a.valid=true;return a},extent:function(e){if(!arguments.length)return[[t,n],[i,r]];o=wi(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]);if(a)a.valid=false,a=null;return s}};return s.extent([[0,0],[960,500]])};function wi(E,A,C,S){return function(r){var i=r,e=hi(),a=yi(E,A,C,S),o,u,s;var t={point:n,lineStart:x,lineEnd:w,polygonStart:function(){r=e;o=[];u=[];y=true},polygonEnd:function(){r=i;o=P.merge(o);var e=l([E,S]),t=y&&e,n=o.length;if(t||n){r.polygonStart();if(t){r.lineStart();c(null,null,1,r);r.lineEnd()}if(n){oi(o,M,e,c,r)}r.polygonEnd()}o=u=s=null}};function l(e){var t=0,n=u.length,i=e[1];for(var r=0;r<n;++r){for(var a=1,o=u[r],s=o.length,l=o[0],c;a<s;++a){c=o[a];if(l[1]<=i){if(c[1]>i&&Pe(l,c,e)>0)++t}else{if(c[1]<=i&&Pe(l,c,e)<0)--t}l=c}}return t!==0}function c(e,t,n,i){var r=0,a=0;if(e==null||(r=T(e,n))!==(a=T(t,n))||k(e,t)<0^n>0){do{i.point(r===0||r===3?E:C,r>1?S:A)}while((r=(r+n+4)%4)!==a)}else{i.point(t[0],t[1])}}function h(e,t){return E<=e&&e<=C&&A<=t&&t<=S}function n(e,t){if(h(e,t))r.point(e,t)}var f,d,p,m,g,v,b,y;function x(){t.point=_;if(u)u.push(s=[]);b=true;v=false;m=g=NaN}function w(){if(o){_(f,d);if(p&&v)e.rejoin();o.push(e.buffer())}t.point=n;if(v)r.lineEnd()}function _(e,t){e=Math.max(-xi,Math.min(xi,e));t=Math.max(-xi,Math.min(xi,t));var n=h(e,t);if(u)s.push([e,t]);if(b){f=e,d=t,p=n;b=false;if(n){r.lineStart();r.point(e,t)}}else{if(n&&v)r.point(e,t);else{var i={a:{x:m,y:g},b:{x:e,y:t}};if(a(i)){if(!v){r.lineStart();r.point(i.a.x,i.a.y)}r.point(i.b.x,i.b.y);if(!n)r.lineEnd();y=false}else if(n){r.lineStart();r.point(e,t);y=false}}}m=e,g=t,v=n}return t};function T(e,t){return F(e[0]-E)<Ce?t>0?0:3:F(e[0]-C)<Ce?t>0?2:1:F(e[1]-A)<Ce?t>0?1:0:t>0?3:2}function M(e,t){return k(e.x,t.x)}function k(e,t){var n=T(e,1),i=T(t,1);return n!==i?n-i:n===0?t[1]-e[1]:n===1?e[0]-t[0]:n===2?e[1]-t[1]:t[0]-e[0]}}function _i(e){var t=0,n=Te/3,i=qi(e),r=i(t,n);r.parallels=function(e){if(!arguments.length)return[t/Te*180,n/Te*180];return i(t=e[0]*Te/180,n=e[1]*Te/180)};return r}function Ei(e,t){var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),a=Math.sqrt(r)/i;function o(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,Ne((r-(e*e+n*n)*i*i)/(2*i))]};return o}(P.geo.conicEqualArea=function(){return _i(Ei)}).raw=Ei;P.geo.albers=function(){return P.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};P.geo.albersUsa=function(){var a=P.geo.albers();var o=P.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var s=P.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var i,r={point:function(e,t){i=[e,t]}},l,c,u;function h(e){var t=e[0],n=e[1];i=null;(l(t,n),i)||(c(t,n),i)||u(t,n);return i}h.invert=function(e){var t=a.scale(),n=a.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?o:r>=.166&&r<.234&&i>=-.214&&i<-.115?s:a).invert(e)};h.stream=function(e){var n=a.stream(e),i=o.stream(e),r=s.stream(e);return{point:function(e,t){n.point(e,t);i.point(e,t);r.point(e,t)},sphere:function(){n.sphere();i.sphere();r.sphere()},lineStart:function(){n.lineStart();i.lineStart();r.lineStart()},lineEnd:function(){n.lineEnd();i.lineEnd();r.lineEnd()},polygonStart:function(){n.polygonStart();i.polygonStart();r.polygonStart()},polygonEnd:function(){n.polygonEnd();i.polygonEnd();r.polygonEnd()}}};h.precision=function(e){if(!arguments.length)return a.precision();a.precision(e);o.precision(e);s.precision(e);return h};h.scale=function(e){if(!arguments.length)return a.scale();a.scale(e);o.scale(e*.35);s.scale(e);return h.translate(a.translate())};h.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),n=+e[0],i=+e[1];l=a.translate(e).clipExtent([[n-.455*t,i-.238*t],[n+.455*t,i+.238*t]]).stream(r).point;c=o.translate([n-.307*t,i+.201*t]).clipExtent([[n-.425*t+Ce,i+.12*t+Ce],[n-.214*t-Ce,i+.234*t-Ce]]).stream(r).point;u=s.translate([n-.205*t,i+.212*t]).clipExtent([[n-.214*t+Ce,i+.166*t+Ce],[n-.115*t-Ce,i+.234*t-Ce]]).stream(r).point;return h};return h.scale(1070)};var Ai,Ci,Si={point:D,lineStart:D,lineEnd:D,polygonStart:function(){Ci=0;Si.lineStart=Ti},polygonEnd:function(){Si.lineStart=Si.lineEnd=Si.point=D;Ai+=F(Ci/2)}};function Ti(){var n,i,r,a;Si.point=function(e,t){Si.point=o;n=r=e,i=a=t};function o(e,t){Ci+=a*e-r*t;r=e,a=t}Si.lineEnd=function(){o(n,i)}}var Mi,ki,Di,Li;var Ri={point:Fi,lineStart:D,lineEnd:D,polygonStart:D,polygonEnd:D};function Fi(e,t){if(e<Mi)Mi=e;if(e>Di)Di=e;if(t<ki)ki=t;if(t>Li)Li=t}function Pi(){var n=Ii(4.5),i=[];var r={point:e,lineStart:function(){r.point=t},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o;r.point=e},pointRadius:function(e){n=Ii(e);return r},result:function(){if(i.length){var e=i.join("");i=[];return e}}};function e(e,t){i.push("M",e,",",t,n)}function t(e,t){i.push("M",e,",",t);r.point=a}function a(e,t){i.push("L",e,",",t)}function o(){r.point=e}function s(){i.push("Z")}return r}function Ii(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var Ni={point:Oi,lineStart:Bi,lineEnd:zi,polygonStart:function(){Ni.lineStart=Ui},polygonEnd:function(){Ni.point=Oi;Ni.lineStart=Bi;Ni.lineEnd=zi}};function Oi(e,t){$n+=e;Wn+=t;++Vn}function Bi(){var a,o;Ni.point=function(e,t){Ni.point=n;Oi(a=e,o=t)};function n(e,t){var n=e-a,i=t-o,r=Math.sqrt(n*n+i*i);Gn+=r*(a+e)/2;qn+=r*(o+t)/2;Xn+=r;Oi(a=e,o=t)}}function zi(){Ni.point=Oi}function Ui(){var n,i,a,o;Ni.point=function(e,t){Ni.point=r;Oi(n=a=e,i=o=t)};function r(e,t){var n=e-a,i=t-o,r=Math.sqrt(n*n+i*i);Gn+=r*(a+e)/2;qn+=r*(o+t)/2;Xn+=r;r=o*e-a*t;Yn+=r*(a+e);Kn+=r*(o+t);Zn+=r*3;Oi(a=e,o=t)}Ni.lineEnd=function(){r(n,i)}}function Hi(n){var i=4.5;var r={point:e,lineStart:function(){r.point=t},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o;r.point=e},pointRadius:function(e){i=e;return r},result:D};function e(e,t){n.moveTo(e+i,t);n.arc(e,t,i,0,Me)}function t(e,t){n.moveTo(e,t);r.point=a}function a(e,t){n.lineTo(e,t)}function o(){r.point=e}function s(){n.closePath()}return r}function ji(k){var D=.5,L=Math.cos(30*Le),_=16;function t(e){return(_?i:n)(e)}function n(n){return Vi(n,function(e,t){e=k(e,t);n.point(e[0],e[1])})}function i(r){var n,i,a,o,s,l,c,u,h,f,d,p,m;var g={point:e,lineStart:t,lineEnd:b,polygonStart:function(){r.polygonStart();g.lineStart=y},polygonEnd:function(){r.polygonEnd();g.lineStart=t}};function e(e,t){e=k(e,t);r.point(e[0],e[1])}function t(){h=NaN;g.point=v;r.lineStart()}function v(e,t){var n=Fn([e,t]),i=k(e,t);R(h,f,u,d,p,m,h=i[0],f=i[1],u=e,d=n[0],p=n[1],m=n[2],_,r);r.point(h,f)}function b(){g.point=e;r.lineEnd()}function y(){t();g.point=x;g.lineEnd=w}function x(e,t){v(n=e,i=t),a=h,o=f,s=d,l=p,c=m;g.point=v}function w(){R(h,f,u,d,p,m,a,o,n,s,l,c,_,r);g.lineEnd=b;b()}return g}function R(e,t,n,i,r,a,o,s,l,c,u,h,f,d){var p=o-e,m=s-t,g=p*p+m*m;if(g>4*D&&f--){var v=i+c,b=r+u,y=a+h,x=Math.sqrt(v*v+b*b+y*y),w=Math.asin(y/=x),_=F(F(y)-1)<Ce||F(n-l)<Ce?(n+l)/2:Math.atan2(b,v),E=k(_,w),A=E[0],C=E[1],S=A-e,T=C-t,M=m*S-p*T;if(M*M/g>D||F((p*S+m*T)/g-.5)>.3||i*c+r*u+a*h<L){R(e,t,n,i,r,a,A,C,_,v/=x,b/=x,y,f,d);d.point(A,C);R(A,C,_,v,b,y,o,s,l,c,u,h,f,d)}}}t.precision=function(e){if(!arguments.length)return Math.sqrt(D);_=(D=e*e)>0&&16;return t};return t}P.geo.path=function(){var t=4.5,n,i,r,a,o;function s(e){if(e){if(typeof t==="function")a.pointRadius(+t.apply(this,arguments));if(!o||!o.valid)o=r(a);P.geo.stream(e,o)}return a.result()}s.area=function(e){Ai=0;P.geo.stream(e,r(Si));return Ai};s.centroid=function(e){$n=Wn=Vn=Gn=qn=Xn=Yn=Kn=Zn=0;P.geo.stream(e,r(Ni));return Zn?[Yn/Zn,Kn/Zn]:Xn?[Gn/Xn,qn/Xn]:Vn?[$n/Vn,Wn/Vn]:[NaN,NaN]};s.bounds=function(e){Di=Li=-(Mi=ki=Infinity);P.geo.stream(e,r(Ri));return[[Mi,ki],[Di,Li]]};s.projection=function(e){if(!arguments.length)return n;r=(n=e)?e.stream||$i(e):O;return l()};s.context=function(e){if(!arguments.length)return i;a=(i=e)==null?new Pi:new Hi(e);if(typeof t!=="function")a.pointRadius(t);return l()};s.pointRadius=function(e){if(!arguments.length)return t;t=typeof e==="function"?e:(a.pointRadius(+e),+e);return s};function l(){o=null;return s}return s.projection(P.geo.albersUsa()).context(null)};function $i(n){var t=ji(function(e,t){return n([e*Re,t*Re])});return function(e){return Xi(t(e))}}P.geo.transform=function(i){return{stream:function(e){var t=new Wi(e);for(var n in i)t[n]=i[n];return t}}};function Wi(e){this.stream=e}Wi.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Vi(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}P.geo.projection=Gi;P.geo.projectionMutator=qi;function Gi(e){return qi(function(){return e})()}function qi(e){var n,t,i,r=ji(function(e,t){e=n(e,t);return[e[0]*a+d,p-e[1]*a]}),a=150,o=480,s=250,l=0,c=0,u=0,h=0,f=0,d,p,m=di,g=O,v=null,b=null,y;function x(e){e=i(e[0]*Le,e[1]*Le);return[e[0]*a+d,p-e[1]*a]}function w(e){e=i.invert((e[0]-d)/a,(p-e[1])/a);return e&&[e[0]*Re,e[1]*Re]}x.stream=function(e){if(y)y.valid=false;y=Xi(m(t,r(g(e))));y.valid=true;return y};x.clipAngle=function(e){if(!arguments.length)return v;m=e==null?(v=e,di):bi((v=+e)*Le);return E()};x.clipExtent=function(e){if(!arguments.length)return b;b=e;g=e?wi(e[0][0],e[0][1],e[1][0],e[1][1]):O;return E()};x.scale=function(e){if(!arguments.length)return a;a=+e;return _()};x.translate=function(e){if(!arguments.length)return[o,s];o=+e[0];s=+e[1];return _()};x.center=function(e){if(!arguments.length)return[l*Re,c*Re];l=e[0]%360*Le;c=e[1]%360*Le;return _()};x.rotate=function(e){if(!arguments.length)return[u*Re,h*Re,f*Re];u=e[0]%360*Le;h=e[1]%360*Le;f=e.length>2?e[2]%360*Le:0;return _()};P.rebind(x,r,"precision");function _(){i=ri(t=Zi(u,h,f),n);var e=n(l,c);d=o-e[0]*a;p=s+e[1]*a;return E()}function E(){if(y)y.valid=false,y=null;return x}return function(){n=e.apply(this,arguments);x.invert=n.invert&&w;return _()}}function Xi(n){return Vi(n,function(e,t){n.point(e*Le,t*Le)})}function Yi(e,t){return[e,t]}(P.geo.equirectangular=function(){return Gi(Yi)}).raw=Yi.invert=Yi;P.geo.rotation=function(t){t=Zi(t[0]%360*Le,t[1]*Le,t.length>2?t[2]*Le:0);function e(e){e=t(e[0]*Le,e[1]*Le);return e[0]*=Re,e[1]*=Re,e}e.invert=function(e){e=t.invert(e[0]*Le,e[1]*Le);return e[0]*=Re,e[1]*=Re,e};return e};function Ki(e,t){return[e>Te?e-Me:e<-Te?e+Me:e,t]}Ki.invert=Yi;function Zi(e,t,n){return e?t||n?ri(Ji(e),er(t,n)):Ji(e):t||n?er(t,n):Ki}function Qi(n){return function(e,t){return e+=n,[e>Te?e-Me:e<-Te?e+Me:e,t]}}function Ji(e){var t=Qi(e);t.invert=Qi(-e);return t}function er(e,t){var s=Math.cos(e),l=Math.sin(e),c=Math.cos(t),u=Math.sin(t);function n(e,t){var n=Math.cos(t),i=Math.cos(e)*n,r=Math.sin(e)*n,a=Math.sin(t),o=a*s+i*l;return[Math.atan2(r*c-o*u,i*s-a*l),Ne(o*c+r*u)]}n.invert=function(e,t){var n=Math.cos(t),i=Math.cos(e)*n,r=Math.sin(e)*n,a=Math.sin(t),o=a*c-r*u;return[Math.atan2(r*c+a*u,i*s+o*l),Ne(o*s-i*l)]};return n}P.geo.circle=function(){var t=[0,0],n,i=6,r;function a(){var e=typeof t==="function"?t.apply(this,arguments):t,n=Zi(-e[0]*Le,-e[1]*Le,0).invert,i=[];r(null,null,1,{point:function(e,t){i.push(e=n(e,t));e[0]*=Re,e[1]*=Re}});return{type:"Polygon",coordinates:[i]}}a.origin=function(e){if(!arguments.length)return t;t=e;return a};a.angle=function(e){if(!arguments.length)return n;r=tr((n=+e)*Le,i*Le);return a};a.precision=function(e){if(!arguments.length)return i;r=tr(n*Le,(i=+e)*Le);return a};return a.angle(90)};function tr(s,l){var c=Math.cos(s),u=Math.sin(s);return function(e,t,n,i){var r=n*l;if(e!=null){e=nr(c,e);t=nr(c,t);if(n>0?e<t:e>t)e+=n*Me}else{e=s+n*Me;t=s-.5*r}for(var a,o=e;n>0?o>t:o<t;o-=r){i.point((a=zn([c,-u*Math.cos(o),-u*Math.sin(o)]))[0],a[1])}}}function nr(e,t){var n=Fn(t);n[0]-=e;Bn(n);var i=Ie(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ce)%(2*Math.PI)}P.geo.distance=function(e,t){var n=(t[0]-e[0])*Le,i=e[1]*Le,r=t[1]*Le,a=Math.sin(n),o=Math.cos(n),s=Math.sin(i),l=Math.cos(i),c=Math.sin(r),u=Math.cos(r),h;return Math.atan2(Math.sqrt((h=u*a)*h+(h=l*c-s*u*o)*h),s*c+l*u*o)};P.geo.graticule=function(){var t,n,i,r,a,o,s,l,c=10,u=c,h=90,f=360,d,p,m,g,v=2.5;function b(){return{type:"MultiLineString",coordinates:e()}}function e(){return P.range(Math.ceil(r/h)*h,i,h).map(m).concat(P.range(Math.ceil(l/f)*f,s,f).map(g)).concat(P.range(Math.ceil(n/c)*c,t,c).filter(function(e){return F(e%h)>Ce}).map(d)).concat(P.range(Math.ceil(o/u)*u,a,u).filter(function(e){return F(e%f)>Ce}).map(p))}b.lines=function(){return e().map(function(e){return{type:"LineString",coordinates:e}})};b.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(s).slice(1),m(i).reverse().slice(1),g(l).reverse().slice(1))]}};b.extent=function(e){if(!arguments.length)return b.minorExtent();return b.majorExtent(e).minorExtent(e)};b.majorExtent=function(e){if(!arguments.length)return[[r,l],[i,s]];r=+e[0][0],i=+e[1][0];l=+e[0][1],s=+e[1][1];if(r>i)e=r,r=i,i=e;if(l>s)e=l,l=s,s=e;return b.precision(v)};b.minorExtent=function(e){if(!arguments.length)return[[n,o],[t,a]];n=+e[0][0],t=+e[1][0];o=+e[0][1],a=+e[1][1];if(n>t)e=n,n=t,t=e;if(o>a)e=o,o=a,a=e;return b.precision(v)};b.step=function(e){if(!arguments.length)return b.minorStep();return b.majorStep(e).minorStep(e)};b.majorStep=function(e){if(!arguments.length)return[h,f];h=+e[0],f=+e[1];return b};b.minorStep=function(e){if(!arguments.length)return[c,u];c=+e[0],u=+e[1];return b};b.precision=function(e){if(!arguments.length)return v;v=+e;d=ir(o,a,90);p=rr(n,t,v);m=ir(l,s,90);g=rr(r,i,v);return b};return b.majorExtent([[-180,-90+Ce],[180,90-Ce]]).minorExtent([[-180,-80-Ce],[180,80+Ce]])};function ir(e,t,n){var i=P.range(e,t-Ce,n).concat(t);return function(t){return i.map(function(e){return[t,e]})}}function rr(e,t,n){var i=P.range(e,t-Ce,n).concat(t);return function(t){return i.map(function(e){return[e,t]})}}function ar(e){return e.source}function or(e){return e.target}P.geo.greatArc=function(){var t=ar,n,i=or,r;function a(){return{type:"LineString",coordinates:[n||t.apply(this,arguments),r||i.apply(this,arguments)]}}a.distance=function(){return P.geo.distance(n||t.apply(this,arguments),r||i.apply(this,arguments))};a.source=function(e){if(!arguments.length)return t;t=e,n=typeof e==="function"?null:e;return a};a.target=function(e){if(!arguments.length)return i;i=e,r=typeof e==="function"?null:e;return a};a.precision=function(){return arguments.length?a:0};return a};P.geo.interpolate=function(e,t){return sr(e[0]*Le,e[1]*Le,t[0]*Le,t[1]*Le)};function sr(e,t,n,i){var r=Math.cos(t),o=Math.sin(t),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(e),c=r*Math.sin(e),u=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(Ue(i-t)+r*a*Ue(n-e))),d=1/Math.sin(f);var p=f?function(e){var t=Math.sin(e*=f)*d,n=Math.sin(f-e)*d,i=n*l+t*u,r=n*c+t*h,a=n*o+t*s;return[Math.atan2(r,i)*Re,Math.atan2(a,Math.sqrt(i*i+r*r))*Re]}:function(){return[e*Re,t*Re]};p.distance=f;return p}P.geo.length=function(e){lr=0;P.geo.stream(e,cr);return lr};var lr;var cr={sphere:D,point:D,lineStart:ur,lineEnd:D,polygonStart:D,polygonEnd:D};function ur(){var o,s,l;cr.point=function(e,t){o=e*Le,s=Math.sin(t*=Le),l=Math.cos(t);cr.point=n};cr.lineEnd=function(){cr.point=cr.lineEnd=D};function n(e,t){var n=Math.sin(t*=Le),i=Math.cos(t),r=F((e*=Le)-o),a=Math.cos(r);lr+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=l*n-s*i*a)*r),s*n+l*i*a);o=e,s=n,l=i}}function hr(a,o){function e(e,t){var n=Math.cos(e),i=Math.cos(t),r=a(n*i);return[r*i*Math.sin(e),r*Math.sin(t)]}e.invert=function(e,t){var n=Math.sqrt(e*e+t*t),i=o(n),r=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*r,n*a),Math.asin(n&&t*r/n)]};return e}var fr=hr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(P.geo.azimuthalEqualArea=function(){return Gi(fr)}).raw=fr;var dr=hr(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},O);(P.geo.azimuthalEquidistant=function(){return Gi(dr)}).raw=dr;function pr(e,t){var n=Math.cos(e),i=function(e){return Math.tan(Te/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),a=n*Math.pow(i(e),r)/r;if(!r)return vr;function o(e,t){if(a>0){if(t<-De+Ce)t=-De+Ce}else{if(t>De-Ce)t=De-Ce}var n=a/Math.pow(i(t),r);return[n*Math.sin(r*e),a-n*Math.cos(r*e)]}o.invert=function(e,t){var n=a-t,i=Fe(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(a/i,1/r))-De]};return o}(P.geo.conicConformal=function(){return _i(pr)}).raw=pr;function mr(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;if(F(i)<Ce)return Yi;function a(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}a.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-Fe(i)*Math.sqrt(e*e+n*n)]};return a}(P.geo.conicEquidistant=function(){return _i(mr)}).raw=mr;var gr=hr(function(e){return 1/e},Math.atan);(P.geo.gnomonic=function(){return Gi(gr)}).raw=gr;function vr(e,t){return[e,Math.log(Math.tan(Te/4+t/2))]}vr.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-De]};function br(e){var r=Gi(e),a=r.scale,o=r.translate,s=r.clipExtent,l;r.scale=function(){var e=a.apply(r,arguments);return e===r?l?r.clipExtent(null):r:e};r.translate=function(){var e=o.apply(r,arguments);return e===r?l?r.clipExtent(null):r:e};r.clipExtent=function(e){var t=s.apply(r,arguments);if(t===r){if(l=e==null){var n=Te*a(),i=o();s([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else if(l){t=null}return t};return r.clipExtent(null)}(P.geo.mercator=function(){return br(vr)}).raw=vr;var yr=hr(function(){return 1},Math.asin);(P.geo.orthographic=function(){return Gi(yr)}).raw=yr;var xr=hr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(P.geo.stereographic=function(){return Gi(xr)}).raw=xr;function wr(e,t){return[Math.log(Math.tan(Te/4+t/2)),-e]}wr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-De]};(P.geo.transverseMercator=function(){var e=br(wr),t=e.center,n=e.rotate;e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])};e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])};return n([0,0,90])}).raw=wr;P.geom={};function _r(e){return e[0]}function Er(e){return e[1]}P.geom.hull=function(e){var f=_r,d=Er;if(arguments.length)return t(e);function t(e){if(e.length<3)return[];var t=_t(f),n=_t(d),i,r=e.length,a=[],o=[];for(i=0;i<r;i++){a.push([+t.call(this,e[i],i),+n.call(this,e[i],i),i])}a.sort(Cr);for(i=0;i<r;i++)o.push([a[i][0],-a[i][1]]);var s=Ar(a),l=Ar(o);var c=l[0]===s[0],u=l[l.length-1]===s[s.length-1],h=[];for(i=s.length-1;i>=0;--i)h.push(e[a[s[i]][2]]);for(i=+c;i<l.length-u;++i)h.push(e[a[l[i]][2]]);return h}t.x=function(e){return arguments.length?(f=e,t):f};t.y=function(e){return arguments.length?(d=e,t):d};return t};function Ar(e){var t=e.length,n=[0,1],i=2;for(var r=2;r<t;r++){while(i>1&&Pe(e[n[i-2]],e[n[i-1]],e[r])<=0)--i;n[i++]=r}return n.slice(0,i)}function Cr(e,t){return e[0]-t[0]||e[1]-t[1]}P.geom.polygon=function(e){j(e,Sr);return e};var Sr=P.geom.polygon.prototype=[];Sr.area=function(){var e=-1,t=this.length,n,i=this[t-1],r=0;while(++e<t){n=i;i=this[e];r+=n[1]*i[0]-n[0]*i[1]}return r*.5};Sr.centroid=function(e){var t=-1,n=this.length,i=0,r=0,a,o=this[n-1],s;if(!arguments.length)e=-1/(6*this.area());while(++t<n){a=o;o=this[t];s=a[0]*o[1]-o[0]*a[1];i+=(a[0]+o[0])*s;r+=(a[1]+o[1])*s}return[i*e,r*e]};Sr.clip=function(e){var t,n=kr(e),i=-1,r=this.length-kr(this),a,o,s=this[r-1],l,c,u;while(++i<r){t=e.slice();e.length=0;l=this[i];c=t[(o=t.length-n)-1];a=-1;while(++a<o){u=t[a];if(Tr(u,s,l)){if(!Tr(c,s,l)){e.push(Mr(c,u,s,l))}e.push(u)}else if(Tr(c,s,l)){e.push(Mr(c,u,s,l))}c=u}if(n)e.push(e[0]);s=l}return e};function Tr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Mr(e,t,n,i){var r=e[0],a=n[0],o=t[0]-r,s=i[0]-a,l=e[1],c=n[1],u=t[1]-l,h=i[1]-c,f=(s*(l-c)-h*(r-a))/(h*o-s*u);return[r+f*o,l+f*u]}function kr(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}var Dr,Lr,Rr,Fr=[],Pr,Ir,Nr=[];function Or(){ra(this);this.edge=this.site=this.circle=null}function Br(e){var t=Fr.pop()||new Or;t.site=e;return t}function zr(e){Yr(e);Rr.remove(e);Fr.push(e);ra(e)}function Ur(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},a=e.P,o=e.N,s=[e];zr(e);var l=a;while(l.circle&&F(n-l.circle.x)<Ce&&F(i-l.circle.cy)<Ce){a=l.P;s.unshift(l);zr(l);l=a}s.unshift(l);Yr(l);var c=o;while(c.circle&&F(n-c.circle.x)<Ce&&F(i-c.circle.cy)<Ce){o=c.N;s.push(c);zr(c);c=o}s.push(c);Yr(c);var u=s.length,h;for(h=1;h<u;++h){c=s[h];l=s[h-1];ta(c.edge,l.site,c.site,r)}l=s[0];c=s[u-1];c.edge=Jr(l.site,c.site,null,r);Xr(l);Xr(c)}function Hr(e){var t=e.x,n=e.y,i,r,a,o,s=Rr._;while(s){a=jr(s,n)-t;if(a>Ce)s=s.L;else{o=t-$r(s,n);if(o>Ce){if(!s.R){i=s;break}s=s.R}else{if(a>-Ce){i=s.P;r=s}else if(o>-Ce){i=s;r=s.N}else{i=r=s}break}}}var l=Br(e);Rr.insert(i,l);if(!i&&!r)return;if(i===r){Yr(i);r=Br(i.site);Rr.insert(l,r);l.edge=r.edge=Jr(i.site,l.site);Xr(i);Xr(r);return}if(!r){l.edge=Jr(i.site,l.site);return}Yr(i);Yr(r);var c=i.site,u=c.x,h=c.y,f=e.x-u,d=e.y-h,p=r.site,m=p.x-u,g=p.y-h,v=2*(f*g-d*m),b=f*f+d*d,y=m*m+g*g,x={x:(g*b-d*y)/v+u,y:(f*y-m*b)/v+h};ta(r.edge,c,p,x);l.edge=Jr(c,e,null,x);r.edge=Jr(e,p,null,x);Xr(i);Xr(r)}function jr(e,t){var n=e.site,i=n.x,r=n.y,a=r-t;if(!a)return i;var o=e.P;if(!o)return-Infinity;n=o.site;var s=n.x,l=n.y,c=l-t;if(!c)return s;var u=s-i,h=1/a-1/c,f=u/c;if(h)return(-f+Math.sqrt(f*f-2*h*(u*u/(-2*c)-l+c/2+r-a/2)))/h+i;return(i+s)/2}function $r(e,t){var n=e.N;if(n)return jr(n,t);var i=e.site;return i.y===t?i.x:Infinity}function Wr(e){this.site=e;this.edges=[]}Wr.prototype.prepare=function(){var e=this.edges,t=e.length,n;while(t--){n=e[t].edge;if(!n.b||!n.a)e.splice(t,1)}e.sort(Gr);return e.length};function Vr(e){var t=e[0][0],n=e[1][0],i=e[0][1],r=e[1][1],a,o,s,l,c=Lr,u=c.length,h,f,d,p,m,g;while(u--){h=c[u];if(!h||!h.prepare())continue;d=h.edges;p=d.length;f=0;while(f<p){g=d[f].end(),s=g.x,l=g.y;m=d[++f%p].start(),a=m.x,o=m.y;if(F(s-a)>Ce||F(l-o)>Ce){d.splice(f,0,new na(ea(h.site,g,F(s-t)<Ce&&r-l>Ce?{x:t,y:F(a-t)<Ce?o:r}:F(l-r)<Ce&&n-s>Ce?{x:F(o-r)<Ce?a:n,y:r}:F(s-n)<Ce&&l-i>Ce?{x:n,y:F(a-n)<Ce?o:i}:F(l-i)<Ce&&s-t>Ce?{x:F(o-i)<Ce?a:t,y:i}:null),h.site,null));++p}}}}function Gr(e,t){return t.angle-e.angle}function qr(){ra(this);this.x=this.y=this.arc=this.site=this.cy=null}function Xr(e){var t=e.P,n=e.N;if(!t||!n)return;var i=t.site,r=e.site,a=n.site;if(i===a)return;var o=r.x,s=r.y,l=i.x-o,c=i.y-s,u=a.x-o,h=a.y-s;var f=2*(l*h-c*u);if(f>=-Se)return;var d=l*l+c*c,p=u*u+h*h,m=(h*d-c*p)/f,g=(l*p-u*d)/f,h=g+s;var v=Nr.pop()||new qr;v.arc=e;v.site=r;v.x=m+o;v.y=h+Math.sqrt(m*m+g*g);v.cy=h;e.circle=v;var b=null,y=Ir._;while(y){if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(y.L)y=y.L;else{b=y.P;break}}else{if(y.R)y=y.R;else{b=y;break}}}Ir.insert(b,v);if(!b)Pr=v}function Yr(e){var t=e.circle;if(t){if(!t.P)Pr=t.N;Ir.remove(t);Nr.push(t);ra(t);e.circle=null}}function Kr(e){var t=Dr,n=yi(e[0][0],e[0][1],e[1][0],e[1][1]),i=t.length,r;while(i--){r=t[i];if(!Zr(r,e)||!n(r)||F(r.a.x-r.b.x)<Ce&&F(r.a.y-r.b.y)<Ce){r.a=r.b=null;t.splice(i,1)}}}function Zr(e,t){var n=e.b;if(n)return true;var i=e.a,r=t[0][0],a=t[1][0],o=t[0][1],s=t[1][1],l=e.l,c=e.r,u=l.x,h=l.y,f=c.x,d=c.y,p=(u+f)/2,m=(h+d)/2,g,v;if(d===h){if(p<r||p>=a)return;if(u>f){if(!i)i={x:p,y:o};else if(i.y>=s)return;n={x:p,y:s}}else{if(!i)i={x:p,y:s};else if(i.y<o)return;n={x:p,y:o}}}else{g=(u-f)/(d-h);v=m-g*p;if(g<-1||g>1){if(u>f){if(!i)i={x:(o-v)/g,y:o};else if(i.y>=s)return;n={x:(s-v)/g,y:s}}else{if(!i)i={x:(s-v)/g,y:s};else if(i.y<o)return;n={x:(o-v)/g,y:o}}}else{if(h<d){if(!i)i={x:r,y:g*r+v};else if(i.x>=a)return;n={x:a,y:g*a+v}}else{if(!i)i={x:a,y:g*a+v};else if(i.x<r)return;n={x:r,y:g*r+v}}}}e.a=i;e.b=n;return true}function Qr(e,t){this.l=e;this.r=t;this.a=this.b=null}function Jr(e,t,n,i){var r=new Qr(e,t);Dr.push(r);if(n)ta(r,e,t,n);if(i)ta(r,t,e,i);Lr[e.i].edges.push(new na(r,e,t));Lr[t.i].edges.push(new na(r,t,e));return r}function ea(e,t,n){var i=new Qr(e,null);i.a=t;i.b=n;Dr.push(i);return i}function ta(e,t,n,i){if(!e.a&&!e.b){e.a=i;e.l=t;e.r=n}else if(e.l===n){e.b=i}else{e.a=i}}function na(e,t,n){var i=e.a,r=e.b;this.edge=e;this.site=t;this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}na.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ia(){this._=null}function ra(e){e.U=e.C=e.L=e.R=e.P=e.N=null}ia.prototype={insert:function(e,t){var n,i,r;if(e){t.P=e;t.N=e.N;if(e.N)e.N.P=t;e.N=t;if(e.R){e=e.R;while(e.L)e=e.L;e.L=t}else{e.R=t}n=e}else if(this._){e=sa(this._);t.P=null;t.N=e;e.P=e.L=t;n=e}else{t.P=t.N=null;this._=t;n=null}t.L=t.R=null;t.U=n;t.C=true;e=t;while(n&&n.C){i=n.U;if(n===i.L){r=i.R;if(r&&r.C){n.C=r.C=false;i.C=true;e=i}else{if(e===n.R){aa(this,n);e=n;n=e.U}n.C=false;i.C=true;oa(this,i)}}else{r=i.L;if(r&&r.C){n.C=r.C=false;i.C=true;e=i}else{if(e===n.L){oa(this,n);e=n;n=e.U}n.C=false;i.C=true;aa(this,i)}}n=e.U}this._.C=false},remove:function(e){if(e.N)e.N.P=e.P;if(e.P)e.P.N=e.N;e.N=e.P=null;var t=e.U,n,i=e.L,r=e.R,a,o;if(!i)a=r;else if(!r)a=i;else a=sa(r);if(t){if(t.L===e)t.L=a;else t.R=a}else{this._=a}if(i&&r){o=a.C;a.C=e.C;a.L=i;i.U=a;if(a!==r){t=a.U;a.U=e.U;e=a.R;t.L=e;a.R=r;r.U=a}else{a.U=t;t=a;e=a.R}}else{o=e.C;e=a}if(e)e.U=t;if(o)return;if(e&&e.C){e.C=false;return}do{if(e===this._)break;if(e===t.L){n=t.R;if(n.C){n.C=false;t.C=true;aa(this,t);n=t.R}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.R||!n.R.C){n.L.C=false;n.C=true;oa(this,n);n=t.R}n.C=t.C;t.C=n.R.C=false;aa(this,t);e=this._;break}}else{n=t.L;if(n.C){n.C=false;t.C=true;oa(this,t);n=t.L}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.L||!n.L.C){n.R.C=false;n.C=true;aa(this,n);n=t.L}n.C=t.C;t.C=n.L.C=false;oa(this,t);e=this._;break}}n.C=true;e=t;t=t.U}while(!e.C);if(e)e.C=false}};function aa(e,t){var n=t,i=t.R,r=n.U;if(r){if(r.L===n)r.L=i;else r.R=i}else{e._=i}i.U=r;n.U=i;n.R=i.L;if(n.R)n.R.U=n;i.L=n}function oa(e,t){var n=t,i=t.L,r=n.U;if(r){if(r.L===n)r.L=i;else r.R=i}else{e._=i}i.U=r;n.U=i;n.L=i.R;if(n.L)n.L.U=n;i.R=n}function sa(e){while(e.L)e=e.L;return e}function la(e,t){var n=e.sort(ca).pop(),i,r,a;Dr=[];Lr=new Array(e.length);Rr=new ia;Ir=new ia;while(true){a=Pr;if(n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x)){if(n.x!==i||n.y!==r){Lr[n.i]=new Wr(n);Hr(n);i=n.x,r=n.y}n=e.pop()}else if(a){Ur(a.arc)}else{break}}if(t)Kr(t),Vr(t);var o={cells:Lr,edges:Dr};Rr=Ir=Dr=Lr=null;return o}function ca(e,t){return t.y-e.y||t.x-e.x}P.geom.voronoi=function(e){var t=_r,n=Er,i=t,r=n,h=ua;if(e)return a(e);function a(a){var o=new Array(a.length),s=h[0][0],l=h[0][1],c=h[1][0],u=h[1][1];la(f(a),h).cells.forEach(function(e,t){var n=e.edges,i=e.site,r=o[t]=n.length?n.map(function(e){var t=e.start();return[t.x,t.y]}):i.x>=s&&i.x<=c&&i.y>=l&&i.y<=u?[[s,u],[c,u],[c,l],[s,l]]:[];r.point=a[t]});return o}function f(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/Ce)*Ce,y:Math.round(r(e,t)/Ce)*Ce,i:t}})}a.links=function(t){return la(f(t)).edges.filter(function(e){return e.l&&e.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})};a.triangles=function(u){var h=[];la(f(u)).cells.forEach(function(e,t){var n=e.site,i=e.edges.sort(Gr),r=-1,a=i.length,o,s,l=i[a-1].edge,c=l.l===n?l.r:l.l;while(++r<a){o=l;s=c;l=i[r].edge;c=l.l===n?l.r:l.l;if(t<s.i&&t<c.i&&ha(n,s,c)<0){h.push([u[t],u[s.i],u[c.i]])}}});return h};a.x=function(e){return arguments.length?(i=_t(t=e),a):t};a.y=function(e){return arguments.length?(r=_t(n=e),a):n};a.clipExtent=function(e){if(!arguments.length)return h===ua?null:h;h=e==null?ua:e;return a};a.size=function(e){if(!arguments.length)return h===ua?null:h&&h[1];return a.clipExtent(e&&[[0,0],e])};return a};var ua=[[-1e6,-1e6],[1e6,1e6]];function ha(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}P.geom.delaunay=function(e){return P.geom.voronoi().triangles(e)};P.geom.quadtree=function(e,y,x,w,_){var E=_r,A=Er,C;if(C=arguments.length){E=fa;A=da;if(C===3){_=x;w=y;x=y=0}return t(e)}function t(e){var t,n=_t(E),i=_t(A),r,a,o,s,l,c,u,h;if(y!=null){l=y,c=x,u=w,h=_}else{u=h=-(l=c=Infinity);r=[],a=[];s=e.length;if(C)for(o=0;o<s;++o){t=e[o];if(t.x<l)l=t.x;if(t.y<c)c=t.y;if(t.x>u)u=t.x;if(t.y>h)h=t.y;r.push(t.x);a.push(t.y)}else for(o=0;o<s;++o){var f=+n(t=e[o],o),d=+i(t,o);if(f<l)l=f;if(d<c)c=d;if(f>u)u=f;if(d>h)h=d;r.push(f);a.push(d)}}var p=u-l,m=h-c;if(p>m)h=c+p;else u=l+m;function g(e,t,n,i,r,a,o,s){if(isNaN(n)||isNaN(i))return;if(e.leaf){var l=e.x,c=e.y;if(l!=null){if(F(l-n)+F(c-i)<.01){v(e,t,n,i,r,a,o,s)}else{var u=e.point;e.x=e.y=e.point=null;v(e,u,l,c,r,a,o,s);v(e,t,n,i,r,a,o,s)}}else{e.x=n,e.y=i,e.point=t}}else{v(e,t,n,i,r,a,o,s)}}function v(e,t,n,i,r,a,o,s){var l=(r+o)*.5,c=(a+s)*.5,u=n>=l,h=i>=c,f=h<<1|u;e.leaf=false;e=e.nodes[f]||(e.nodes[f]=pa());if(u)r=l;else o=l;if(h)a=c;else s=c;g(e,t,n,i,r,a,o,s)}var b=pa();b.add=function(e){g(b,e,+n(e,++o),+i(e,o),l,c,u,h)};b.visit=function(e){ma(e,b,l,c,u,h)};b.find=function(e){return ga(b,e[0],e[1],l,c,u,h)};o=-1;if(y==null){while(++o<s){g(b,e[o],r[o],a[o],l,c,u,h)}--o}else e.forEach(b.add);r=a=e=t=null;return b}t.x=function(e){return arguments.length?(E=e,t):E};t.y=function(e){return arguments.length?(A=e,t):A};t.extent=function(e){if(!arguments.length)return y==null?null:[[y,x],[w,_]];if(e==null)y=x=w=_=null;else y=+e[0][0],x=+e[0][1],w=+e[1][0],_=+e[1][1];return t};t.size=function(e){if(!arguments.length)return y==null?null:[w-y,_-x];if(e==null)y=x=w=_=null;else y=x=0,w=+e[0],_=+e[1];return t};return t};function fa(e){return e.x}function da(e){return e.y}function pa(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function ma(e,t,n,i,r,a){if(!e(t,n,i,r,a)){var o=(n+r)*.5,s=(i+a)*.5,l=t.nodes;if(l[0])ma(e,l[0],n,i,o,s);if(l[1])ma(e,l[1],o,i,r,s);if(l[2])ma(e,l[2],n,s,o,a);if(l[3])ma(e,l[3],o,s,r,a)}}function ga(e,b,y,x,w,_,E){var A=Infinity,C;(function e(t,n,i,r,a){if(n>_||i>E||r<x||a<w)return;if(o=t.point){var o,s=b-t.x,l=y-t.y,c=s*s+l*l;if(c<A){var u=Math.sqrt(A=c);x=b-u,w=y-u;_=b+u,E=y+u;C=o}}var h=t.nodes,f=(n+r)*.5,d=(i+a)*.5,p=b>=f,m=y>=d;for(var g=m<<1|p,v=g+4;g<v;++g){if(t=h[g&3])switch(g&3){case 0:e(t,n,i,f,d);break;case 1:e(t,f,i,r,d);break;case 2:e(t,n,d,f,a);break;case 3:e(t,f,d,r,a);break}}})(e,x,w,_,E);return C}P.interpolateRgb=va;function va(e,t){e=P.rgb(e);t=P.rgb(t);var n=e.r,i=e.g,r=e.b,a=t.r-n,o=t.g-i,s=t.b-r;return function(e){return"#"+mt(Math.round(n+a*e))+mt(Math.round(i+o*e))+mt(Math.round(r+s*e))}}P.interpolateObject=ba;function ba(e,t){var n={},i={},r;for(r in e){if(r in t){n[r]=Ea(e[r],t[r])}else{i[r]=e[r]}}for(r in t){if(!(r in e)){i[r]=t[r]}}return function(e){for(r in n)i[r]=n[r](e);return i}}P.interpolateNumber=ya;function ya(t,n){t=+t,n=+n;return function(e){return t*(1-e)+n*e}}P.interpolateString=xa;function xa(e,i){var t=wa.lastIndex=_a.lastIndex=0,n,r,a,o=-1,s=[],l=[];e=e+"",i=i+"";while((n=wa.exec(e))&&(r=_a.exec(i))){if((a=r.index)>t){a=i.slice(t,a);if(s[o])s[o]+=a;else s[++o]=a}if((n=n[0])===(r=r[0])){if(s[o])s[o]+=r;else s[++o]=r}else{s[++o]=null;l.push({i:o,x:ya(n,r)})}t=_a.lastIndex}if(t<i.length){a=i.slice(t);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?l[0]?(i=l[0].x,function(e){return i(e)+""}):function(){return i}:(i=l.length,function(e){for(var t=0,n;t<i;++t)s[(n=l[t]).i]=n.x(e);return s.join("")})}var wa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_a=new RegExp(wa.source,"g");P.interpolate=Ea;function Ea(e,t){var n=P.interpolators.length,i;while(--n>=0&&!(i=P.interpolators[n](e,t)));return i}P.interpolators=[function(e,t){var n=typeof t;return(n==="string"?wt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?va:xa:t instanceof qe?va:Array.isArray(t)?Aa:n==="object"&&isNaN(t)?ba:ya)(e,t)}];P.interpolateArray=Aa;function Aa(e,t){var n=[],i=[],r=e.length,a=t.length,o=Math.min(e.length,t.length),s;for(s=0;s<o;++s)n.push(Ea(e[s],t[s]));for(;s<r;++s)i[s]=e[s];for(;s<a;++s)i[s]=t[s];return function(e){for(s=0;s<o;++s)i[s]=n[s](e);return i}}var Ca=function(){return O};var Sa=P.map({linear:Ca,poly:Pa,quad:function(){return La},cubic:function(){return Ra},sin:function(){return Ia},exp:function(){return Na},circle:function(){return Oa},elastic:Ba,back:za,bounce:function(){return Ua}});var Ta=P.map({in:O,out:ka,"in-out":Da,"out-in":function(e){return Da(ka(e))}});P.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";n=Sa.get(n)||Ca;i=Ta.get(i)||O;return Ma(i(n.apply(null,r.call(arguments,1))))};function Ma(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function ka(t){return function(e){return 1-t(1-e)}}function Da(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function La(e){return e*e}function Ra(e){return e*e*e}function Fa(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Pa(t){return function(e){return Math.pow(e,t)}}function Ia(e){return 1-Math.cos(e*De)}function Na(e){return Math.pow(2,10*(e-1))}function Oa(e){return 1-Math.sqrt(1-e*e)}function Ba(t,n){var i;if(arguments.length<2)n=.45;if(arguments.length)i=n/Me*Math.asin(1/t);else t=1,i=n/4;return function(e){return 1+t*Math.pow(2,-10*e)*Math.sin((e-i)*Me/n)}}function za(t){if(!t)t=1.70158;return function(e){return e*e*((t+1)*e-t)}}function Ua(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}P.interpolateHcl=Ha;function Ha(e,t){e=P.hcl(e);t=P.hcl(t);var n=e.h,i=e.c,r=e.l,a=t.h-n,o=t.c-i,s=t.l-r;if(isNaN(o))o=0,i=isNaN(i)?t.c:i;if(isNaN(a))a=0,n=isNaN(n)?t.h:n;else if(a>180)a-=360;else if(a<-180)a+=360;return function(e){return Je(n+a*e,i+o*e,r+s*e)+""}}P.interpolateHsl=ja;function ja(e,t){e=P.hsl(e);t=P.hsl(t);var n=e.h,i=e.s,r=e.l,a=t.h-n,o=t.s-i,s=t.l-r;if(isNaN(o))o=0,i=isNaN(i)?t.s:i;if(isNaN(a))a=0,n=isNaN(n)?t.h:n;else if(a>180)a-=360;else if(a<-180)a+=360;return function(e){return Ke(n+a*e,i+o*e,r+s*e)+""}}P.interpolateLab=$a;function $a(e,t){e=P.lab(e);t=P.lab(t);var n=e.l,i=e.a,r=e.b,a=t.l-n,o=t.a-i,s=t.b-r;return function(e){return ot(n+a*e,i+o*e,r+s*e)+""}}P.interpolateRound=Wa;function Wa(t,n){n-=t;return function(e){return Math.round(t+n*e)}}P.transform=function(e){var n=I.createElementNS(P.ns.prefix.svg,"g");return(P.transform=function(e){if(e!=null){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new Va(t?t.matrix:Ya)})(e)};function Va(e){var t=[e.a,e.b],n=[e.c,e.d],i=qa(t),r=Ga(t,n),a=qa(Xa(n,t,-r))||0;if(t[0]*n[1]<n[0]*t[1]){t[0]*=-1;t[1]*=-1;i*=-1;r*=-1}this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Re;this.translate=[e.e,e.f];this.scale=[i,a];this.skew=a?Math.atan2(r,a)*Re:0}Va.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Ga(e,t){return e[0]*t[0]+e[1]*t[1]}function qa(e){var t=Math.sqrt(Ga(e,e));if(t){e[0]/=t;e[1]/=t}return t}function Xa(e,t,n){e[0]+=n*t[0];e[1]+=n*t[1];return e}var Ya={a:1,b:0,c:0,d:1,e:0,f:0};P.interpolateTransform=to;function Ka(e){return e.length?e.pop()+",":""}function Za(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:ya(e[0],t[0])},{i:r-2,x:ya(e[1],t[1])})}else if(t[0]||t[1]){n.push("translate("+t+")")}}function Qa(e,t,n,i){if(e!==t){if(e-t>180)t+=360;else if(t-e>180)e+=360;i.push({i:n.push(Ka(n)+"rotate(",null,")")-2,x:ya(e,t)})}else if(t){n.push(Ka(n)+"rotate("+t+")")}}function Ja(e,t,n,i){if(e!==t){i.push({i:n.push(Ka(n)+"skewX(",null,")")-2,x:ya(e,t)})}else if(t){n.push(Ka(n)+"skewX("+t+")")}}function eo(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(Ka(n)+"scale(",null,",",null,")");i.push({i:r-4,x:ya(e[0],t[0])},{i:r-2,x:ya(e[1],t[1])})}else if(t[0]!==1||t[1]!==1){n.push(Ka(n)+"scale("+t+")")}}function to(e,t){var r=[],a=[];e=P.transform(e),t=P.transform(t);Za(e.translate,t.translate,r,a);Qa(e.rotate,t.rotate,r,a);Ja(e.skew,t.skew,r,a);eo(e.scale,t.scale,r,a);e=t=null;return function(e){var t=-1,n=a.length,i;while(++t<n)r[(i=a[t]).i]=i.x(e);return r.join("")}}function no(t,n){n=(n-=t=+t)||1/n;return function(e){return(e-t)/n}}function io(t,n){n=(n-=t=+t)||1/n;return function(e){return Math.max(0,Math.min(1,(e-t)/n))}}P.layout={};P.layout.bundle=function(){return function(e){var t=[],n=-1,i=e.length;while(++n<i)t.push(ro(e[n]));return t}};function ro(e){var t=e.source,n=e.target,i=oo(t,n),r=[t];while(t!==i){t=t.parent;r.push(t)}var a=r.length;while(n!==i){r.splice(a,0,n);n=n.parent}return r}function ao(e){var t=[],n=e.parent;while(n!=null){t.push(e);e=n;n=n.parent}t.push(e);return t}function oo(e,t){if(e===t)return e;var n=ao(e),i=ao(t),r=n.pop(),a=i.pop(),o=null;while(r===a){o=r;r=n.pop();a=i.pop()}return o}P.layout.chord=function(){var t={},g,v,b,y,x=0,w,_,E;function e(){var e={},n=[],t=P.range(y),i=[],r,a,o,s,l;g=[];v=[];r=0,s=-1;while(++s<y){a=0,l=-1;while(++l<y){a+=b[s][l]}n.push(a);i.push(P.range(y));r+=a}if(w){t.sort(function(e,t){return w(n[e],n[t])})}if(_){i.forEach(function(e,n){e.sort(function(e,t){return _(b[n][e],b[n][t])})})}r=(Me-x*y)/r;a=0,s=-1;while(++s<y){o=a,l=-1;while(++l<y){var c=t[s],u=i[c][l],h=b[c][u],f=a,d=a+=h*r;e[c+"-"+u]={index:c,subindex:u,startAngle:f,endAngle:d,value:h}}v[c]={index:c,startAngle:o,endAngle:a,value:n[c]};a+=x}s=-1;while(++s<y){l=s-1;while(++l<y){var p=e[s+"-"+l],m=e[l+"-"+s];if(p.value||m.value){g.push(p.value<m.value?{source:m,target:p}:{source:p,target:m})}}}if(E)A()}function A(){g.sort(function(e,t){return E((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}t.matrix=function(e){if(!arguments.length)return b;y=(b=e)&&b.length;g=v=null;return t};t.padding=function(e){if(!arguments.length)return x;x=e;g=v=null;return t};t.sortGroups=function(e){if(!arguments.length)return w;w=e;g=v=null;return t};t.sortSubgroups=function(e){if(!arguments.length)return _;_=e;g=null;return t};t.sortChords=function(e){if(!arguments.length)return E;E=e;if(g)A();return t};t.chords=function(){if(!g)e();return g};t.groups=function(){if(!v)e();return v};return t};P.layout.force=function(){var r={},h=P.dispatch("start","tick","end"),f,d=[1,1],e,p,m=.9,a=fo,o=po,g=-30,u=mo,v=.1,b=.64,y=[],x=[],w,_,E;function A(c){return function(e,t,n,i){if(e.point!==c){var r=e.cx-c.x,a=e.cy-c.y,o=i-t,s=r*r+a*a;if(o*o/b<s){if(s<u){var l=e.charge/s;c.px-=r*l;c.py-=a*l}return true}if(e.point&&s&&s<u){var l=e.pointCharge/s;c.px-=r*l;c.py-=a*l}}return!e.charge}}r.tick=function(){if((p*=.99)<.005){f=null;h.end({type:"end",alpha:p=0});return true}var e=y.length,t=x.length,n,i,r,a,o,s,l,c,u;for(i=0;i<t;++i){r=x[i];a=r.source;o=r.target;c=o.x-a.x;u=o.y-a.y;if(s=c*c+u*u){s=p*_[i]*((s=Math.sqrt(s))-w[i])/s;c*=s;u*=s;o.x-=c*(l=a.weight+o.weight?a.weight/(a.weight+o.weight):.5);o.y-=u*l;a.x+=c*(l=1-l);a.y+=u*l}}if(l=p*v){c=d[0]/2;u=d[1]/2;i=-1;if(l)while(++i<e){r=y[i];r.x+=(c-r.x)*l;r.y+=(u-r.y)*l}}if(g){ho(n=P.geom.quadtree(y),p,E);i=-1;while(++i<e){if(!(r=y[i]).fixed){n.visit(A(r))}}}i=-1;while(++i<e){r=y[i];if(r.fixed){r.x=r.px;r.y=r.py}else{r.x-=(r.px-(r.px=r.x))*m;r.y-=(r.py-(r.py=r.y))*m}}h.tick({type:"tick",alpha:p})};r.nodes=function(e){if(!arguments.length)return y;y=e;return r};r.links=function(e){if(!arguments.length)return x;x=e;return r};r.size=function(e){if(!arguments.length)return d;d=e;return r};r.linkDistance=function(e){if(!arguments.length)return a;a=typeof e==="function"?e:+e;return r};r.distance=r.linkDistance;r.linkStrength=function(e){if(!arguments.length)return o;o=typeof e==="function"?e:+e;return r};r.friction=function(e){if(!arguments.length)return m;m=+e;return r};r.charge=function(e){if(!arguments.length)return g;g=typeof e==="function"?e:+e;return r};r.chargeDistance=function(e){if(!arguments.length)return Math.sqrt(u);u=e*e;return r};r.gravity=function(e){if(!arguments.length)return v;v=+e;return r};r.theta=function(e){if(!arguments.length)return Math.sqrt(b);b=e*e;return r};r.alpha=function(e){if(!arguments.length)return p;e=+e;if(p){if(e>0){p=e}else{f.c=null,f.t=NaN,f=null;h.end({type:"end",alpha:p=0})}}else if(e>0){h.start({type:"start",alpha:p=e});f=Rt(r.tick)}return r};r.start=function(){var s,l=y.length,c=x.length,e=d[0],t=d[1],u,n;for(s=0;s<l;++s){(n=y[s]).index=s;n.weight=0}for(s=0;s<c;++s){n=x[s];if(typeof n.source=="number")n.source=y[n.source];if(typeof n.target=="number")n.target=y[n.target];++n.source.weight;++n.target.weight}for(s=0;s<l;++s){n=y[s];if(isNaN(n.x))n.x=i("x",e);if(isNaN(n.y))n.y=i("y",t);if(isNaN(n.px))n.px=n.x;if(isNaN(n.py))n.py=n.y}w=[];if(typeof a==="function")for(s=0;s<c;++s)w[s]=+a.call(this,x[s],s);else for(s=0;s<c;++s)w[s]=a;_=[];if(typeof o==="function")for(s=0;s<c;++s)_[s]=+o.call(this,x[s],s);else for(s=0;s<c;++s)_[s]=o;E=[];if(typeof g==="function")for(s=0;s<l;++s)E[s]=+g.call(this,y[s],s);else for(s=0;s<l;++s)E[s]=g;function i(e,t){if(!u){u=new Array(l);for(r=0;r<l;++r){u[r]=[]}for(r=0;r<c;++r){var n=x[r];u[n.source.index].push(n.target);u[n.target.index].push(n.source)}}var i=u[s],r=-1,a=i.length,o;while(++r<a)if(!isNaN(o=i[r][e]))return o;return Math.random()*t}return r.resume()};r.resume=function(){return r.alpha(.1)};r.stop=function(){return r.alpha(0)};r.drag=function(){if(!e)e=P.behavior.drag().origin(O).on("dragstart.force",so).on("drag.force",t).on("dragend.force",lo);if(!arguments.length)return e;this.on("mouseover.force",co).on("mouseout.force",uo).call(e)};function t(e){e.px=P.event.x,e.py=P.event.y;r.resume()}return P.rebind(r,h,"on")};function so(e){e.fixed|=2}function lo(e){e.fixed&=~6}function co(e){e.fixed|=4;e.px=e.x,e.py=e.y}function uo(e){e.fixed&=~4}function ho(e,t,n){var i=0,r=0;e.charge=0;if(!e.leaf){var a=e.nodes,o=a.length,s=-1,l;while(++s<o){l=a[s];if(l==null)continue;ho(l,t,n);e.charge+=l.charge;i+=l.charge*l.cx;r+=l.charge*l.cy}}if(e.point){if(!e.leaf){e.point.x+=Math.random()-.5;e.point.y+=Math.random()-.5}var c=t*n[e.point.index];e.charge+=e.pointCharge=c;i+=c*e.point.x;r+=c*e.point.y}e.cx=i/e.charge;e.cy=r/e.charge}var fo=20,po=1,mo=Infinity;P.layout.hierarchy=function(){var s=wo,l=yo,c=xo;function u(e){var t=[e],n=[],i;e.depth=0;while((i=t.pop())!=null){n.push(i);if((a=l.call(u,i,i.depth))&&(r=a.length)){var r,a,o;while(--r>=0){t.push(o=a[r]);o.parent=i;o.depth=i.depth+1}if(c)i.value=0;i.children=a}else{if(c)i.value=+c.call(u,i,i.depth)||0;delete i.children}}bo(e,function(e){var t,n;if(s&&(t=e.children))t.sort(s);if(c&&(n=e.parent))n.value+=e.value});return n}u.sort=function(e){if(!arguments.length)return s;s=e;return u};u.children=function(e){if(!arguments.length)return l;l=e;return u};u.value=function(e){if(!arguments.length)return c;c=e;return u};u.revalue=function(e){if(c){vo(e,function(e){if(e.children)e.value=0});bo(e,function(e){var t;if(!e.children)e.value=+c.call(u,e,e.depth)||0;if(t=e.parent)t.value+=e.value})}return e};return u};function go(e,t){P.rebind(e,t,"sort","children","value");e.nodes=e;e.links=_o;return e}function vo(e,t){var n=[e];while((e=n.pop())!=null){t(e);if((r=e.children)&&(i=r.length)){var i,r;while(--i>=0)n.push(r[i])}}}function bo(e,t){var n=[e],i=[];while((e=n.pop())!=null){i.push(e);if((o=e.children)&&(a=o.length)){var r=-1,a,o;while(++r<a)n.push(o[r])}}while((e=i.pop())!=null){t(e)}}function yo(e){return e.children}function xo(e){return e.value}function wo(e,t){return t.value-e.value}function _o(e){return P.merge(e.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}P.layout.partition=function(){var i=P.layout.hierarchy(),r=[1,1];function c(e,t,n,i){var r=e.children;e.x=t;e.y=e.depth*i;e.dx=n;e.dy=i;if(r&&(o=r.length)){var a=-1,o,s,l;n=e.value?n/e.value:0;while(++a<o){c(s=r[a],t,l=s.value*n,i);t+=l}}}function a(e){var t=e.children,n=0;if(t&&(r=t.length)){var i=-1,r;while(++i<r)n=Math.max(n,a(t[i]))}return 1+n}function t(e,t){var n=i.call(this,e,t);c(n[0],0,r[0],r[1]/a(n[0]));return n}t.size=function(e){if(!arguments.length)return r;r=e;return t};return go(t,i)};P.layout.pie=function(){var f=Number,d=Eo,p=0,m=Me,g=0;function v(n){var e=n.length,i=n.map(function(e,t){return+f.call(v,e,t)}),t=+(typeof p==="function"?p.apply(this,arguments):p),r=(typeof m==="function"?m.apply(this,arguments):m)-t,a=Math.min(Math.abs(r)/e,+(typeof g==="function"?g.apply(this,arguments):g)),o=a*(r<0?-1:1),s=P.sum(i),l=s?(r-e*o)/s:0,c=P.range(e),u=[],h;if(d!=null)c.sort(d===Eo?function(e,t){return i[t]-i[e]}:function(e,t){return d(n[e],n[t])});c.forEach(function(e){u[e]={data:n[e],value:h=i[e],startAngle:t,endAngle:t+=h*l+o,padAngle:a}});return u}v.value=function(e){if(!arguments.length)return f;f=e;return v};v.sort=function(e){if(!arguments.length)return d;d=e;return v};v.startAngle=function(e){if(!arguments.length)return p;p=e;return v};v.endAngle=function(e){if(!arguments.length)return m;m=e;return v};v.padAngle=function(e){if(!arguments.length)return g;g=e;return v};return v};var Eo={};P.layout.stack=function(){var h=O,f=ko,d=Do,p=So,m=Ao,g=Co;function v(e,t){if(!(s=e.length))return e;var n=e.map(function(e,t){return h.call(v,e,t)});var i=n.map(function(e){return e.map(function(e,t){return[m.call(v,e,t),g.call(v,e,t)]})});var r=f.call(v,i,t);n=P.permute(n,r);i=P.permute(i,r);var a=d.call(v,i,t);var o=n[0].length,s,l,c,u;for(c=0;c<o;++c){p.call(v,n[0][c],u=a[c],i[0][c][1]);for(l=1;l<s;++l){p.call(v,n[l][c],u+=i[l-1][c][1],i[l][c][1])}}return e}v.values=function(e){if(!arguments.length)return h;h=e;return v};v.order=function(e){if(!arguments.length)return f;f=typeof e==="function"?e:To.get(e)||ko;return v};v.offset=function(e){if(!arguments.length)return d;d=typeof e==="function"?e:Mo.get(e)||Do;return v};v.x=function(e){if(!arguments.length)return m;m=e;return v};v.y=function(e){if(!arguments.length)return g;g=e;return v};v.out=function(e){if(!arguments.length)return p;p=e;return v};return v};function Ao(e){return e.x}function Co(e){return e.y}function So(e,t,n){e.y0=t;e.y=n}var To=P.map({"inside-out":function(e){var t=e.length,n,i,r=e.map(Lo),a=e.map(Ro),o=P.range(t).sort(function(e,t){return r[e]-r[t]}),s=0,l=0,c=[],u=[];for(n=0;n<t;++n){i=o[n];if(s<l){s+=a[i];c.push(i)}else{l+=a[i];u.push(i)}}return u.reverse().concat(c)},reverse:function(e){return P.range(e.length).reverse()},default:ko});var Mo=P.map({silhouette:function(e){var t=e.length,n=e[0].length,i=[],r=0,a,o,s,l=[];for(o=0;o<n;++o){for(a=0,s=0;a<t;a++)s+=e[a][o][1];if(s>r)r=s;i.push(s)}for(o=0;o<n;++o){l[o]=(r-i[o])/2}return l},wiggle:function(e){var t=e.length,n=e[0],i=n.length,r,a,o,s,l,c,u,h,f,d=[];d[0]=h=f=0;for(a=1;a<i;++a){for(r=0,s=0;r<t;++r)s+=e[r][a][1];for(r=0,l=0,u=n[a][0]-n[a-1][0];r<t;++r){for(o=0,c=(e[r][a][1]-e[r][a-1][1])/(2*u);o<r;++o){c+=(e[o][a][1]-e[o][a-1][1])/u}l+=c*e[r][a][1]}d[a]=h-=s?l/s*u:0;if(h<f)f=h}for(a=0;a<i;++a)d[a]-=f;return d},expand:function(e){var t=e.length,n=e[0].length,i=1/t,r,a,o,s=[];for(a=0;a<n;++a){for(r=0,o=0;r<t;r++)o+=e[r][a][1];if(o)for(r=0;r<t;r++)e[r][a][1]/=o;else for(r=0;r<t;r++)e[r][a][1]=i}for(a=0;a<n;++a)s[a]=0;return s},zero:Do});function ko(e){return P.range(e.length)}function Do(e){var t=-1,n=e[0].length,i=[];while(++t<n)i[t]=0;return i}function Lo(e){var t=1,n=0,i=e[0][1],r,a=e.length;for(;t<a;++t){if((r=e[t][1])>i){n=t;i=r}}return n}function Ro(e){return e.reduce(Fo,0)}function Fo(e,t){return e+t[1]}P.layout.histogram=function(){var h=true,f=Number,d=No,p=Po;function n(e,t){var n=[],i=e.map(f,this),r=d.call(this,i,t),a=p.call(this,r,i,t),o,t=-1,s=i.length,l=a.length-1,c=h?1:1/s,u;while(++t<l){o=n[t]=[];o.dx=a[t+1]-(o.x=a[t]);o.y=0}if(l>0){t=-1;while(++t<s){u=i[t];if(u>=r[0]&&u<=r[1]){o=n[P.bisect(a,u,1,l)-1];o.y+=c;o.push(e[t])}}}return n}n.value=function(e){if(!arguments.length)return f;f=e;return n};n.range=function(e){if(!arguments.length)return d;d=_t(e);return n};n.bins=function(t){if(!arguments.length)return p;p=typeof t==="number"?function(e){return Io(e,t)}:_t(t);return n};n.frequency=function(e){if(!arguments.length)return h;h=!!e;return n};return n};function Po(e,t){return Io(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Io(e,t){var n=-1,i=+e[0],r=(e[1]-i)/t,a=[];while(++n<=t)a[n]=r*n+i;return a}function No(e){return[P.min(e),P.max(e)]}P.layout.pack=function(){var l=P.layout.hierarchy().sort(Oo),c=0,u=[1,1],h;function t(e,t){var n=l.call(this,e,t),i=n[0],r=u[0],a=u[1],o=h==null?Math.sqrt:typeof h==="function"?h:function(){return h};i.x=i.y=0;bo(i,function(e){e.r=+o(e.value)});bo(i,Ho);if(c){var s=c*(h?1:Math.max(2*i.r/r,2*i.r/a))/2;bo(i,function(e){e.r+=s});bo(i,Ho);bo(i,function(e){e.r-=s})}Wo(i,r/2,a/2,h?1:1/Math.max(2*i.r/r,2*i.r/a));return n}t.size=function(e){if(!arguments.length)return u;u=e;return t};t.radius=function(e){if(!arguments.length)return h;h=e==null||typeof e==="function"?e:+e;return t};t.padding=function(e){if(!arguments.length)return c;c=+e;return t};return go(t,l)};function Oo(e,t){return e.value-t.value}function Bo(e,t){var n=e._pack_next;e._pack_next=t;t._pack_prev=e;t._pack_next=n;n._pack_prev=t}function zo(e,t){e._pack_next=t;t._pack_prev=e}function Uo(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function Ho(e){if(!(t=e.children)||!(f=t.length))return;var t,n=Infinity,i=-Infinity,r=Infinity,a=-Infinity,o,s,l,c,u,h,f;function d(e){n=Math.min(e.x-e.r,n);i=Math.max(e.x+e.r,i);r=Math.min(e.y-e.r,r);a=Math.max(e.y+e.r,a)}t.forEach(jo);o=t[0];o.x=-o.r;o.y=0;d(o);if(f>1){s=t[1];s.x=s.r;s.y=0;d(s);if(f>2){l=t[2];Vo(o,s,l);d(l);Bo(o,l);o._pack_prev=l;Bo(l,s);s=o._pack_next;for(c=3;c<f;c++){Vo(o,s,l=t[c]);var p=0,m=1,g=1;for(u=s._pack_next;u!==s;u=u._pack_next,m++){if(Uo(u,l)){p=1;break}}if(p==1){for(h=o._pack_prev;h!==u._pack_prev;h=h._pack_prev,g++){if(Uo(h,l)){break}}}if(p){if(m<g||m==g&&s.r<o.r)zo(o,s=u);else zo(o=h,s);c--}else{Bo(o,l);s=l;d(l)}}}}var v=(n+i)/2,b=(r+a)/2,y=0;for(c=0;c<f;c++){l=t[c];l.x-=v;l.y-=b;y=Math.max(y,l.r+Math.sqrt(l.x*l.x+l.y*l.y))}e.r=y;t.forEach($o)}function jo(e){e._pack_next=e._pack_prev=e}function $o(e){delete e._pack_next;delete e._pack_prev}function Wo(e,t,n,i){var r=e.children;e.x=t+=i*e.x;e.y=n+=i*e.y;e.r*=i;if(r){var a=-1,o=r.length;while(++a<o)Wo(r[a],t,n,i)}}function Vo(e,t,n){var i=e.r+n.r,r=t.x-e.x,a=t.y-e.y;if(i&&(r||a)){var o=t.r+n.r,s=r*r+a*a;o*=o;i*=i;var l=.5+(i-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=e.x+l*r+c*a;n.y=e.y+l*a-c*r}else{n.x=e.x+i;n.y=e.y}}P.layout.tree=function(){var h=P.layout.hierarchy().sort(null).value(null),f=Go,d=[1,1],p=null;function t(e,t){var n=h.call(this,e,t),i=n[0],r=m(i);bo(r,g),r.parent.m=-r.z;vo(r,v);if(p)vo(i,b);else{var a=i,o=i,s=i;vo(i,function(e){if(e.x<a.x)a=e;if(e.x>o.x)o=e;if(e.depth>s.depth)s=e});var l=f(a,o)/2-a.x,c=d[0]/(o.x+f(o,a)/2+l),u=d[1]/(s.depth||1);vo(i,function(e){e.x=(e.x+l)*c;e.y=e.depth*u})}return n}function m(e){var t={A:null,children:[e]},n=[t],i;while((i=n.pop())!=null){for(var r=i.children,a,o=0,s=r.length;o<s;++o){n.push((r[o]=a={_:r[o],parent:i,children:(a=r[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a)}}return t.children[0]}function g(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t.length){Ko(e);var r=(t[0].z+t[t.length-1].z)/2;if(i){e.z=i.z+f(e._,i._);e.m=e.z-r}else{e.z=r}}else if(i){e.z=i.z+f(e._,i._)}e.parent.A=a(e,i,e.parent.A||n[0])}function v(e){e._.x=e.z+e.parent.m;e.m+=e.parent.m}function a(e,t,n){if(t){var i=e,r=e,a=t,o=i.parent.children[0],s=i.m,l=r.m,c=a.m,u=o.m,h;while(a=Xo(a),i=qo(i),a&&i){o=qo(o);r=Xo(r);r.a=e;h=a.z+c-i.z-s+f(a._,i._);if(h>0){Yo(Zo(a,e,n),e,h);s+=h;l+=h}c+=a.m;s+=i.m;u+=o.m;l+=r.m}if(a&&!Xo(r)){r.t=a;r.m+=c-l}if(i&&!qo(o)){o.t=i;o.m+=s-u;n=e}}return n}function b(e){e.x*=d[0];e.y=e.depth*d[1]}t.separation=function(e){if(!arguments.length)return f;f=e;return t};t.size=function(e){if(!arguments.length)return p?null:d;p=(d=e)==null?b:null;return t};t.nodeSize=function(e){if(!arguments.length)return p?d:null;p=(d=e)==null?null:b;return t};return go(t,h)};function Go(e,t){return e.parent==t.parent?1:2}function qo(e){var t=e.children;return t.length?t[0]:e.t}function Xo(e){var t=e.children,n;return(n=t.length)?t[n-1]:e.t}function Yo(e,t,n){var i=n/(t.i-e.i);t.c-=i;t.s+=n;e.c+=i;t.z+=n;t.m+=n}function Ko(e){var t=0,n=0,i=e.children,r=i.length,a;while(--r>=0){a=i[r];a.z+=t;a.m+=t;t+=a.s+(n+=a.c)}}function Zo(e,t,n){return e.a.parent===t.parent?e.a:n}P.layout.cluster=function(){var u=P.layout.hierarchy().sort(null).value(null),h=Go,f=[1,1],d=false;function t(e,t){var n=u.call(this,e,t),i=n[0],r,a=0;bo(i,function(e){var t=e.children;if(t&&t.length){e.x=Jo(t);e.y=Qo(t)}else{e.x=r?a+=h(e,r):0;e.y=0;r=e}});var o=es(i),s=ts(i),l=o.x-h(o,s)/2,c=s.x+h(s,o)/2;bo(i,d?function(e){e.x=(e.x-i.x)*f[0];e.y=(i.y-e.y)*f[1]}:function(e){e.x=(e.x-l)/(c-l)*f[0];e.y=(1-(i.y?e.y/i.y:1))*f[1]});return n}t.separation=function(e){if(!arguments.length)return h;h=e;return t};t.size=function(e){if(!arguments.length)return d?null:f;d=(f=e)==null;return t};t.nodeSize=function(e){if(!arguments.length)return d?f:null;d=(f=e)!=null;return t};return go(t,u)};function Qo(e){return 1+P.max(e,function(e){return e.y})}function Jo(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function es(e){var t=e.children;return t&&t.length?es(t[0]):e}function ts(e){var t=e.children,n;return t&&(n=t.length)?ts(t[n-1]):e}P.layout.treemap=function(){var i=P.layout.hierarchy(),u=Math.round,r=[1,1],a=null,h=ns,o=false,s,f="squarify",l=.5*(1+Math.sqrt(5));function d(e,t){var n=-1,i=e.length,r,a;while(++n<i){a=(r=e[n]).value*(t<0?0:t);r.area=isNaN(a)||a<=0?0:a}}function p(e){var t=e.children;if(t&&t.length){var n=h(e),i=[],r=t.slice(),a,o=Infinity,s,l=f==="slice"?n.dx:f==="dice"?n.dy:f==="slice-dice"?e.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),c;d(r,n.dx*n.dy/e.value);i.area=0;while((c=r.length)>0){i.push(a=r[c-1]);i.area+=a.area;if(f!=="squarify"||(s=m(i,l))<=o){r.pop();o=s}else{i.area-=i.pop().area;g(i,l,n,false);l=Math.min(n.dx,n.dy);i.length=i.area=0;o=Infinity}}if(i.length){g(i,l,n,true);i.length=i.area=0}t.forEach(p)}}function c(e){var t=e.children;if(t&&t.length){var n=h(e),i=t.slice(),r,a=[];d(i,n.dx*n.dy/e.value);a.area=0;while(r=i.pop()){a.push(r);a.area+=r.area;if(r.z!=null){g(a,r.z?n.dx:n.dy,n,!i.length);a.length=a.area=0}}t.forEach(c)}}function m(e,t){var n=e.area,i,r=0,a=Infinity,o=-1,s=e.length;while(++o<s){if(!(i=e[o].area))continue;if(i<a)a=i;if(i>r)r=i}n*=n;t*=t;return n?Math.max(t*r*l/n,n/(t*a*l)):Infinity}function g(e,t,n,i){var r=-1,a=e.length,o=n.x,s=n.y,l=t?u(e.area/t):0,c;if(t==n.dx){if(i||l>n.dy)l=n.dy;while(++r<a){c=e[r];c.x=o;c.y=s;c.dy=l;o+=c.dx=Math.min(n.x+n.dx-o,l?u(c.area/l):0)}c.z=true;c.dx+=n.x+n.dx-o;n.y+=l;n.dy-=l}else{if(i||l>n.dx)l=n.dx;while(++r<a){c=e[r];c.x=o;c.y=s;c.dx=l;s+=c.dy=Math.min(n.y+n.dy-s,l?u(c.area/l):0)}c.z=false;c.dy+=n.y+n.dy-s;n.x+=l;n.dx-=l}}function v(e){var t=s||i(e),n=t[0];n.x=n.y=0;if(n.value)n.dx=r[0],n.dy=r[1];else n.dx=n.dy=0;if(s)i.revalue(n);d([n],n.dx*n.dy/n.value);(s?c:p)(n);if(o)s=t;return t}v.size=function(e){if(!arguments.length)return r;r=e;return v};v.padding=function(n){if(!arguments.length)return a;function e(e){var t=n.call(v,e,e.depth);return t==null?ns(e):is(e,typeof t==="number"?[t,t,t,t]:t)}function t(e){return is(e,n)}var i;h=(a=n)==null?ns:(i=typeof n)==="function"?e:i==="number"?(n=[n,n,n,n],t):t;return v};v.round=function(e){if(!arguments.length)return u!=Number;u=e?Math.round:Number;return v};v.sticky=function(e){if(!arguments.length)return o;o=e;s=null;return v};v.ratio=function(e){if(!arguments.length)return l;l=e;return v};v.mode=function(e){if(!arguments.length)return f;f=e+"";return v};return go(v,i)};function ns(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function is(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];if(r<0){n+=r/2;r=0}if(a<0){i+=a/2;a=0}return{x:n,y:i,dx:r,dy:a}}P.random={normal:function(i,r){var e=arguments.length;if(e<2)r=1;if(e<1)i=0;return function(){var e,t,n;do{e=Math.random()*2-1;t=Math.random()*2-1;n=e*e+t*t}while(!n||n>1);return i+r*e*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var e=P.random.normal.apply(P,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=P.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(n){return function(){for(var e=0,t=0;t<n;t++)e+=Math.random();return e}}};P.scale={};function rs(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function as(e){return e.rangeExtent?e.rangeExtent():rs(e.range())}function os(e,t,n,i){var r=n(e[0],e[1]),a=i(t[0],t[1]);return function(e){return a(r(e))}}function ss(e,t){var n=0,i=e.length-1,r=e[n],a=e[i],o;if(a<r){o=n,n=i,i=o;o=r,r=a,a=o}e[n]=t.floor(r);e[i]=t.ceil(a);return e}function ls(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:cs}var cs={floor:O,ceil:O};function us(n,e,t,i){var r=[],a=[],o=0,s=Math.min(n.length,e.length)-1;if(n[s]<n[0]){n=n.slice().reverse();e=e.slice().reverse()}while(++o<=s){r.push(t(n[o-1],n[o]));a.push(i(e[o-1],e[o]))}return function(e){var t=P.bisect(n,e,1,s)-1;return a[t](r[t](e))}}P.scale.linear=function(){return hs([0,1],[0,1],Ea,false)};function hs(n,i,r,a){var o,s;function t(){var e=Math.min(n.length,i.length)>2?us:os,t=a?io:no;o=e(n,i,t,r);s=e(i,n,t,Ea);return l}function l(e){return o(e)}l.invert=function(e){return s(e)};l.domain=function(e){if(!arguments.length)return n;n=e.map(Number);return t()};l.range=function(e){if(!arguments.length)return i;i=e;return t()};l.rangeRound=function(e){return l.range(e).interpolate(Wa)};l.clamp=function(e){if(!arguments.length)return a;a=e;return t()};l.interpolate=function(e){if(!arguments.length)return r;r=e;return t()};l.ticks=function(e){return ms(n,e)};l.tickFormat=function(e,t){return gs(n,e,t)};l.nice=function(e){ds(n,e);return t()};l.copy=function(){return hs(n,i,r,a)};return t()}function fs(e,t){return P.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ds(e,t){ss(e,ls(ps(e,t)[2]));ss(e,ls(ps(e,t)[2]));return e}function ps(e,t){if(t==null)t=10;var n=rs(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),a=t/i*r;if(a<=.15)r*=10;else if(a<=.35)r*=5;else if(a<=.75)r*=2;n[0]=Math.ceil(n[0]/r)*r;n[1]=Math.floor(n[1]/r)*r+r*.5;n[2]=r;return n}function ms(e,t){return P.range.apply(P,ps(e,t))}function gs(e,t,n){var i=ps(e,t);if(n){var r=Ut.exec(n);r.shift();if(r[8]==="s"){var a=P.formatPrefix(Math.max(F(i[0]),F(i[1])));if(!r[7])r[7]="."+bs(a.scale(i[2]));r[8]="f";n=P.format(r.join(""));return function(e){return n(a.scale(e))+a.symbol}}if(!r[7])r[7]="."+ys(r[8],i);n=r.join("")}else{n=",."+bs(i[2])+"f"}return P.format(n)}var vs={s:1,g:1,p:1,r:1,e:1};function bs(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ys(e,t){var n=bs(t[2]);return e in vs?Math.abs(n-bs(Math.max(F(t[0]),F(t[1]))))+ +(e!=="e"):n-(e==="%")*2}P.scale.log=function(){return xs(P.scale.linear().domain([0,1]),10,true,[1,10])};function xs(t,l,c,u){function h(e){return(c?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(l)}function f(e){return c?Math.pow(l,e):-Math.pow(l,-e)}function r(e){return t(h(e))}r.invert=function(e){return f(t.invert(e))};r.domain=function(e){if(!arguments.length)return u;c=e[0]>=0;t.domain((u=e.map(Number)).map(h));return r};r.base=function(e){if(!arguments.length)return l;l=+e;t.domain(u.map(h));return r};r.nice=function(){var e=ss(u.map(h),c?Math:_s);t.domain(e);u=e.map(f);return r};r.ticks=function(){var e=rs(u),t=[],n=e[0],i=e[1],r=Math.floor(h(n)),a=Math.ceil(h(i)),o=l%1?2:l;if(isFinite(a-r)){if(c){for(;r<a;r++)for(var s=1;s<o;s++)t.push(f(r)*s);t.push(f(r))}else{t.push(f(r));for(;r++<a;)for(var s=o-1;s>0;s--)t.push(f(r)*s)}for(r=0;t[r]<n;r++){}for(a=t.length;t[a-1]>i;a--){}t=t.slice(r,a)}return t};r.tickFormat=function(e,n){if(!arguments.length)return ws;if(arguments.length<2)n=ws;else if(typeof n!=="function")n=P.format(n);var i=Math.max(1,l*e/r.ticks().length);return function(e){var t=e/f(Math.round(h(e)));if(t*l<l-.5)t*=l;return t<=i?n(e):""}};r.copy=function(){return xs(t.copy(),l,c,u)};return fs(r,t)}var ws=P.format(".0e"),_s={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};P.scale.pow=function(){return Es(P.scale.linear(),1,[0,1])};function Es(t,n,i){var r=As(n),a=As(1/n);function o(e){return t(r(e))}o.invert=function(e){return a(t.invert(e))};o.domain=function(e){if(!arguments.length)return i;t.domain((i=e.map(Number)).map(r));return o};o.ticks=function(e){return ms(i,e)};o.tickFormat=function(e,t){return gs(i,e,t)};o.nice=function(e){return o.domain(ds(i,e))};o.exponent=function(e){if(!arguments.length)return n;r=As(n=e);a=As(1/n);t.domain(i.map(r));return o};o.copy=function(){return Es(t.copy(),n,i)};return fs(o,t)}function As(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}P.scale.sqrt=function(){return P.scale.pow().exponent(.5)};P.scale.ordinal=function(){return Cs([],{t:"range",a:[[]]})};function Cs(s,l){var r,c,u;function h(e){return c[((r.get(e)||(l.t==="range"?r.set(e,s.push(e)):NaN))-1)%c.length]}function f(t,n){return P.range(s.length).map(function(e){return t+n*e})}h.domain=function(e){if(!arguments.length)return s;s=[];r=new b;var t=-1,n=e.length,i;while(++t<n)if(!r.has(i=e[t]))r.set(i,s.push(i));return h[l.t].apply(h,l.a)};h.range=function(e){if(!arguments.length)return c;c=e;u=0;l={t:"range",a:arguments};return h};h.rangePoints=function(e,t){if(arguments.length<2)t=0;var n=e[0],i=e[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+t);c=f(n+r*t/2,r);u=0;l={t:"rangePoints",a:arguments};return h};h.rangeRoundPoints=function(e,t){if(arguments.length<2)t=0;var n=e[0],i=e[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+t)|0;c=f(n+Math.round(r*t/2+(i-n-(s.length-1+t)*r)/2),r);u=0;l={t:"rangeRoundPoints",a:arguments};return h};h.rangeBands=function(e,t,n){if(arguments.length<2)t=0;if(arguments.length<3)n=t;var i=e[1]<e[0],r=e[i-0],a=e[1-i],o=(a-r)/(s.length-t+2*n);c=f(r+o*n,o);if(i)c.reverse();u=o*(1-t);l={t:"rangeBands",a:arguments};return h};h.rangeRoundBands=function(e,t,n){if(arguments.length<2)t=0;if(arguments.length<3)n=t;var i=e[1]<e[0],r=e[i-0],a=e[1-i],o=Math.floor((a-r)/(s.length-t+2*n));c=f(r+Math.round((a-r-(s.length-t)*o)/2),o);if(i)c.reverse();u=Math.round(o*(1-t));l={t:"rangeRoundBands",a:arguments};return h};h.rangeBand=function(){return u};h.rangeExtent=function(){return rs(l.a[0])};h.copy=function(){return Cs(s,l)};return h.domain(s)}P.scale.category10=function(){return P.scale.ordinal().range(Ss)};P.scale.category20=function(){return P.scale.ordinal().range(Ts)};P.scale.category20b=function(){return P.scale.ordinal().range(Ms)};P.scale.category20c=function(){return P.scale.ordinal().range(ks)};var Ss=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dt);var Ts=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dt);var Ms=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dt);var ks=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dt);P.scale.quantile=function(){return Ds([],[])};function Ds(n,i){var r;function t(){var e=0,t=i.length;r=[];while(++e<t)r[e-1]=P.quantile(n,e/t);return a}function a(e){if(!isNaN(e=+e))return i[P.bisect(r,e)]}a.domain=function(e){if(!arguments.length)return n;n=e.map(c).filter(u).sort(l);return t()};a.range=function(e){if(!arguments.length)return i;i=e;return t()};a.quantiles=function(){return r};a.invertExtent=function(e){e=i.indexOf(e);return e<0?[NaN,NaN]:[e>0?r[e-1]:n[0],e<r.length?r[e]:n[n.length-1]]};a.copy=function(){return Ds(n,i)};return t()}P.scale.quantize=function(){return Ls(0,1,[0,1])};function Ls(t,n,i){var r,a;function e(e){return i[Math.max(0,Math.min(a,Math.floor(r*(e-t))))]}function o(){r=i.length/(n-t);a=i.length-1;return e}e.domain=function(e){if(!arguments.length)return[t,n];t=+e[0];n=+e[e.length-1];return o()};e.range=function(e){if(!arguments.length)return i;i=e;return o()};e.invertExtent=function(e){e=i.indexOf(e);e=e<0?NaN:e/r+t;return[e,e+1/r]};e.copy=function(){return Ls(t,n,i)};return o()}P.scale.threshold=function(){return Rs([.5],[0,1])};function Rs(t,n){function i(e){if(e<=e)return n[P.bisect(t,e)]}i.domain=function(e){if(!arguments.length)return t;t=e;return i};i.range=function(e){if(!arguments.length)return n;n=e;return i};i.invertExtent=function(e){e=n.indexOf(e);return[t[e-1],t[e]]};i.copy=function(){return Rs(t,n)};return i}P.scale.identity=function(){return Fs([0,1])};function Fs(n){function t(e){return+e}t.invert=t;t.domain=t.range=function(e){if(!arguments.length)return n;n=e.map(t);return t};t.ticks=function(e){return ms(n,e)};t.tickFormat=function(e,t){return gs(n,e,t)};t.copy=function(){return Fs(n)};return t}P.svg={};function Ps(){return 0}P.svg.arc=function(){var B=Ns,z=Os,U=Ps,H=Is,j=Bs,$=zs,W=Us;function t(){var e=Math.max(0,+B.apply(this,arguments)),t=Math.max(0,+z.apply(this,arguments)),n=j.apply(this,arguments)-De,i=$.apply(this,arguments)-De,r=Math.abs(i-n),a=n>i?0:1;if(t<e)o=t,t=e,e=o;if(r>=ke)return V(t,a)+(e?V(e,1-a):"")+"Z";var o,s,l,c,u=0,h=0,f,d,p,m,g,v,b,y,x=[];if(c=(+W.apply(this,arguments)||0)/2){l=H===Is?Math.sqrt(e*e+t*t):+H.apply(this,arguments);if(!a)h*=-1;if(t)h=Ne(l/t*Math.sin(c));if(e)u=Ne(l/e*Math.sin(c))}if(t){f=t*Math.cos(n+h);d=t*Math.sin(n+h);p=t*Math.cos(i-h);m=t*Math.sin(i-h);var w=Math.abs(i-n-2*h)<=Te?0:1;if(h&&Hs(f,d,p,m)===a^w){var _=(n+i)/2;f=t*Math.cos(_);d=t*Math.sin(_);p=m=null}}else{f=d=0}if(e){g=e*Math.cos(i-u);v=e*Math.sin(i-u);b=e*Math.cos(n+u);y=e*Math.sin(n+u);var E=Math.abs(n-i+2*u)<=Te?0:1;if(u&&Hs(g,v,b,y)===1-a^E){var A=(n+i)/2;g=e*Math.cos(A);v=e*Math.sin(A);b=y=null}}else{g=v=0}if(r>Ce&&(o=Math.min(Math.abs(t-e)/2,+U.apply(this,arguments)))>.001){s=e<t^a?0:1;var C=o,S=o;if(r<Te){var T=b==null?[g,v]:p==null?[f,d]:Mr([f,d],[b,y],[p,m],[g,v]),M=f-T[0],k=d-T[1],D=p-T[0],L=m-T[1],R=1/Math.sin(Math.acos((M*D+k*L)/(Math.sqrt(M*M+k*k)*Math.sqrt(D*D+L*L)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);S=Math.min(o,(e-F)/(R-1));C=Math.min(o,(t-F)/(R+1))}if(p!=null){var P=js(b==null?[g,v]:[b,y],[f,d],t,C,a),I=js([p,m],[g,v],t,C,a);if(o===C){x.push("M",P[0],"A",C,",",C," 0 0,",s," ",P[1],"A",t,",",t," 0 ",1-a^Hs(P[1][0],P[1][1],I[1][0],I[1][1]),",",a," ",I[1],"A",C,",",C," 0 0,",s," ",I[0])}else{x.push("M",P[0],"A",C,",",C," 0 1,",s," ",I[0])}}else{x.push("M",f,",",d)}if(b!=null){var N=js([f,d],[b,y],e,-S,a),O=js([g,v],p==null?[f,d]:[p,m],e,-S,a);if(o===S){x.push("L",O[0],"A",S,",",S," 0 0,",s," ",O[1],"A",e,",",e," 0 ",a^Hs(O[1][0],O[1][1],N[1][0],N[1][1]),",",1-a," ",N[1],"A",S,",",S," 0 0,",s," ",N[0])}else{x.push("L",O[0],"A",S,",",S," 0 0,",s," ",N[0])}}else{x.push("L",g,",",v)}}else{x.push("M",f,",",d);if(p!=null)x.push("A",t,",",t," 0 ",w,",",a," ",p,",",m);x.push("L",g,",",v);if(b!=null)x.push("A",e,",",e," 0 ",E,",",1-a," ",b,",",y)}x.push("Z");return x.join("")}function V(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}t.innerRadius=function(e){if(!arguments.length)return B;B=_t(e);return t};t.outerRadius=function(e){if(!arguments.length)return z;z=_t(e);return t};t.cornerRadius=function(e){if(!arguments.length)return U;U=_t(e);return t};t.padRadius=function(e){if(!arguments.length)return H;H=e==Is?Is:_t(e);return t};t.startAngle=function(e){if(!arguments.length)return j;j=_t(e);return t};t.endAngle=function(e){if(!arguments.length)return $;$=_t(e);return t};t.padAngle=function(e){if(!arguments.length)return W;W=_t(e);return t};t.centroid=function(){var e=(+B.apply(this,arguments)+ +z.apply(this,arguments))/2,t=(+j.apply(this,arguments)+ +$.apply(this,arguments))/2-De;return[Math.cos(t)*e,Math.sin(t)*e]};return t};var Is="auto";function Ns(e){return e.innerRadius}function Os(e){return e.outerRadius}function Bs(e){return e.startAngle}function zs(e){return e.endAngle}function Us(e){return e&&e.padAngle}function Hs(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function js(e,t,n,i,r){var a=e[0]-t[0],o=e[1]-t[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=e[0]+l,h=e[1]+c,f=t[0]+l,d=t[1]+c,p=(u+f)/2,m=(h+d)/2,g=f-u,v=d-h,b=g*g+v*v,y=n-i,x=u*d-f*h,w=(v<0?-1:1)*Math.sqrt(Math.max(0,y*y*b-x*x)),_=(x*v-g*w)/b,E=(-x*g-v*w)/b,A=(x*v+g*w)/b,C=(-x*g+v*w)/b,S=_-p,T=E-m,M=A-p,k=C-m;if(S*S+T*T>M*M+k*k)_=A,E=C;return[[_-l,E-c],[_*n/y,E*n/y]]}function $s(c){var u=_r,h=Er,f=ai,d=Vs,t=d.key,p=.7;function n(e){var t=[],n=[],i=-1,r=e.length,a,o=_t(u),s=_t(h);function l(){t.push("M",d(c(n),p))}while(++i<r){if(f.call(this,a=e[i],i)){n.push([+o.call(this,a,i),+s.call(this,a,i)])}else if(n.length){l();n=[]}}if(n.length)l();return t.length?t.join(""):null}n.x=function(e){if(!arguments.length)return u;u=e;return n};n.y=function(e){if(!arguments.length)return h;h=e;return n};n.defined=function(e){if(!arguments.length)return f;f=e;return n};n.interpolate=function(e){if(!arguments.length)return t;if(typeof e==="function")t=d=e;else t=(d=Ws.get(e)||Vs).key;return n};n.tension=function(e){if(!arguments.length)return p;p=e;return n};return n}P.svg.line=function(){return $s(O)};var Ws=P.map({linear:Vs,"linear-closed":Gs,step:qs,"step-before":Xs,"step-after":Ys,basis:tl,"basis-open":nl,"basis-closed":il,bundle:rl,cardinal:Qs,"cardinal-open":Ks,"cardinal-closed":Zs,monotone:dl});Ws.forEach(function(e,t){t.key=e;t.closed=/-closed$/.test(e)});function Vs(e){return e.length>1?e.join("L"):e+"Z"}function Gs(e){return e.join("L")+"Z"}function qs(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];while(++t<n)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);if(n>1)r.push("H",i[0]);return r.join("")}function Xs(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];while(++t<n)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function Ys(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];while(++t<n)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function Ks(e,t){return e.length<4?Vs(e):e[1]+Js(e.slice(1,-1),el(e,t))}function Zs(e,t){return e.length<3?Gs(e):e[0]+Js((e.push(e[0]),e),el([e[e.length-2]].concat(e,[e[1]]),t))}function Qs(e,t){return e.length<3?Vs(e):e[0]+Js(e,el(e,t))}function Js(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2){return Vs(e)}var n=e.length!=t.length,i="",r=e[0],a=e[1],o=t[0],s=o,l=1;if(n){i+="Q"+(a[0]-o[0]*2/3)+","+(a[1]-o[1]*2/3)+","+a[0]+","+a[1];r=e[1];l=2}if(t.length>1){s=t[1];a=e[l];l++;i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<t.length;c++,l++){a=e[l];s=t[c];i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}}if(n){var u=e[l];i+="Q"+(a[0]+s[0]*2/3)+","+(a[1]+s[1]*2/3)+","+u[0]+","+u[1]}return i}function el(e,t){var n=[],i=(1-t)/2,r,a=e[0],o=e[1],s=1,l=e.length;while(++s<l){r=a;a=o;o=e[s];n.push([i*(o[0]-r[0]),i*(o[1]-r[1])])}return n}function tl(e){if(e.length<3)return Vs(e);var t=1,n=e.length,i=e[0],r=i[0],a=i[1],o=[r,r,r,(i=e[1])[0]],s=[a,a,a,i[1]],l=[r,",",a,"L",al(ll,o),",",al(ll,s)];e.push(e[n-1]);while(++t<=n){i=e[t];o.shift();o.push(i[0]);s.shift();s.push(i[1]);cl(l,o,s)}e.pop();l.push("L",i);return l.join("")}function nl(e){if(e.length<4)return Vs(e);var t=[],n=-1,i=e.length,r,a=[0],o=[0];while(++n<3){r=e[n];a.push(r[0]);o.push(r[1])}t.push(al(ll,a)+","+al(ll,o));--n;while(++n<i){r=e[n];a.shift();a.push(r[0]);o.shift();o.push(r[1]);cl(t,a,o)}return t.join("")}function il(e){var t,n=-1,i=e.length,r=i+4,a,o=[],s=[];while(++n<4){a=e[n%i];o.push(a[0]);s.push(a[1])}t=[al(ll,o),",",al(ll,s)];--n;while(++n<r){a=e[n%i];o.shift();o.push(a[0]);s.shift();s.push(a[1]);cl(t,o,s)}return t.join("")}function rl(e,t){var n=e.length-1;if(n){var i=e[0][0],r=e[0][1],a=e[n][0]-i,o=e[n][1]-r,s=-1,l,c;while(++s<=n){l=e[s];c=s/n;l[0]=t*l[0]+(1-t)*(i+c*a);l[1]=t*l[1]+(1-t)*(r+c*o)}}return tl(e)}function al(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}var ol=[0,2/3,1/3,0],sl=[0,1/3,2/3,0],ll=[0,1/6,2/3,1/6];function cl(e,t,n){e.push("C",al(ol,t),",",al(ol,n),",",al(sl,t),",",al(sl,n),",",al(ll,t),",",al(ll,n))}function ul(e,t){return(t[1]-e[1])/(t[0]-e[0])}function hl(e){var t=0,n=e.length-1,i=[],r=e[0],a=e[1],o=i[0]=ul(r,a);while(++t<n){i[t]=(o+(o=ul(r=a,a=e[t+1])))/2}i[t]=o;return i}function fl(e){var t=[],n,i,r,a,o=hl(e),s=-1,l=e.length-1;while(++s<l){n=ul(e[s],e[s+1]);if(F(n)<Ce){o[s]=o[s+1]=0}else{i=o[s]/n;r=o[s+1]/n;a=i*i+r*r;if(a>9){a=n*3/Math.sqrt(a);o[s]=a*i;o[s+1]=a*r}}}s=-1;while(++s<=l){a=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s]));t.push([a||0,o[s]*a||0])}return t}function dl(e){return e.length<3?Vs(e):e[0]+Js(e,fl(e))}P.svg.line.radial=function(){var e=$s(pl);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function pl(e){var t,n=-1,i=e.length,r,a;while(++n<i){t=e[n];r=t[0];a=t[1]-De;t[0]=r*Math.cos(a);t[1]=r*Math.sin(a)}return e}function ml(p){var m=_r,g=_r,v=0,b=Er,y=ai,x=Vs,t=x.key,w=x,_="L",E=.7;function n(e){var t=[],n=[],i=[],r=-1,a=e.length,o,s=_t(m),l=_t(v),c=m===g?function(){return h}:_t(g),u=v===b?function(){return f}:_t(b),h,f;function d(){t.push("M",x(p(i),E),_,w(p(n.reverse()),E),"Z")}while(++r<a){if(y.call(this,o=e[r],r)){n.push([h=+s.call(this,o,r),f=+l.call(this,o,r)]);i.push([+c.call(this,o,r),+u.call(this,o,r)])}else if(n.length){d();n=[];i=[]}}if(n.length)d();return t.length?t.join(""):null}n.x=function(e){if(!arguments.length)return g;m=g=e;return n};n.x0=function(e){if(!arguments.length)return m;m=e;return n};n.x1=function(e){if(!arguments.length)return g;g=e;return n};n.y=function(e){if(!arguments.length)return b;v=b=e;return n};n.y0=function(e){if(!arguments.length)return v;v=e;return n};n.y1=function(e){if(!arguments.length)return b;b=e;return n};n.defined=function(e){if(!arguments.length)return y;y=e;return n};n.interpolate=function(e){if(!arguments.length)return t;if(typeof e==="function")t=x=e;else t=(x=Ws.get(e)||Vs).key;w=x.reverse||x;_=x.closed?"M":"L";return n};n.tension=function(e){if(!arguments.length)return E;E=e;return n};return n}Xs.reverse=Ys;Ys.reverse=Xs;P.svg.area=function(){return ml(O)};P.svg.area.radial=function(){var e=ml(pl);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};P.svg.chord=function(){var r=ar,a=or,l=gl,c=Bs,u=zs;function t(e,t){var n=o(this,r,e,t),i=o(this,a,e,t);return"M"+n.p0+h(n.r,n.p1,n.a1-n.a0)+(s(n,i)?f(n.r,n.p1,n.r,n.p0):f(n.r,n.p1,i.r,i.p0)+h(i.r,i.p1,i.a1-i.a0)+f(i.r,i.p1,n.r,n.p0))+"Z"}function o(e,t,n,i){var r=t.call(e,n,i),a=l.call(e,r,i),o=c.call(e,r,i)-De,s=u.call(e,r,i)-De;return{r:a,a0:o,a1:s,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(s),a*Math.sin(s)]}}function s(e,t){return e.a0==t.a0&&e.a1==t.a1}function h(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Te)+",1 "+t}function f(e,t,n,i){return"Q 0,0 "+i}t.radius=function(e){if(!arguments.length)return l;l=_t(e);return t};t.source=function(e){if(!arguments.length)return r;r=_t(e);return t};t.target=function(e){if(!arguments.length)return a;a=_t(e);return t};t.startAngle=function(e){if(!arguments.length)return c;c=_t(e);return t};t.endAngle=function(e){if(!arguments.length)return u;u=_t(e);return t};return t};function gl(e){return e.radius}P.svg.diagonal=function(){var o=ar,s=or,l=vl;function t(e,t){var n=o.call(this,e,t),i=s.call(this,e,t),r=(n.y+i.y)/2,a=[n,{x:n.x,y:r},{x:i.x,y:r},i];a=a.map(l);return"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}t.source=function(e){if(!arguments.length)return o;o=_t(e);return t};t.target=function(e){if(!arguments.length)return s;s=_t(e);return t};t.projection=function(e){if(!arguments.length)return l;l=e;return t};return t};function vl(e){return[e.x,e.y]}P.svg.diagonal.radial=function(){var e=P.svg.diagonal(),t=vl,n=e.projection;e.projection=function(e){return arguments.length?n(bl(t=e)):t};return e};function bl(i){return function(){var e=i.apply(this,arguments),t=e[0],n=e[1]-De;return[t*Math.cos(n),t*Math.sin(n)]}}P.svg.symbol=function(){var n=xl,i=yl;function t(e,t){return(_l.get(n.call(this,e,t))||wl)(i.call(this,e,t))}t.type=function(e){if(!arguments.length)return n;n=_t(e);return t};t.size=function(e){if(!arguments.length)return i;i=_t(e);return t};return t};function yl(){return 64}function xl(){return"circle"}function wl(e){var t=Math.sqrt(e/Te);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}var _l=P.map({circle:wl,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Al)),n=t*Al;return"M0,"+-t+"L"+n+",0"+" 0,"+t+" "+-n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/El),n=t*El/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/El),n=t*El/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});P.svg.symbolTypes=_l.keys();var El=Math.sqrt(3),Al=Math.tan(30*Le);q.transition=function(e){var t=Dl||++kl,n=Pl(e),i=[],r,a,o=Ll||{time:Date.now(),ease:Fa,delay:0,duration:250};for(var s=-1,l=this.length;++s<l;){i.push(r=[]);for(var c=this[s],u=-1,h=c.length;++u<h;){if(a=c[u])Il(a,u,n,t,o);r.push(a)}}return Tl(i,n,t)};q.interrupt=function(e){return this.each(e==null?Cl:Sl(Pl(e)))};var Cl=Sl(Pl());function Sl(i){return function(){var e,t,n;if((e=this[i])&&(n=e[t=e.active])){n.timer.c=null;n.timer.t=NaN;if(--e.count)delete e[t];else delete this[i];e.active+=.5;n.event&&n.event.interrupt.call(this,this.__data__,n.index)}}}function Tl(e,t,n){j(e,Ml);e.namespace=t;e.id=n;return e}var Ml=[],kl=0,Dl,Ll;Ml.call=q.call;Ml.empty=q.empty;Ml.node=q.node;Ml.size=q.size;P.transition=function(e,t){return e&&e.transition?Dl?e.transition(t):e:P.selection().transition(e)};P.transition.prototype=Ml;Ml.select=function(e){var t=this.id,n=this.namespace,i=[],r,a,o;e=X(e);for(var s=-1,l=this.length;++s<l;){i.push(r=[]);for(var c=this[s],u=-1,h=c.length;++u<h;){if((o=c[u])&&(a=e.call(o,o.__data__,u,s))){if("__data__"in o)a.__data__=o.__data__;Il(a,u,n,t,o[n][t]);r.push(a)}else{r.push(null)}}}return Tl(i,n,t)};Ml.selectAll=function(e){var t=this.id,n=this.namespace,i=[],r,a,o,s,l;e=Y(e);for(var c=-1,u=this.length;++c<u;){for(var h=this[c],f=-1,d=h.length;++f<d;){if(o=h[f]){l=o[n][t];a=e.call(o,o.__data__,f,c);i.push(r=[]);for(var p=-1,m=a.length;++p<m;){if(s=a[p])Il(s,p,n,t,l);r.push(s)}}}}return Tl(i,n,t)};Ml.filter=function(e){var t=[],n,i,r;if(typeof e!=="function")e=ce(e);for(var a=0,o=this.length;a<o;a++){t.push(n=[]);for(var i=this[a],s=0,l=i.length;s<l;s++){if((r=i[s])&&e.call(r,r.__data__,s,a)){n.push(r)}}}return Tl(t,this.namespace,this.id)};Ml.tween=function(t,n){var i=this.id,r=this.namespace;if(arguments.length<2)return this.node()[r][i].tween.get(t);return he(this,n==null?function(e){e[r][i].tween.remove(t)}:function(e){e[r][i].tween.set(t,n)})};function Rl(e,i,r,a){var o=e.id,s=e.namespace;return he(e,typeof r==="function"?function(e,t,n){e[s][o].tween.set(i,a(r.call(e,e.__data__,t,n)))}:(r=a(r),function(e){e[s][o].tween.set(i,r)}))}Ml.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var i=e=="transform"?to:Ea,r=P.ns.qualify(e);function a(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function n(n){return n==null?a:(n+="",function(){var e=this.getAttribute(r),t;return e!==n&&(t=i(e,n),function(e){this.setAttribute(r,t(e))})})}function s(n){return n==null?o:(n+="",function(){var e=this.getAttributeNS(r.space,r.local),t;return e!==n&&(t=i(e,n),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}return Rl(this,"attr."+e,t,r.local?s:n)};Ml.attrTween=function(e,i){var r=P.ns.qualify(e);function t(e,t){var n=i.call(this,e,t,this.getAttribute(r));return n&&function(e){this.setAttribute(r,n(e))}}function n(e,t){var n=i.call(this,e,t,this.getAttributeNS(r.space,r.local));return n&&function(e){this.setAttributeNS(r.space,r.local,n(e))}}return this.tween("attr."+e,r.local?n:t)};Ml.style=function(i,e,r){var t=arguments.length;if(t<3){if(typeof i!=="string"){if(t<2)e="";for(r in i)this.style(r,i[r],e);return this}r=""}function a(){this.style.removeProperty(i)}function n(n){return n==null?a:(n+="",function(){var e=N(this).getComputedStyle(this,null).getPropertyValue(i),t;return e!==n&&(t=Ea(e,n),function(e){this.style.setProperty(i,t(e),r)})})}return Rl(this,"style."+i,e,n)};Ml.styleTween=function(i,r,a){if(arguments.length<3)a="";function e(e,t){var n=r.call(this,e,t,N(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(e){this.style.setProperty(i,n(e),a)}}return this.tween("style."+i,e)};Ml.text=function(e){return Rl(this,"text",e,Fl)};function Fl(e){if(e==null)e="";return function(){this.textContent=e}}Ml.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;if(this[t].count<2&&(e=this.parentNode))e.removeChild(this)})};Ml.ease=function(t){var n=this.id,i=this.namespace;if(arguments.length<1)return this.node()[i][n].ease;if(typeof t!=="function")t=P.ease.apply(P,arguments);return he(this,function(e){e[i][n].ease=t})};Ml.delay=function(i){var r=this.id,a=this.namespace;if(arguments.length<1)return this.node()[a][r].delay;return he(this,typeof i==="function"?function(e,t,n){e[a][r].delay=+i.call(e,e.__data__,t,n)}:(i=+i,function(e){e[a][r].delay=i}))};Ml.duration=function(i){var r=this.id,a=this.namespace;if(arguments.length<1)return this.node()[a][r].duration;return he(this,typeof i==="function"?function(e,t,n){e[a][r].duration=Math.max(1,i.call(e,e.__data__,t,n))}:(i=Math.max(1,i),function(e){e[a][r].duration=i}))};Ml.each=function(i,n){var r=this.id,a=this.namespace;if(arguments.length<2){var e=Ll,t=Dl;try{Dl=r;he(this,function(e,t,n){Ll=e[a][r];i.call(e,e.__data__,t,n)})}finally{Ll=e;Dl=t}}else{he(this,function(e){var t=e[a][r];(t.event||(t.event=P.dispatch("start","end","interrupt"))).on(i,n)})}return this};Ml.transition=function(){var e=this.id,t=++kl,n=this.namespace,i=[],r,a,o,s;for(var l=0,c=this.length;l<c;l++){i.push(r=[]);for(var a=this[l],u=0,h=a.length;u<h;u++){if(o=a[u]){s=o[n][e];Il(o,u,n,t,{time:s.time,ease:s.ease,delay:s.delay+s.duration,duration:s.duration})}r.push(o)}}return Tl(i,n,t)};function Pl(e){return e==null?"__transition__":"__transition_"+e+"__"}function Il(a,o,r,s,e){var l=a[r]||(a[r]={active:0,count:0}),c=l[s],u,h,f,d,p;function t(e){var t=c.delay;h.t=t+u;if(t<=e)return n(e-t);h.c=n}function n(e){var t=l.active,n=l[t];if(n){n.timer.c=null;n.timer.t=NaN;--l.count;delete l[t];n.event&&n.event.interrupt.call(a,a.__data__,n.index)}for(var i in l){if(+i<s){var r=l[i];r.timer.c=null;r.timer.t=NaN;--l.count;delete l[i]}}h.c=m;Rt(function(){if(h.c&&m(e||1)){h.c=null;h.t=NaN}return 1},0,u);l.active=s;c.event&&c.event.start.call(a,a.__data__,o);p=[];c.tween.forEach(function(e,t){if(t=t.call(a,a.__data__,o)){p.push(t)}});d=c.ease;f=c.duration}function m(e){var t=e/f,n=d(t),i=p.length;while(i>0){p[--i].call(a,n)}if(t>=1){c.event&&c.event.end.call(a,a.__data__,o);if(--l.count)delete l[s];else delete a[r];return 1}}if(!c){u=e.time;h=Rt(t,0,u);c=l[s]={tween:new b,time:u,timer:h,delay:e.delay,duration:e.duration,ease:e.ease,index:o};e=null;++l.count}}P.svg.axis=function(){var S=P.scale.linear(),T=Nl,M=6,k=6,D=3,L=[10],R=null,F;function n(e){e.each(function(){var e=P.select(this);var t=this.__chart__||S,n=this.__chart__=S.copy();var i=R==null?n.ticks?n.ticks.apply(n,L):n.domain():R,r=F==null?n.tickFormat?n.tickFormat.apply(n,L):O:F,a=e.selectAll(".tick").data(i,n),o=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Ce),s=P.transition(a.exit()).style("opacity",Ce).remove(),l=P.transition(a.order()).style("opacity",1),c=Math.max(M,0)+D,u;var h=as(n),f=e.selectAll(".domain").data([0]),d=(f.enter().append("path").attr("class","domain"),P.transition(f));o.append("line");o.append("text");var p=o.select("line"),m=l.select("line"),g=a.select("text").text(r),v=o.select("text"),b=l.select("text"),y=T==="top"||T==="left"?-1:1,x,w,_,E;if(T==="bottom"||T==="top"){u=Bl,x="x",_="y",w="x2",E="y2";g.attr("dy",y<0?"0em":".71em").style("text-anchor","middle");d.attr("d","M"+h[0]+","+y*k+"V0H"+h[1]+"V"+y*k)}else{u=zl,x="y",_="x",w="y2",E="x2";g.attr("dy",".32em").style("text-anchor",y<0?"end":"start");d.attr("d","M"+y*k+","+h[0]+"H0V"+h[1]+"H"+y*k)}p.attr(E,y*M);v.attr(_,y*c);m.attr(w,0).attr(E,y*M);b.attr(x,0).attr(_,y*c);if(n.rangeBand){var A=n,C=A.rangeBand()/2;t=n=function(e){return A(e)+C}}else if(t.rangeBand){t=n}else{s.call(u,n,t)}o.call(u,t,n);l.call(u,n,n)})}n.scale=function(e){if(!arguments.length)return S;S=e;return n};n.orient=function(e){if(!arguments.length)return T;T=e in Ol?e+"":Nl;return n};n.ticks=function(){if(!arguments.length)return L;L=h(arguments);return n};n.tickValues=function(e){if(!arguments.length)return R;R=e;return n};n.tickFormat=function(e){if(!arguments.length)return F;F=e;return n};n.tickSize=function(e){var t=arguments.length;if(!t)return M;M=+e;k=+arguments[t-1];return n};n.innerTickSize=function(e){if(!arguments.length)return M;M=+e;return n};n.outerTickSize=function(e){if(!arguments.length)return k;k=+e;return n};n.tickPadding=function(e){if(!arguments.length)return D;D=+e;return n};n.tickSubdivide=function(){return arguments.length&&n};return n};var Nl="bottom",Ol={top:1,right:1,bottom:1,left:1};function Bl(e,n,i){e.attr("transform",function(e){var t=n(e);return"translate("+(isFinite(t)?t:i(e))+",0)"})}function zl(e,n,i){e.attr("transform",function(e){var t=n(e);return"translate(0,"+(isFinite(t)?t:i(e))+")"})}P.svg.brush=function(){var x=U(k,"brushstart","brush","brushend"),w=null,_=null,E=[0,0],A=[0,0],C,S,T=true,M=true,o=Hl[0];function k(e){e.each(function(){var e=P.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s);var t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(o,O);n.exit().remove();n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ul[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");n.style("display",k.empty()?"none":null);var i=P.transition(e),r=P.transition(t),a;if(w){a=as(w);r.attr("x",a[0]).attr("width",a[1]-a[0]);L(i)}if(_){a=as(_);r.attr("y",a[0]).attr("height",a[1]-a[0]);R(i)}D(i)})}k.event=function(e){e.each(function(){var i=x.of(this,arguments),r={x:E,y:A,i:C,j:S},e=this.__chart__||r;this.__chart__=r;if(Dl){P.select(this).transition().each("start.brush",function(){C=e.i;S=e.j;E=e.x;A=e.y;i({type:"brushstart"})}).tween("brush:brush",function(){var t=Aa(E,r.x),n=Aa(A,r.y);C=S=null;return function(e){E=r.x=t(e);A=r.y=n(e);i({type:"brush",mode:"resize"})}}).each("end.brush",function(){C=r.i;S=r.j;i({type:"brush",mode:"resize"});i({type:"brushend"})})}else{i({type:"brushstart"});i({type:"brush",mode:"resize"});i({type:"brushend"})}})};function D(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+E[+/e$/.test(e)]+","+A[+/^s/.test(e)]+")"})}function L(e){e.select(".extent").attr("x",E[0]);e.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function R(e){e.select(".extent").attr("y",A[0]);e.selectAll(".extent,.e>rect,.w>rect").attr("height",A[1]-A[0])}function s(){var n=this,e=P.select(P.event.target),i=x.of(n,arguments),r=P.select(n),t=e.datum(),a=!/^(n|s)$/.test(t)&&w,o=!/^(e|w)$/.test(t)&&_,h=e.classed("extent"),s=we(n),f,d=P.mouse(n),l;var c=P.select(N(n)).on("keydown.brush",m).on("keyup.brush",g);if(P.event.changedTouches){c.on("touchmove.brush",v).on("touchend.brush",y)}else{c.on("mousemove.brush",v).on("mouseup.brush",y)}r.interrupt().selectAll("*").interrupt();if(h){d[0]=E[0]-d[0];d[1]=A[0]-d[1]}else if(t){var u=+/w$/.test(t),p=+/^n/.test(t);l=[E[1-u]-d[0],A[1-p]-d[1]];d[0]=E[u];d[1]=A[p]}else if(P.event.altKey)f=d.slice();r.style("pointer-events","none").selectAll(".resize").style("display",null);P.select("body").style("cursor",e.style("cursor"));i({type:"brushstart"});v();function m(){if(P.event.keyCode==32){if(!h){f=null;d[0]-=E[1];d[1]-=A[1];h=2}B()}}function g(){if(P.event.keyCode==32&&h==2){d[0]+=E[1];d[1]+=A[1];h=0;B()}}function v(){var e=P.mouse(n),t=false;if(l){e[0]+=l[0];e[1]+=l[1]}if(!h){if(P.event.altKey){if(!f)f=[(E[0]+E[1])/2,(A[0]+A[1])/2];d[0]=E[+(e[0]<f[0])];d[1]=A[+(e[1]<f[1])]}else f=null}if(a&&b(e,w,0)){L(r);t=true}if(o&&b(e,_,1)){R(r);t=true}if(t){D(r);i({type:"brush",mode:h?"move":"resize"})}}function b(e,t,n){var i=as(t),r=i[0],a=i[1],o=d[n],s=n?A:E,l=s[1]-s[0],c,u;if(h){r-=o;a-=l+o}c=(n?M:T)?Math.max(r,Math.min(a,e[n])):e[n];if(h){u=(c+=o)+l}else{if(f)o=Math.max(r,Math.min(a,2*f[n]-c));if(o<c){u=c;c=o}else{u=o}}if(s[0]!=c||s[1]!=u){if(n)S=null;else C=null;s[0]=c;s[1]=u;return true}}function y(){v();r.style("pointer-events","all").selectAll(".resize").style("display",k.empty()?"none":null);P.select("body").style("cursor",null);c.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);s();i({type:"brushend"})}}k.x=function(e){if(!arguments.length)return w;w=e;o=Hl[!w<<1|!_];return k};k.y=function(e){if(!arguments.length)return _;_=e;o=Hl[!w<<1|!_];return k};k.clamp=function(e){if(!arguments.length)return w&&_?[T,M]:w?T:_?M:null;if(w&&_)T=!!e[0],M=!!e[1];else if(w)T=!!e;else if(_)M=!!e;return k};k.extent=function(e){var t,n,i,r,a;if(!arguments.length){if(w){if(C){t=C[0],n=C[1]}else{t=E[0],n=E[1];if(w.invert)t=w.invert(t),n=w.invert(n);if(n<t)a=t,t=n,n=a}}if(_){if(S){i=S[0],r=S[1]}else{i=A[0],r=A[1];if(_.invert)i=_.invert(i),r=_.invert(r);if(r<i)a=i,i=r,r=a}}return w&&_?[[t,i],[n,r]]:w?[t,n]:_&&[i,r]}if(w){t=e[0],n=e[1];if(_)t=t[0],n=n[0];C=[t,n];if(w.invert)t=w(t),n=w(n);if(n<t)a=t,t=n,n=a;if(t!=E[0]||n!=E[1])E=[t,n]}if(_){i=e[0],r=e[1];if(w)i=i[1],r=r[1];S=[i,r];if(_.invert)i=_(i),r=_(r);if(r<i)a=i,i=r,r=a;if(i!=A[0]||r!=A[1])A=[i,r]}return k};k.clear=function(){if(!k.empty()){E=[0,0],A=[0,0];C=S=null}return k};k.empty=function(){return!!w&&E[0]==E[1]||!!_&&A[0]==A[1]};return P.rebind(k,x,"on")};var Ul={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var Hl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var jl=$t.format=xn.timeFormat;var $l=jl.utc;var Wl=$l("%Y-%m-%dT%H:%M:%S.%LZ");jl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Vl:Wl;function Vl(e){return e.toISOString()}Vl.parse=function(e){var t=new Date(e);return isNaN(t)?null:t};Vl.toString=Wl.toString;$t.second=qt(function(e){return new Wt(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()});$t.seconds=$t.second.range;$t.seconds.utc=$t.second.utc.range;$t.minute=qt(function(e){return new Wt(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()});$t.minutes=$t.minute.range;$t.minutes.utc=$t.minute.utc.range;$t.hour=qt(function(e){var t=e.getTimezoneOffset()/60;return new Wt((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()});$t.hours=$t.hour.range;$t.hours.utc=$t.hour.utc.range;$t.month=qt(function(e){e=$t.day(e);e.setDate(1);return e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()});$t.months=$t.month.range;$t.months.utc=$t.month.utc.range;function Gl(t,a,e){function o(e){return t(e)}o.invert=function(e){return ql(t.invert(e))};o.domain=function(e){if(!arguments.length)return t.domain().map(ql);t.domain(e);return o};function s(e,t){var n=e[1]-e[0],i=n/t,r=P.bisect(Xl,i);return r==Xl.length?[a.year,ps(e.map(function(e){return e/31536e6}),t)[2]]:!r?[Zl,ps(e,t)[2]]:a[i/Xl[r-1]<Xl[r]/i?r-1:r]}o.nice=function(t,n){var e=o.domain(),i=rs(e),r=t==null?s(i,10):typeof t==="number"&&s(i,t);if(r)t=r[0],n=r[1];function a(e){return!isNaN(e)&&!t.range(e,ql(+e+1),n).length}return o.domain(ss(e,n>1?{floor:function(e){while(a(e=t.floor(e)))e=ql(e-1);return e},ceil:function(e){while(a(e=t.ceil(e)))e=ql(+e+1);return e}}:t))};o.ticks=function(e,t){var n=rs(o.domain()),i=e==null?s(n,10):typeof e==="number"?s(n,e):!e.range&&[{range:e},t];if(i)e=i[0],t=i[1];return e.range(n[0],ql(+n[1]+1),t<1?1:t)};o.tickFormat=function(){return e};o.copy=function(){return Gl(t.copy(),a,e)};return fs(o,t)}function ql(e){return new Date(e)}var Xl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var Yl=[[$t.second,1],[$t.second,5],[$t.second,15],[$t.second,30],[$t.minute,1],[$t.minute,5],[$t.minute,15],[$t.minute,30],[$t.hour,1],[$t.hour,3],[$t.hour,6],[$t.hour,12],[$t.day,1],[$t.day,2],[$t.week,1],[$t.month,1],[$t.month,3],[$t.year,1]];var Kl=jl.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&e.getDate()!=1}],["%b %d",function(e){return e.getDate()!=1}],["%B",function(e){return e.getMonth()}],["%Y",ai]]);var Zl={range:function(e,t,n){return P.range(Math.ceil(e/n)*n,+t,n).map(ql)},floor:O,ceil:O};Yl.year=$t.year;$t.scale=function(){return Gl(P.scale.linear(),Yl,Kl)};var Ql=Yl.map(function(e){return[e[0].utc,e[1]]});var Jl=$l.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],["%b %d",function(e){return e.getUTCDate()!=1}],["%B",function(e){return e.getUTCMonth()}],["%Y",ai]]);Ql.year=$t.year.utc;$t.scale.utc=function(){return Gl(P.scale.linear(),Ql,Jl)};P.text=Et(function(e){return e.responseText});P.json=function(e,t){return At(e,"application/json",ec,t)};function ec(e){return JSON.parse(e.responseText)}P.html=function(e,t){return At(e,"text/html",tc,t)};function tc(e){var t=I.createRange();t.selectNode(I.body);return t.createContextualFragment(e.responseText)}P.xml=Et(function(e){return e.responseXML});if(typeof define==="function"&&define.amd)this.d3=P,define(P);else if(typeof nc==="object"&&nc.exports)nc.exports=P;else this.d3=P}()},{}],16:[function(e,n,i){(function(e,t){typeof i==="object"&&typeof n!=="undefined"?t(i):typeof define==="function"&&define.amd?define(["exports"],t):t(e.dat={})})(this,function(e){"use strict";function t(e){if(!e){return}if(typeof window==="undefined"){return}var t=document.createElement("style");t.setAttribute("type","text/css");t.innerHTML=e;document.head.appendChild(t);return e}function n(e,t){var n=e.__state.conversionName.toString();var i=Math.round(e.r);var r=Math.round(e.g);var a=Math.round(e.b);var o=e.a;var s=Math.round(e.h);var l=e.s.toFixed(1);var c=e.v.toFixed(1);if(t||n==="THREE_CHAR_HEX"||n==="SIX_CHAR_HEX"){var u=e.hex.toString(16);while(u.length<6){u="0"+u}return"#"+u}else if(n==="CSS_RGB"){return"rgb("+i+","+r+","+a+")"}else if(n==="CSS_RGBA"){return"rgba("+i+","+r+","+a+","+o+")"}else if(n==="HEX"){return"0x"+e.hex.toString(16)}else if(n==="RGB_ARRAY"){return"["+i+","+r+","+a+"]"}else if(n==="RGBA_ARRAY"){return"["+i+","+r+","+a+","+o+"]"}else if(n==="RGB_OBJ"){return"{r:"+i+",g:"+r+",b:"+a+"}"}else if(n==="RGBA_OBJ"){return"{r:"+i+",g:"+r+",b:"+a+",a:"+o+"}"}else if(n==="HSV_OBJ"){return"{h:"+s+",s:"+l+",v:"+c+"}"}else if(n==="HSVA_OBJ"){return"{h:"+s+",s:"+l+",v:"+c+",a:"+o+"}"}return"unknown format"}var s=Array.prototype.forEach;var i=Array.prototype.slice;var p={BREAK:{},extend:function e(n){this.each(i.call(arguments,1),function(t){var e=this.isObject(t)?Object.keys(t):[];e.forEach(function(e){if(!this.isUndefined(t[e])){n[e]=t[e]}}.bind(this))},this);return n},defaults:function e(n){this.each(i.call(arguments,1),function(t){var e=this.isObject(t)?Object.keys(t):[];e.forEach(function(e){if(this.isUndefined(n[e])){n[e]=t[e]}}.bind(this))},this);return n},compose:function e(){var n=i.call(arguments);return function(){var e=i.call(arguments);for(var t=n.length-1;t>=0;t--){e=[n[t].apply(this,e)]}return e[0]}},each:function e(t,n,i){if(!t){return}if(s&&t.forEach&&t.forEach===s){t.forEach(n,i)}else if(t.length===t.length+0){var r=void 0;var a=void 0;for(r=0,a=t.length;r<a;r++){if(r in t&&n.call(i,t[r],r)===this.BREAK){return}}}else{for(var o in t){if(n.call(i,t[o],o)===this.BREAK){return}}}},defer:function e(t){setTimeout(t,0)},debounce:function e(r,a,o){var s=void 0;return function(){var e=this;var t=arguments;function n(){s=null;if(!o)r.apply(e,t)}var i=o||!s;clearTimeout(s);s=setTimeout(n,a);if(i){r.apply(e,t)}}},toArray:function e(t){if(t.toArray)return t.toArray();return i.call(t)},isUndefined:function e(t){return t===undefined},isNull:function e(t){return t===null},isNaN:function(t){function e(e){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function e(t){return t===Object(t)},isNumber:function e(t){return t===t+0},isString:function e(t){return t===t+""},isBoolean:function e(t){return t===false||t===true},isFunction:function e(t){return Object.prototype.toString.call(t)==="[object Function]"}};var r=[{litmus:p.isString,conversions:{THREE_CHAR_HEX:{read:function e(t){var n=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);if(n===null){return false}return{space:"HEX",hex:parseInt("0x"+n[1].toString()+n[1].toString()+n[2].toString()+n[2].toString()+n[3].toString()+n[3].toString(),0)}},write:n},SIX_CHAR_HEX:{read:function e(t){var n=t.match(/^#([A-F0-9]{6})$/i);if(n===null){return false}return{space:"HEX",hex:parseInt("0x"+n[1].toString(),0)}},write:n},CSS_RGB:{read:function e(t){var n=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);if(n===null){return false}return{space:"RGB",r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3])}},write:n},CSS_RGBA:{read:function e(t){var n=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);if(n===null){return false}return{space:"RGB",r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:parseFloat(n[4])}},write:n}}},{litmus:p.isNumber,conversions:{HEX:{read:function e(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function e(t){return t.hex}}}},{litmus:p.isArray,conversions:{RGB_ARRAY:{read:function e(t){if(t.length!==3){return false}return{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function e(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function e(t){if(t.length!==4)return false;return{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function e(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:p.isObject,conversions:{RGBA_OBJ:{read:function e(t){if(p.isNumber(t.r)&&p.isNumber(t.g)&&p.isNumber(t.b)&&p.isNumber(t.a)){return{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}}return false},write:function e(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function e(t){if(p.isNumber(t.r)&&p.isNumber(t.g)&&p.isNumber(t.b)){return{space:"RGB",r:t.r,g:t.g,b:t.b}}return false},write:function e(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function e(t){if(p.isNumber(t.h)&&p.isNumber(t.s)&&p.isNumber(t.v)&&p.isNumber(t.a)){return{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}}return false},write:function e(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function e(t){if(p.isNumber(t.h)&&p.isNumber(t.s)&&p.isNumber(t.v)){return{space:"HSV",h:t.h,s:t.s,v:t.v}}return false},write:function e(t){return{h:t.h,s:t.s,v:t.v}}}}}];var a=void 0;var o=void 0;var m=function e(){o=false;var n=arguments.length>1?p.toArray(arguments):arguments[0];p.each(r,function(e){if(e.litmus(n)){p.each(e.conversions,function(e,t){a=e.read(n);if(o===false&&a!==false){o=a;a.conversionName=t;a.conversion=e;return p.BREAK}});return p.BREAK}});return o};var l=void 0;var c={hsv_to_rgb:function e(t,n,i){var r=Math.floor(t/60)%6;var a=t/60-Math.floor(t/60);var o=i*(1-n);var s=i*(1-a*n);var l=i*(1-(1-a)*n);var c=[[i,l,o],[s,i,o],[o,i,l],[o,s,i],[l,o,i],[i,o,s]][r];return{r:c[0]*255,g:c[1]*255,b:c[2]*255}},rgb_to_hsv:function e(t,n,i){var r=Math.min(t,n,i);var a=Math.max(t,n,i);var o=a-r;var s=void 0;var l=void 0;if(a!==0){l=o/a}else{return{h:NaN,s:0,v:0}}if(t===a){s=(n-i)/o}else if(n===a){s=2+(i-t)/o}else{s=4+(t-n)/o}s/=6;if(s<0){s+=1}return{h:s*360,s:l,v:a/255}},rgb_to_hex:function e(t,n,i){var r=this.hex_with_component(0,2,t);r=this.hex_with_component(r,1,n);r=this.hex_with_component(r,0,i);return r},component_from_hex:function e(t,n){return t>>n*8&255},hex_with_component:function e(t,n,i){return i<<(l=n*8)|t&~(255<<l)}};var u=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var g=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var h=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var v=function e(t,n,i){if(t===null)t=Function.prototype;var r=Object.getOwnPropertyDescriptor(t,n);if(r===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,n,i)}}else if("value"in r){return r.value}else{var o=r.get;if(o===undefined){return undefined}return o.call(i)}};var b=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var y=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var x=function(){function e(){g(this,e);this.__state=m.apply(this,arguments);if(this.__state===false){throw new Error("Failed to interpret color arguments")}this.__state.a=this.__state.a||1}h(e,[{key:"toString",value:function e(){return n(this)}},{key:"toHexString",value:function e(){return n(this,true)}},{key:"toOriginal",value:function e(){return this.__state.conversion.write(this)}}]);return e}();function f(e,n,i){Object.defineProperty(e,n,{get:function e(){if(this.__state.space==="RGB"){return this.__state[n]}x.recalculateRGB(this,n,i);return this.__state[n]},set:function e(t){if(this.__state.space!=="RGB"){x.recalculateRGB(this,n,i);this.__state.space="RGB"}this.__state[n]=t}})}function d(e,n){Object.defineProperty(e,n,{get:function e(){if(this.__state.space==="HSV"){return this.__state[n]}x.recalculateHSV(this);return this.__state[n]},set:function e(t){if(this.__state.space!=="HSV"){x.recalculateHSV(this);this.__state.space="HSV"}this.__state[n]=t}})}x.recalculateRGB=function(e,t,n){if(e.__state.space==="HEX"){e.__state[t]=c.component_from_hex(e.__state.hex,n)}else if(e.__state.space==="HSV"){p.extend(e.__state,c.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}else{throw new Error("Corrupted color state")}};x.recalculateHSV=function(e){var t=c.rgb_to_hsv(e.r,e.g,e.b);p.extend(e.__state,{s:t.s,v:t.v});if(!p.isNaN(t.h)){e.__state.h=t.h}else if(p.isUndefined(e.__state.h)){e.__state.h=0}};x.COMPONENTS=["r","g","b","h","s","v","hex","a"];f(x.prototype,"r",2);f(x.prototype,"g",1);f(x.prototype,"b",0);d(x.prototype,"h");d(x.prototype,"s");d(x.prototype,"v");Object.defineProperty(x.prototype,"a",{get:function e(){return this.__state.a},set:function e(t){this.__state.a=t}});Object.defineProperty(x.prototype,"hex",{get:function e(){if(!this.__state.space!=="HEX"){this.__state.hex=c.rgb_to_hex(this.r,this.g,this.b)}return this.__state.hex},set:function e(t){this.__state.space="HEX";this.__state.hex=t}});var w=function(){function n(e,t){g(this,n);this.initialValue=e[t];this.domElement=document.createElement("div");this.object=e;this.property=t;this.__onChange=undefined;this.__onFinishChange=undefined}h(n,[{key:"onChange",value:function e(t){this.__onChange=t;return this}},{key:"onFinishChange",value:function e(t){this.__onFinishChange=t;return this}},{key:"setValue",value:function e(t){this.object[this.property]=t;if(this.__onChange){this.__onChange.call(this,t)}this.updateDisplay();return this}},{key:"getValue",value:function e(){return this.object[this.property]}},{key:"updateDisplay",value:function e(){return this}},{key:"isModified",value:function e(){return this.initialValue!==this.getValue()}}]);return n}();var _={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]};var E={};p.each(_,function(e,t){p.each(e,function(e){E[e]=t})});var A=/(\d+(\.\d+)?)px/;function C(e){if(e==="0"||p.isUndefined(e)){return 0}var t=e.match(A);if(!p.isNull(t)){return parseFloat(t[1])}return 0}var S={makeSelectable:function e(t,n){if(t===undefined||t.style===undefined)return;t.onselectstart=n?function(){return false}:function(){};t.style.MozUserSelect=n?"auto":"none";t.style.KhtmlUserSelect=n?"auto":"none";t.unselectable=n?"on":"off"},makeFullscreen:function e(t,n,i){var r=i;var a=n;if(p.isUndefined(a)){a=true}if(p.isUndefined(r)){r=true}t.style.position="absolute";if(a){t.style.left=0;t.style.right=0}if(r){t.style.top=0;t.style.bottom=0}},fakeEvent:function e(t,n,i,r){var a=i||{};var o=E[n];if(!o){throw new Error("Event type "+n+" not supported.")}var s=document.createEvent(o);switch(o){case"MouseEvents":{var l=a.x||a.clientX||0;var c=a.y||a.clientY||0;s.initMouseEvent(n,a.bubbles||false,a.cancelable||true,window,a.clickCount||1,0,0,l,c,false,false,false,false,0,null);break}case"KeyboardEvents":{var u=s.initKeyboardEvent||s.initKeyEvent;p.defaults(a,{cancelable:true,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:undefined,charCode:undefined});u(n,a.bubbles||false,a.cancelable,window,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode);break}default:{s.initEvent(n,a.bubbles||false,a.cancelable||true);break}}p.defaults(s,r);t.dispatchEvent(s)},bind:function e(t,n,i,r){var a=r||false;if(t.addEventListener){t.addEventListener(n,i,a)}else if(t.attachEvent){t.attachEvent("on"+n,i)}return S},unbind:function e(t,n,i,r){var a=r||false;if(t.removeEventListener){t.removeEventListener(n,i,a)}else if(t.detachEvent){t.detachEvent("on"+n,i)}return S},addClass:function e(t,n){if(t.className===undefined){t.className=n}else if(t.className!==n){var i=t.className.split(/ +/);if(i.indexOf(n)===-1){i.push(n);t.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,"")}}return S},removeClass:function e(t,n){if(n){if(t.className===n){t.removeAttribute("class")}else{var i=t.className.split(/ +/);var r=i.indexOf(n);if(r!==-1){i.splice(r,1);t.className=i.join(" ")}}}else{t.className=undefined}return S},hasClass:function e(t,n){return new RegExp("(?:^|\\s+)"+n+"(?:\\s+|$)").test(t.className)||false},getWidth:function e(t){var n=getComputedStyle(t);return C(n["border-left-width"])+C(n["border-right-width"])+C(n["padding-left"])+C(n["padding-right"])+C(n.width)},getHeight:function e(t){var n=getComputedStyle(t);return C(n["border-top-width"])+C(n["border-bottom-width"])+C(n["padding-top"])+C(n["padding-bottom"])+C(n.height)},getOffset:function e(t){var n=t;var i={left:0,top:0};if(n.offsetParent){do{i.left+=n.offsetLeft;i.top+=n.offsetTop;n=n.offsetParent}while(n)}return i},isActive:function e(t){return t===document.activeElement&&(t.type||t.href)}};var T=function(e){b(a,e);function a(e,t){g(this,a);var n=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));var i=n;n.__prev=n.getValue();n.__checkbox=document.createElement("input");n.__checkbox.setAttribute("type","checkbox");function r(){i.setValue(!i.__prev)}S.bind(n.__checkbox,"change",r,false);n.domElement.appendChild(n.__checkbox);n.updateDisplay();return n}h(a,[{key:"setValue",value:function e(t){var n=v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setValue",this).call(this,t);if(this.__onFinishChange){this.__onFinishChange.call(this,this.getValue())}this.__prev=this.getValue();return n}},{key:"updateDisplay",value:function e(){if(this.getValue()===true){this.__checkbox.setAttribute("checked","checked");this.__checkbox.checked=true;this.__prev=true}else{this.__checkbox.checked=false;this.__prev=false}return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateDisplay",this).call(this)}}]);return a}(w);var M=function(e){b(s,e);function s(e,t,n){g(this,s);var i=y(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t));var r=n;var a=i;i.__select=document.createElement("select");if(p.isArray(r)){var o={};p.each(r,function(e){o[e]=e});r=o}p.each(r,function(e,t){var n=document.createElement("option");n.innerHTML=t;n.setAttribute("value",e);a.__select.appendChild(n)});i.updateDisplay();S.bind(i.__select,"change",function(){var e=this.options[this.selectedIndex].value;a.setValue(e)});i.domElement.appendChild(i.__select);return i}h(s,[{key:"setValue",value:function e(t){var n=v(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"setValue",this).call(this,t);if(this.__onFinishChange){this.__onFinishChange.call(this,this.getValue())}return n}},{key:"updateDisplay",value:function e(){if(S.isActive(this.__select))return this;this.__select.value=this.getValue();return v(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"updateDisplay",this).call(this)}}]);return s}(w);var k=function(e){b(o,e);function o(e,t){g(this,o);var n=y(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));var i=n;function r(){i.setValue(i.__input.value)}function a(){if(i.__onFinishChange){i.__onFinishChange.call(i,i.getValue())}}n.__input=document.createElement("input");n.__input.setAttribute("type","text");S.bind(n.__input,"keyup",r);S.bind(n.__input,"change",r);S.bind(n.__input,"blur",a);S.bind(n.__input,"keydown",function(e){if(e.keyCode===13){this.blur()}});n.updateDisplay();n.domElement.appendChild(n.__input);return n}h(o,[{key:"updateDisplay",value:function e(){if(!S.isActive(this.__input)){this.__input.value=this.getValue()}return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"updateDisplay",this).call(this)}}]);return o}(w);function D(e){var t=e.toString();if(t.indexOf(".")>-1){return t.length-t.indexOf(".")-1}return 0}var L=function(e){b(a,e);function a(e,t,n){g(this,a);var i=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));var r=n||{};i.__min=r.min;i.__max=r.max;i.__step=r.step;if(p.isUndefined(i.__step)){if(i.initialValue===0){i.__impliedStep=1}else{i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10}}else{i.__impliedStep=i.__step}i.__precision=D(i.__impliedStep);return i}h(a,[{key:"setValue",value:function e(t){var n=t;if(this.__min!==undefined&&n<this.__min){n=this.__min}else if(this.__max!==undefined&&n>this.__max){n=this.__max}if(this.__step!==undefined&&n%this.__step!==0){n=Math.round(n/this.__step)*this.__step}return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setValue",this).call(this,n)}},{key:"min",value:function e(t){this.__min=t;return this}},{key:"max",value:function e(t){this.__max=t;return this}},{key:"step",value:function e(t){this.__step=t;this.__impliedStep=t;this.__precision=D(t);return this}}]);return a}(w);function R(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var F=function(e){b(f,e);function f(e,t,n){g(this,f);var i=y(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e,t,n));i.__truncationSuspended=false;var r=i;var a=void 0;function o(){var e=parseFloat(r.__input.value);if(!p.isNaN(e)){r.setValue(e)}}function s(){if(r.__onFinishChange){r.__onFinishChange.call(r,r.getValue())}}function l(){s()}function c(e){var t=a-e.clientY;r.setValue(r.getValue()+t*r.__impliedStep);a=e.clientY}function u(){S.unbind(window,"mousemove",c);S.unbind(window,"mouseup",u);s()}function h(e){S.bind(window,"mousemove",c);S.bind(window,"mouseup",u);a=e.clientY}i.__input=document.createElement("input");i.__input.setAttribute("type","text");S.bind(i.__input,"change",o);S.bind(i.__input,"blur",l);S.bind(i.__input,"mousedown",h);S.bind(i.__input,"keydown",function(e){if(e.keyCode===13){r.__truncationSuspended=true;this.blur();r.__truncationSuspended=false;s()}});i.updateDisplay();i.domElement.appendChild(i.__input);return i}h(f,[{key:"updateDisplay",value:function e(){this.__input.value=this.__truncationSuspended?this.getValue():R(this.getValue(),this.__precision);return v(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"updateDisplay",this).call(this)}}]);return f}(L);function P(e,t,n,i,r){return i+(r-i)*((e-t)/(n-t))}var I=function(e){b(d,e);function d(e,t,n,i,r){g(this,d);var a=y(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e,t,{min:n,max:i,step:r}));var o=a;a.__background=document.createElement("div");a.__foreground=document.createElement("div");S.bind(a.__background,"mousedown",s);S.bind(a.__background,"touchstart",u);S.addClass(a.__background,"slider");S.addClass(a.__foreground,"slider-fg");function s(e){document.activeElement.blur();S.bind(window,"mousemove",l);S.bind(window,"mouseup",c);l(e)}function l(e){e.preventDefault();var t=o.__background.getBoundingClientRect();o.setValue(P(e.clientX,t.left,t.right,o.__min,o.__max));return false}function c(){S.unbind(window,"mousemove",l);S.unbind(window,"mouseup",c);if(o.__onFinishChange){o.__onFinishChange.call(o,o.getValue())}}function u(e){if(e.touches.length!==1){return}S.bind(window,"touchmove",h);S.bind(window,"touchend",f);h(e)}function h(e){var t=e.touches[0].clientX;var n=o.__background.getBoundingClientRect();o.setValue(P(t,n.left,n.right,o.__min,o.__max))}function f(){S.unbind(window,"touchmove",h);S.unbind(window,"touchend",f);if(o.__onFinishChange){o.__onFinishChange.call(o,o.getValue())}}a.updateDisplay();a.__background.appendChild(a.__foreground);a.domElement.appendChild(a.__background);return a}h(d,[{key:"updateDisplay",value:function e(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);this.__foreground.style.width=t*100+"%";return v(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"updateDisplay",this).call(this)}}]);return d}(L);var N=function(e){b(a,e);function a(e,t,n){g(this,a);var i=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));var r=i;i.__button=document.createElement("div");i.__button.innerHTML=n===undefined?"Fire":n;S.bind(i.__button,"click",function(e){e.preventDefault();r.fire();return false});S.addClass(i.__button,"button");i.domElement.appendChild(i.__button);return i}h(a,[{key:"fire",value:function e(){if(this.__onChange){this.__onChange.call(this)}this.getValue().call(this.object);if(this.__onFinishChange){this.__onFinishChange.call(this,this.getValue())}}}]);return a}(w);var O=function(e){b(d,e);function d(e,t){g(this,d);var n=y(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e,t));n.__color=new x(n.getValue());n.__temp=new x(0);var s=n;n.domElement=document.createElement("div");S.makeSelectable(n.domElement,false);n.__selector=document.createElement("div");n.__selector.className="selector";n.__saturation_field=document.createElement("div");n.__saturation_field.className="saturation-field";n.__field_knob=document.createElement("div");n.__field_knob.className="field-knob";n.__field_knob_border="2px solid ";n.__hue_knob=document.createElement("div");n.__hue_knob.className="hue-knob";n.__hue_field=document.createElement("div");n.__hue_field.className="hue-field";n.__input=document.createElement("input");n.__input.type="text";n.__input_textShadow="0 1px 1px ";S.bind(n.__input,"keydown",function(e){if(e.keyCode===13){c.call(this)}});S.bind(n.__input,"blur",c);S.bind(n.__selector,"mousedown",function(){S.addClass(this,"drag").bind(window,"mouseup",function(){S.removeClass(s.__selector,"drag")})});S.bind(n.__selector,"touchstart",function(){S.addClass(this,"drag").bind(window,"touchend",function(){S.removeClass(s.__selector,"drag")})});var i=document.createElement("div");p.extend(n.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"});p.extend(n.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:n.__field_knob_border+(n.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1});p.extend(n.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1});p.extend(n.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"});p.extend(i.style,{width:"100%",height:"100%",background:"none"});z(i,"top","rgba(0,0,0,0)","#000");p.extend(n.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"});U(n.__hue_field);p.extend(n.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:n.__input_textShadow+"rgba(0,0,0,0.7)"});S.bind(n.__saturation_field,"mousedown",r);S.bind(n.__saturation_field,"touchstart",r);S.bind(n.__field_knob,"mousedown",r);S.bind(n.__field_knob,"touchstart",r);S.bind(n.__hue_field,"mousedown",a);S.bind(n.__hue_field,"touchstart",a);function r(e){h(e);S.bind(window,"mousemove",h);S.bind(window,"touchmove",h);S.bind(window,"mouseup",o);S.bind(window,"touchend",o)}function a(e){f(e);S.bind(window,"mousemove",f);S.bind(window,"touchmove",f);S.bind(window,"mouseup",l);S.bind(window,"touchend",l)}function o(){S.unbind(window,"mousemove",h);S.unbind(window,"touchmove",h);S.unbind(window,"mouseup",o);S.unbind(window,"touchend",o);u()}function l(){S.unbind(window,"mousemove",f);S.unbind(window,"touchmove",f);S.unbind(window,"mouseup",l);S.unbind(window,"touchend",l);u()}function c(){var e=m(this.value);if(e!==false){s.__color.__state=e;s.setValue(s.__color.toOriginal())}else{this.value=s.__color.toString()}}function u(){if(s.__onFinishChange){s.__onFinishChange.call(s,s.__color.toOriginal())}}n.__saturation_field.appendChild(i);n.__selector.appendChild(n.__field_knob);n.__selector.appendChild(n.__saturation_field);n.__selector.appendChild(n.__hue_field);n.__hue_field.appendChild(n.__hue_knob);n.domElement.appendChild(n.__input);n.domElement.appendChild(n.__selector);n.updateDisplay();function h(e){if(e.type.indexOf("touch")===-1){e.preventDefault()}var t=s.__saturation_field.getBoundingClientRect();var n=e.touches&&e.touches[0]||e,i=n.clientX,r=n.clientY;var a=(i-t.left)/(t.right-t.left);var o=1-(r-t.top)/(t.bottom-t.top);if(o>1){o=1}else if(o<0){o=0}if(a>1){a=1}else if(a<0){a=0}s.__color.v=o;s.__color.s=a;s.setValue(s.__color.toOriginal());return false}function f(e){if(e.type.indexOf("touch")===-1){e.preventDefault()}var t=s.__hue_field.getBoundingClientRect();var n=e.touches&&e.touches[0]||e,i=n.clientY;var r=1-(i-t.top)/(t.bottom-t.top);if(r>1){r=1}else if(r<0){r=0}s.__color.h=r*360;s.setValue(s.__color.toOriginal());return false}return n}h(d,[{key:"updateDisplay",value:function e(){var t=m(this.getValue());if(t!==false){var n=false;p.each(x.COMPONENTS,function(e){if(!p.isUndefined(t[e])&&!p.isUndefined(this.__color.__state[e])&&t[e]!==this.__color.__state[e]){n=true;return{}}},this);if(n){p.extend(this.__color.__state,t)}}p.extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0;var r=255-i;p.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+i+","+i+","+i+")"});this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px";this.__temp.s=1;this.__temp.v=1;z(this.__saturation_field,"left","#fff",this.__temp.toHexString());this.__input.value=this.__color.toString();p.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+i+","+i+","+i+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]);return d}(w);var B=["-moz-","-o-","-webkit-","-ms-",""];function z(t,n,i,r){t.style.background="";p.each(B,function(e){t.style.cssText+="background: "+e+"linear-gradient("+n+", "+i+" 0%, "+r+" 100%); "})}function U(e){e.style.background="";e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var H={load:function e(t,n){var i=n||document;var r=i.createElement("link");r.type="text/css";r.rel="stylesheet";r.href=t;i.getElementsByTagName("head")[0].appendChild(r)},inject:function e(t,n){var i=n||document;var r=document.createElement("style");r.type="text/css";r.innerHTML=t;var a=i.getElementsByTagName("head")[0];try{a.appendChild(r)}catch(e){}}};var j='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>';var $=function e(t,n){var i=t[n];if(p.isArray(arguments[2])||p.isObject(arguments[2])){return new M(t,n,arguments[2])}if(p.isNumber(i)){if(p.isNumber(arguments[2])&&p.isNumber(arguments[3])){if(p.isNumber(arguments[4])){return new I(t,n,arguments[2],arguments[3],arguments[4])}return new I(t,n,arguments[2],arguments[3])}if(p.isNumber(arguments[4])){return new F(t,n,{min:arguments[2],max:arguments[3],step:arguments[4]})}return new F(t,n,{min:arguments[2],max:arguments[3]})}if(p.isString(i)){return new k(t,n)}if(p.isFunction(i)){return new N(t,n,"")}if(p.isBoolean(i)){return new T(t,n)}return null};function W(e){setTimeout(e,1e3/60)}var V=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||W;var G=function(){function t(){g(this,t);this.backgroundElement=document.createElement("div");p.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"});S.makeFullscreen(this.backgroundElement);this.backgroundElement.style.position="fixed";this.domElement=document.createElement("div");p.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var e=this;S.bind(this.backgroundElement,"click",function(){e.hide()})}h(t,[{key:"show",value:function e(){var t=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)";this.layout();p.defer(function(){t.backgroundElement.style.opacity=1;t.domElement.style.opacity=1;t.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function e(){var t=this;var e=function e(){t.domElement.style.display="none";t.backgroundElement.style.display="none";S.unbind(t.domElement,"webkitTransitionEnd",e);S.unbind(t.domElement,"transitionend",e);S.unbind(t.domElement,"oTransitionEnd",e)};S.bind(this.domElement,"webkitTransitionEnd",e);S.bind(this.domElement,"transitionend",e);S.bind(this.domElement,"oTransitionEnd",e);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function e(){this.domElement.style.left=window.innerWidth/2-S.getWidth(this.domElement)/2+"px";this.domElement.style.top=window.innerHeight/2-S.getHeight(this.domElement)/2+"px"}}]);return t}();var q=t(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");H.inject(q);var X="dg";var Y=72;var K=20;var Z="Default";var Q=function(){try{return!!window.localStorage}catch(e){return false}}();var J=void 0;var ee=true;var te=void 0;var ne=false;var ie=[];var re=function n(e){var i=this;var r=e||{};this.domElement=document.createElement("div");this.__ul=document.createElement("ul");this.domElement.appendChild(this.__ul);S.addClass(this.domElement,X);this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];r=p.defaults(r,{closeOnTop:false,autoPlace:true,width:n.DEFAULT_WIDTH});r=p.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace});if(!p.isUndefined(r.load)){if(r.preset){r.load.preset=r.preset}}else{r.load={preset:Z}}if(p.isUndefined(r.parent)&&r.hideable){ie.push(this)}r.resizable=p.isUndefined(r.parent)&&r.resizable;if(r.autoPlace&&p.isUndefined(r.scrollable)){r.scrollable=true}var a=Q&&localStorage.getItem(he(this,"isLocal"))==="true";var o=void 0;Object.defineProperties(this,{parent:{get:function e(){return r.parent}},scrollable:{get:function e(){return r.scrollable}},autoPlace:{get:function e(){return r.autoPlace}},closeOnTop:{get:function e(){return r.closeOnTop}},preset:{get:function e(){if(i.parent){return i.getRoot().preset}return r.load.preset},set:function e(t){if(i.parent){i.getRoot().preset=t}else{r.load.preset=t}be(this);i.revert()}},width:{get:function e(){return r.width},set:function e(t){r.width=t;ge(i,t)}},name:{get:function e(){return r.name},set:function e(t){r.name=t;if(titleRowName){titleRowName.innerHTML=r.name}}},closed:{get:function e(){return r.closed},set:function e(t){r.closed=t;if(r.closed){S.addClass(i.__ul,n.CLASS_CLOSED)}else{S.removeClass(i.__ul,n.CLASS_CLOSED)}this.onResize();if(i.__closeButton){i.__closeButton.innerHTML=t?n.TEXT_OPEN:n.TEXT_CLOSED}}},load:{get:function e(){return r.load}},useLocalStorage:{get:function e(){return a},set:function e(t){if(Q){a=t;if(t){S.bind(window,"unload",o)}else{S.unbind(window,"unload",o)}localStorage.setItem(he(i,"isLocal"),t)}}}});if(p.isUndefined(r.parent)){r.closed=false;S.addClass(this.domElement,n.CLASS_MAIN);S.makeSelectable(this.domElement,false);if(Q){if(a){i.useLocalStorage=true;var t=localStorage.getItem(he(this,"gui"));if(t){r.load=JSON.parse(t)}}}this.__closeButton=document.createElement("div");this.__closeButton.innerHTML=n.TEXT_CLOSED;S.addClass(this.__closeButton,n.CLASS_CLOSE_BUTTON);if(r.closeOnTop){S.addClass(this.__closeButton,n.CLASS_CLOSE_TOP);this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])}else{S.addClass(this.__closeButton,n.CLASS_CLOSE_BOTTOM);this.domElement.appendChild(this.__closeButton)}S.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{if(r.closed===undefined){r.closed=true}var s=document.createTextNode(r.name);S.addClass(s,"controller-name");var l=ae(i,s);var c=function e(t){t.preventDefault();i.closed=!i.closed;return false};S.addClass(this.__ul,n.CLASS_CLOSED);S.addClass(l,"title");S.bind(l,"click",c);if(!r.closed){this.closed=false}}if(r.autoPlace){if(p.isUndefined(r.parent)){if(ee){te=document.createElement("div");S.addClass(te,X);S.addClass(te,n.CLASS_AUTO_PLACE_CONTAINER);document.body.appendChild(te);ee=false}te.appendChild(this.domElement);S.addClass(this.domElement,n.CLASS_AUTO_PLACE)}if(!this.parent){ge(i,r.width)}}this.__resizeHandler=function(){i.onResizeDebounced()};S.bind(window,"resize",this.__resizeHandler);S.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler);S.bind(this.__ul,"transitionend",this.__resizeHandler);S.bind(this.__ul,"oTransitionEnd",this.__resizeHandler);this.onResize();if(r.resizable){me(this)}o=function e(){if(Q&&localStorage.getItem(he(i,"isLocal"))==="true"){localStorage.setItem(he(i,"gui"),JSON.stringify(i.getSaveObject()))}};this.saveToLocalStorageIfPossible=o;function u(){var e=i.getRoot();e.width+=1;p.defer(function(){e.width-=1})}if(!r.parent){u()}};re.toggleHide=function(){ne=!ne;p.each(ie,function(e){e.domElement.style.display=ne?"none":""})};re.CLASS_AUTO_PLACE="a";re.CLASS_AUTO_PLACE_CONTAINER="ac";re.CLASS_MAIN="main";re.CLASS_CONTROLLER_ROW="cr";re.CLASS_TOO_TALL="taller-than-window";re.CLASS_CLOSED="closed";re.CLASS_CLOSE_BUTTON="close-button";re.CLASS_CLOSE_TOP="close-top";re.CLASS_CLOSE_BOTTOM="close-bottom";re.CLASS_DRAG="drag";re.DEFAULT_WIDTH=245;re.TEXT_CLOSED="Close Controls";re.TEXT_OPEN="Open Controls";re._keydownHandler=function(e){if(document.activeElement.type!=="text"&&(e.which===Y||e.keyCode===Y)){re.toggleHide()}};S.bind(window,"keydown",re._keydownHandler,false);p.extend(re.prototype,{add:function e(t,n){return ue(this,t,n,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function e(t,n){return ue(this,t,n,{color:true})},remove:function e(t){this.__ul.removeChild(t.__li);this.__controllers.splice(this.__controllers.indexOf(t),1);var n=this;p.defer(function(){n.onResize()})},destroy:function e(){if(this.parent){throw new Error("Only the root GUI should be removed with .destroy(). "+"For subfolders, use gui.removeFolder(folder) instead.")}if(this.autoPlace){te.removeChild(this.domElement)}var t=this;p.each(this.__folders,function(e){t.removeFolder(e)});S.unbind(window,"keydown",re._keydownHandler,false);oe(this)},addFolder:function e(t){if(this.__folders[t]!==undefined){throw new Error("You already have a folder in this GUI by the"+' name "'+t+'"')}var n={name:t,parent:this};n.autoPlace=this.autoPlace;if(this.load&&this.load.folders&&this.load.folders[t]){n.closed=this.load.folders[t].closed;n.load=this.load.folders[t]}var i=new re(n);this.__folders[t]=i;var r=ae(this,i.domElement);S.addClass(r,"folder");return i},removeFolder:function e(t){this.__ul.removeChild(t.domElement.parentElement);delete this.__folders[t.name];if(this.load&&this.load.folders&&this.load.folders[t.name]){delete this.load.folders[t.name]}oe(t);var n=this;p.each(t.__folders,function(e){t.removeFolder(e)});p.defer(function(){n.onResize()})},open:function e(){this.closed=false},close:function e(){this.closed=true},onResize:function e(){var t=this.getRoot();if(t.scrollable){var n=S.getOffset(t.__ul).top;var i=0;p.each(t.__ul.childNodes,function(e){if(!(t.autoPlace&&e===t.__save_row)){i+=S.getHeight(e)}});if(window.innerHeight-n-K<i){S.addClass(t.domElement,re.CLASS_TOO_TALL);t.__ul.style.height=window.innerHeight-n-K+"px"}else{S.removeClass(t.domElement,re.CLASS_TOO_TALL);t.__ul.style.height="auto"}}if(t.__resize_handle){p.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})}if(t.__closeButton){t.__closeButton.style.width=t.width+"px"}},onResizeDebounced:p.debounce(function(){this.onResize()},50),remember:function e(){if(p.isUndefined(J)){J=new G;J.domElement.innerHTML=j}if(this.parent){throw new Error("You can only call remember on a top level GUI.")}var t=this;p.each(Array.prototype.slice.call(arguments),function(e){if(t.__rememberedObjects.length===0){pe(t)}if(t.__rememberedObjects.indexOf(e)===-1){t.__rememberedObjects.push(e)}});if(this.autoPlace){ge(this,this.width)}},getRoot:function e(){var t=this;while(t.parent){t=t.parent}return t},getSaveObject:function e(){var n=this.load;n.closed=this.closed;if(this.__rememberedObjects.length>0){n.preset=this.preset;if(!n.remembered){n.remembered={}}n.remembered[this.preset]=ve(this)}n.folders={};p.each(this.__folders,function(e,t){n.folders[t]=e.getSaveObject()});return n},save:function e(){if(!this.load.remembered){this.load.remembered={}}this.load.remembered[this.preset]=ve(this);se(this,false);this.saveToLocalStorageIfPossible()},saveAs:function e(t){if(!this.load.remembered){this.load.remembered={};this.load.remembered[Z]=ve(this,true)}this.load.remembered[t]=ve(this);this.preset=t;fe(this,t,true);this.saveToLocalStorageIfPossible()},revert:function e(t){p.each(this.__controllers,function(e){if(!this.getRoot().load.remembered){e.setValue(e.initialValue)}else{ce(t||this.getRoot(),e)}if(e.__onFinishChange){e.__onFinishChange.call(e,e.getValue())}},this);p.each(this.__folders,function(e){e.revert(e)});if(!t){se(this.getRoot(),false)}},listen:function e(t){var n=this.__listening.length===0;this.__listening.push(t);if(n){ye(this.__listening)}},updateDisplay:function e(){p.each(this.__controllers,function(e){e.updateDisplay()});p.each(this.__folders,function(e){e.updateDisplay()})}});function ae(e,t,n){var i=document.createElement("li");if(t){i.appendChild(t)}if(n){e.__ul.insertBefore(i,n)}else{e.__ul.appendChild(i)}e.onResize();return i}function oe(e){S.unbind(window,"resize",e.__resizeHandler);if(e.saveToLocalStorageIfPossible){S.unbind(window,"unload",e.saveToLocalStorageIfPossible)}}function se(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];if(t){n.innerHTML=n.value+"*"}else{n.innerHTML=n.value}}function le(a,t,o){o.__li=t;o.__gui=a;p.extend(o,{options:function e(t){if(arguments.length>1){var n=o.__li.nextElementSibling;o.remove();return ue(a,o.object,o.property,{before:n,factoryArgs:[p.toArray(arguments)]})}if(p.isArray(t)||p.isObject(t)){var i=o.__li.nextElementSibling;o.remove();return ue(a,o.object,o.property,{before:i,factoryArgs:[t]})}},name:function e(t){o.__li.firstElementChild.firstElementChild.innerHTML=t;return o},listen:function e(){o.__gui.listen(o);return o},remove:function e(){o.__gui.remove(o);return o}});if(o instanceof I){var i=new F(o.object,o.property,{min:o.__min,max:o.__max,step:o.__step});p.each(["updateDisplay","onChange","onFinishChange","step"],function(e){var t=o[e];var n=i[e];o[e]=i[e]=function(){var e=Array.prototype.slice.call(arguments);n.apply(i,e);return t.apply(o,e)}});S.addClass(t,"has-slider");o.domElement.insertBefore(i.domElement,o.domElement.firstElementChild)}else if(o instanceof F){var e=function e(t){if(p.isNumber(o.__min)&&p.isNumber(o.__max)){var n=o.__li.firstElementChild.firstElementChild.innerHTML;var i=o.__gui.__listening.indexOf(o)>-1;o.remove();var r=ue(a,o.object,o.property,{before:o.__li.nextElementSibling,factoryArgs:[o.__min,o.__max,o.__step]});r.name(n);if(i)r.listen();return r}return t};o.min=p.compose(e,o.min);o.max=p.compose(e,o.max)}else if(o instanceof T){S.bind(t,"click",function(){S.fakeEvent(o.__checkbox,"click")});S.bind(o.__checkbox,"click",function(e){e.stopPropagation()})}else if(o instanceof N){S.bind(t,"click",function(){S.fakeEvent(o.__button,"click")});S.bind(t,"mouseover",function(){S.addClass(o.__button,"hover")});S.bind(t,"mouseout",function(){S.removeClass(o.__button,"hover")})}else if(o instanceof O){S.addClass(t,"color");o.updateDisplay=p.compose(function(e){t.style.borderLeftColor=o.__color.toString();return e},o.updateDisplay);o.updateDisplay()}o.setValue=p.compose(function(e){if(a.getRoot().__preset_select&&o.isModified()){se(a.getRoot(),true)}return e},o.setValue)}function ce(e,t){var n=e.getRoot();var i=n.__rememberedObjects.indexOf(t.object);if(i!==-1){var r=n.__rememberedObjectIndecesToControllers[i];if(r===undefined){r={};n.__rememberedObjectIndecesToControllers[i]=r}r[t.property]=t;if(n.load&&n.load.remembered){var a=n.load.remembered;var o=void 0;if(a[e.preset]){o=a[e.preset]}else if(a[Z]){o=a[Z]}else{return}if(o[i]&&o[i][t.property]!==undefined){var s=o[i][t.property];t.initialValue=s;t.setValue(s)}}}}function ue(e,t,n,i){if(t[n]===undefined){throw new Error('Object "'+t+'" has no property "'+n+'"')}var r=void 0;if(i.color){r=new O(t,n)}else{var a=[t,n].concat(i.factoryArgs);r=$.apply(e,a)}if(i.before instanceof w){i.before=i.before.__li}ce(e,r);S.addClass(r.domElement,"c");var o=document.createElement("span");S.addClass(o,"property-name");o.innerHTML=r.property;var s=document.createElement("div");s.appendChild(o);s.appendChild(r.domElement);var l=ae(e,s,i.before);S.addClass(l,re.CLASS_CONTROLLER_ROW);if(r instanceof O){S.addClass(l,"color")}else{S.addClass(l,u(r.getValue()))}le(e,l,r);e.__controllers.push(r);return r}function he(e,t){return document.location.href+"."+t}function fe(e,t,n){var i=document.createElement("option");i.innerHTML=t;i.value=t;e.__preset_select.appendChild(i);if(n){e.__preset_select.selectedIndex=e.__preset_select.length-1}}function de(e,t){t.style.display=e.useLocalStorage?"block":"none"}function pe(n){var e=n.__save_row=document.createElement("li");S.addClass(n.domElement,"has-save");n.__ul.insertBefore(e,n.__ul.firstChild);S.addClass(e,"save-row");var t=document.createElement("span");t.innerHTML="&nbsp;";S.addClass(t,"button gears");var i=document.createElement("span");i.innerHTML="Save";S.addClass(i,"button");S.addClass(i,"save");var r=document.createElement("span");r.innerHTML="New";S.addClass(r,"button");S.addClass(r,"save-as");var a=document.createElement("span");a.innerHTML="Revert";S.addClass(a,"button");S.addClass(a,"revert");var o=n.__preset_select=document.createElement("select");if(n.load&&n.load.remembered){p.each(n.load.remembered,function(e,t){fe(n,t,t===n.preset)})}else{fe(n,Z,false)}S.bind(o,"change",function(){for(var e=0;e<n.__preset_select.length;e++){n.__preset_select[e].innerHTML=n.__preset_select[e].value}n.preset=this.value});e.appendChild(o);e.appendChild(t);e.appendChild(i);e.appendChild(r);e.appendChild(a);if(Q){var s=document.getElementById("dg-local-explain");var l=document.getElementById("dg-local-storage");var c=document.getElementById("dg-save-locally");c.style.display="block";if(localStorage.getItem(he(n,"isLocal"))==="true"){l.setAttribute("checked","checked")}de(n,s);S.bind(l,"change",function(){n.useLocalStorage=!n.useLocalStorage;de(n,s)})}var u=document.getElementById("dg-new-constructor");S.bind(u,"keydown",function(e){if(e.metaKey&&(e.which===67||e.keyCode===67)){J.hide()}});S.bind(t,"click",function(){u.innerHTML=JSON.stringify(n.getSaveObject(),undefined,2);J.show();u.focus();u.select()});S.bind(i,"click",function(){n.save()});S.bind(r,"click",function(){var e=prompt("Enter a new preset name.");if(e){n.saveAs(e)}});S.bind(a,"click",function(){n.revert()})}function me(t){var n=void 0;t.__resize_handle=document.createElement("div");p.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function i(e){e.preventDefault();t.width+=n-e.clientX;t.onResize();n=e.clientX;return false}function r(){S.removeClass(t.__closeButton,re.CLASS_DRAG);S.unbind(window,"mousemove",i);S.unbind(window,"mouseup",r)}function e(e){e.preventDefault();n=e.clientX;S.addClass(t.__closeButton,re.CLASS_DRAG);S.bind(window,"mousemove",i);S.bind(window,"mouseup",r);return false}S.bind(t.__resize_handle,"mousedown",e);S.bind(t.__closeButton,"mousedown",e);t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function ge(e,t){e.domElement.style.width=t+"px";if(e.__save_row&&e.autoPlace){e.__save_row.style.width=t+"px"}if(e.__closeButton){e.__closeButton.style.width=t+"px"}}function ve(r,a){var o={};p.each(r.__rememberedObjects,function(e,t){var n={};var i=r.__rememberedObjectIndecesToControllers[t];p.each(i,function(e,t){n[t]=a?e.initialValue:e.getValue()});o[t]=n});return o}function be(e){for(var t=0;t<e.__preset_select.length;t++){if(e.__preset_select[t].value===e.preset){e.__preset_select.selectedIndex=t}}}function ye(e){if(e.length!==0){V.call(window,function(){ye(e)})}p.each(e,function(e){e.updateDisplay()})}var xe={Color:x,math:c,interpret:m};var we={Controller:w,BooleanController:T,OptionController:M,StringController:k,NumberController:L,NumberControllerBox:F,NumberControllerSlider:I,FunctionController:N,ColorController:O};var _e={dom:S};var Ee={GUI:re};var Ae=re;var Ce={color:xe,controllers:we,dom:_e,gui:Ee,GUI:Ae};e.color=xe;e.controllers=we;e.dom=_e;e.gui=Ee;e.GUI=Ae;e["default"]=Ce;Object.defineProperty(e,"__esModule",{value:true})})},{}],17:[function(i,e,t){(function(n){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(e){return n(e,window,document)})}else if(typeof t==="object"){e.exports=function(e,t){if(!e){e=window}if(!t||!t.fn.dataTable){t=i("datatables.net")(e,t).$}return n(t,e,e.document)}}else{n(jQuery,window,document)}})(function(_,E,A,x){"use strict";var i=_.fn.dataTable;var n=0;var d=0;var c=i.ext.buttons;var C=function(e,t){if(typeof t==="undefined"){t={}}if(t===true){t={}}if(_.isArray(t)){t={buttons:t}}this.c=_.extend(true,{},C.defaults,t);if(t.buttons){this.c.buttons=t.buttons}this.s={dt:new i.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+n++};this.dom={container:_("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)};this._constructor()};_.extend(C.prototype,{action:function(e,t){var n=this._nodeToButton(e);if(t===x){return n.conf.action}n.conf.action=t;return this},active:function(e,t){var n=this._nodeToButton(e);var i=this.c.dom.button.active;var r=_(n.node);if(t===x){return r.hasClass(i)}r.toggleClass(i,t===x?true:t);return this},add:function(e,t){var n=this.s.buttons;if(typeof t==="string"){var i=t.split("-");var r=this.s;for(var a=0,o=i.length-1;a<o;a++){r=r.buttons[i[a]*1]}n=r.buttons;t=i[i.length-1]*1}this._expandButton(n,e,false,t);this._draw();return this},container:function(){return this.dom.container},disable:function(e){var t=this._nodeToButton(e);_(t.node).addClass(this.c.dom.button.disabled);return this},destroy:function(){_("body").off("keyup."+this.s.namespace);var e=this.s.buttons.slice();var t,n;for(t=0,n=e.length;t<n;t++){this.remove(e[t].node)}this.dom.container.remove();var i=this.s.dt.settings()[0];for(t=0,n=i.length;t<n;t++){if(i.inst===this){i.splice(t,1);break}}return this},enable:function(e,t){if(t===false){return this.disable(e)}var n=this._nodeToButton(e);_(n.node).removeClass(this.c.dom.button.disabled);return this},name:function(){return this.c.name},node:function(e){var t=this._nodeToButton(e);return _(t.node)},processing:function(e,t){var n=this._nodeToButton(e);if(t===x){return _(n.node).hasClass("processing")}_(n.node).toggleClass("processing",t);return this},remove:function(e){var t=this._nodeToButton(e);var n=this._nodeToHost(e);var i=this.s.dt;if(t.buttons.length){for(var r=t.buttons.length-1;r>=0;r--){this.remove(t.buttons[r].node)}}if(t.conf.destroy){t.conf.destroy.call(i.button(e),i,_(e),t.conf)}this._removeKey(t.conf);_(t.node).remove();var a=_.inArray(t,n);n.splice(a,1);return this},text:function(e,t){var n=this._nodeToButton(e);var i=this.c.dom.collection.buttonLiner;var r=n.inCollection&&i&&i.tag?i.tag:this.c.dom.buttonLiner.tag;var a=this.s.dt;var o=_(n.node);var s=function(e){return typeof e==="function"?e(a,o,n.conf):e};if(t===x){return s(n.conf.text)}n.conf.text=t;if(r){o.children(r).html(s(t))}else{o.html(s(t))}return this},_constructor:function(){var n=this;var e=this.s.dt;var i=e.settings()[0];var t=this.c.buttons;if(!i._buttons){i._buttons=[]}i._buttons.push({inst:this,name:this.c.name});for(var r=0,a=t.length;r<a;r++){this.add(t[r])}e.on("destroy",function(e,t){if(t===i){n.destroy()}});_("body").on("keyup."+this.s.namespace,function(e){if(!A.activeElement||A.activeElement===A.body){var t=String.fromCharCode(e.keyCode).toLowerCase();if(n.s.listenKeys.toLowerCase().indexOf(t)!==-1){n._keypress(t,e)}}})},_addKey:function(e){if(e.key){this.s.listenKeys+=_.isPlainObject(e.key)?e.key.key:e.key}},_draw:function(e,t){if(!e){e=this.dom.container;t=this.s.buttons}e.children().detach();for(var n=0,i=t.length;n<i;n++){e.append(t[n].inserter);e.append(" ");if(t[n].buttons&&t[n].buttons.length){this._draw(t[n].collection,t[n].buttons)}}},_expandButton:function(e,t,n,i){var r=this.s.dt;var a=0;var o=!_.isArray(t)?[t]:t;for(var s=0,l=o.length;s<l;s++){var c=this._resolveExtends(o[s]);if(!c){continue}if(_.isArray(c)){this._expandButton(e,c,n,i);continue}var u=this._buildButton(c,n);if(!u){continue}if(i!==x){e.splice(i,0,u);i++}else{e.push(u)}if(u.conf.buttons){var h=this.c.dom.collection;u.collection=_("<"+h.tag+"/>").addClass(h.className).attr("role","menu");u.conf._collection=u.collection;this._expandButton(u.buttons,u.conf.buttons,true,i)}if(c.init){c.init.call(r.button(u.node),r,_(u.node),c)}a++}},_buildButton:function(t,e){var n=this.c.dom.button;var i=this.c.dom.buttonLiner;var r=this.c.dom.collection;var a=this.s.dt;var o=function(e){return typeof e==="function"?e(a,c,t):e};if(e&&r.button){n=r.button}if(e&&r.buttonLiner){i=r.buttonLiner}if(t.available&&!t.available(a,t)){return false}var s=function(e,t,n,i){i.action.call(t.button(n),e,t,n,i);_(t.table().node()).triggerHandler("buttons-action.dt",[t.button(n),t,n,i])};var l=t.tag||n.tag;var c=_("<"+l+"/>").addClass(n.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault();if(!c.hasClass(n.disabled)&&t.action){s(e,a,c,t)}c.blur()}).on("keyup.dtb",function(e){if(e.keyCode===13){if(!c.hasClass(n.disabled)&&t.action){s(e,a,c,t)}}});if(l.toLowerCase()==="a"){c.attr("href","#")}if(l.toLowerCase()==="button"){c.attr("type","button")}if(i.tag){var u=_("<"+i.tag+"/>").html(o(t.text)).addClass(i.className);if(i.tag.toLowerCase()==="a"){u.attr("href","#")}c.append(u)}else{c.html(o(t.text))}if(t.enabled===false){c.addClass(n.disabled)}if(t.className){c.addClass(t.className)}if(t.titleAttr){c.attr("title",o(t.titleAttr))}if(t.attr){c.attr(t.attr)}if(!t.namespace){t.namespace=".dt-button-"+d++}var h=this.c.dom.buttonContainer;var f;if(h&&h.tag){f=_("<"+h.tag+"/>").addClass(h.className).append(c)}else{f=c}this._addKey(t);return{conf:t,node:c.get(0),inserter:f,buttons:[],inCollection:e,collection:null}},_nodeToButton:function(e,t){if(!t){t=this.s.buttons}for(var n=0,i=t.length;n<i;n++){if(t[n].node===e){return t[n]}if(t[n].buttons.length){var r=this._nodeToButton(e,t[n].buttons);if(r){return r}}}},_nodeToHost:function(e,t){if(!t){t=this.s.buttons}for(var n=0,i=t.length;n<i;n++){if(t[n].node===e){return t}if(t[n].buttons.length){var r=this._nodeToHost(e,t[n].buttons);if(r){return r}}}},_keypress:function(n,i){if(i._buttonsHandled){return}var r=function(e,t){if(!e.key){return}if(e.key===n){i._buttonsHandled=true;_(t).click()}else if(_.isPlainObject(e.key)){if(e.key.key!==n){return}if(e.key.shiftKey&&!i.shiftKey){return}if(e.key.altKey&&!i.altKey){return}if(e.key.ctrlKey&&!i.ctrlKey){return}if(e.key.metaKey&&!i.metaKey){return}i._buttonsHandled=true;_(t).click()}};var a=function(e){for(var t=0,n=e.length;t<n;t++){r(e[t].conf,e[t].node);if(e[t].buttons.length){a(e[t].buttons)}}};a(this.s.buttons)},_removeKey:function(e){if(e.key){var t=_.isPlainObject(e.key)?e.key.key:e.key;var n=this.s.listenKeys.split("");var i=_.inArray(t,n);n.splice(i,1);this.s.listenKeys=n.join("")}},_resolveExtends:function(n){var i=this.s.dt;var e,t;var r=function(e){var t=0;while(!_.isPlainObject(e)&&!_.isArray(e)){if(e===x){return}if(typeof e==="function"){e=e(i,n);if(!e){return false}}else if(typeof e==="string"){if(!c[e]){throw"Unknown button type: "+e}e=c[e]}t++;if(t>30){throw"Buttons: Too many iterations"}}return _.isArray(e)?e:_.extend({},e)};n=r(n);while(n&&n.extend){if(!c[n.extend]){throw"Cannot extend unknown button type: "+n.extend}var a=r(c[n.extend]);if(_.isArray(a)){return a}else if(!a){return false}var o=a.className;n=_.extend({},a,n);if(o&&n.className!==o){n.className=o+" "+n.className}var s=n.postfixButtons;if(s){if(!n.buttons){n.buttons=[]}for(e=0,t=s.length;e<t;e++){n.buttons.push(s[e])}n.postfixButtons=null}var l=n.prefixButtons;if(l){if(!n.buttons){n.buttons=[]}for(e=0,t=l.length;e<t;e++){n.buttons.splice(e,0,l[e])}n.prefixButtons=null}n.extend=a.extend}return n}});C.background=function(e,t,n){if(n===x){n=400}if(e){_("<div/>").addClass(t).css("display","none").appendTo("body").fadeIn(n)}else{_("body > div."+t).fadeOut(n,function(){_(this).removeClass(t).remove()})}};C.instanceSelector=function(e,r){if(!e){return _.map(r,function(e){return e.inst})}var a=[];var o=_.map(r,function(e){return e.name});var s=function(e){if(_.isArray(e)){for(var t=0,n=e.length;t<n;t++){s(e[t])}return}if(typeof e==="string"){if(e.indexOf(",")!==-1){s(e.split(","))}else{var i=_.inArray(_.trim(e),o);if(i!==-1){a.push(r[i].inst)}}}else if(typeof e==="number"){a.push(r[e].inst)}};s(e);return a};C.buttonSelector=function(e,t){var u=[];var h=function(e,t,n){var i;var r;for(var a=0,o=t.length;a<o;a++){i=t[a];if(i){r=n!==x?n+a:a+"";e.push({node:i.node,name:i.conf.name,idx:r});if(i.buttons){h(e,i.buttons,r+"-")}}}};var f=function(e,t){var n,i;var r=[];h(r,t.s.buttons);var a=_.map(r,function(e){return e.node});if(_.isArray(e)||e instanceof _){for(n=0,i=e.length;n<i;n++){f(e[n],t)}return}if(e===null||e===x||e==="*"){for(n=0,i=r.length;n<i;n++){u.push({inst:t,node:r[n].node})}}else if(typeof e==="number"){u.push({inst:t,node:t.s.buttons[e].node})}else if(typeof e==="string"){if(e.indexOf(",")!==-1){var o=e.split(",");for(n=0,i=o.length;n<i;n++){f(_.trim(o[n]),t)}}else if(e.match(/^\d+(\-\d+)*$/)){var s=_.map(r,function(e){return e.idx});u.push({inst:t,node:r[_.inArray(e,s)].node})}else if(e.indexOf(":name")!==-1){var l=e.replace(":name","");for(n=0,i=r.length;n<i;n++){if(r[n].name===l){u.push({inst:t,node:r[n].node})}}}else{_(a).filter(e).each(function(){u.push({inst:t,node:this})})}}else if(typeof e==="object"&&e.nodeName){var c=_.inArray(e,a);if(c!==-1){u.push({inst:t,node:a[c]})}}};for(var n=0,i=e.length;n<i;n++){var r=e[n];f(t,r)}return u};C.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}};C.version="1.5.2";_.extend(c,{collection:{text:function(e){return e.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(e,t,n,i){var r=n;var a=_(n).parents("div.dt-button-collection");var o=r.position();var s=_(t.table().container());var l=false;var c=r;if(a.length){l=_(".dt-button-collection").position();c=a;_("body").trigger("click.dtb-collection")}if(c.parents("body")[0]!==A.body){c=A.body.lastChild}i._collection.addClass(i.collectionLayout).css("display","none").insertAfter(c).fadeIn(i.fade);var u=i._collection.css("position");if(l&&u==="absolute"){i._collection.css({top:l.top,left:l.left})}else if(u==="absolute"){i._collection.css({top:o.top+r.outerHeight(),left:o.left});var h=s.offset().top+s.height();var f=o.top+r.outerHeight()+i._collection.outerHeight();var d=f-h;var p=o.top-i._collection.outerHeight();var m=s.offset().top;var g=m-p;if(d>g||i.dropup){i._collection.css("top",o.top-i._collection.outerHeight()-5)}var v=o.left+i._collection.outerWidth();var b=s.offset().left+s.width();if(v>b){i._collection.css("left",o.left-(v-b))}var y=r.offset().left+i._collection.outerWidth();if(y>_(E).width()){i._collection.css("left",o.left-(y-_(E).width()))}}else{var x=i._collection.height()/2;if(x>_(E).height()/2){x=_(E).height()/2}i._collection.css("marginTop",x*-1)}if(i.background){C.background(true,i.backgroundClassName,i.fade)}var w=function(){i._collection.fadeOut(i.fade,function(){i._collection.detach()});_("div.dt-button-background").off("click.dtb-collection");C.background(false,i.backgroundClassName,i.fade);_("body").off(".dtb-collection");t.off("buttons-action.b-internal")};setTimeout(function(){_("div.dt-button-background").on("click.dtb-collection",function(){});_("body").on("click.dtb-collection",function(e){var t=_.fn.addBack?"addBack":"andSelf";if(!_(e.target).parents()[t]().filter(i._collection).length){w()}}).on("keyup.dtb-collection",function(e){if(e.keyCode===27){w()}});if(i.autoClose){t.on("buttons-action.b-internal",function(){w()})}},10)},background:true,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:false,fade:400,attr:{"aria-haspopup":true}},copy:function(e,t){if(c.copyHtml5){return"copyHtml5"}if(c.copyFlash&&c.copyFlash.available(e,t)){return"copyFlash"}},csv:function(e,t){if(c.csvHtml5&&c.csvHtml5.available(e,t)){return"csvHtml5"}if(c.csvFlash&&c.csvFlash.available(e,t)){return"csvFlash"}},excel:function(e,t){if(c.excelHtml5&&c.excelHtml5.available(e,t)){return"excelHtml5"}if(c.excelFlash&&c.excelFlash.available(e,t)){return"excelFlash"}},pdf:function(e,t){if(c.pdfHtml5&&c.pdfHtml5.available(e,t)){return"pdfHtml5"}if(c.pdfFlash&&c.pdfFlash.available(e,t)){return"pdfFlash"}},pageLength:function(e){var t=e.settings()[0].aLengthMenu;var n=_.isArray(t[0])?t[0]:t;var i=_.isArray(t[0])?t[1]:t;var r=function(e){return e.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},e.page.len())};return{extend:"collection",text:r,className:"buttons-page-length",autoClose:true,buttons:_.map(n,function(a,e){return{text:i[e],className:"button-page-length",action:function(e,t){t.page.len(a).draw()},init:function(e,t,n){var i=this;var r=function(){i.active(e.page.len()===a)};e.on("length.dt"+n.namespace,r);r()},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}),init:function(e,t,n){var i=this;e.on("length.dt"+n.namespace,function(){i.text(r(e))})},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}});i.Api.register("buttons()",function(t,n){if(n===x){n=t;t=x}this.selector.buttonGroup=t;var e=this.iterator(true,"table",function(e){if(e._buttons){return C.buttonSelector(C.instanceSelector(t,e._buttons),n)}},true);e._groupSelector=t;return e});i.Api.register("button()",function(e,t){var n=this.buttons(e,t);if(n.length>1){n.splice(1,n.length)}return n});i.Api.registerPlural("buttons().active()","button().active()",function(t){if(t===x){return this.map(function(e){return e.inst.active(e.node)})}return this.each(function(e){e.inst.active(e.node,t)})});i.Api.registerPlural("buttons().action()","button().action()",function(t){if(t===x){return this.map(function(e){return e.inst.action(e.node)})}return this.each(function(e){e.inst.action(e.node,t)})});i.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.node,t)})});i.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(e){e.inst.disable(e.node)})});i.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=_();_(this.each(function(e){t=t.add(e.inst.node(e.node))}));return t});i.Api.registerPlural("buttons().processing()","button().processing()",function(t){if(t===x){return this.map(function(e){return e.inst.processing(e.node)})}return this.each(function(e){e.inst.processing(e.node,t)})});i.Api.registerPlural("buttons().text()","button().text()",function(t){if(t===x){return this.map(function(e){return e.inst.text(e.node)})}return this.each(function(e){e.inst.text(e.node,t)})});i.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(e){e.inst.node(e.node).trigger("click")})});i.Api.registerPlural("buttons().containers()","buttons().container()",function(){var r=_();var a=this._groupSelector;this.iterator(true,"table",function(e){if(e._buttons){var t=C.instanceSelector(a,e._buttons);for(var n=0,i=t.length;n<i;n++){r=r.add(t[n].container())}}});return r});i.Api.register("button().add()",function(e,t){var n=this.context;if(n.length){var i=C.instanceSelector(this._groupSelector,n[0]._buttons);if(i.length){i[0].add(t,e)}}return this.button(this._groupSelector,e)});i.Api.register("buttons().destroy()",function(){this.pluck("inst").unique().each(function(e){e.destroy()});return this});i.Api.registerPlural("buttons().remove()","buttons().remove()",function(){this.each(function(e){e.inst.remove(e.node)});return this});var r;i.Api.register("buttons.info()",function(e,t,n){var i=this;if(e===false){_("#datatables_buttons_info").fadeOut(function(){_(this).remove()});clearTimeout(r);r=null;return this}if(r){clearTimeout(r)}if(_("#datatables_buttons_info").length){_("#datatables_buttons_info").remove()}e=e?"<h2>"+e+"</h2>":"";_('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e).append(_("<div/>")[typeof t==="string"?"html":"append"](t)).css("display","none").appendTo("body").fadeIn();if(n!==x&&n!==0){r=setTimeout(function(){i.buttons.info(false)},n)}return this});i.Api.register("buttons.exportData()",function(e){if(this.context.length){return l(new i.Api(this.context[0]),e)}});i.Api.register("buttons.exportInfo()",function(e){if(!e){e={}}return{filename:t(e),title:a(e),messageTop:s(this,e.message||e.messageTop,"top"),messageBottom:s(this,e.messageBottom,"bottom")}});var t=function(e){var t=e.filename==="*"&&e.title!=="*"&&e.title!==x&&e.title!==null&&e.title!==""?e.title:e.filename;if(typeof t==="function"){t=t()}if(t===x||t===null){return null}if(t.indexOf("*")!==-1){t=_.trim(t.replace("*",_("head > title").text()))}t=t.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var n=o(e.extension);if(!n){n=""}return t+n};var o=function(e){if(e===null||e===x){return null}else if(typeof e==="function"){return e()}return e};var a=function(e){var t=o(e.title);return t===null?null:t.indexOf("*")!==-1?t.replace("*",_("head > title").text()||"Exported data"):t};var s=function(e,t,n){var i=o(t);if(i===null){return null}var r=_("caption",e.table().container()).eq(0);if(i==="*"){var a=r.css("caption-side");if(a!==n){return null}return r.length?r.text():""}return i};var w=_("<textarea/>")[0];var l=function(n,e){var i=_.extend(true,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:true,stripNewlines:true,decodeEntities:true,trim:true,format:{header:function(e){return t(e)},footer:function(e){return t(e)},body:function(e){return t(e)}},customizeData:null},e);var t=function(e){if(typeof e!=="string"){return e}e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");e=e.replace(/<!\-\-.*?\-\->/g,"");if(i.stripHtml){e=e.replace(/<[^>]*>/g,"")}if(i.trim){e=e.replace(/^\s+|\s+$/g,"")}if(i.stripNewlines){e=e.replace(/\n/g," ")}if(i.decodeEntities){w.innerHTML=e;e=w.value}return e};var r=n.columns(i.columns).indexes().map(function(e){var t=n.column(e).header();return i.format.header(t.innerHTML,e,t)}).toArray();var a=n.table().footer()?n.columns(i.columns).indexes().map(function(e){var t=n.column(e).footer();return i.format.footer(t?t.innerHTML:"",e,t)}).toArray():null;var o=_.extend({},i.modifier);if(n.select&&typeof n.select.info==="function"&&o.selected===x){if(n.rows(i.rows,_.extend({selected:true},o)).any()){_.extend(o,{selected:true})}}var s=n.rows(i.rows,o).indexes().toArray();var l=n.cells(s,i.columns);var c=l.render(i.orthogonal).toArray();var u=l.nodes().toArray();var h=r.length;var f=h>0?c.length/h:0;var d=[];var p=0;for(var m=0,g=f;m<g;m++){var v=[h];for(var b=0;b<h;b++){v[b]=i.format.body(c[p],m,b,u[p]);p++}d[m]=v}var y={header:r,footer:a,body:d};if(i.customizeData){i.customizeData(y)}return y};_.fn.dataTable.Buttons=C;_.fn.DataTable.Buttons=C;_(A).on("init.dt plugin-init.dt",function(e,t){if(e.namespace!=="dt"){return}var n=t.oInit.buttons||i.defaults.buttons;if(n&&!t._buttons){new C(t,n).container()}});i.ext.feature.push({fnInit:function(e){var t=new i.Api(e);var n=t.init().buttons||i.defaults.buttons;return new C(t,n).container()},cFeature:"B"});return C})},{"datatables.net":18}],18:[function(i,e,t){(function(n){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],function(e){return n(e,window,document)})}else if(typeof t==="object"){e.exports=function(e,t){if(!e){e=window}if(!t){t=typeof window!=="undefined"?i("jquery"):i("jquery")(e)}return n(t,e,e.document)}}else{n(jQuery,window,document)}})(function($,D,y,W){"use strict";var R=function(M){this.$=function(e,t){return this.api(true).$(e,t)};this._=function(e,t){return this.api(true).rows(e,t).data()};this.api=function(e){return e?new b(ct(this[p.iApiIndex])):new b(this)};this.fnAddData=function(e,t){var n=this.api(true);var i=$.isArray(e)&&($.isArray(e[0])||$.isPlainObject(e[0]))?n.rows.add(e):n.row.add(e);if(t===W||t){n.draw()}return i.flatten().toArray()};this.fnAdjustColumnSizing=function(e){var t=this.api(true).columns.adjust();var n=t.settings()[0];var i=n.oScroll;if(e===W||e){t.draw(false)}else if(i.sX!==""||i.sY!==""){Ve(n)}};this.fnClearTable=function(e){var t=this.api(true).clear();if(e===W||e){t.draw()}};this.fnClose=function(e){this.api(true).row(e).child.hide()};this.fnDeleteRow=function(e,t,n){var i=this.api(true);var r=i.rows(e);var a=r.settings()[0];var o=a.aoData[r[0][0]];r.remove();if(t){t.call(this,a,o)}if(n===W||n){i.draw()}return o};this.fnDestroy=function(e){this.api(true).destroy(e)};this.fnDraw=function(e){this.api(true).draw(e)};this.fnFilter=function(e,t,n,i,r,a){var o=this.api(true);if(t===null||t===W){o.search(e,n,i,a)}else{o.column(t).search(e,n,i,a)}o.draw()};this.fnGetData=function(e,t){var n=this.api(true);if(e!==W){var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==W||i=="td"||i=="th"?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()};this.fnGetNodes=function(e){var t=this.api(true);return e!==W?t.row(e).node():t.rows().nodes().flatten().toArray()};this.fnGetPosition=function(e){var t=this.api(true);var n=e.nodeName.toUpperCase();if(n=="TR"){return t.row(e).index()}else if(n=="TD"||n=="TH"){var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]}return null};this.fnIsOpen=function(e){return this.api(true).row(e).child.isShown()};this.fnOpen=function(e,t,n){return this.api(true).row(e).child(t,n).show().child()[0]};this.fnPageChange=function(e,t){var n=this.api(true).page(e);if(t===W||t){n.draw(false)}};this.fnSetColumnVis=function(e,t,n){var i=this.api(true).column(e).visible(t);if(n===W||n){i.columns.adjust().draw()}};this.fnSettings=function(){return ct(this[p.iApiIndex])};this.fnSort=function(e){this.api(true).order(e).draw()};this.fnSortListener=function(e,t,n){this.api(true).order.listener(e,t,n)};this.fnUpdate=function(e,t,n,i,r){var a=this.api(true);if(n===W||n===null){a.row(t).data(e)}else{a.cell(t,n).data(e)}if(r===W||r){a.columns.adjust()}if(i===W||i){a.draw()}return 0};this.fnVersionCheck=p.fnVersionCheck;var k=this;var D=M===W;var L=this.length;if(D){M={}}this.oApi=this.internal=p.internal;for(var e in R.ext.internal){if(e){this[e]=Gt(e)}}this.each(function(){var e={};var a=L>1?ft(e,M,true):M;var o=0,s,t,n,i,r;var l=this.getAttribute("id");var c=false;var u=R.defaults;var h=$(this);if(this.nodeName.toLowerCase()!="table"){ut(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}I(u);N(u.column);F(u,u,true);F(u.column,u.column,true);F(u,$.extend(a,h.data()));var f=R.settings;for(o=0,s=f.length;o<s;o++){var d=f[o];if(d.nTable==this||d.nTHead&&d.nTHead.parentNode==this||d.nTFoot&&d.nTFoot.parentNode==this){var p=a.bRetrieve!==W?a.bRetrieve:u.bRetrieve;var m=a.bDestroy!==W?a.bDestroy:u.bDestroy;if(D||p){return d.oInstance}else if(m){d.oInstance.fnDestroy();break}else{ut(d,0,"Cannot reinitialise DataTable",3);return}}if(d.sTableId==this.id){f.splice(o,1);break}}if(l===null||l===""){l="DataTables_Table_"+R.ext._unique++;this.id=l}var g=$.extend(true,{},R.models.oSettings,{sDestroyWidth:h[0].style.width,sInstance:l,sTableId:l});g.nTable=this;g.oApi=k.internal;g.oInit=a;f.push(g);g.oInstance=k.length===1?k:h.dataTable();I(a);P(a.oLanguage);if(a.aLengthMenu&&!a.iDisplayLength){a.iDisplayLength=$.isArray(a.aLengthMenu[0])?a.aLengthMenu[0][0]:a.aLengthMenu[0]}a=ft($.extend(true,{},u),a);ht(g.oFeatures,a,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);ht(g,a,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]);ht(g.oScroll,a,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);ht(g.oLanguage,a,"fnInfoCallback");pt(g,"aoDrawCallback",a.fnDrawCallback,"user");pt(g,"aoServerParams",a.fnServerParams,"user");pt(g,"aoStateSaveParams",a.fnStateSaveParams,"user");pt(g,"aoStateLoadParams",a.fnStateLoadParams,"user");pt(g,"aoStateLoaded",a.fnStateLoaded,"user");pt(g,"aoRowCallback",a.fnRowCallback,"user");pt(g,"aoRowCreatedCallback",a.fnCreatedRow,"user");pt(g,"aoHeaderCallback",a.fnHeaderCallback,"user");pt(g,"aoFooterCallback",a.fnFooterCallback,"user");pt(g,"aoInitComplete",a.fnInitComplete,"user");pt(g,"aoPreDrawCallback",a.fnPreDrawCallback,"user");g.rowIdFn=ee(a.rowId);O(g);var v=g.oClasses;$.extend(v,R.ext.classes,a.oClasses);h.addClass(v.sTable);if(g.iInitDisplayStart===W){g.iInitDisplayStart=a.iDisplayStart;g._iDisplayStart=a.iDisplayStart}if(a.iDeferLoading!==null){g.bDeferLoading=true;var b=$.isArray(a.iDeferLoading);g._iRecordsDisplay=b?a.iDeferLoading[0]:a.iDeferLoading;g._iRecordsTotal=b?a.iDeferLoading[1]:a.iDeferLoading}var y=g.oLanguage;$.extend(true,y,a.oLanguage);if(y.sUrl){$.ajax({dataType:"json",url:y.sUrl,success:function(e){P(e);F(u.oLanguage,e);$.extend(true,y,e);Ne(g)},error:function(){Ne(g)}});c=true}if(a.asStripeClasses===null){g.asStripeClasses=[v.sStripeOdd,v.sStripeEven]}var x=g.asStripeClasses;var w=h.children("tbody").find("tr").eq(0);if($.inArray(true,$.map(x,function(e,t){return w.hasClass(e)}))!==-1){$("tbody tr",this).removeClass(x.join(" "));g.asDestroyStripes=x.slice()}var _=[];var E;var A=this.getElementsByTagName("thead");if(A.length!==0){pe(g.aoHeader,A[0]);_=me(g)}if(a.aoColumns===null){E=[];for(o=0,s=_.length;o<s;o++){E.push(null)}}else{E=a.aoColumns}for(o=0,s=E.length;o<s;o++){B(g,_?_[o]:null)}H(g,a.aoColumnDefs,E,function(e,t){z(g,e,t)});if(w.length){var C=function(e,t){return e.getAttribute("data-"+t)!==null?t:null};$(w[0]).children("th, td").each(function(e,t){var n=g.aoColumns[e];if(n.mData===e){var i=C(t,"sort")||C(t,"order");var r=C(t,"filter")||C(t,"search");if(i!==null||r!==null){n.mData={_:e+".display",sort:i!==null?e+".@data-"+i:W,type:i!==null?e+".@data-"+i:W,filter:r!==null?e+".@data-"+r:W};z(g,e)}}})}var S=g.oFeatures;var T=function(){if(a.aaSorting===W){var e=g.aaSorting;for(o=0,s=e.length;o<s;o++){e[o][1]=g.aoColumns[o].asSorting[0]}}at(g);if(S.bSort){pt(g,"aoDrawCallback",function(){if(g.bSorted){var e=et(g);var n={};$.each(e,function(e,t){n[t.src]=t.dir});mt(g,null,"order",[g,e,n]);nt(g)}})}pt(g,"aoDrawCallback",function(){if(g.bSorted||bt(g)==="ssp"||S.bDeferRender){at(g)}},"sc");var t=h.children("caption").each(function(){this._captionSide=$(this).css("caption-side")});var n=h.children("thead");if(n.length===0){n=$("<thead/>").appendTo(h)}g.nTHead=n[0];var i=h.children("tbody");if(i.length===0){i=$("<tbody/>").appendTo(h)}g.nTBody=i[0];var r=h.children("tfoot");if(r.length===0&&t.length>0&&(g.oScroll.sX!==""||g.oScroll.sY!=="")){r=$("<tfoot/>").appendTo(h)}if(r.length===0||r.children().length===0){h.addClass(v.sNoFooter)}else if(r.length>0){g.nTFoot=r[0];pe(g.aoFooter,g.nTFoot)}if(a.aaData){for(o=0;o<a.aaData.length;o++){j(g,a.aaData[o])}}else if(g.bDeferLoading||bt(g)=="dom"){X(g,$(g.nTBody).children("tr"))}g.aiDisplay=g.aiDisplayMaster.slice();g.bInitialised=true;if(c===false){Ne(g)}};if(a.bStateSave){S.bStateSave=true;pt(g,"aoDrawCallback",st,"state_save");lt(g,a,T)}else{T()}});k=null;return this};var p;var b;var t;var e;var n={};var i=/[\r\n]/g;var r=/<.*?>/g;var a=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/;var o=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");var s=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi;var l=function(e){return!e||e===true||e==="-"?true:false};var d=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null};var c=function(e,t){if(!n[t]){n[t]=new RegExp(Te(t),"g")}return typeof e==="string"&&t!=="."?e.replace(/\./g,"").replace(n[t],"."):e};var u=function(e,t,n){var i=typeof e==="string";if(l(e)){return true}if(t&&i){e=c(e,t)}if(n&&i){e=e.replace(s,"")}return!isNaN(parseFloat(e))&&isFinite(e)};var h=function(e){return l(e)||typeof e==="string"};var f=function(e,t,n){if(l(e)){return true}var i=h(e);return!i?null:u(x(e),t,n)?true:null};var V=function(e,t,n){var i=[];var r=0,a=e.length;if(n!==W){for(;r<a;r++){if(e[r]&&e[r][t]){i.push(e[r][t][n])}}}else{for(;r<a;r++){if(e[r]){i.push(e[r][t])}}}return i};var g=function(e,t,n,i){var r=[];var a=0,o=t.length;if(i!==W){for(;a<o;a++){if(e[t[a]][n]){r.push(e[t[a]][n][i])}}}else{for(;a<o;a++){r.push(e[t[a]][n])}}return r};var m=function(e,t){var n=[];var i;if(t===W){t=0;i=e}else{i=t;t=e}for(var r=t;r<i;r++){n.push(r)}return n};var v=function(e){var t=[];for(var n=0,i=e.length;n<i;n++){if(e[n]){t.push(e[n])}}return t};var x=function(e){return e.replace(r,"")};var w=function(e){if(e.length<2){return true}var t=e.slice().sort();var n=t[0];for(var i=1,r=t.length;i<r;i++){if(t[i]===n){return false}n=t[i]}return true};var _=function(e){if(w(e)){return e.slice()}var t=[],n,i,r=e.length,a,o=0;e:for(i=0;i<r;i++){n=e[i];for(a=0;a<o;a++){if(t[a]===n){continue e}}t.push(n);o++}return t};R.util={throttle:function(i,e){var r=e!==W?e:200,a,o;return function(){var e=this,t=+new Date,n=arguments;if(a&&t<a+r){clearTimeout(o);o=setTimeout(function(){a=W;i.apply(e,n)},r)}else{a=t;i.apply(e,n)}}},escapeRegex:function(e){return e.replace(o,"\\$1")}};function E(n){var i="a aa ai ao as b fn i m o s ",r,a,o={};$.each(n,function(e,t){r=e.match(/^([^A-Z]+?)([A-Z])/);if(r&&i.indexOf(r[1]+" ")!==-1){a=e.replace(r[0],r[2].toLowerCase());o[a]=e;if(r[1]==="o"){E(n[e])}}});n._hungarianMap=o}function F(n,i,r){if(!n._hungarianMap){E(n)}var a;$.each(i,function(e,t){a=n._hungarianMap[e];if(a!==W&&(r||i[a]===W)){if(a.charAt(0)==="o"){if(!i[a]){i[a]={}}$.extend(true,i[a],i[e]);F(n[a],i[a],r)}else{i[a]=i[e]}}})}function P(e){var t=R.defaults.oLanguage;var n=t.sDecimal;if(n){Wt(n)}if(e){var i=e.sZeroRecords;if(!e.sEmptyTable&&i&&t.sEmptyTable==="No data available in table"){ht(e,e,"sZeroRecords","sEmptyTable")}if(!e.sLoadingRecords&&i&&t.sLoadingRecords==="Loading..."){ht(e,e,"sZeroRecords","sLoadingRecords")}if(e.sInfoThousands){e.sThousands=e.sInfoThousands}var r=e.sDecimal;if(r&&n!==r){Wt(r)}}}var A=function(e,t,n){if(e[t]!==W){e[n]=e[t]}};function I(e){A(e,"ordering","bSort");A(e,"orderMulti","bSortMulti");A(e,"orderClasses","bSortClasses");A(e,"orderCellsTop","bSortCellsTop");A(e,"order","aaSorting");A(e,"orderFixed","aaSortingFixed");A(e,"paging","bPaginate");A(e,"pagingType","sPaginationType");A(e,"pageLength","iDisplayLength");A(e,"searching","bFilter");if(typeof e.sScrollX==="boolean"){e.sScrollX=e.sScrollX?"100%":""}if(typeof e.scrollX==="boolean"){e.scrollX=e.scrollX?"100%":""}var t=e.aoSearchCols;if(t){for(var n=0,i=t.length;n<i;n++){if(t[n]){F(R.models.oSearch,t[n])}}}}function N(e){A(e,"orderable","bSortable");A(e,"orderData","aDataSort");A(e,"orderSequence","asSorting");A(e,"orderDataType","sortDataType");var t=e.aDataSort;if(typeof t==="number"&&!$.isArray(t)){e.aDataSort=[t]}}function O(e){if(!R.__browser){var t={};R.__browser=t;var n=$("<div/>").css({position:"fixed",top:0,left:$(D).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append($("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append($("<div/>").css({width:"100%",height:10}))).appendTo("body");var i=n.children();var r=i.children();t.barWidth=i[0].offsetWidth-i[0].clientWidth;t.bScrollOversize=r[0].offsetWidth===100&&i[0].clientWidth!==100;t.bScrollbarLeft=Math.round(r.offset().left)!==1;t.bBounding=n[0].getBoundingClientRect().width?true:false;n.remove()}$.extend(e.oBrowser,R.__browser);e.oScroll.iBarWidth=R.__browser.barWidth}function C(e,t,n,i,r,a){var o=i,s,l=false;if(n!==W){s=n;l=true}while(o!==r){if(!e.hasOwnProperty(o)){continue}s=l?t(s,e[o],o,e):e[o];l=true;o+=a}return s}function B(e,t){var n=R.defaults.column;var i=e.aoColumns.length;var r=$.extend({},R.models.oColumn,n,{nTh:t?t:y.createElement("th"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[i],mData:n.mData?n.mData:i,idx:i});e.aoColumns.push(r);var a=e.aoPreSearchCols;a[i]=$.extend({},R.models.oSearch,a[i]);z(e,i,$(t).data())}function z(e,t,n){var i=e.aoColumns[t];var r=e.oClasses;var a=$(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=a.attr("width")||null;var o=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);if(o){i.sWidthOrig=o[1]}}if(n!==W&&n!==null){N(n);F(R.defaults.column,n);if(n.mDataProp!==W&&!n.mData){n.mData=n.mDataProp}if(n.sType){i._sManualType=n.sType}if(n.className&&!n.sClass){n.sClass=n.className}if(n.sClass){a.addClass(n.sClass)}$.extend(i,n);ht(i,n,"sWidth","sWidthOrig");if(n.iDataSort!==W){i.aDataSort=[n.iDataSort]}ht(i,n,"aDataSort")}var s=i.mData;var l=ee(s);var c=i.mRender?ee(i.mRender):null;var u=function(e){return typeof e==="string"&&e.indexOf("@")!==-1};i._bAttrSrc=$.isPlainObject(s)&&(u(s.sort)||u(s.type)||u(s.filter));i._setter=null;i.fnGetData=function(e,t,n){var i=l(e,t,W,n);return c&&t?c(i,t,e,n):i};i.fnSetData=function(e,t,n){return te(s)(e,t,n)};if(typeof s!=="number"){e._rowReadObject=true}if(!e.oFeatures.bSort){i.bSortable=false;a.addClass(r.sSortableNone)}var h=$.inArray("asc",i.asSorting)!==-1;var f=$.inArray("desc",i.asSorting)!==-1;if(!i.bSortable||!h&&!f){i.sSortingClass=r.sSortableNone;i.sSortingClassJUI=""}else if(h&&!f){i.sSortingClass=r.sSortableAsc;i.sSortingClassJUI=r.sSortJUIAscAllowed}else if(!h&&f){i.sSortingClass=r.sSortableDesc;i.sSortingClassJUI=r.sSortJUIDescAllowed}else{i.sSortingClass=r.sSortable;i.sSortingClassJUI=r.sSortJUI}}function G(e){if(e.oFeatures.bAutoWidth!==false){var t=e.aoColumns;Xe(e);for(var n=0,i=t.length;n<i;n++){t[n].nTh.style.width=t[n].sWidth}}var r=e.oScroll;if(r.sY!==""||r.sX!==""){Ve(e)}mt(e,null,"column-sizing",[e])}function q(e,t){var n=U(e,"bVisible");return typeof n[t]==="number"?n[t]:null}function S(e,t){var n=U(e,"bVisible");var i=$.inArray(t,n);return i!==-1?i:null}function L(e){var n=0;$.each(e.aoColumns,function(e,t){if(t.bVisible&&$(t.nTh).css("display")!=="none"){n++}});return n}function U(e,n){var i=[];$.map(e.aoColumns,function(e,t){if(e[n]){i.push(t)}});return i}function T(e){var t=e.aoColumns;var n=e.aoData;var i=R.ext.type.detect;var r,a,o,s,l,c;var u,h,f,d;for(r=0,a=t.length;r<a;r++){u=t[r];d=[];if(!u.sType&&u._sManualType){u.sType=u._sManualType}else if(!u.sType){for(o=0,s=i.length;o<s;o++){for(l=0,c=n.length;l<c;l++){if(d[l]===W){d[l]=Y(e,l,r,"type")}f=i[o](d[l],e);if(!f&&o!==i.length-1){break}if(f==="html"){break}}if(f){u.sType=f;break}}if(!u.sType){u.sType="string"}}}}function H(e,t,n,i){var r,a,o,s,l,c,u;var h=e.aoColumns;if(t){for(r=t.length-1;r>=0;r--){u=t[r];var f=u.targets!==W?u.targets:u.aTargets;if(!$.isArray(f)){f=[f]}for(o=0,s=f.length;o<s;o++){if(typeof f[o]==="number"&&f[o]>=0){while(h.length<=f[o]){B(e)}i(f[o],u)}else if(typeof f[o]==="number"&&f[o]<0){i(h.length+f[o],u)}else if(typeof f[o]==="string"){for(l=0,c=h.length;l<c;l++){if(f[o]=="_all"||$(h[l].nTh).hasClass(f[o])){i(l,u)}}}}}}if(n){for(r=0,a=n.length;r<a;r++){i(r,n[r])}}}function j(e,t,n,i){var r=e.aoData.length;var a=$.extend(true,{},R.models.oRow,{src:n?"dom":"data",idx:r});a._aData=t;e.aoData.push(a);var o,s;var l=e.aoColumns;for(var c=0,u=l.length;c<u;c++){l[c].sType=null}e.aiDisplayMaster.push(r);var h=e.rowIdFn(t);if(h!==W){e.aIds[h]=a}if(n||!e.oFeatures.bDeferRender){se(e,r,n,i)}return r}function X(n,e){var i;if(!(e instanceof $)){e=$(e)}return e.map(function(e,t){i=oe(n,t);return j(n,i.data,t,i.cells)})}function M(e,t){return t._DT_RowIndex!==W?t._DT_RowIndex:null}function k(e,t,n){return $.inArray(n,e.aoData[t].anCells)}function Y(e,t,n,i){var r=e.iDraw;var a=e.aoColumns[n];var o=e.aoData[t]._aData;var s=a.sDefaultContent;var l=a.fnGetData(o,i,{settings:e,row:t,col:n});if(l===W){if(e.iDrawError!=r&&s===null){ut(e,0,"Requested unknown parameter "+(typeof a.mData=="function"?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4);e.iDrawError=r}return s}if((l===o||l===null)&&s!==null&&i!==W){l=s}else if(typeof l==="function"){return l.call(o)}if(l===null&&i=="display"){return""}return l}function K(e,t,n,i){var r=e.aoColumns[n];var a=e.aoData[t]._aData;r.fnSetData(a,i,{settings:e,row:t,col:n})}var Z=/\[.*?\]$/;var Q=/\(\)$/;function J(e){return $.map(e.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function ee(r){if($.isPlainObject(r)){var a={};$.each(r,function(e,t){if(t){a[e]=ee(t)}});return function(e,t,n,i){var r=a[t]||a._;return r!==W?r(e,t,n,i):e}}else if(r===null){return function(e){return e}}else if(typeof r==="function"){return function(e,t,n,i){return r(e,t,n,i)}}else if(typeof r==="string"&&(r.indexOf(".")!==-1||r.indexOf("[")!==-1||r.indexOf("(")!==-1)){var d=function(e,t,n){var i,r,a,o;if(n!==""){var s=J(n);for(var l=0,c=s.length;l<c;l++){i=s[l].match(Z);r=s[l].match(Q);if(i){s[l]=s[l].replace(Z,"");if(s[l]!==""){e=e[s[l]]}a=[];s.splice(0,l+1);o=s.join(".");if($.isArray(e)){for(var u=0,h=e.length;u<h;u++){a.push(d(e[u],t,o))}}var f=i[0].substring(1,i[0].length-1);e=f===""?a:a.join(f);break}else if(r){s[l]=s[l].replace(Q,"");e=e[s[l]]();continue}if(e===null||e[s[l]]===W){return W}e=e[s[l]]}}return e};return function(e,t){return d(e,t,r)}}else{return function(e,t){return e[r]}}}function te(i){if($.isPlainObject(i)){return te(i._)}else if(i===null){return function(){}}else if(typeof i==="function"){return function(e,t,n){i(e,"set",t,n)}}else if(typeof i==="string"&&(i.indexOf(".")!==-1||i.indexOf("[")!==-1||i.indexOf("(")!==-1)){var p=function(e,t,n){var i=J(n),r;var a=i[i.length-1];var o,s,l,c;for(var u=0,h=i.length-1;u<h;u++){o=i[u].match(Z);s=i[u].match(Q);if(o){i[u]=i[u].replace(Z,"");e[i[u]]=[];r=i.slice();r.splice(0,u+1);c=r.join(".");if($.isArray(t)){for(var f=0,d=t.length;f<d;f++){l={};p(l,t[f],c);e[i[u]].push(l)}}else{e[i[u]]=t}return}else if(s){i[u]=i[u].replace(Q,"");e=e[i[u]](t)}if(e[i[u]]===null||e[i[u]]===W){e[i[u]]={}}e=e[i[u]]}if(a.match(Q)){e=e[a.replace(Q,"")](t)}else{e[a.replace(Z,"")]=t}};return function(e,t){return p(e,t,i)}}else{return function(e,t){e[i]=t}}}function ne(e){return V(e.aoData,"_aData")}function ie(e){e.aoData.length=0;e.aiDisplayMaster.length=0;e.aiDisplay.length=0;e.aIds={}}function re(e,t,n){var i=-1;for(var r=0,a=e.length;r<a;r++){if(e[r]==t){i=r}else if(e[r]>t){e[r]--}}if(i!=-1&&n===W){e.splice(i,1)}}function ae(n,i,e,t){var r=n.aoData[i];var a,o;var s=function(e,t){while(e.childNodes.length){e.removeChild(e.firstChild)}e.innerHTML=Y(n,i,t,"display")};if(e==="dom"||(!e||e==="auto")&&r.src==="dom"){r._aData=oe(n,r,t,t===W?W:r._aData).data}else{var l=r.anCells;if(l){if(t!==W){s(l[t],t)}else{for(a=0,o=l.length;a<o;a++){s(l[a],a)}}}}r._aSortData=null;r._aFilterData=null;var c=n.aoColumns;if(t!==W){c[t].sType=null}else{for(a=0,o=c.length;a<o;a++){c[a].sType=null}le(n,r)}}function oe(e,t,n,a){var i=[],r=t.firstChild,o,s,l,c=0,u,h=e.aoColumns,f=e._rowReadObject;a=a!==W?a:f?{}:[];var d=function(e,t){if(typeof e==="string"){var n=e.indexOf("@");if(n!==-1){var i=e.substring(n+1);var r=te(e);r(a,t.getAttribute(i))}}};var p=function(e){if(n===W||n===c){s=h[c];u=$.trim(e.innerHTML);if(s&&s._bAttrSrc){var t=te(s.mData._);t(a,u);d(s.mData.sort,e);d(s.mData.type,e);d(s.mData.filter,e)}else{if(f){if(!s._setter){s._setter=te(s.mData)}s._setter(a,u)}else{a[c]=u}}}c++};if(r){while(r){o=r.nodeName.toUpperCase();if(o=="TD"||o=="TH"){p(r);i.push(r)}r=r.nextSibling}}else{i=t.anCells;for(var m=0,g=i.length;m<g;m++){p(i[m])}}var v=t.firstChild?t:t.nTr;if(v){var b=v.getAttribute("id");if(b){te(e.rowId)(a,b)}}return{data:a,cells:i}}function se(e,t,n,i){var r=e.aoData[t],a=r._aData,o=[],s,l,c,u,h;if(r.nTr===null){s=n||y.createElement("tr");r.nTr=s;r.anCells=o;s._DT_RowIndex=t;le(e,r);for(u=0,h=e.aoColumns.length;u<h;u++){c=e.aoColumns[u];l=n?i[u]:y.createElement(c.sCellType);l._DT_CellIndex={row:t,column:u};o.push(l);if((!n||c.mRender||c.mData!==u)&&(!$.isPlainObject(c.mData)||c.mData._!==u+".display")){l.innerHTML=Y(e,t,u,"display")}if(c.sClass){l.className+=" "+c.sClass}if(c.bVisible&&!n){s.appendChild(l)}else if(!c.bVisible&&n){l.parentNode.removeChild(l)}if(c.fnCreatedCell){c.fnCreatedCell.call(e.oInstance,l,Y(e,t,u),a,t,u)}}mt(e,"aoRowCreatedCallback",null,[s,a,t,o])}r.nTr.setAttribute("role","row")}function le(e,t){var n=t.nTr;var i=t._aData;if(n){var r=e.rowIdFn(i);if(r){n.id=r}if(i.DT_RowClass){var a=i.DT_RowClass.split(" ");t.__rowc=t.__rowc?_(t.__rowc.concat(a)):a;$(n).removeClass(t.__rowc.join(" ")).addClass(i.DT_RowClass)}if(i.DT_RowAttr){$(n).attr(i.DT_RowAttr)}if(i.DT_RowData){$(n).data(i.DT_RowData)}}}function ce(e){var t,n,i,r,a;var o=e.nTHead;var s=e.nTFoot;var l=$("th, td",o).length===0;var c=e.oClasses;var u=e.aoColumns;if(l){r=$("<tr/>").appendTo(o)}for(t=0,n=u.length;t<n;t++){a=u[t];i=$(a.nTh).addClass(a.sClass);if(l){i.appendTo(r)}if(e.oFeatures.bSort){i.addClass(a.sSortingClass);if(a.bSortable!==false){i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId);rt(e,a.nTh,t)}}if(a.sTitle!=i[0].innerHTML){i.html(a.sTitle)}vt(e,"header")(e,i,a,c)}if(l){pe(e.aoHeader,o)}$(o).find(">tr").attr("role","row");$(o).find(">tr>th, >tr>td").addClass(c.sHeaderTH);$(s).find(">tr>th, >tr>td").addClass(c.sFooterTH);if(s!==null){var h=e.aoFooter[0];for(t=0,n=h.length;t<n;t++){a=u[t];a.nTf=h[t].cell;if(a.sClass){$(a.nTf).addClass(a.sClass)}}}}function ue(e,t,n){var i,r,a,o,s,l,c,u;var h=[];var f=[];var d=e.aoColumns.length;var p,m;if(!t){return}if(n===W){n=false}for(i=0,r=t.length;i<r;i++){h[i]=t[i].slice();h[i].nTr=t[i].nTr;for(a=d-1;a>=0;a--){if(!e.aoColumns[a].bVisible&&!n){h[i].splice(a,1)}}f.push([])}for(i=0,r=h.length;i<r;i++){u=h[i].nTr;if(u){while(c=u.firstChild){u.removeChild(c)}}for(a=0,o=h[i].length;a<o;a++){p=1;m=1;if(f[i][a]===W){u.appendChild(h[i][a].cell);f[i][a]=1;while(h[i+p]!==W&&h[i][a].cell==h[i+p][a].cell){f[i+p][a]=1;p++}while(h[i][a+m]!==W&&h[i][a].cell==h[i][a+m].cell){for(s=0;s<p;s++){f[i+s][a+m]=1}m++}$(h[i][a].cell).attr("rowspan",p).attr("colspan",m)}}}}function he(e){var t=mt(e,"aoPreDrawCallback","preDraw",[e]);if($.inArray(false,t)!==-1){$e(e,false);return}var n,i,r;var a=[];var o=0;var s=e.asStripeClasses;var l=s.length;var c=e.aoOpenRows.length;var u=e.oLanguage;var h=e.iInitDisplayStart;var f=bt(e)=="ssp";var d=e.aiDisplay;e.bDrawing=true;if(h!==W&&h!==-1){e._iDisplayStart=f?h:h>=e.fnRecordsDisplay()?0:h;e.iInitDisplayStart=-1}var p=e._iDisplayStart;var m=e.fnDisplayEnd();if(e.bDeferLoading){e.bDeferLoading=false;e.iDraw++;$e(e,false)}else if(!f){e.iDraw++}else if(!e.bDestroying&&!ve(e)){return}if(d.length!==0){var g=f?0:p;var v=f?e.aoData.length:m;for(var b=g;b<v;b++){var y=d[b];var x=e.aoData[y];if(x.nTr===null){se(e,y)}var w=x.nTr;if(l!==0){var _=s[o%l];if(x._sRowStripe!=_){$(w).removeClass(x._sRowStripe).addClass(_);x._sRowStripe=_}}mt(e,"aoRowCallback",null,[w,x._aData,o,b,y]);a.push(w);o++}}else{var E=u.sZeroRecords;if(e.iDraw==1&&bt(e)=="ajax"){E=u.sLoadingRecords}else if(u.sEmptyTable&&e.fnRecordsTotal()===0){E=u.sEmptyTable}a[0]=$("<tr/>",{class:l?s[0]:""}).append($("<td />",{valign:"top",colSpan:L(e),class:e.oClasses.sRowEmpty}).html(E))[0]}mt(e,"aoHeaderCallback","header",[$(e.nTHead).children("tr")[0],ne(e),p,m,d]);mt(e,"aoFooterCallback","footer",[$(e.nTFoot).children("tr")[0],ne(e),p,m,d]);var A=$(e.nTBody);A.children().detach();A.append($(a));mt(e,"aoDrawCallback","draw",[e]);e.bSorted=false;e.bFiltered=false;e.bDrawing=false}function fe(e,t){var n=e.oFeatures,i=n.bSort,r=n.bFilter;if(i){tt(e)}if(r){_e(e,e.oPreviousSearch)}else{e.aiDisplay=e.aiDisplayMaster.slice()}if(t!==true){e._iDisplayStart=0}e._drawHold=t;he(e);e._drawHold=false}function de(e){var t=e.oClasses;var n=$(e.nTable);var i=$("<div/>").insertBefore(n);var r=e.oFeatures;var a=$("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=i[0];e.nTableWrapper=a[0];e.nTableReinsertBefore=e.nTable.nextSibling;var o=e.sDom.split("");var s,l,c,u,h,f;for(var d=0;d<o.length;d++){s=null;l=o[d];if(l=="<"){c=$("<div/>")[0];u=o[d+1];if(u=="'"||u=='"'){h="";f=2;while(o[d+f]!=u){h+=o[d+f];f++}if(h=="H"){h=t.sJUIHeader}else if(h=="F"){h=t.sJUIFooter}if(h.indexOf(".")!=-1){var p=h.split(".");c.id=p[0].substr(1,p[0].length-1);c.className=p[1]}else if(h.charAt(0)=="#"){c.id=h.substr(1,h.length-1)}else{c.className=h}d+=f}a.append(c);a=$(c)}else if(l==">"){a=a.parent()}else if(l=="l"&&r.bPaginate&&r.bLengthChange){s=ze(e)}else if(l=="f"&&r.bFilter){s=we(e)}else if(l=="r"&&r.bProcessing){s=je(e)}else if(l=="t"){s=We(e)}else if(l=="i"&&r.bInfo){s=Fe(e)}else if(l=="p"&&r.bPaginate){s=Ue(e)}else if(R.ext.feature.length!==0){var m=R.ext.feature;for(var g=0,v=m.length;g<v;g++){if(l==m[g].cFeature){s=m[g].fnInit(e);break}}}if(s){var b=e.aanFeatures;if(!b[l]){b[l]=[]}b[l].push(s);a.append(s)}}i.replaceWith(a);e.nHolding=null}function pe(e,t){var n=$(t).children("tr");var i,r;var a,o,s,l,c,u,h,f,d;var p;var m=function(e,t,n){var i=e[t];while(i[n]){n++}return n};e.splice(0,e.length);for(a=0,l=n.length;a<l;a++){e.push([])}for(a=0,l=n.length;a<l;a++){i=n[a];h=0;r=i.firstChild;while(r){if(r.nodeName.toUpperCase()=="TD"||r.nodeName.toUpperCase()=="TH"){f=r.getAttribute("colspan")*1;d=r.getAttribute("rowspan")*1;f=!f||f===0||f===1?1:f;d=!d||d===0||d===1?1:d;u=m(e,a,h);p=f===1?true:false;for(s=0;s<f;s++){for(o=0;o<d;o++){e[a+o][u+s]={cell:r,unique:p};e[a+o].nTr=i}}}r=r.nextSibling}}}function me(e,t,n){var i=[];if(!n){n=e.aoHeader;if(t){n=[];pe(n,t)}}for(var r=0,a=n.length;r<a;r++){for(var o=0,s=n[r].length;o<s;o++){if(n[r][o].unique&&(!i[o]||!e.bSortCellsTop)){i[o]=n[r][o].cell}}}return i}function ge(r,e,t){mt(r,"aoServerParams","serverParams",[e]);if(e&&$.isArray(e)){var a={};var o=/(.*?)\[\]$/;$.each(e,function(e,t){var n=t.name.match(o);if(n){var i=n[0];if(!a[i]){a[i]=[]}a[i].push(t.value)}else{a[t.name]=t.value}});e=a}var n;var i=r.ajax;var s=r.oInstance;var l=function(e){mt(r,null,"xhr",[r,e,r.jqXHR]);t(e)};if($.isPlainObject(i)&&i.data){n=i.data;var c=typeof n==="function"?n(e,r):n;e=typeof n==="function"&&c?c:$.extend(true,e,c);delete i.data}var u={data:e,success:function(e){var t=e.error||e.sError;if(t){ut(r,0,t)}r.json=e;l(e)},dataType:"json",cache:false,type:r.sServerMethod,error:function(e,t,n){var i=mt(r,null,"xhr",[r,null,r.jqXHR]);if($.inArray(true,i)===-1){if(t=="parsererror"){ut(r,0,"Invalid JSON response",1)}else if(e.readyState===4){ut(r,0,"Ajax error",7)}}$e(r,false)}};r.oAjaxData=e;mt(r,null,"preXhr",[r,e]);if(r.fnServerData){r.fnServerData.call(s,r.sAjaxSource,$.map(e,function(e,t){return{name:t,value:e}}),l,r)}else if(r.sAjaxSource||typeof i==="string"){r.jqXHR=$.ajax($.extend(u,{url:i||r.sAjaxSource}))}else if(typeof i==="function"){r.jqXHR=i.call(s,e,l,r)}else{r.jqXHR=$.ajax($.extend(u,i));i.data=n}}function ve(t){if(t.bAjaxDataGet){t.iDraw++;$e(t,true);ge(t,be(t),function(e){ye(t,e)});return false}return true}function be(e){var t=e.aoColumns,n=t.length,i=e.oFeatures,r=e.oPreviousSearch,a=e.aoPreSearchCols,o,s=[],l,c,u,h=et(e),f=e._iDisplayStart,d=i.bPaginate!==false?e._iDisplayLength:-1;var p=function(e,t){s.push({name:e,value:t})};p("sEcho",e.iDraw);p("iColumns",n);p("sColumns",V(t,"sName").join(","));p("iDisplayStart",f);p("iDisplayLength",d);var m={draw:e.iDraw,columns:[],order:[],start:f,length:d,search:{value:r.sSearch,regex:r.bRegex}};for(o=0;o<n;o++){c=t[o];u=a[o];l=typeof c.mData=="function"?"function":c.mData;m.columns.push({data:l,name:c.sName,searchable:c.bSearchable,orderable:c.bSortable,search:{value:u.sSearch,regex:u.bRegex}});p("mDataProp_"+o,l);if(i.bFilter){p("sSearch_"+o,u.sSearch);p("bRegex_"+o,u.bRegex);p("bSearchable_"+o,c.bSearchable)}if(i.bSort){p("bSortable_"+o,c.bSortable)}}if(i.bFilter){p("sSearch",r.sSearch);p("bRegex",r.bRegex)}if(i.bSort){$.each(h,function(e,t){m.order.push({column:t.col,dir:t.dir});p("iSortCol_"+e,t.col);p("sSortDir_"+e,t.dir)});p("iSortingCols",h.length)}var g=R.ext.legacy.ajax;if(g===null){return e.sAjaxSource?s:m}return g?s:m}function ye(e,n){var t=function(e,t){return n[e]!==W?n[e]:n[t]};var i=xe(e,n);var r=t("sEcho","draw");var a=t("iTotalRecords","recordsTotal");var o=t("iTotalDisplayRecords","recordsFiltered");if(r){if(r*1<e.iDraw){return}e.iDraw=r*1}ie(e);e._iRecordsTotal=parseInt(a,10);e._iRecordsDisplay=parseInt(o,10);for(var s=0,l=i.length;s<l;s++){j(e,i[s])}e.aiDisplay=e.aiDisplayMaster.slice();e.bAjaxDataGet=false;he(e);if(!e._bInitComplete){Oe(e,n)}e.bAjaxDataGet=true;$e(e,false)}function xe(e,t){var n=$.isPlainObject(e.ajax)&&e.ajax.dataSrc!==W?e.ajax.dataSrc:e.sAjaxDataProp;if(n==="data"){return t.aaData||t[n]}return n!==""?ee(n)(t):t}function we(n){var e=n.oClasses;var t=n.sTableId;var i=n.oLanguage;var r=n.oPreviousSearch;var a=n.aanFeatures;var o='<input type="search" class="'+e.sFilterInput+'"/>';var s=i.sSearch;s=s.match(/_INPUT_/)?s.replace("_INPUT_",o):s+o;var l=$("<div/>",{id:!a.f?t+"_filter":null,class:e.sFilter}).append($("<label/>").append(s));var c=function(){var e=a.f;var t=!this.value?"":this.value;if(t!=r.sSearch){_e(n,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive});n._iDisplayStart=0;he(n)}};var u=n.searchDelay!==null?n.searchDelay:bt(n)==="ssp"?400:0;var h=$("input",l).val(r.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",u?Ye(c,u):c).on("keypress.DT",function(e){if(e.keyCode==13){return false}}).attr("aria-controls",t);$(n.nTable).on("search.dt.DT",function(e,t){if(n===t){try{if(h[0]!==y.activeElement){h.val(r.sSearch)}}catch(e){}}});return l[0]}function _e(e,t,n){var i=e.oPreviousSearch;var r=e.aoPreSearchCols;var a=function(e){i.sSearch=e.sSearch;i.bRegex=e.bRegex;i.bSmart=e.bSmart;i.bCaseInsensitive=e.bCaseInsensitive};var o=function(e){return e.bEscapeRegex!==W?!e.bEscapeRegex:e.bRegex};T(e);if(bt(e)!="ssp"){Ce(e,t.sSearch,n,o(t),t.bSmart,t.bCaseInsensitive);a(t);for(var s=0;s<r.length;s++){Ae(e,r[s].sSearch,s,o(r[s]),r[s].bSmart,r[s].bCaseInsensitive)}Ee(e)}else{a(t)}e.bFiltered=true;mt(e,null,"search",[e])}function Ee(e){var t=R.ext.search;var n=e.aiDisplay;var i,r;for(var a=0,o=t.length;a<o;a++){var s=[];for(var l=0,c=n.length;l<c;l++){r=n[l];i=e.aoData[r];if(t[a](e,i._aFilterData,r,i._aData,l)){s.push(r)}}n.length=0;$.merge(n,s)}}function Ae(e,t,n,i,r,a){if(t===""){return}var o;var s=[];var l=e.aiDisplay;var c=Se(t,i,r,a);for(var u=0;u<l.length;u++){o=e.aoData[l[u]]._aFilterData[n];if(c.test(o)){s.push(l[u])}}e.aiDisplay=s}function Ce(e,t,n,i,r,a){var o=Se(t,i,r,a);var s=e.oPreviousSearch.sSearch;var l=e.aiDisplayMaster;var c,u,h;var f=[];if(R.ext.search.length!==0){n=true}u=De(e);if(t.length<=0){e.aiDisplay=l.slice()}else{if(u||n||s.length>t.length||t.indexOf(s)!==0||e.bSorted){e.aiDisplay=l.slice()}c=e.aiDisplay;for(h=0;h<c.length;h++){if(o.test(e.aoData[c[h]]._sFilterRow)){f.push(c[h])}}e.aiDisplay=f}}function Se(e,t,n,i){e=t?e:Te(e);if(n){var r=$.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if(e.charAt(0)==='"'){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});e="^(?=.*?"+r.join(")(?=.*?")+").*$"}return new RegExp(e,i?"i":"")}var Te=R.util.escapeRegex;var Me=$("<div>")[0];var ke=Me.textContent!==W;function De(e){var t=e.aoColumns;var n;var i,r,a,o,s,l,c;var u=R.ext.type.search;var h=false;for(i=0,a=e.aoData.length;i<a;i++){c=e.aoData[i];if(!c._aFilterData){s=[];for(r=0,o=t.length;r<o;r++){n=t[r];if(n.bSearchable){l=Y(e,i,r,"filter");if(u[n.sType]){l=u[n.sType](l)}if(l===null){l=""}if(typeof l!=="string"&&l.toString){l=l.toString()}}else{l=""}if(l.indexOf&&l.indexOf("&")!==-1){Me.innerHTML=l;l=ke?Me.textContent:Me.innerText}if(l.replace){l=l.replace(/[\r\n]/g,"")}s.push(l)}c._aFilterData=s;c._sFilterRow=s.join("  ");h=true}}return h}function Le(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function Re(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function Fe(e){var t=e.sTableId,n=e.aanFeatures.i,i=$("<div/>",{class:e.oClasses.sInfo,id:!n?t+"_info":null});if(!n){e.aoDrawCallback.push({fn:Pe,sName:"information"});i.attr("role","status").attr("aria-live","polite");$(e.nTable).attr("aria-describedby",t+"_info")}return i[0]}function Pe(e){var t=e.aanFeatures.i;if(t.length===0){return}var n=e.oLanguage,i=e._iDisplayStart+1,r=e.fnDisplayEnd(),a=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),s=o?n.sInfo:n.sInfoEmpty;if(o!==a){s+=" "+n.sInfoFiltered}s+=n.sInfoPostFix;s=Ie(e,s);var l=n.fnInfoCallback;if(l!==null){s=l.call(e.oInstance,e,i,r,a,o,s)}$(t).html(s)}function Ie(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,a=e.fnRecordsDisplay(),o=r===-1;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,a)).replace(/_PAGE_/g,n.call(e,o?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,o?1:Math.ceil(a/r)))}function Ne(n){var i,e,r=n.iInitDisplayStart;var t=n.aoColumns,a;var o=n.oFeatures;var s=n.bDeferLoading;if(!n.bInitialised){setTimeout(function(){Ne(n)},200);return}de(n);ce(n);ue(n,n.aoHeader);ue(n,n.aoFooter);$e(n,true);if(o.bAutoWidth){Xe(n)}for(i=0,e=t.length;i<e;i++){a=t[i];if(a.sWidth){a.nTh.style.width=Je(a.sWidth)}}mt(n,null,"preInit",[n]);fe(n);var l=bt(n);if(l!="ssp"||s){if(l=="ajax"){ge(n,[],function(e){var t=xe(n,e);for(i=0;i<t.length;i++){j(n,t[i])}n.iInitDisplayStart=r;fe(n);$e(n,false);Oe(n,e)},n)}else{$e(n,false);Oe(n)}}}function Oe(e,t){e._bInitComplete=true;if(t||e.oInit.aaData){G(e)}mt(e,null,"plugin-init",[e,t]);mt(e,"aoInitComplete","init",[e,t])}function Be(e,t){var n=parseInt(t,10);e._iDisplayLength=n;gt(e);mt(e,null,"length",[e,n])}function ze(i){var e=i.oClasses,t=i.sTableId,n=i.aLengthMenu,r=$.isArray(n[0]),a=r?n[0]:n,o=r?n[1]:n;var s=$("<select/>",{name:t+"_length","aria-controls":t,class:e.sLengthSelect});for(var l=0,c=a.length;l<c;l++){s[0][l]=new Option(typeof o[l]==="number"?i.fnFormatNumber(o[l]):o[l],a[l])}var u=$("<div><label/></div>").addClass(e.sLength);if(!i.aanFeatures.l){u[0].id=t+"_length"}u.children().append(i.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML));$("select",u).val(i._iDisplayLength).on("change.DT",function(e){Be(i,$(this).val());he(i)});$(i.nTable).on("length.dt.DT",function(e,t,n){if(i===t){$("select",u).val(n)}});return u[0]}function Ue(e){var t=e.sPaginationType,u=R.ext.pager[t],h=typeof u==="function",f=function(e){he(e)},n=$("<div/>").addClass(e.oClasses.sPaging+t)[0],d=e.aanFeatures;if(!h){u.fnInit(e,n,f)}if(!d.p){n.id=e.sTableId+"_paginate";e.aoDrawCallback.push({fn:function(e){if(h){var t=e._iDisplayStart,n=e._iDisplayLength,i=e.fnRecordsDisplay(),r=n===-1,a=r?0:Math.ceil(t/n),o=r?1:Math.ceil(i/n),s=u(a,o),l,c;for(l=0,c=d.p.length;l<c;l++){vt(e,"pageButton")(e,d.p[l],l,s,a,o)}}else{u.fnUpdate(e,f)}},sName:"pagination"})}return n}function He(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,a=e.fnRecordsDisplay();if(a===0||r===-1){i=0}else if(typeof t==="number"){i=t*r;if(i>a){i=0}}else if(t=="first"){i=0}else if(t=="previous"){i=r>=0?i-r:0;if(i<0){i=0}}else if(t=="next"){if(i+r<a){i+=r}}else if(t=="last"){i=Math.floor((a-1)/r)*r}else{ut(e,0,"Unknown paging action: "+t,5)}var o=e._iDisplayStart!==i;e._iDisplayStart=i;if(o){mt(e,null,"page",[e]);if(n){he(e)}}return o}function je(e){return $("<div/>",{id:!e.aanFeatures.r?e.sTableId+"_processing":null,class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function $e(e,t){if(e.oFeatures.bProcessing){$(e.aanFeatures.r).css("display",t?"block":"none")}mt(e,null,"processing",[e,t])}function We(e){var t=$(e.nTable);t.attr("role","grid");var n=e.oScroll;if(n.sX===""&&n.sY===""){return e.nTable}var i=n.sX;var r=n.sY;var a=e.oClasses;var o=t.children("caption");var s=o.length?o[0]._captionSide:null;var l=$(t[0].cloneNode(false));var c=$(t[0].cloneNode(false));var u=t.children("tfoot");var h="<div/>";var f=function(e){return!e?null:Je(e)};if(!u.length){u=null}var d=$(h,{class:a.sScrollWrapper}).append($(h,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?f(i):"100%"}).append($(h,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append(s==="top"?o:null).append(t.children("thead"))))).append($(h,{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:f(i)}).append(t));if(u){d.append($(h,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:i?f(i):"100%"}).append($(h,{class:a.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append(s==="bottom"?o:null).append(t.children("tfoot")))))}var p=d.children();var m=p[0];var g=p[1];var v=u?p[2]:null;if(i){$(g).on("scroll.DT",function(e){var t=this.scrollLeft;m.scrollLeft=t;if(u){v.scrollLeft=t}})}$(g).css(r&&n.bCollapse?"max-height":"height",r);e.nScrollHead=m;e.nScrollBody=g;e.nScrollFoot=v;e.aoDrawCallback.push({fn:Ve,sName:"scrolling"});return d[0]}function Ve(n){var e=n.oScroll,t=e.sX,i=e.sXInner,r=e.sY,a=e.iBarWidth,o=$(n.nScrollHead),s=o[0].style,l=o.children("div"),c=l[0].style,u=l.children("table"),h=n.nScrollBody,f=$(h),d=h.style,p=$(n.nScrollFoot),m=p.children("div"),g=m.children("table"),v=$(n.nTHead),b=$(n.nTable),y=b[0],x=y.style,w=n.nTFoot?$(n.nTFoot):null,_=n.oBrowser,E=_.bScrollOversize,A=V(n.aoColumns,"nTh"),C,S,T,M,k,D,L=[],R=[],F=[],P=[],I,N,O,B=function(e){var t=e.style;t.paddingTop="0";t.paddingBottom="0";t.borderTopWidth="0";t.borderBottomWidth="0";t.height=0};var z=h.scrollHeight>h.clientHeight;if(n.scrollBarVis!==z&&n.scrollBarVis!==W){n.scrollBarVis=z;G(n);return}else{n.scrollBarVis=z}b.children("thead, tfoot").remove();if(w){D=w.clone().prependTo(b);S=w.find("tr");M=D.find("tr")}k=v.clone().prependTo(b);C=v.find("tr");T=k.find("tr");k.find("th, td").removeAttr("tabindex");if(!t){d.width="100%";o[0].style.width="100%"}$.each(me(n,k),function(e,t){I=q(n,e);t.style.width=n.aoColumns[I].sWidth});if(w){Ge(function(e){e.style.width=""},M)}O=b.outerWidth();if(t===""){x.width="100%";if(E&&(b.find("tbody").height()>h.offsetHeight||f.css("overflow-y")=="scroll")){x.width=Je(b.outerWidth()-a)}O=b.outerWidth()}else if(i!==""){x.width=Je(i);O=b.outerWidth()}Ge(B,T);Ge(function(e){F.push(e.innerHTML);L.push(Je($(e).css("width")))},T);Ge(function(e,t){if($.inArray(e,A)!==-1){e.style.width=L[t]}},C);$(T).height(0);if(w){Ge(B,M);Ge(function(e){P.push(e.innerHTML);R.push(Je($(e).css("width")))},M);Ge(function(e,t){e.style.width=R[t]},S);$(M).height(0)}Ge(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+F[t]+"</div>";e.childNodes[0].style.height="0";e.childNodes[0].style.overflow="hidden";e.style.width=L[t]},T);if(w){Ge(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+P[t]+"</div>";e.childNodes[0].style.height="0";e.childNodes[0].style.overflow="hidden";e.style.width=R[t]},M)}if(b.outerWidth()<O){N=h.scrollHeight>h.offsetHeight||f.css("overflow-y")=="scroll"?O+a:O;if(E&&(h.scrollHeight>h.offsetHeight||f.css("overflow-y")=="scroll")){x.width=Je(N-a)}if(t===""||i!==""){ut(n,1,"Possible column misalignment",6)}}else{N="100%"}d.width=Je(N);s.width=Je(N);if(w){n.nScrollFoot.style.width=Je(N)}if(!r){if(E){d.height=Je(y.offsetHeight+a)}}var U=b.outerWidth();u[0].style.width=Je(U);c.width=Je(U);var H=b.height()>h.clientHeight||f.css("overflow-y")=="scroll";var j="padding"+(_.bScrollbarLeft?"Left":"Right");c[j]=H?a+"px":"0px";if(w){g[0].style.width=Je(U);m[0].style.width=Je(U);m[0].style[j]=H?a+"px":"0px"}b.children("colgroup").insertBefore(b.children("thead"));f.scroll();if((n.bSorted||n.bFiltered)&&!n._drawHold){h.scrollTop=0}}function Ge(e,t,n){var i=0,r=0,a=t.length;var o,s;while(r<a){o=t[r].firstChild;s=n?n[r].firstChild:null;while(o){if(o.nodeType===1){if(n){e(o,s,i)}else{e(o,i)}i++}o=o.nextSibling;s=n?s.nextSibling:null}r++}}var qe=/<.*?>/g;function Xe(e){var t=e.nTable,n=e.aoColumns,i=e.oScroll,r=i.sY,a=i.sX,o=i.sXInner,s=n.length,l=U(e,"bVisible"),c=$("th",e.nTHead),u=t.getAttribute("width"),h=t.parentNode,f=false,d,p,m,g,v,b=e.oBrowser,y=b.bScrollOversize;var x=t.style.width;if(x&&x.indexOf("%")!==-1){u=x}for(d=0;d<l.length;d++){p=n[l[d]];if(p.sWidth!==null){p.sWidth=Ke(p.sWidthOrig,h);f=true}}if(y||!f&&!a&&!r&&s==L(e)&&s==c.length){for(d=0;d<s;d++){var w=q(e,d);if(w!==null){n[w].sWidth=Je(c.eq(d).width())}}}else{var _=$(t).clone().css("visibility","hidden").removeAttr("id");_.find("tbody tr").remove();var E=$("<tr/>").appendTo(_.find("tbody"));_.find("thead, tfoot").remove();_.append($(e.nTHead).clone()).append($(e.nTFoot).clone());_.find("tfoot th, tfoot td").css("width","");c=me(e,_.find("thead")[0]);for(d=0;d<l.length;d++){p=n[l[d]];c[d].style.width=p.sWidthOrig!==null&&p.sWidthOrig!==""?Je(p.sWidthOrig):"";if(p.sWidthOrig&&a){$(c[d]).append($("<div/>").css({width:p.sWidthOrig,margin:0,padding:0,border:0,height:1}))}}if(e.aoData.length){for(d=0;d<l.length;d++){m=l[d];p=n[m];$(Ze(e,m)).clone(false).append(p.sContentPadding).appendTo(E)}}$("[name]",_).removeAttr("name");var A=$("<div/>").css(a||r?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(_).appendTo(h);if(a&&o){_.width(o)}else if(a){_.css("width","auto");_.removeAttr("width");if(_.width()<h.clientWidth&&u){_.width(h.clientWidth)}}else if(r){_.width(h.clientWidth)}else if(u){_.width(u)}var C=0;for(d=0;d<l.length;d++){var S=$(c[d]);var T=S.outerWidth()-S.width();var M=b.bBounding?Math.ceil(c[d].getBoundingClientRect().width):S.outerWidth();C+=M;n[l[d]].sWidth=Je(M-T)}t.style.width=Je(C);A.remove()}if(u){t.style.width=Je(u)}if((u||a)&&!e._reszEvt){var k=function(){$(D).on("resize.DT-"+e.sInstance,Ye(function(){G(e)}))};if(y){setTimeout(k,1e3)}else{k()}e._reszEvt=true}}var Ye=R.util.throttle;function Ke(e,t){if(!e){return 0}var n=$("<div/>").css("width",Je(e)).appendTo(t||y.body);var i=n[0].offsetWidth;n.remove();return i}function Ze(e,t){var n=Qe(e,t);if(n<0){return null}var i=e.aoData[n];return!i.nTr?$("<td/>").html(Y(e,n,t,"display"))[0]:i.anCells[t]}function Qe(e,t){var n,i=-1,r=-1;for(var a=0,o=e.aoData.length;a<o;a++){n=Y(e,a,t,"display")+"";n=n.replace(qe,"");n=n.replace(/&nbsp;/g," ");if(n.length>i){i=n.length;r=a}}return r}function Je(e){if(e===null){return"0px"}if(typeof e=="number"){return e<0?"0px":e+"px"}return e.match(/\d$/)?e+"px":e}function et(e){var t,n,i,r,a=[],o=[],s=e.aoColumns,l,c,u,h,f=e.aaSortingFixed,d=$.isPlainObject(f),p=[],m=function(e){if(e.length&&!$.isArray(e[0])){p.push(e)}else{$.merge(p,e)}};if($.isArray(f)){m(f)}if(d&&f.pre){m(f.pre)}m(e.aaSorting);if(d&&f.post){m(f.post)}for(t=0;t<p.length;t++){h=p[t][0];l=s[h].aDataSort;for(i=0,r=l.length;i<r;i++){c=l[i];u=s[c].sType||"string";if(p[t]._idx===W){p[t]._idx=$.inArray(p[t][1],s[c].asSorting)}a.push({src:h,col:c,dir:p[t][1],index:p[t]._idx,type:u,formatter:R.ext.type.order[u+"-pre"]})}}return a}function tt(e){var t,n,i,r,a,o,s,l,c,f=[],d=R.ext.type.order,p=e.aoData,u=e.aoColumns,h,m,g,v,b,y=0,x,w=e.aiDisplayMaster,_;T(e);_=et(e);for(t=0,n=_.length;t<n;t++){x=_[t];if(x.formatter){y++}ot(e,x.col)}if(bt(e)!="ssp"&&_.length!==0){for(t=0,i=w.length;t<i;t++){f[w[t]]=t}if(y===_.length){w.sort(function(e,t){var n,i,r,a,o,s=_.length,l=p[e]._aSortData,c=p[t]._aSortData;for(r=0;r<s;r++){o=_[r];n=l[o.col];i=c[o.col];a=n<i?-1:n>i?1:0;if(a!==0){return o.dir==="asc"?a:-a}}n=f[e];i=f[t];return n<i?-1:n>i?1:0})}else{w.sort(function(e,t){var n,i,r,a,o,s,l,c=_.length,u=p[e]._aSortData,h=p[t]._aSortData;for(r=0;r<c;r++){s=_[r];n=u[s.col];i=h[s.col];l=d[s.type+"-"+s.dir]||d["string-"+s.dir];o=l(n,i);if(o!==0){return o}}n=f[e];i=f[t];return n<i?-1:n>i?1:0})}}e.bSorted=true}function nt(e){var t;var n;var i=e.aoColumns;var r=et(e);var a=e.oLanguage.oAria;for(var o=0,s=i.length;o<s;o++){var l=i[o];var c=l.asSorting;var u=l.sTitle.replace(/<.*?>/g,"");var h=l.nTh;h.removeAttribute("aria-sort");if(l.bSortable){if(r.length>0&&r[0].col==o){h.setAttribute("aria-sort",r[0].dir=="asc"?"ascending":"descending");n=c[r[0].index+1]||c[0]}else{n=c[0]}t=u+(n==="asc"?a.sSortAscending:a.sSortDescending)}else{t=u}h.setAttribute("aria-label",t)}}function it(e,t,n,i){var r=e.aoColumns[t];var a=e.aaSorting;var o=r.asSorting;var s;var l=function(e,t){var n=e._idx;if(n===W){n=$.inArray(e[1],o)}return n+1<o.length?n+1:t?null:0};if(typeof a[0]==="number"){a=e.aaSorting=[a]}if(n&&e.oFeatures.bSortMulti){var c=$.inArray(t,V(a,"0"));if(c!==-1){s=l(a[c],true);if(s===null&&a.length===1){s=0}if(s===null){a.splice(c,1)}else{a[c][1]=o[s];a[c]._idx=s}}else{a.push([t,o[0],0]);a[a.length-1]._idx=0}}else if(a.length&&a[0][0]==t){s=l(a[0]);a.length=1;a[0][1]=o[s];a[0]._idx=s}else{a.length=0;a.push([t,o[0]]);a[0]._idx=0}fe(e);if(typeof i=="function"){i(e)}}function rt(t,e,n,i){var r=t.aoColumns[n];dt(e,{},function(e){if(r.bSortable===false){return}if(t.oFeatures.bProcessing){$e(t,true);setTimeout(function(){it(t,n,e.shiftKey,i);if(bt(t)!=="ssp"){$e(t,false)}},0)}else{it(t,n,e.shiftKey,i)}})}function at(e){var t=e.aLastSort;var n=e.oClasses.sSortColumn;var i=et(e);var r=e.oFeatures;var a,o,s;if(r.bSort&&r.bSortClasses){for(a=0,o=t.length;a<o;a++){s=t[a].src;$(V(e.aoData,"anCells",s)).removeClass(n+(a<2?a+1:3))}for(a=0,o=i.length;a<o;a++){s=i[a].src;$(V(e.aoData,"anCells",s)).addClass(n+(a<2?a+1:3))}}e.aLastSort=i}function ot(e,t){var n=e.aoColumns[t];var i=R.ext.order[n.sSortDataType];var r;if(i){r=i.call(e.oInstance,e,t,S(e,t))}var a,o;var s=R.ext.type.order[n.sType+"-pre"];for(var l=0,c=e.aoData.length;l<c;l++){a=e.aoData[l];if(!a._aSortData){a._aSortData=[]}if(!a._aSortData[t]||i){o=i?r[l]:Y(e,l,t,"sort");a._aSortData[t]=s?s(o):o}}}function st(n){if(!n.oFeatures.bStateSave||n.bDestroying){return}var e={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:$.extend(true,[],n.aaSorting),search:Le(n.oPreviousSearch),columns:$.map(n.aoColumns,function(e,t){return{visible:e.bVisible,search:Le(n.aoPreSearchCols[t])}})};mt(n,"aoStateSaveParams","stateSaveParams",[n,e]);n.oSavedState=e;n.fnStateSaveCallback.call(n.oInstance,n,e)}function lt(r,e,a){var o,s;var l=r.aoColumns;var t=function(e){if(!e||!e.time){a();return}var t=mt(r,"aoStateLoadParams","stateLoadParams",[r,e]);if($.inArray(false,t)!==-1){a();return}var n=r.iStateDuration;if(n>0&&e.time<+new Date-n*1e3){a();return}if(e.columns&&l.length!==e.columns.length){a();return}r.oLoadedState=$.extend(true,{},e);if(e.start!==W){r._iDisplayStart=e.start;r.iInitDisplayStart=e.start}if(e.length!==W){r._iDisplayLength=e.length}if(e.order!==W){r.aaSorting=[];$.each(e.order,function(e,t){r.aaSorting.push(t[0]>=l.length?[0,t[1]]:t)})}if(e.search!==W){$.extend(r.oPreviousSearch,Re(e.search))}if(e.columns){for(o=0,s=e.columns.length;o<s;o++){var i=e.columns[o];if(i.visible!==W){l[o].bVisible=i.visible}if(i.search!==W){$.extend(r.aoPreSearchCols[o],Re(i.search))}}}mt(r,"aoStateLoaded","stateLoaded",[r,e]);a()};if(!r.oFeatures.bStateSave){a();return}var n=r.fnStateLoadCallback.call(r.oInstance,r,t);if(n!==W){t(n)}}function ct(e){var t=R.settings;var n=$.inArray(e,V(t,"nTable"));return n!==-1?t[n]:null}function ut(e,t,n,i){n="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+n;if(i){n+=". For more information about this error, please see "+"http://datatables.net/tn/"+i}if(!t){var r=R.ext;var a=r.sErrMode||r.errMode;if(e){mt(e,null,"error",[e,i,n])}if(a=="alert"){alert(n)}else if(a=="throw"){throw new Error(n)}else if(typeof a=="function"){a(e,i,n)}}else if(D.console&&console.log){console.log(n)}}function ht(n,i,e,t){if($.isArray(e)){$.each(e,function(e,t){if($.isArray(t)){ht(n,i,t[0],t[1])}else{ht(n,i,t)}});return}if(t===W){t=e}if(i[e]!==W){n[t]=i[e]}}function ft(e,t,n){var i;for(var r in t){if(t.hasOwnProperty(r)){i=t[r];if($.isPlainObject(i)){if(!$.isPlainObject(e[r])){e[r]={}}$.extend(true,e[r],i)}else if(n&&r!=="data"&&r!=="aaData"&&$.isArray(i)){e[r]=i.slice()}else{e[r]=i}}}return e}function dt(t,e,n){$(t).on("click.DT",e,function(e){$(t).blur();n(e)}).on("keypress.DT",e,function(e){if(e.which===13){e.preventDefault();n(e)}}).on("selectstart.DT",function(){return false})}function pt(e,t,n,i){if(n){e[t].push({fn:n,sName:i})}}function mt(n,e,t,i){var r=[];if(e){r=$.map(n[e].slice().reverse(),function(e,t){return e.fn.apply(n.oInstance,i)})}if(t!==null){var a=$.Event(t+".dt");$(n.nTable).trigger(a,i);r.push(a.result)}return r}function gt(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;if(t>=n){t=n-i}t-=t%i;if(i===-1||t<0){t=0}e._iDisplayStart=t}function vt(e,t){var n=e.renderer;var i=R.ext.renderer[t];if($.isPlainObject(n)&&n[t]){return i[n[t]]||i._}else if(typeof n==="string"){return i[n]||i._}return i._}function bt(e){if(e.oFeatures.bServerSide){return"ssp"}else if(e.ajax||e.sAjaxSource){return"ajax"}return"dom"}var yt=[];var xt=Array.prototype;var wt=function(e){var t,n;var i=R.settings;var r=$.map(i,function(e,t){return e.nTable});if(!e){return[]}else if(e.nTable&&e.oApi){return[e]}else if(e.nodeName&&e.nodeName.toLowerCase()==="table"){t=$.inArray(e,r);return t!==-1?[i[t]]:null}else if(e&&typeof e.settings==="function"){return e.settings().toArray()}else if(typeof e==="string"){n=$(e)}else if(e instanceof $){n=e}if(n){return n.map(function(e){t=$.inArray(this,r);return t!==-1?i[t]:null}).toArray()}};b=function(e,t){if(!(this instanceof b)){return new b(e,t)}var n=[];var i=function(e){var t=wt(e);if(t){n=n.concat(t)}};if($.isArray(e)){for(var r=0,a=e.length;r<a;r++){i(e[r])}}else{i(e)}this.context=_(n);if(t){$.merge(this,t)}this.selector={rows:null,cols:null,opts:null};b.extend(this,this,yt)};R.Api=b;$.extend(b.prototype,{any:function(){return this.count()!==0},concat:xt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++){e.call(this,this[t],t,this)}return this},eq:function(e){var t=this.context;return t.length>e?new b(t[e],this[e]):null},filter:function(e){var t=[];if(xt.filter){t=xt.filter.call(this,e,this)}else{for(var n=0,i=this.length;n<i;n++){if(e.call(this,this[n],n,this)){t.push(this[n])}}}return new b(this.context,t)},flatten:function(){var e=[];return new b(this.context,e.concat.apply(e,this.toArray()))},join:xt.join,indexOf:xt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++){if(this[n]===e){return n}}return-1},iterator:function(e,t,n,i){var r=[],a,o,s,l,c,u=this.context,h,f,d,p=this.selector;if(typeof e==="string"){i=n;n=t;t=e;e=false}for(o=0,s=u.length;o<s;o++){var m=new b(u[o]);if(t==="table"){a=n.call(m,u[o],o);if(a!==W){r.push(a)}}else if(t==="columns"||t==="rows"){a=n.call(m,u[o],this[o],o);if(a!==W){r.push(a)}}else if(t==="column"||t==="column-rows"||t==="row"||t==="cell"){f=this[o];if(t==="column-rows"){h=Tt(u[o],p.opts)}for(l=0,c=f.length;l<c;l++){d=f[l];if(t==="cell"){a=n.call(m,u[o],d.row,d.column,o,l)}else{a=n.call(m,u[o],d,o,l,h)}if(a!==W){r.push(a)}}}}if(r.length||i){var g=new b(u,e?r.concat.apply([],r):r);var v=g.selector;v.rows=p.rows;v.cols=p.cols;v.opts=p.opts;return g}return this},lastIndexOf:xt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(xt.map){t=xt.map.call(this,e,this)}else{for(var n=0,i=this.length;n<i;n++){t.push(e.call(this,this[n],n))}}return new b(this.context,t)},pluck:function(t){return this.map(function(e){return e[t]})},pop:xt.pop,push:xt.push,reduce:xt.reduce||function(e,t){return C(this,e,t,0,this.length,1)},reduceRight:xt.reduceRight||function(e,t){return C(this,e,t,this.length-1,-1,-1)},reverse:xt.reverse,selector:null,shift:xt.shift,slice:function(){return new b(this.context,this)},sort:xt.sort,splice:xt.splice,toArray:function(){return xt.slice.call(this)},to$:function(){return $(this)},toJQuery:function(){return $(this)},unique:function(){return new b(this.context,_(this))},unshift:xt.unshift});b.extend=function(e,t,n){if(!n.length||!t||!(t instanceof b)&&!t.__dt_wrapper){return}var i,r,a,o,s,l,c=function(t,n,i){return function(){var e=n.apply(t,arguments);b.extend(e,e,i.methodExt);return e}};for(i=0,r=n.length;i<r;i++){s=n[i];t[s.name]=typeof s.val==="function"?c(e,s.val,s):$.isPlainObject(s.val)?{}:s.val;t[s.name].__dt_wrapper=true;b.extend(e,t[s.name],s.propExt)}};b.register=t=function(e,t){if($.isArray(e)){for(var n=0,i=e.length;n<i;n++){b.register(e[n],t)}return}var r,a,o=e.split("."),s=yt,l,c;var u=function(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n].name===t){return e[n]}}return null};for(r=0,a=o.length;r<a;r++){c=o[r].indexOf("()")!==-1;l=c?o[r].replace("()",""):o[r];var h=u(s,l);if(!h){h={name:l,val:{},methodExt:[],propExt:[]};s.push(h)}if(r===a-1){h.val=t}else{s=c?h.methodExt:h.propExt}}};b.registerPlural=e=function(e,t,n){b.register(e,n);b.register(t,function(){var e=n.apply(this,arguments);if(e===this){return this}else if(e instanceof b){return e.length?$.isArray(e[0])?new b(e.context,e[0]):e[0]:W}return e})};var _t=function(e,n){if(typeof e==="number"){return[n[e]]}var i=$.map(n,function(e,t){return e.nTable});return $(i).filter(e).map(function(e){var t=$.inArray(this,i);return n[t]}).toArray()};t("tables()",function(e){return e?new b(_t(e,this.context)):this});t("table()",function(e){var t=this.tables(e);var n=t.context;return n.length?new b(n[0]):t});e("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)});e("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)});e("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)});e("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)});e("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)});t("draw()",function(t){return this.iterator("table",function(e){if(t==="page"){he(e)}else{if(typeof t==="string"){t=t==="full-hold"?false:true}fe(e,t===false)}})});t("page()",function(t){if(t===W){return this.page.info().page}return this.iterator("table",function(e){He(e,t)})});t("page.info()",function(e){if(this.context.length===0){return W}var t=this.context[0],n=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,r=t.fnRecordsDisplay(),a=i===-1;return{page:a?0:Math.floor(n/i),pages:a?1:Math.ceil(r/i),start:n,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:r,serverSide:bt(t)==="ssp"}});t("page.len()",function(t){if(t===W){return this.context.length!==0?this.context[0]._iDisplayLength:W}return this.iterator("table",function(e){Be(e,t)})});var Et=function(r,a,e){if(e){var t=new b(r);t.one("draw",function(){e(t.ajax.json())})}if(bt(r)=="ssp"){fe(r,a)}else{$e(r,true);var n=r.jqXHR;if(n&&n.readyState!==4){n.abort()}ge(r,[],function(e){ie(r);var t=xe(r,e);for(var n=0,i=t.length;n<i;n++){j(r,t[n])}fe(r,a);$e(r,false)})}};t("ajax.json()",function(){var e=this.context;if(e.length>0){return e[0].json}});t("ajax.params()",function(){var e=this.context;if(e.length>0){return e[0].oAjaxData}});t("ajax.reload()",function(t,n){return this.iterator("table",function(e){Et(e,n===false,t)})});t("ajax.url()",function(t){var e=this.context;if(t===W){if(e.length===0){return W}e=e[0];return e.ajax?$.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource}return this.iterator("table",function(e){if($.isPlainObject(e.ajax)){e.ajax.url=t}else{e.ajax=t}})});t("ajax.url().load()",function(t,n){return this.iterator("table",function(e){Et(e,n===false,t)})});var At=function(e,t,n,i,r){var a=[],o,s,l,c,u,h,f=typeof t;if(!t||f==="string"||f==="function"||t.length===W){t=[t]}for(l=0,c=t.length;l<c;l++){s=t[l]&&t[l].split&&!t[l].match(/[\[\(:]/)?t[l].split(","):[t[l]];for(u=0,h=s.length;u<h;u++){o=n(typeof s[u]==="string"?$.trim(s[u]):s[u]);if(o&&o.length){a=a.concat(o)}}}var d=p.selector[e];if(d.length){for(l=0,c=d.length;l<c;l++){a=d[l](i,r,a)}}return _(a)};var Ct=function(e){if(!e){e={}}if(e.filter&&e.search===W){e.search=e.filter}return $.extend({search:"none",order:"current",page:"all"},e)};var St=function(e){for(var t=0,n=e.length;t<n;t++){if(e[t].length>0){e[0]=e[t];e[0].length=1;e.length=1;e.context=[e.context[t]];return e}}e.length=0;return e};var Tt=function(e,t){var n,i,r,a=[],o=e.aiDisplay,s=e.aiDisplayMaster;var l=t.search,c=t.order,u=t.page;if(bt(e)=="ssp"){return l==="removed"?[]:m(0,s.length)}else if(u=="current"){for(n=e._iDisplayStart,i=e.fnDisplayEnd();n<i;n++){a.push(o[n])}}else if(c=="current"||c=="applied"){if(l=="none"){a=s.slice()}else if(l=="applied"){a=o.slice()}else if(l=="removed"){var h={};for(var n=0,i=o.length;n<i;n++){h[o[n]]=null}a=$.map(s,function(e){return!h.hasOwnProperty(e)?e:null})}}else if(c=="index"||c=="original"){for(n=0,i=e.aoData.length;n<i;n++){if(l=="none"){a.push(n)}else{r=$.inArray(n,o);if(r===-1&&l=="removed"||r>=0&&l=="applied"){a.push(n)}}}}return a};var Mt=function(u,e,h){var f;var t=function(n){var e=d(n);var t,i;var r=u.aoData;if(e!==null&&!h){return[e]}if(!f){f=Tt(u,h)}if(e!==null&&$.inArray(e,f)!==-1){return[e]}else if(n===null||n===W||n===""){return f}if(typeof n==="function"){return $.map(f,function(e){var t=r[e];return n(e,t._aData,t.nTr)?e:null})}if(n.nodeName){var a=n._DT_RowIndex;var o=n._DT_CellIndex;if(a!==W){return r[a]&&r[a].nTr===n?[a]:[]}else if(o){return r[o.row]&&r[o.row].nTr===n?[o.row]:[]}else{var s=$(n).closest("*[data-dt-row]");return s.length?[s.data("dt-row")]:[]}}if(typeof n==="string"&&n.charAt(0)==="#"){var l=u.aIds[n.replace(/^#/,"")];if(l!==W){return[l.idx]}}var c=v(g(u.aoData,f,"nTr"));return $(c).filter(n).map(function(){return this._DT_RowIndex}).toArray()};return At("row",e,t,u,h)};t("rows()",function(t,n){if(t===W){t=""}else if($.isPlainObject(t)){n=t;t=""}n=Ct(n);var e=this.iterator("table",function(e){return Mt(e,t,n)},1);e.selector.rows=t;e.selector.opts=n;return e});t("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||W},1)});t("rows().data()",function(){return this.iterator(true,"rows",function(e,t){return g(e.aoData,t,"_aData")},1)});e("rows().cache()","row().cache()",function(i){return this.iterator("row",function(e,t){var n=e.aoData[t];return i==="search"?n._aFilterData:n._aSortData},1)});e("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(e,t){ae(e,t,n)})});e("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)});e("rows().ids()","row().id()",function(e){var t=[];var n=this.context;for(var i=0,r=n.length;i<r;i++){for(var a=0,o=this[i].length;a<o;a++){var s=n[i].rowIdFn(n[i].aoData[this[i][a]]._aData);t.push((e===true?"#":"")+s)}}return new b(n,t)});e("rows().remove()","row().remove()",function(){var f=this;this.iterator("row",function(e,t,n){var i=e.aoData;var r=i[t];var a,o,s,l;var c,u;i.splice(t,1);for(a=0,o=i.length;a<o;a++){c=i[a];u=c.anCells;if(c.nTr!==null){c.nTr._DT_RowIndex=a}if(u!==null){for(s=0,l=u.length;s<l;s++){u[s]._DT_CellIndex.row=a}}}re(e.aiDisplayMaster,t);re(e.aiDisplay,t);re(f[n],t,false);if(e._iRecordsDisplay>0){e._iRecordsDisplay--}gt(e);var h=e.rowIdFn(r._aData);if(h!==W){delete e.aIds[h]}});this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++){e.aoData[t].idx=t}});return this});t("rows.add()",function(a){var e=this.iterator("table",function(e){var t,n,i;var r=[];for(n=0,i=a.length;n<i;n++){t=a[n];if(t.nodeName&&t.nodeName.toUpperCase()==="TR"){r.push(X(e,t)[0])}else{r.push(j(e,t))}}return r},1);var t=this.rows(-1);t.pop();$.merge(t,e);return t});t("row()",function(e,t){return St(this.rows(e,t))});t("row().data()",function(e){var t=this.context;if(e===W){return t.length&&this.length?t[0].aoData[this[0]]._aData:W}var n=t[0].aoData[this[0]];n._aData=e;if($.isArray(e)&&n.nTr.id){te(t[0].rowId)(e,n.nTr.id)}ae(t[0],this[0],"data");return this});t("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null});t("row.add()",function(t){if(t instanceof $&&t.length){t=t[0]}var e=this.iterator("table",function(e){if(t.nodeName&&t.nodeName.toUpperCase()==="TR"){return X(e,t)[0]}return j(e,t)});return this.row(e[0])});var kt=function(a,e,t,n){var o=[];var s=function(e,t){if($.isArray(e)||e instanceof $){for(var n=0,i=e.length;n<i;n++){s(e[n],t)}return}if(e.nodeName&&e.nodeName.toLowerCase()==="tr"){o.push(e)}else{var r=$("<tr><td/></tr>").addClass(t);$("td",r).addClass(t).html(e)[0].colSpan=L(a);o.push(r[0])}};s(t,n);if(e._details){e._details.detach()}e._details=$(o);if(e._detailsShow){e._details.insertAfter(e.nTr)}};var Dt=function(e,t){var n=e.context;if(n.length){var i=n[0].aoData[t!==W?t:e[0]];if(i&&i._details){i._details.remove();i._detailsShow=W;i._details=W}}};var Lt=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];if(i._details){i._detailsShow=t;if(t){i._details.insertAfter(i.nTr)}else{i._details.detach()}Rt(n[0])}}};var Rt=function(l){var r=new b(l);var e=".dt.DT_details";var t="draw"+e;var n="column-visibility"+e;var i="destroy"+e;var c=l.aoData;r.off(t+" "+n+" "+i);if(V(c,"_details").length>0){r.on(t,function(e,t){if(l!==t){return}r.rows({page:"current"}).eq(0).each(function(e){var t=c[e];if(t._detailsShow){t._details.insertAfter(t.nTr)}})});r.on(n,function(e,t,n,i){if(l!==t){return}var r,a=L(t);for(var o=0,s=c.length;o<s;o++){r=c[o];if(r._details){r._details.children("td[colspan]").attr("colspan",a)}}});r.on(i,function(e,t){if(l!==t){return}for(var n=0,i=c.length;n<i;n++){if(c[n]._details){Dt(r,n)}}})}};var Ft="";var Pt=Ft+"row().child";var It=Pt+"()";t(It,function(e,t){var n=this.context;if(e===W){return n.length&&this.length?n[0].aoData[this[0]]._details:W}else if(e===true){this.child.show()}else if(e===false){Dt(this)}else if(n.length&&this.length){kt(n[0],n[0].aoData[this[0]],e,t)}return this});t([Pt+".show()",It+".show()"],function(e){Lt(this,true);return this});t([Pt+".hide()",It+".hide()"],function(){Lt(this,false);return this});t([Pt+".remove()",It+".remove()"],function(){Dt(this);return this});t(Pt+".isShown()",function(){var e=this.context;if(e.length&&this.length){return e[0].aoData[this[0]]._detailsShow||false}return false});var Nt=/^([^:]+):(name|visIdx|visible)$/;var Ot=function(e,t,n,i,r){var a=[];for(var o=0,s=r.length;o<s;o++){a.push(Y(e,r[o],t))}return a};var Bt=function(l,e,c){var u=l.aoColumns,h=V(u,"sName"),f=V(u,"nTh");var t=function(n){var e=d(n);if(n===""){return m(u.length)}if(e!==null){return[e>=0?e:u.length+e]}if(typeof n==="function"){var i=Tt(l,c);return $.map(u,function(e,t){return n(t,Ot(l,t,0,0,i),f[t])?t:null})}var r=typeof n==="string"?n.match(Nt):"";if(r){switch(r[2]){case"visIdx":case"visible":var t=parseInt(r[1],10);if(t<0){var a=$.map(u,function(e,t){return e.bVisible?t:null});return[a[a.length+t]]}return[q(l,t)];case"name":return $.map(h,function(e,t){return e===r[1]?t:null});default:return[]}}if(n.nodeName&&n._DT_CellIndex){return[n._DT_CellIndex.column]}var o=$(f).filter(n).map(function(){return $.inArray(this,f)}).toArray();if(o.length||!n.nodeName){return o}var s=$(n).closest("*[data-dt-column]");return s.length?[s.data("dt-column")]:[]};return At("column",e,t,l,c)};var zt=function(e,t,n){var i=e.aoColumns,r=i[t],a=e.aoData,o,s,l,c,u;if(n===W){return r.bVisible}if(r.bVisible===n){return}if(n){var h=$.inArray(true,V(i,"bVisible"),t+1);for(l=0,c=a.length;l<c;l++){u=a[l].nTr;s=a[l].anCells;if(u){u.insertBefore(s[t],s[h]||null)}}}else{$(V(e.aoData,"anCells",t)).detach()}r.bVisible=n;ue(e,e.aoHeader);ue(e,e.aoFooter);if(!e.aiDisplay.length){$(e.nTBody).find("td[colspan]").attr("colspan",L(e))}st(e)};t("columns()",function(t,n){if(t===W){t=""}else if($.isPlainObject(t)){n=t;t=""}n=Ct(n);var e=this.iterator("table",function(e){return Bt(e,t,n)},1);e.selector.cols=t;e.selector.opts=n;return e});e("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)});e("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)});e("columns().data()","column().data()",function(){return this.iterator("column-rows",Ot,1)});e("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)});e("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(e,t,n,i,r){return g(e.aoData,r,a==="search"?"_aFilterData":"_aSortData",t)},1)});e("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return g(e.aoData,r,"anCells",t)},1)});e("columns().visible()","column().visible()",function(n,i){var e=this.iterator("column",function(e,t){if(n===W){return e.aoColumns[t].bVisible}zt(e,t,n)});if(n!==W){this.iterator("column",function(e,t){mt(e,null,"column-visibility",[e,t,n,i])});if(i===W||i){this.columns.adjust()}}return e});e("columns().indexes()","column().index()",function(n){return this.iterator("column",function(e,t){return n==="visible"?S(e,t):t},1)});t("columns.adjust()",function(){return this.iterator("table",function(e){G(e)},1)});t("column.index()",function(e,t){if(this.context.length!==0){var n=this.context[0];if(e==="fromVisible"||e==="toData"){return q(n,t)}else if(e==="fromData"||e==="toVisible"){return S(n,t)}}});t("column()",function(e,t){return St(this.columns(e,t))});var Ut=function(i,e,t){var r=i.aoData;var a=Tt(i,t);var n=v(g(r,a,"anCells"));var o=$([].concat.apply([],n));var s;var l=i.aoColumns.length;var c,u,h,f,d,p;var m=function(e){var t=typeof e==="function";if(e===null||e===W||t){c=[];for(u=0,h=a.length;u<h;u++){s=a[u];for(f=0;f<l;f++){d={row:s,column:f};if(t){p=r[s];if(e(d,Y(i,s,f),p.anCells?p.anCells[f]:null)){c.push(d)}}else{c.push(d)}}}return c}if($.isPlainObject(e)){return e.column!==W&&e.row!==W&&$.inArray(e.row,a)!==-1?[e]:[]}var n=o.filter(e).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();if(n.length||!e.nodeName){return n}p=$(e).closest("*[data-dt-row]");return p.length?[{row:p.data("dt-row"),column:p.data("dt-column")}]:[]};return At("cell",e,m,i,t)};t("cells()",function(t,e,n){if($.isPlainObject(t)){if(t.row===W){n=t;t=null}else{n=e;e=null}}if($.isPlainObject(e)){n=e;e=null}if(e===null||e===W){return this.iterator("table",function(e){return Ut(e,t,Ct(n))})}var i=this.columns(e);var r=this.rows(t);var a,o,s,l,c;this.iterator("table",function(e,t){a=[];for(o=0,s=r[t].length;o<s;o++){for(l=0,c=i[t].length;l<c;l++){a.push({row:r[t][o],column:i[t][l]})}}},1);var u=this.cells(a,n);$.extend(u.selector,{cols:e,rows:t,opts:n});return u});e("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var i=e.aoData[t];return i&&i.anCells?i.anCells[n]:W},1)});t("cells().data()",function(){return this.iterator("cell",function(e,t,n){return Y(e,t,n)},1)});e("cells().cache()","cell().cache()",function(i){i=i==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(e,t,n){return e.aoData[t][i][n]},1)});e("cells().render()","cell().render()",function(i){return this.iterator("cell",function(e,t,n){return Y(e,t,n,i)},1)});e("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:S(e,n)}},1)});e("cells().invalidate()","cell().invalidate()",function(i){return this.iterator("cell",function(e,t,n){ae(e,t,i,n)})});t("cell()",function(e,t,n){return St(this.cells(e,t,n))});t("cell().data()",function(e){var t=this.context;var n=this[0];if(e===W){return t.length&&n.length?Y(t[0],n[0].row,n[0].column):W}K(t[0],n[0].row,n[0].column,e);ae(t[0],n[0].row,"data",n[0].column);return this});t("order()",function(t,e){var n=this.context;if(t===W){return n.length!==0?n[0].aaSorting:W}if(typeof t==="number"){t=[[t,e]]}else if(t.length&&!$.isArray(t[0])){t=Array.prototype.slice.call(arguments)}return this.iterator("table",function(e){e.aaSorting=t.slice()})});t("order.listener()",function(t,n,i){return this.iterator("table",function(e){rt(e,t,n,i)})});t("order.fixed()",function(t){if(!t){var e=this.context;var n=e.length?e[0].aaSortingFixed:W;return $.isArray(n)?{pre:n}:n}return this.iterator("table",function(e){e.aaSortingFixed=$.extend(true,{},t)})});t(["columns().order()","column().order()"],function(i){var r=this;return this.iterator("table",function(e,t){var n=[];$.each(r[t],function(e,t){n.push([t,i])});e.aaSorting=n})});t("search()",function(t,n,i,r){var e=this.context;if(t===W){return e.length!==0?e[0].oPreviousSearch.sSearch:W}return this.iterator("table",function(e){if(!e.oFeatures.bFilter){return}_e(e,$.extend({},e.oPreviousSearch,{sSearch:t+"",bRegex:n===null?false:n,bSmart:i===null?true:i,bCaseInsensitive:r===null?true:r}),1)})});e("columns().search()","column().search()",function(i,r,a,o){return this.iterator("column",function(e,t){var n=e.aoPreSearchCols;if(i===W){return n[t].sSearch}if(!e.oFeatures.bFilter){return}$.extend(n[t],{sSearch:i+"",bRegex:r===null?false:r,bSmart:a===null?true:a,bCaseInsensitive:o===null?true:o});_e(e,e.oPreviousSearch,1)})});t("state()",function(){return this.context.length?this.context[0].oSavedState:null});t("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})});t("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});t("state.save()",function(){return this.iterator("table",function(e){st(e)})});R.versionCheck=R.fnVersionCheck=function(e){var t=R.version.split(".");var n=e.split(".");var i,r;for(var a=0,o=n.length;a<o;a++){i=parseInt(t[a],10)||0;r=parseInt(n[a],10)||0;if(i===r){continue}return i>r}return true};R.isDataTable=R.fnIsDataTable=function(e){var r=$(e).get(0);var a=false;if(e instanceof R.Api){return true}$.each(R.settings,function(e,t){var n=t.nScrollHead?$("table",t.nScrollHead)[0]:null;var i=t.nScrollFoot?$("table",t.nScrollFoot)[0]:null;if(t.nTable===r||n===r||i===r){a=true}});return a};R.tables=R.fnTables=function(t){var e=false;if($.isPlainObject(t)){e=t.api;t=t.visible}var n=$.map(R.settings,function(e){if(!t||t&&$(e.nTable).is(":visible")){return e.nTable}});return e?new b(n):n};R.camelToHungarian=F;t("$()",function(e,t){var n=this.rows(t).nodes(),i=$(n);return $([].concat(i.filter(e).toArray(),i.find(e).toArray()))});$.each(["on","one","off"],function(e,n){t(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0]=$.map(e[0].split(/\s/),function(e){return!e.match(/\.dt\b/)?e+".dt":e}).join(" ");var t=$(this.tables().nodes());t[n].apply(t,e);return this})});t("clear()",function(){return this.iterator("table",function(e){ie(e)})});t("settings()",function(){return new b(this.context,this.context)});t("init()",function(){var e=this.context;return e.length?e[0].oInit:null});t("data()",function(){return this.iterator("table",function(e){return V(e.aoData,"_aData")}).flatten()});t("destroy()",function(m){m=m||false;return this.iterator("table",function(t){var e=t.nTableWrapper.parentNode;var n=t.oClasses;var i=t.nTable;var r=t.nTBody;var a=t.nTHead;var o=t.nTFoot;var s=$(i);var l=$(r);var c=$(t.nTableWrapper);var u=$.map(t.aoData,function(e){return e.nTr});var h,f;t.bDestroying=true;mt(t,"aoDestroyCallback","destroy",[t]);if(!m){new b(t).columns().visible(true)}c.off(".DT").find(":not(tbody *)").off(".DT");$(D).off(".DT-"+t.sInstance);if(i!=a.parentNode){s.children("thead").detach();s.append(a)}if(o&&i!=o.parentNode){s.children("tfoot").detach();s.append(o)}t.aaSorting=[];t.aaSortingFixed=[];at(t);$(u).removeClass(t.asStripeClasses.join(" "));$("th, td",a).removeClass(n.sSortable+" "+n.sSortableAsc+" "+n.sSortableDesc+" "+n.sSortableNone);l.children().detach();l.append(u);var d=m?"remove":"detach";s[d]();c[d]();if(!m&&e){e.insertBefore(i,t.nTableReinsertBefore);s.css("width",t.sDestroyWidth).removeClass(n.sTable);f=t.asDestroyStripes.length;if(f){l.children().each(function(e){$(this).addClass(t.asDestroyStripes[e%f])})}}var p=$.inArray(t,R.settings);if(p!==-1){R.settings.splice(p,1)}})});$.each(["column","row","cell"],function(e,l){t(l+"s().every()",function(a){var o=this.selector.opts;var s=this;return this.iterator(l,function(e,t,n,i,r){a.call(s[l](t,l==="cell"?n:o,l==="cell"?o:W),t,n,i,r)})})});t("i18n()",function(e,t,n){var i=this.context[0];var r=ee(e)(i.oLanguage);if(r===W){r=t}if(n!==W&&$.isPlainObject(r)){r=r[n]!==W?r[n]:r._}return r.replace("%d",n)});R.version="1.10.19";R.settings=[];R.models={};R.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};R.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};R.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:false,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};R.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollCollapse:false,bServerSide:false,bSort:true,bSortMulti:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},R.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};E(R.defaults);R.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bVisible:true,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};E(R.defaults.column);R.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false,bScrollbarLeft:false,bBounding:false,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,json:W,oAjaxData:W,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return bt(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return bt(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,a=r.bPaginate;if(r.bServerSide){return a===false||e===-1?t+i:Math.min(t+e,this._iRecordsDisplay)}else{return!a||n>i||e===-1?i:n}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};R.ext=p={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:R.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:R.version};$.extend(p,{afnFiltering:p.search,aTypes:p.type.detect,ofnSearch:p.type.search,oSort:p.type.order,afnSortData:p.order,aoFeatures:p.feature,oApi:p.internal,oStdClasses:p.classes,oPagination:p.pager});$.extend(R.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ht=R.ext.pager;function jt(e,t){var n=[],i=Ht.numbers_length,r=Math.floor(i/2),a=1;if(t<=i){n=m(0,t)}else if(e<=r){n=m(0,i-2);n.push("ellipsis");n.push(t-1)}else if(e>=t-1-r){n=m(t-(i-2),t);n.splice(0,0,"ellipsis");n.splice(0,0,0)}else{n=m(e-r+2,e+r-1);n.push("ellipsis");n.push(t-1);n.splice(0,0,"ellipsis");n.splice(0,0,0)}n.DT_el="span";return n}$.extend(Ht,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[jt(e,t)]},simple_numbers:function(e,t){return["previous",jt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",jt(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",jt(e,t),"last"]},_numbers:jt,numbers_length:7});$.extend(true,R.ext.renderer,{pageButton:{_:function(l,e,c,t,u,h){var f=l.oClasses;var d=l.oLanguage.oPaginate;var p=l.oLanguage.oAria.paginate||{};var m,g,v=0;var b=function(e,t){var n,i,r,a;var o=function(e){He(l,e.data.action,true)};for(n=0,i=t.length;n<i;n++){a=t[n];if($.isArray(a)){var s=$("<"+(a.DT_el||"div")+"/>").appendTo(e);b(s,a)}else{m=null;g="";switch(a){case"ellipsis":e.append('<span class="ellipsis">&#x2026;</span>');break;case"first":m=d.sFirst;g=a+(u>0?"":" "+f.sPageButtonDisabled);break;case"previous":m=d.sPrevious;g=a+(u>0?"":" "+f.sPageButtonDisabled);break;case"next":m=d.sNext;g=a+(u<h-1?"":" "+f.sPageButtonDisabled);break;case"last":m=d.sLast;g=a+(u<h-1?"":" "+f.sPageButtonDisabled);break;default:m=a+1;g=u===a?f.sPageButtonActive:"";break}if(m!==null){r=$("<a>",{class:f.sPageButton+" "+g,"aria-controls":l.sTableId,"aria-label":p[a],"data-dt-idx":v,tabindex:l.iTabIndex,id:c===0&&typeof a==="string"?l.sTableId+"_"+a:null}).html(m).appendTo(e);dt(r,{action:a},o);v++}}}};var n;try{n=$(e).find(y.activeElement).data("dt-idx")}catch(e){}b($(e).empty(),t);if(n!==W){$(e).find("[data-dt-idx="+n+"]").focus()}}}});$.extend(R.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return u(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!a.test(e)){return null}var n=Date.parse(e);return n!==null&&!isNaN(n)||l(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return u(e,n,true)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return f(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return f(e,n,true)?"html-num-fmt"+n:null},function(e,t){return l(e)||typeof e==="string"&&e.indexOf("<")!==-1?"html":null}]);$.extend(R.ext.type.search,{html:function(e){return l(e)?e:typeof e==="string"?e.replace(i," ").replace(r,""):""},string:function(e){return l(e)?e:typeof e==="string"?e.replace(i," "):e}});var $t=function(e,t,n,i){if(e!==0&&(!e||e==="-")){return-Infinity}if(t){e=c(e,t)}if(e.replace){if(n){e=e.replace(n,"")}if(i){e=e.replace(i,"")}}return e*1};function Wt(n){$.each({num:function(e){return $t(e,n)},"num-fmt":function(e){return $t(e,n,s)},"html-num":function(e){return $t(e,n,r)},"html-num-fmt":function(e){return $t(e,n,r,s)}},function(e,t){p.type.order[e+n+"-pre"]=t;if(e.match(/^html\-/)){p.type.search[e+n]=p.type.search.html}})}$.extend(p.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-Infinity:t},"html-pre":function(e){return l(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return l(e)?"":typeof e==="string"?e.toLowerCase():!e.toString?"":e.toString()},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}});Wt("");$.extend(true,R.ext.renderer,{header:{_:function(a,o,s,l){$(a.nTable).on("order.dt.DT",function(e,t,n,i){if(a!==t){return}var r=s.idx;o.removeClass(s.sSortingClass+" "+l.sSortAsc+" "+l.sSortDesc).addClass(i[r]=="asc"?l.sSortAsc:i[r]=="desc"?l.sSortDesc:s.sSortingClass)})},jqueryui:function(a,o,s,l){$("<div/>").addClass(l.sSortJUIWrapper).append(o.contents()).append($("<span/>").addClass(l.sSortIcon+" "+s.sSortingClassJUI)).appendTo(o);$(a.nTable).on("order.dt.DT",function(e,t,n,i){if(a!==t){return}var r=s.idx;o.removeClass(l.sSortAsc+" "+l.sSortDesc).addClass(i[r]=="asc"?l.sSortAsc:i[r]=="desc"?l.sSortDesc:s.sSortingClass);o.find("span."+l.sSortIcon).removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed).addClass(i[r]=="asc"?l.sSortJUIAsc:i[r]=="desc"?l.sSortJUIDesc:s.sSortingClassJUI)})}}});var Vt=function(e){return typeof e==="string"?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};R.render={number:function(a,o,s,l,c){return{display:function(e){if(typeof e!=="number"&&typeof e!=="string"){return e}var t=e<0?"-":"";var n=parseFloat(e);if(isNaN(n)){return Vt(e)}n=n.toFixed(s);e=Math.abs(n);var i=parseInt(e,10);var r=s?o+(e-i).toFixed(s).substring(2):"";return t+(l||"")+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+r+(c||"")}}},text:function(){return{display:Vt,filter:Vt}}};function Gt(t){return function(){var e=[ct(this[R.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return R.ext.internal[t].apply(this,e)}}$.extend(R.ext.internal,{_fnExternApiFunc:Gt,_fnBuildAjax:ge,_fnAjaxUpdate:ve,_fnAjaxParameters:be,_fnAjaxUpdateDraw:ye,_fnAjaxDataSrc:xe,_fnAddColumn:B,_fnColumnOptions:z,_fnAdjustColumnSizing:G,_fnVisibleToColumnIndex:q,_fnColumnIndexToVisible:S,_fnVisbleColumns:L,_fnGetColumns:U,_fnColumnTypes:T,_fnApplyColumnDefs:H,_fnHungarianMap:E,_fnCamelToHungarian:F,_fnLanguageCompat:P,_fnBrowserDetect:O,_fnAddData:j,_fnAddTr:X,_fnNodeToDataIndex:M,_fnNodeToColumnIndex:k,_fnGetCellData:Y,_fnSetCellData:K,_fnSplitObjNotation:J,_fnGetObjectDataFn:ee,_fnSetObjectDataFn:te,_fnGetDataMaster:ne,_fnClearTable:ie,_fnDeleteIndex:re,_fnInvalidate:ae,_fnGetRowElements:oe,_fnCreateTr:se,_fnBuildHead:ce,_fnDrawHead:ue,_fnDraw:he,_fnReDraw:fe,_fnAddOptionsHtml:de,_fnDetectHeader:pe,_fnGetUniqueThs:me,_fnFeatureHtmlFilter:we,_fnFilterComplete:_e,_fnFilterCustom:Ee,_fnFilterColumn:Ae,_fnFilter:Ce,_fnFilterCreateSearch:Se,_fnEscapeRegex:Te,_fnFilterData:De,_fnFeatureHtmlInfo:Fe,_fnUpdateInfo:Pe,_fnInfoMacros:Ie,_fnInitialise:Ne,_fnInitComplete:Oe,_fnLengthChange:Be,_fnFeatureHtmlLength:ze,_fnFeatureHtmlPaginate:Ue,_fnPageChange:He,_fnFeatureHtmlProcessing:je,_fnProcessingDisplay:$e,_fnFeatureHtmlTable:We,_fnScrollDraw:Ve,_fnApplyToChildren:Ge,_fnCalculateColumnWidths:Xe,_fnThrottle:Ye,_fnConvertToWidth:Ke,_fnGetWidestNode:Ze,_fnGetMaxLenString:Qe,_fnStringToCss:Je,_fnSortFlatten:et,_fnSort:tt,_fnSortAria:nt,_fnSortListener:it,_fnSortAttachListener:rt,_fnSortingClasses:at,_fnSortData:ot,_fnSaveState:st,_fnLoadState:lt,_fnSettingsFromNode:ct,_fnLog:ut,_fnMap:ht,_fnBindAction:dt,_fnCallbackReg:pt,_fnCallbackFire:mt,_fnLengthOverflow:gt,_fnRenderer:vt,_fnDataSource:bt,_fnRowAttributes:le,_fnExtend:ft,_fnCalculateEnd:function(){}});$.fn.dataTable=R;R.$=$;$.fn.dataTableSettings=R.settings;$.fn.dataTableExt=R.ext;$.fn.DataTable=function(e){return $(this).dataTable(e).api()};$.each(R,function(e,t){$.fn.DataTable[e]=t});return $.fn.dataTable})},{jquery:24}],19:[function(e,a,s){(function(r){!function(h){var f=Array.isArray?Array.isArray:function e(t){return Object.prototype.toString.call(t)==="[object Array]"};var t=10;function c(){this._events={};if(this._conf){n.call(this,this._conf)}}function n(e){if(e){this._conf=e;e.delimiter&&(this.delimiter=e.delimiter);this._maxListeners=e.maxListeners!==h?e.maxListeners:t;e.wildcard&&(this.wildcard=e.wildcard);e.newListener&&(this.newListener=e.newListener);e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak);if(this.wildcard){this.listenerTree={}}}else{this._maxListeners=t}}function o(e,t){var n="(node) warning: possible EventEmitter memory "+"leak detected. "+e+" listeners added. "+"Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak){n+=" Event name: "+t+"."}if(typeof r!=="undefined"&&r.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning";i.emitter=this;i.count=e;r.emitWarning(i)}else{console.error(n);if(console.trace){console.trace()}}}function e(e){this._events={};this.newListener=false;this.verboseMemoryLeak=false;n.call(this,e)}e.EventEmitter2=e;function m(e,t,n,i){if(!n){return[]}var r=[],a,o,s,l,c,u,h,f=t.length,d=t[i],p=t[i+1];if(i===f&&n._listeners){if(typeof n._listeners==="function"){e&&e.push(n._listeners);return[n]}else{for(a=0,o=n._listeners.length;a<o;a++){e&&e.push(n._listeners[a])}return[n]}}if(d==="*"||d==="**"||n[d]){if(d==="*"){for(s in n){if(s!=="_listeners"&&n.hasOwnProperty(s)){r=r.concat(m(e,t,n[s],i+1))}}return r}else if(d==="**"){h=i+1===f||i+2===f&&p==="*";if(h&&n._listeners){r=r.concat(m(e,t,n,f))}for(s in n){if(s!=="_listeners"&&n.hasOwnProperty(s)){if(s==="*"||s==="**"){if(n[s]._listeners&&!h){r=r.concat(m(e,t,n[s],f))}r=r.concat(m(e,t,n[s],i))}else if(s===p){r=r.concat(m(e,t,n[s],i+2))}else{r=r.concat(m(e,t,n[s],i))}}}return r}r=r.concat(m(e,t,n[d],i+1))}l=n["*"];if(l){m(e,t,l,i+1)}c=n["**"];if(c){if(i<f){if(c._listeners){m(e,t,c,f)}for(s in c){if(s!=="_listeners"&&c.hasOwnProperty(s)){if(s===p){m(e,t,c[s],i+2)}else if(s===d){m(e,t,c[s],i+1)}else{u={};u[s]=c[s];m(e,t,{"**":u},i+1)}}}}else if(c._listeners){m(e,t,c,f)}else if(c["*"]&&c["*"]._listeners){m(e,t,c["*"],f)}}return r}function i(e,t){e=typeof e==="string"?e.split(this.delimiter):e.slice();for(var n=0,i=e.length;n+1<i;n++){if(e[n]==="**"&&e[n+1]==="**"){return}}var r=this.listenerTree;var a=e.shift();while(a!==h){if(!r[a]){r[a]={}}r=r[a];if(e.length===0){if(!r._listeners){r._listeners=t}else{if(typeof r._listeners==="function"){r._listeners=[r._listeners]}r._listeners.push(t);if(!r._listeners.warned&&this._maxListeners>0&&r._listeners.length>this._maxListeners){r._listeners.warned=true;o.call(this,r._listeners.length,a)}}return true}a=e.shift()}return true}e.prototype.delimiter=".";e.prototype.setMaxListeners=function(e){if(e!==h){this._maxListeners=e;if(!this._conf)this._conf={};this._conf.maxListeners=e}};e.prototype.event="";e.prototype.once=function(e,t){return this._once(e,t,false)};e.prototype.prependOnceListener=function(e,t){return this._once(e,t,true)};e.prototype._once=function(e,t,n){this._many(e,1,t,n);return this};e.prototype.many=function(e,t,n){return this._many(e,t,n,false)};e.prototype.prependMany=function(e,t,n){return this._many(e,t,n,true)};e.prototype._many=function(e,t,n,i){var r=this;if(typeof n!=="function"){throw new Error("many only accepts instances of Function")}function a(){if(--t===0){r.off(e,a)}return n.apply(this,arguments)}a._origin=n;this._on(e,a,i);return r};e.prototype.emit=function(){this._events||c.call(this);var e=arguments[0];if(e==="newListener"&&!this.newListener){if(!this._events.newListener){return false}}var t=arguments.length;var n,i,r,a;var o;if(this._all&&this._all.length){o=this._all.slice();if(t>3){n=new Array(t);for(a=0;a<t;a++)n[a]=arguments[a]}for(r=0,i=o.length;r<i;r++){this.event=e;switch(t){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,n)}}}if(this.wildcard){o=[];var s=typeof e==="string"?e.split(this.delimiter):e.slice();m.call(this,o,s,this.listenerTree,0)}else{o=this._events[e];if(typeof o==="function"){this.event=e;switch(t){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:n=new Array(t-1);for(a=1;a<t;a++)n[a-1]=arguments[a];o.apply(this,n)}return true}else if(o){o=o.slice()}}if(o&&o.length){if(t>3){n=new Array(t-1);for(a=1;a<t;a++)n[a-1]=arguments[a]}for(r=0,i=o.length;r<i;r++){this.event=e;switch(t){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,n)}}return true}else if(!this._all&&e==="error"){if(arguments[1]instanceof Error){throw arguments[1]}else{throw new Error("Uncaught, unspecified 'error' event.")}return false}return!!this._all};e.prototype.emitAsync=function(){this._events||c.call(this);var e=arguments[0];if(e==="newListener"&&!this.newListener){if(!this._events.newListener){return Promise.resolve([false])}}var t=[];var n=arguments.length;var i,r,a,o;var s;if(this._all){if(n>3){i=new Array(n);for(o=1;o<n;o++)i[o]=arguments[o]}for(a=0,r=this._all.length;a<r;a++){this.event=e;switch(n){case 1:t.push(this._all[a].call(this,e));break;case 2:t.push(this._all[a].call(this,e,arguments[1]));break;case 3:t.push(this._all[a].call(this,e,arguments[1],arguments[2]));break;default:t.push(this._all[a].apply(this,i))}}}if(this.wildcard){s=[];var l=typeof e==="string"?e.split(this.delimiter):e.slice();m.call(this,s,l,this.listenerTree,0)}else{s=this._events[e]}if(typeof s==="function"){this.event=e;switch(n){case 1:t.push(s.call(this));break;case 2:t.push(s.call(this,arguments[1]));break;case 3:t.push(s.call(this,arguments[1],arguments[2]));break;default:i=new Array(n-1);for(o=1;o<n;o++)i[o-1]=arguments[o];t.push(s.apply(this,i))}}else if(s&&s.length){s=s.slice();if(n>3){i=new Array(n-1);for(o=1;o<n;o++)i[o-1]=arguments[o]}for(a=0,r=s.length;a<r;a++){this.event=e;switch(n){case 1:t.push(s[a].call(this));break;case 2:t.push(s[a].call(this,arguments[1]));break;case 3:t.push(s[a].call(this,arguments[1],arguments[2]));break;default:t.push(s[a].apply(this,i))}}}else if(!this._all&&e==="error"){if(arguments[1]instanceof Error){return Promise.reject(arguments[1])}else{return Promise.reject("Uncaught, unspecified 'error' event.")}}return Promise.all(t)};e.prototype.on=function(e,t){return this._on(e,t,false)};e.prototype.prependListener=function(e,t){return this._on(e,t,true)};e.prototype.onAny=function(e){return this._onAny(e,false)};e.prototype.prependAny=function(e){return this._onAny(e,true)};e.prototype.addListener=e.prototype.on;e.prototype._onAny=function(e,t){if(typeof e!=="function"){throw new Error("onAny only accepts instances of Function")}if(!this._all){this._all=[]}if(t){this._all.unshift(e)}else{this._all.push(e)}return this};e.prototype._on=function(e,t,n){if(typeof e==="function"){this._onAny(e,t);return this}if(typeof t!=="function"){throw new Error("on only accepts instances of Function")}this._events||c.call(this);this.emit("newListener",e,t);if(this.wildcard){i.call(this,e,t);return this}if(!this._events[e]){this._events[e]=t}else{if(typeof this._events[e]==="function"){this._events[e]=[this._events[e]]}if(n){this._events[e].unshift(t)}else{this._events[e].push(t)}if(!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners){this._events[e].warned=true;o.call(this,this._events[e].length,e)}}return this};e.prototype.off=function(e,t){if(typeof t!=="function"){throw new Error("removeListener only takes instances of Function")}var n,i=[];if(this.wildcard){var r=typeof e==="string"?e.split(this.delimiter):e.slice();i=m.call(this,null,r,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e];i.push({_listeners:n})}for(var a=0;a<i.length;a++){var o=i[a];n=o._listeners;if(f(n)){var s=-1;for(var l=0,c=n.length;l<c;l++){if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){s=l;break}}if(s<0){continue}if(this.wildcard){o._listeners.splice(s,1)}else{this._events[e].splice(s,1)}if(n.length===0){if(this.wildcard){delete o._listeners}else{delete this._events[e]}}this.emit("removeListener",e,t);return this}else if(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t){if(this.wildcard){delete o._listeners}else{delete this._events[e]}this.emit("removeListener",e,t)}}function u(e){if(e===h){return}var t=Object.keys(e);for(var n in t){var i=t[n];var r=e[i];if(r instanceof Function||typeof r!=="object"||r===null)continue;if(Object.keys(r).length>0){u(e[i])}if(Object.keys(r).length===0){delete e[i]}}}u(this.listenerTree);return this};e.prototype.offAny=function(e){var t=0,n=0,i;if(e&&this._all&&this._all.length>0){i=this._all;for(t=0,n=i.length;t<n;t++){if(e===i[t]){i.splice(t,1);this.emit("removeListenerAny",e);return this}}}else{i=this._all;for(t=0,n=i.length;t<n;t++)this.emit("removeListenerAny",i[t]);this._all=[]}return this};e.prototype.removeListener=e.prototype.off;e.prototype.removeAllListeners=function(e){if(arguments.length===0){!this._events||c.call(this);return this}if(this.wildcard){var t=typeof e==="string"?e.split(this.delimiter):e.slice();var n=m.call(this,null,t,this.listenerTree,0);for(var i=0;i<n.length;i++){var r=n[i];r._listeners=null}}else if(this._events){this._events[e]=null}return this};e.prototype.listeners=function(e){if(this.wildcard){var t=[];var n=typeof e==="string"?e.split(this.delimiter):e.slice();m.call(this,t,n,this.listenerTree,0);return t}this._events||c.call(this);if(!this._events[e])this._events[e]=[];if(!f(this._events[e])){this._events[e]=[this._events[e]]}return this._events[e]};e.prototype.eventNames=function(){return Object.keys(this._events)};e.prototype.listenerCount=function(e){return this.listeners(e).length};e.prototype.listenersAny=function(){if(this._all){return this._all}else{return[]}};if(typeof define==="function"&&define.amd){define(function(){return e})}else if(typeof s==="object"){a.exports=e}else{window.EventEmitter2=e}}()}).call(this,e("_process"))},{_process:47}],20:[function(e,t,n){var u=e("xtend");var i=function(e){var t;var n=function(){};var i={onbeforeshow:n,onshow:n,onbeforehide:n,onhide:n,text:"",icon:null,spinner:null,duration:null,id:null};var r=u(i,e);var a=function(e){l();r.onhide()};var o=function(){t=document.createElement("div");t.className="ios-overlay";t.innerHTML+='<span class="title">'+r.text+"</span>";if(e.icon){if(typeof e.icon=="string"){t.innerHTML+='<img src="'+e.icon+'">'}else{t.appendChild(e.icon)}}else if(e.spinner){t.appendChild(e.spinner.el)}document.body.appendChild(t);r.onbeforeshow();setTimeout(function(){t.className+=" show"},10);if(r.duration){setTimeout(function(){s()},r.duration)}}();var s=function(){r.onbeforehide();t.className=t.className.replace("show","hide");t.addEventListener("webkitTransitionEnd",a,false);t.addEventListener("msTransitionEnd",a,false);t.addEventListener("oTransitionEnd",a,false);t.addEventListener("transitionend",a,false)};var l=function(){document.body.removeChild(t)};var c=function(e){if(e.text){t.getElementsByTagName("span")[0].innerHTML=e.text}if(e.icon){if(r.spinner){r.spinner.el.parentNode.removeChild(r.spinner.el);r.spinner=null}t.innerHTML+='<img src="'+e.icon+'">'}};return{hide:s,destroy:l,update:c}};t.exports=i},{xtend:21}],21:[function(e,t,n){t.exports=i;function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t],i=Object.keys(n);for(var r=0;r<i.length;r++){var a=i[r];e[a]=n[a]}}return e}},{}],22:[function(e,t,n){var i='/*! jQuery UI - v1.12.1 - 2017-03-19\n* http://jqueryui.com\n* Includes: draggable.css, core.css, resizable.css, selectable.css, sortable.css, accordion.css, autocomplete.css, menu.css, button.css, controlgroup.css, checkboxradio.css, datepicker.css, dialog.css, progressbar.css, selectmenu.css, slider.css, spinner.css, tabs.css, tooltip.css, theme.css\n* To view and modify this theme, visit http://jqueryui.com/themeroller/?scope=&folderName=base&cornerRadiusShadow=8px&offsetLeftShadow=0px&offsetTopShadow=0px&thicknessShadow=5px&opacityShadow=30&bgImgOpacityShadow=0&bgTextureShadow=flat&bgColorShadow=666666&opacityOverlay=30&bgImgOpacityOverlay=0&bgTextureOverlay=flat&bgColorOverlay=aaaaaa&iconColorError=cc0000&fcError=5f3f3f&borderColorError=f1a899&bgTextureError=flat&bgColorError=fddfdf&iconColorHighlight=777620&fcHighlight=777620&borderColorHighlight=dad55e&bgTextureHighlight=flat&bgColorHighlight=fffa90&iconColorActive=ffffff&fcActive=ffffff&borderColorActive=003eff&bgTextureActive=flat&bgColorActive=007fff&iconColorHover=555555&fcHover=2b2b2b&borderColorHover=cccccc&bgTextureHover=flat&bgColorHover=ededed&iconColorDefault=777777&fcDefault=454545&borderColorDefault=c5c5c5&bgTextureDefault=flat&bgColorDefault=f6f6f6&iconColorContent=444444&fcContent=333333&borderColorContent=dddddd&bgTextureContent=flat&bgColorContent=ffffff&iconColorHeader=444444&fcHeader=333333&borderColorHeader=dddddd&bgTextureHeader=flat&bgColorHeader=e9e9e9&cornerRadius=3px&fwDefault=normal&fsDefault=1em&ffDefault=Arial%2CHelvetica%2Csans-serif\n* Copyright jQuery Foundation and other contributors; Licensed MIT */\n.ui-draggable-handle {\n  -ms-touch-action: none;\n  touch-action: none;\n}\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n  display: none;\n}\n.ui-helper-hidden-accessible {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n.ui-helper-reset {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: 0;\n  line-height: 1.3;\n  text-decoration: none;\n  font-size: 100%;\n  list-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n  content: "";\n  display: table;\n  border-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n  clear: both;\n}\n.ui-helper-zfix {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n  opacity: 0;\n  filter: Alpha(Opacity=0);\n  /* support: IE8 */\n}\n.ui-front {\n  z-index: 100;\n}\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n  cursor: default !important;\n  pointer-events: none;\n}\n/* Icons\n----------------------------------*/\n.ui-icon {\n  display: inline-block;\n  vertical-align: middle;\n  margin-top: -.25em;\n  position: relative;\n  text-indent: -99999px;\n  overflow: hidden;\n  background-repeat: no-repeat;\n}\n.ui-widget-icon-block {\n  left: 50%;\n  margin-left: -8px;\n  display: block;\n}\n/* Misc visuals\n----------------------------------*/\n/* Overlays */\n.ui-widget-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.ui-resizable {\n  position: relative;\n}\n.ui-resizable-handle {\n  position: absolute;\n  font-size: 0.1px;\n  display: block;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n  display: none;\n}\n.ui-resizable-n {\n  cursor: n-resize;\n  height: 7px;\n  width: 100%;\n  top: -5px;\n  left: 0;\n}\n.ui-resizable-s {\n  cursor: s-resize;\n  height: 7px;\n  width: 100%;\n  bottom: -5px;\n  left: 0;\n}\n.ui-resizable-e {\n  cursor: e-resize;\n  width: 7px;\n  right: -5px;\n  top: 0;\n  height: 100%;\n}\n.ui-resizable-w {\n  cursor: w-resize;\n  width: 7px;\n  left: -5px;\n  top: 0;\n  height: 100%;\n}\n.ui-resizable-se {\n  cursor: se-resize;\n  width: 12px;\n  height: 12px;\n  right: 1px;\n  bottom: 1px;\n}\n.ui-resizable-sw {\n  cursor: sw-resize;\n  width: 9px;\n  height: 9px;\n  left: -5px;\n  bottom: -5px;\n}\n.ui-resizable-nw {\n  cursor: nw-resize;\n  width: 9px;\n  height: 9px;\n  left: -5px;\n  top: -5px;\n}\n.ui-resizable-ne {\n  cursor: ne-resize;\n  width: 9px;\n  height: 9px;\n  right: -5px;\n  top: -5px;\n}\n.ui-selectable {\n  -ms-touch-action: none;\n  touch-action: none;\n}\n.ui-selectable-helper {\n  position: absolute;\n  z-index: 100;\n  border: 1px dotted black;\n}\n.ui-sortable-handle {\n  -ms-touch-action: none;\n  touch-action: none;\n}\n.ui-accordion .ui-accordion-header {\n  display: block;\n  cursor: pointer;\n  position: relative;\n  margin: 2px 0 0 0;\n  padding: .5em .5em .5em .7em;\n  font-size: 100%;\n}\n.ui-accordion .ui-accordion-content {\n  padding: 1em 2.2em;\n  border-top: 0;\n  overflow: auto;\n}\n.ui-autocomplete {\n  position: absolute;\n  top: 0;\n  left: 0;\n  cursor: default;\n}\n.ui-menu {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: block;\n  outline: 0;\n}\n.ui-menu .ui-menu {\n  position: absolute;\n}\n.ui-menu .ui-menu-item {\n  margin: 0;\n  cursor: pointer;\n  /* support: IE10, see #8844 */\n  list-style-image: url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");\n}\n.ui-menu .ui-menu-item-wrapper {\n  position: relative;\n  padding: 3px 1em 3px .4em;\n}\n.ui-menu .ui-menu-divider {\n  margin: 5px 0;\n  height: 0;\n  font-size: 0;\n  line-height: 0;\n  border-width: 1px 0 0 0;\n}\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n  margin: -1px;\n}\n/* icon support */\n.ui-menu-icons {\n  position: relative;\n}\n.ui-menu-icons .ui-menu-item-wrapper {\n  padding-left: 2em;\n}\n/* left-aligned */\n.ui-menu .ui-icon {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: .2em;\n  margin: auto 0;\n}\n/* right-aligned */\n.ui-menu .ui-menu-icon {\n  left: auto;\n  right: 0;\n}\n.ui-button {\n  padding: .4em 1em;\n  display: inline-block;\n  position: relative;\n  line-height: normal;\n  margin-right: .1em;\n  cursor: pointer;\n  vertical-align: middle;\n  text-align: center;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  /* Support: IE <= 11 */\n  overflow: visible;\n}\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n  text-decoration: none;\n}\n/* to make room for the icon, a width needs to be set here */\n.ui-button-icon-only {\n  width: 2em;\n  box-sizing: border-box;\n  text-indent: -9999px;\n  white-space: nowrap;\n}\n/* no icon support for input elements */\ninput.ui-button.ui-button-icon-only {\n  text-indent: 0;\n}\n/* button icon element(s) */\n.ui-button-icon-only .ui-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -8px;\n  margin-left: -8px;\n}\n.ui-button.ui-icon-notext .ui-icon {\n  padding: 0;\n  width: 2.1em;\n  height: 2.1em;\n  text-indent: -9999px;\n  white-space: nowrap;\n}\ninput.ui-button.ui-icon-notext .ui-icon {\n  width: auto;\n  height: auto;\n  text-indent: 0;\n  white-space: normal;\n  padding: .4em 1em;\n}\n/* workarounds */\n/* Support: Firefox 5 - 40 */\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n.ui-controlgroup {\n  vertical-align: middle;\n  display: inline-block;\n}\n.ui-controlgroup > .ui-controlgroup-item {\n  float: left;\n  margin-left: 0;\n  margin-right: 0;\n}\n.ui-controlgroup > .ui-controlgroup-item:focus,\n.ui-controlgroup > .ui-controlgroup-item.ui-visual-focus {\n  z-index: 9999;\n}\n.ui-controlgroup-vertical > .ui-controlgroup-item {\n  display: block;\n  float: none;\n  width: 100%;\n  margin-top: 0;\n  margin-bottom: 0;\n  text-align: left;\n}\n.ui-controlgroup-vertical .ui-controlgroup-item {\n  box-sizing: border-box;\n}\n.ui-controlgroup .ui-controlgroup-label {\n  padding: .4em 1em;\n}\n.ui-controlgroup .ui-controlgroup-label span {\n  font-size: 80%;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label + .ui-controlgroup-item {\n  border-left: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label + .ui-controlgroup-item {\n  border-top: none;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content {\n  border-right: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content {\n  border-bottom: none;\n}\n/* Spinner specific style fixes */\n.ui-controlgroup-vertical .ui-spinner-input {\n  /* Support: IE8 only, Android < 4.4 only */\n  width: 75%;\n  width: calc( 100% - 2.4em );\n}\n.ui-controlgroup-vertical .ui-spinner .ui-spinner-up {\n  border-top-style: solid;\n}\n.ui-checkboxradio-label .ui-icon-background {\n  box-shadow: inset 1px 1px 1px #ccc;\n  border-radius: .12em;\n  border: none;\n}\n.ui-checkboxradio-radio-label .ui-icon-background {\n  width: 16px;\n  height: 16px;\n  border-radius: 1em;\n  overflow: visible;\n  border: none;\n}\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon {\n  background-image: none;\n  width: 8px;\n  height: 8px;\n  border-width: 4px;\n  border-style: solid;\n}\n.ui-checkboxradio-disabled {\n  pointer-events: none;\n}\n.ui-datepicker {\n  width: 17em;\n  padding: .2em .2em 0;\n  display: none;\n}\n.ui-datepicker .ui-datepicker-header {\n  position: relative;\n  padding: .2em 0;\n}\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n  position: absolute;\n  top: 2px;\n  width: 1.8em;\n  height: 1.8em;\n}\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n  top: 1px;\n}\n.ui-datepicker .ui-datepicker-prev {\n  left: 2px;\n}\n.ui-datepicker .ui-datepicker-next {\n  right: 2px;\n}\n.ui-datepicker .ui-datepicker-prev-hover {\n  left: 1px;\n}\n.ui-datepicker .ui-datepicker-next-hover {\n  right: 1px;\n}\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n  display: block;\n  position: absolute;\n  left: 50%;\n  margin-left: -8px;\n  top: 50%;\n  margin-top: -8px;\n}\n.ui-datepicker .ui-datepicker-title {\n  margin: 0 2.3em;\n  line-height: 1.8em;\n  text-align: center;\n}\n.ui-datepicker .ui-datepicker-title select {\n  font-size: 1em;\n  margin: 1px 0;\n}\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n  width: 45%;\n}\n.ui-datepicker table {\n  width: 100%;\n  font-size: .9em;\n  border-collapse: collapse;\n  margin: 0 0 .4em;\n}\n.ui-datepicker th {\n  padding: .7em .3em;\n  text-align: center;\n  font-weight: bold;\n  border: 0;\n}\n.ui-datepicker td {\n  border: 0;\n  padding: 1px;\n}\n.ui-datepicker td span,\n.ui-datepicker td a {\n  display: block;\n  padding: .2em;\n  text-align: right;\n  text-decoration: none;\n}\n.ui-datepicker .ui-datepicker-buttonpane {\n  background-image: none;\n  margin: .7em 0 0 0;\n  padding: 0 .2em;\n  border-left: 0;\n  border-right: 0;\n  border-bottom: 0;\n}\n.ui-datepicker .ui-datepicker-buttonpane button {\n  float: right;\n  margin: .5em .2em .4em;\n  cursor: pointer;\n  padding: .2em .6em .3em .6em;\n  width: auto;\n  overflow: visible;\n}\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n  float: left;\n}\n/* with multiple calendars */\n.ui-datepicker.ui-datepicker-multi {\n  width: auto;\n}\n.ui-datepicker-multi .ui-datepicker-group {\n  float: left;\n}\n.ui-datepicker-multi .ui-datepicker-group table {\n  width: 95%;\n  margin: 0 auto .4em;\n}\n.ui-datepicker-multi-2 .ui-datepicker-group {\n  width: 50%;\n}\n.ui-datepicker-multi-3 .ui-datepicker-group {\n  width: 33.3%;\n}\n.ui-datepicker-multi-4 .ui-datepicker-group {\n  width: 25%;\n}\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n  border-left-width: 0;\n}\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n  clear: left;\n}\n.ui-datepicker-row-break {\n  clear: both;\n  width: 100%;\n  font-size: 0;\n}\n/* RTL support */\n.ui-datepicker-rtl {\n  direction: rtl;\n}\n.ui-datepicker-rtl .ui-datepicker-prev {\n  right: 2px;\n  left: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next {\n  left: 2px;\n  right: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n  right: 1px;\n  left: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n  left: 1px;\n  right: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n  clear: right;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n  float: left;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n  float: right;\n}\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n  border-right-width: 0;\n  border-left-width: 1px;\n}\n/* Icons */\n.ui-datepicker .ui-icon {\n  display: block;\n  text-indent: -99999px;\n  overflow: hidden;\n  background-repeat: no-repeat;\n  left: .5em;\n  top: .3em;\n}\n.ui-dialog {\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: .2em;\n  outline: 0;\n}\n.ui-dialog .ui-dialog-titlebar {\n  padding: .4em 1em;\n  position: relative;\n}\n.ui-dialog .ui-dialog-title {\n  float: left;\n  margin: .1em 0;\n  white-space: nowrap;\n  width: 90%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ui-dialog .ui-dialog-titlebar-close {\n  position: absolute;\n  right: .3em;\n  top: 50%;\n  width: 20px;\n  margin: -10px 0 0 0;\n  padding: 1px;\n  height: 20px;\n}\n.ui-dialog .ui-dialog-content {\n  position: relative;\n  border: 0;\n  padding: .5em 1em;\n  background: none;\n  overflow: auto;\n}\n.ui-dialog .ui-dialog-buttonpane {\n  text-align: left;\n  border-width: 1px 0 0 0;\n  background-image: none;\n  margin-top: .5em;\n  padding: .3em 1em .5em .4em;\n}\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n  float: right;\n}\n.ui-dialog .ui-dialog-buttonpane button {\n  margin: .5em .4em .5em 0;\n  cursor: pointer;\n}\n.ui-dialog .ui-resizable-n {\n  height: 2px;\n  top: 0;\n}\n.ui-dialog .ui-resizable-e {\n  width: 2px;\n  right: 0;\n}\n.ui-dialog .ui-resizable-s {\n  height: 2px;\n  bottom: 0;\n}\n.ui-dialog .ui-resizable-w {\n  width: 2px;\n  left: 0;\n}\n.ui-dialog .ui-resizable-se,\n.ui-dialog .ui-resizable-sw,\n.ui-dialog .ui-resizable-ne,\n.ui-dialog .ui-resizable-nw {\n  width: 7px;\n  height: 7px;\n}\n.ui-dialog .ui-resizable-se {\n  right: 0;\n  bottom: 0;\n}\n.ui-dialog .ui-resizable-sw {\n  left: 0;\n  bottom: 0;\n}\n.ui-dialog .ui-resizable-ne {\n  right: 0;\n  top: 0;\n}\n.ui-dialog .ui-resizable-nw {\n  left: 0;\n  top: 0;\n}\n.ui-draggable .ui-dialog-titlebar {\n  cursor: move;\n}\n.ui-progressbar {\n  height: 2em;\n  text-align: left;\n  overflow: hidden;\n}\n.ui-progressbar .ui-progressbar-value {\n  margin: -1px;\n  height: 100%;\n}\n.ui-progressbar .ui-progressbar-overlay {\n  background: url("data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==");\n  height: 100%;\n  filter: alpha(opacity=25);\n  /* support: IE8 */\n  opacity: 0.25;\n}\n.ui-progressbar-indeterminate .ui-progressbar-value {\n  background-image: none;\n}\n.ui-selectmenu-menu {\n  padding: 0;\n  margin: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: none;\n}\n.ui-selectmenu-menu .ui-menu {\n  overflow: auto;\n  overflow-x: hidden;\n  padding-bottom: 1px;\n}\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n  font-size: 1em;\n  font-weight: bold;\n  line-height: 1.5;\n  padding: 2px 0.4em;\n  margin: 0.5em 0 0 0;\n  height: auto;\n  border: 0;\n}\n.ui-selectmenu-open {\n  display: block;\n}\n.ui-selectmenu-text {\n  display: block;\n  margin-right: 20px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ui-selectmenu-button.ui-button {\n  text-align: left;\n  white-space: nowrap;\n  width: 14em;\n}\n.ui-selectmenu-icon.ui-icon {\n  float: right;\n  margin-top: 0;\n}\n.ui-slider {\n  position: relative;\n  text-align: left;\n}\n.ui-slider .ui-slider-handle {\n  position: absolute;\n  z-index: 2;\n  width: 1.2em;\n  height: 1.2em;\n  cursor: default;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n.ui-slider .ui-slider-range {\n  position: absolute;\n  z-index: 1;\n  font-size: .7em;\n  display: block;\n  border: 0;\n  background-position: 0 0;\n}\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n  filter: inherit;\n}\n.ui-slider-horizontal {\n  height: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n  top: -.3em;\n  margin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n  top: 0;\n  height: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n  left: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n  right: 0;\n}\n.ui-slider-vertical {\n  width: .8em;\n  height: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n  left: -.3em;\n  margin-left: 0;\n  margin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n  left: 0;\n  width: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n  bottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n  top: 0;\n}\n.ui-spinner {\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n  padding: 0;\n  vertical-align: middle;\n}\n.ui-spinner-input {\n  border: none;\n  background: none;\n  color: inherit;\n  padding: .222em 0;\n  margin: .2em 0;\n  vertical-align: middle;\n  margin-left: .4em;\n  margin-right: 2em;\n}\n.ui-spinner-button {\n  width: 1.6em;\n  height: 50%;\n  font-size: .5em;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  position: absolute;\n  cursor: default;\n  display: block;\n  overflow: hidden;\n  right: 0;\n}\n/* more specificity required here to override default borders */\n.ui-spinner a.ui-spinner-button {\n  border-top-style: none;\n  border-bottom-style: none;\n  border-right-style: none;\n}\n.ui-spinner-up {\n  top: 0;\n}\n.ui-spinner-down {\n  bottom: 0;\n}\n.ui-tabs {\n  position: relative;\n  /* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as "fixed") */\n  padding: .2em;\n}\n.ui-tabs .ui-tabs-nav {\n  margin: 0;\n  padding: .2em .2em 0;\n}\n.ui-tabs .ui-tabs-nav li {\n  list-style: none;\n  float: left;\n  position: relative;\n  top: 0;\n  margin: 1px .2em 0 0;\n  border-bottom-width: 0;\n  padding: 0;\n  white-space: nowrap;\n}\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n  float: left;\n  padding: .5em 1em;\n  text-decoration: none;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n  margin-bottom: -1px;\n  padding-bottom: 1px;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n  cursor: text;\n}\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n  cursor: pointer;\n}\n.ui-tabs .ui-tabs-panel {\n  display: block;\n  border-width: 0;\n  padding: 1em 1.4em;\n  background: none;\n}\n.ui-tooltip {\n  padding: 8px;\n  position: absolute;\n  z-index: 9999;\n  max-width: 300px;\n}\nbody .ui-tooltip {\n  border-width: 2px;\n}\n/* Component containers\n----------------------------------*/\n.ui-widget {\n  font-family: Arial,Helvetica,sans-serif;\n  font-size: 1em;\n}\n.ui-widget .ui-widget {\n  font-size: 1em;\n}\n.ui-widget input,\n.ui-widget select,\n.ui-widget textarea,\n.ui-widget button {\n  font-family: Arial,Helvetica,sans-serif;\n  font-size: 1em;\n}\n.ui-widget.ui-widget-content {\n  border: 1px solid #c5c5c5;\n}\n.ui-widget-content {\n  border: 1px solid #dddddd;\n  background: #ffffff;\n  color: #333333;\n}\n.ui-widget-content a {\n  color: #333333;\n}\n.ui-widget-header {\n  border: 1px solid #dddddd;\n  background: #e9e9e9;\n  color: #333333;\n  font-weight: bold;\n}\n.ui-widget-header a {\n  color: #333333;\n}\n/* Interaction states\n----------------------------------*/\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default,\n.ui-button,\nhtml .ui-button.ui-state-disabled:hover,\nhtml .ui-button.ui-state-disabled:active {\n  border: 1px solid #c5c5c5;\n  background: #f6f6f6;\n  font-weight: normal;\n  color: #454545;\n}\n.ui-state-default a,\n.ui-state-default a:link,\n.ui-state-default a:visited,\na.ui-button,\na:link.ui-button,\na:visited.ui-button,\n.ui-button {\n  color: #454545;\n  text-decoration: none;\n}\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus,\n.ui-button:hover,\n.ui-button:focus {\n  border: 1px solid #cccccc;\n  background: #ededed;\n  font-weight: normal;\n  color: #2b2b2b;\n}\n.ui-state-hover a,\n.ui-state-hover a:hover,\n.ui-state-hover a:link,\n.ui-state-hover a:visited,\n.ui-state-focus a,\n.ui-state-focus a:hover,\n.ui-state-focus a:link,\n.ui-state-focus a:visited,\na.ui-button:hover,\na.ui-button:focus {\n  color: #2b2b2b;\n  text-decoration: none;\n}\n.ui-visual-focus {\n  box-shadow: 0 0 3px 1px rgb(94, 158, 214);\n}\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active,\na.ui-button:active,\n.ui-button:active,\n.ui-button.ui-state-active:hover {\n  border: 1px solid #003eff;\n  background: #007fff;\n  font-weight: normal;\n  color: #ffffff;\n}\n.ui-icon-background,\n.ui-state-active .ui-icon-background {\n  border: #003eff;\n  background-color: #ffffff;\n}\n.ui-state-active a,\n.ui-state-active a:link,\n.ui-state-active a:visited {\n  color: #ffffff;\n  text-decoration: none;\n}\n/* Interaction Cues\n----------------------------------*/\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight {\n  border: 1px solid #dad55e;\n  background: #fffa90;\n  color: #777620;\n}\n.ui-state-checked {\n  border: 1px solid #dad55e;\n  background: #fffa90;\n}\n.ui-state-highlight a,\n.ui-widget-content .ui-state-highlight a,\n.ui-widget-header .ui-state-highlight a {\n  color: #777620;\n}\n.ui-state-error,\n.ui-widget-content .ui-state-error,\n.ui-widget-header .ui-state-error {\n  border: 1px solid #f1a899;\n  background: #fddfdf;\n  color: #5f3f3f;\n}\n.ui-state-error a,\n.ui-widget-content .ui-state-error a,\n.ui-widget-header .ui-state-error a {\n  color: #5f3f3f;\n}\n.ui-state-error-text,\n.ui-widget-content .ui-state-error-text,\n.ui-widget-header .ui-state-error-text {\n  color: #5f3f3f;\n}\n.ui-priority-primary,\n.ui-widget-content .ui-priority-primary,\n.ui-widget-header .ui-priority-primary {\n  font-weight: bold;\n}\n.ui-priority-secondary,\n.ui-widget-content .ui-priority-secondary,\n.ui-widget-header .ui-priority-secondary {\n  opacity: .7;\n  filter: Alpha(Opacity=70);\n  /* support: IE8 */\n  font-weight: normal;\n}\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled {\n  opacity: .35;\n  filter: Alpha(Opacity=35);\n  /* support: IE8 */\n  background-image: none;\n}\n.ui-state-disabled .ui-icon {\n  filter: Alpha(Opacity=35);\n  /* support: IE8 - See #6059 */\n}\n/* Icons\n----------------------------------*/\n/* states and images */\n.ui-icon {\n  width: 16px;\n  height: 16px;\n}\n.ui-icon,\n.ui-widget-content .ui-icon {\n  background-image: url("../../../../../../../../node_modules/jquery-ui-bundle/images/ui-icons_444444_256x240.png");\n}\n.ui-widget-header .ui-icon {\n  background-image: url("../../../../../../../../node_modules/jquery-ui-bundle/images/ui-icons_444444_256x240.png");\n}\n.ui-state-hover .ui-icon,\n.ui-state-focus .ui-icon,\n.ui-button:hover .ui-icon,\n.ui-button:focus .ui-icon {\n  background-image: url("../../../../../../../../node_modules/jquery-ui-bundle/images/ui-icons_555555_256x240.png");\n}\n.ui-state-active .ui-icon,\n.ui-button:active .ui-icon {\n  background-image: url("../../../../../../../../node_modules/jquery-ui-bundle/images/ui-icons_ffffff_256x240.png");\n}\n.ui-state-highlight .ui-icon,\n.ui-button .ui-state-highlight.ui-icon {\n  background-image: url("../../../../../../../../node_modules/jquery-ui-bundle/images/ui-icons_777620_256x240.png");\n}\n.ui-state-error .ui-icon,\n.ui-state-error-text .ui-icon {\n  background-image: url("../../../../../../../../node_modules/jquery-ui-bundle/images/ui-icons_cc0000_256x240.png");\n}\n.ui-button .ui-icon {\n  background-image: url("../../../../../../../../node_modules/jquery-ui-bundle/images/ui-icons_777777_256x240.png");\n}\n/* positioning */\n.ui-icon-blank {\n  background-position: 16px 16px;\n}\n.ui-icon-caret-1-n {\n  background-position: 0 0;\n}\n.ui-icon-caret-1-ne {\n  background-position: -16px 0;\n}\n.ui-icon-caret-1-e {\n  background-position: -32px 0;\n}\n.ui-icon-caret-1-se {\n  background-position: -48px 0;\n}\n.ui-icon-caret-1-s {\n  background-position: -65px 0;\n}\n.ui-icon-caret-1-sw {\n  background-position: -80px 0;\n}\n.ui-icon-caret-1-w {\n  background-position: -96px 0;\n}\n.ui-icon-caret-1-nw {\n  background-position: -112px 0;\n}\n.ui-icon-caret-2-n-s {\n  background-position: -128px 0;\n}\n.ui-icon-caret-2-e-w {\n  background-position: -144px 0;\n}\n.ui-icon-triangle-1-n {\n  background-position: 0 -16px;\n}\n.ui-icon-triangle-1-ne {\n  background-position: -16px -16px;\n}\n.ui-icon-triangle-1-e {\n  background-position: -32px -16px;\n}\n.ui-icon-triangle-1-se {\n  background-position: -48px -16px;\n}\n.ui-icon-triangle-1-s {\n  background-position: -65px -16px;\n}\n.ui-icon-triangle-1-sw {\n  background-position: -80px -16px;\n}\n.ui-icon-triangle-1-w {\n  background-position: -96px -16px;\n}\n.ui-icon-triangle-1-nw {\n  background-position: -112px -16px;\n}\n.ui-icon-triangle-2-n-s {\n  background-position: -128px -16px;\n}\n.ui-icon-triangle-2-e-w {\n  background-position: -144px -16px;\n}\n.ui-icon-arrow-1-n {\n  background-position: 0 -32px;\n}\n.ui-icon-arrow-1-ne {\n  background-position: -16px -32px;\n}\n.ui-icon-arrow-1-e {\n  background-position: -32px -32px;\n}\n.ui-icon-arrow-1-se {\n  background-position: -48px -32px;\n}\n.ui-icon-arrow-1-s {\n  background-position: -65px -32px;\n}\n.ui-icon-arrow-1-sw {\n  background-position: -80px -32px;\n}\n.ui-icon-arrow-1-w {\n  background-position: -96px -32px;\n}\n.ui-icon-arrow-1-nw {\n  background-position: -112px -32px;\n}\n.ui-icon-arrow-2-n-s {\n  background-position: -128px -32px;\n}\n.ui-icon-arrow-2-ne-sw {\n  background-position: -144px -32px;\n}\n.ui-icon-arrow-2-e-w {\n  background-position: -160px -32px;\n}\n.ui-icon-arrow-2-se-nw {\n  background-position: -176px -32px;\n}\n.ui-icon-arrowstop-1-n {\n  background-position: -192px -32px;\n}\n.ui-icon-arrowstop-1-e {\n  background-position: -208px -32px;\n}\n.ui-icon-arrowstop-1-s {\n  background-position: -224px -32px;\n}\n.ui-icon-arrowstop-1-w {\n  background-position: -240px -32px;\n}\n.ui-icon-arrowthick-1-n {\n  background-position: 1px -48px;\n}\n.ui-icon-arrowthick-1-ne {\n  background-position: -16px -48px;\n}\n.ui-icon-arrowthick-1-e {\n  background-position: -32px -48px;\n}\n.ui-icon-arrowthick-1-se {\n  background-position: -48px -48px;\n}\n.ui-icon-arrowthick-1-s {\n  background-position: -64px -48px;\n}\n.ui-icon-arrowthick-1-sw {\n  background-position: -80px -48px;\n}\n.ui-icon-arrowthick-1-w {\n  background-position: -96px -48px;\n}\n.ui-icon-arrowthick-1-nw {\n  background-position: -112px -48px;\n}\n.ui-icon-arrowthick-2-n-s {\n  background-position: -128px -48px;\n}\n.ui-icon-arrowthick-2-ne-sw {\n  background-position: -144px -48px;\n}\n.ui-icon-arrowthick-2-e-w {\n  background-position: -160px -48px;\n}\n.ui-icon-arrowthick-2-se-nw {\n  background-position: -176px -48px;\n}\n.ui-icon-arrowthickstop-1-n {\n  background-position: -192px -48px;\n}\n.ui-icon-arrowthickstop-1-e {\n  background-position: -208px -48px;\n}\n.ui-icon-arrowthickstop-1-s {\n  background-position: -224px -48px;\n}\n.ui-icon-arrowthickstop-1-w {\n  background-position: -240px -48px;\n}\n.ui-icon-arrowreturnthick-1-w {\n  background-position: 0 -64px;\n}\n.ui-icon-arrowreturnthick-1-n {\n  background-position: -16px -64px;\n}\n.ui-icon-arrowreturnthick-1-e {\n  background-position: -32px -64px;\n}\n.ui-icon-arrowreturnthick-1-s {\n  background-position: -48px -64px;\n}\n.ui-icon-arrowreturn-1-w {\n  background-position: -64px -64px;\n}\n.ui-icon-arrowreturn-1-n {\n  background-position: -80px -64px;\n}\n.ui-icon-arrowreturn-1-e {\n  background-position: -96px -64px;\n}\n.ui-icon-arrowreturn-1-s {\n  background-position: -112px -64px;\n}\n.ui-icon-arrowrefresh-1-w {\n  background-position: -128px -64px;\n}\n.ui-icon-arrowrefresh-1-n {\n  background-position: -144px -64px;\n}\n.ui-icon-arrowrefresh-1-e {\n  background-position: -160px -64px;\n}\n.ui-icon-arrowrefresh-1-s {\n  background-position: -176px -64px;\n}\n.ui-icon-arrow-4 {\n  background-position: 0 -80px;\n}\n.ui-icon-arrow-4-diag {\n  background-position: -16px -80px;\n}\n.ui-icon-extlink {\n  background-position: -32px -80px;\n}\n.ui-icon-newwin {\n  background-position: -48px -80px;\n}\n.ui-icon-refresh {\n  background-position: -64px -80px;\n}\n.ui-icon-shuffle {\n  background-position: -80px -80px;\n}\n.ui-icon-transfer-e-w {\n  background-position: -96px -80px;\n}\n.ui-icon-transferthick-e-w {\n  background-position: -112px -80px;\n}\n.ui-icon-folder-collapsed {\n  background-position: 0 -96px;\n}\n.ui-icon-folder-open {\n  background-position: -16px -96px;\n}\n.ui-icon-document {\n  background-position: -32px -96px;\n}\n.ui-icon-document-b {\n  background-position: -48px -96px;\n}\n.ui-icon-note {\n  background-position: -64px -96px;\n}\n.ui-icon-mail-closed {\n  background-position: -80px -96px;\n}\n.ui-icon-mail-open {\n  background-position: -96px -96px;\n}\n.ui-icon-suitcase {\n  background-position: -112px -96px;\n}\n.ui-icon-comment {\n  background-position: -128px -96px;\n}\n.ui-icon-person {\n  background-position: -144px -96px;\n}\n.ui-icon-print {\n  background-position: -160px -96px;\n}\n.ui-icon-trash {\n  background-position: -176px -96px;\n}\n.ui-icon-locked {\n  background-position: -192px -96px;\n}\n.ui-icon-unlocked {\n  background-position: -208px -96px;\n}\n.ui-icon-bookmark {\n  background-position: -224px -96px;\n}\n.ui-icon-tag {\n  background-position: -240px -96px;\n}\n.ui-icon-home {\n  background-position: 0 -112px;\n}\n.ui-icon-flag {\n  background-position: -16px -112px;\n}\n.ui-icon-calendar {\n  background-position: -32px -112px;\n}\n.ui-icon-cart {\n  background-position: -48px -112px;\n}\n.ui-icon-pencil {\n  background-position: -64px -112px;\n}\n.ui-icon-clock {\n  background-position: -80px -112px;\n}\n.ui-icon-disk {\n  background-position: -96px -112px;\n}\n.ui-icon-calculator {\n  background-position: -112px -112px;\n}\n.ui-icon-zoomin {\n  background-position: -128px -112px;\n}\n.ui-icon-zoomout {\n  background-position: -144px -112px;\n}\n.ui-icon-search {\n  background-position: -160px -112px;\n}\n.ui-icon-wrench {\n  background-position: -176px -112px;\n}\n.ui-icon-gear {\n  background-position: -192px -112px;\n}\n.ui-icon-heart {\n  background-position: -208px -112px;\n}\n.ui-icon-star {\n  background-position: -224px -112px;\n}\n.ui-icon-link {\n  background-position: -240px -112px;\n}\n.ui-icon-cancel {\n  background-position: 0 -128px;\n}\n.ui-icon-plus {\n  background-position: -16px -128px;\n}\n.ui-icon-plusthick {\n  background-position: -32px -128px;\n}\n.ui-icon-minus {\n  background-position: -48px -128px;\n}\n.ui-icon-minusthick {\n  background-position: -64px -128px;\n}\n.ui-icon-close {\n  background-position: -80px -128px;\n}\n.ui-icon-closethick {\n  background-position: -96px -128px;\n}\n.ui-icon-key {\n  background-position: -112px -128px;\n}\n.ui-icon-lightbulb {\n  background-position: -128px -128px;\n}\n.ui-icon-scissors {\n  background-position: -144px -128px;\n}\n.ui-icon-clipboard {\n  background-position: -160px -128px;\n}\n.ui-icon-copy {\n  background-position: -176px -128px;\n}\n.ui-icon-contact {\n  background-position: -192px -128px;\n}\n.ui-icon-image {\n  background-position: -208px -128px;\n}\n.ui-icon-video {\n  background-position: -224px -128px;\n}\n.ui-icon-script {\n  background-position: -240px -128px;\n}\n.ui-icon-alert {\n  background-position: 0 -144px;\n}\n.ui-icon-info {\n  background-position: -16px -144px;\n}\n.ui-icon-notice {\n  background-position: -32px -144px;\n}\n.ui-icon-help {\n  background-position: -48px -144px;\n}\n.ui-icon-check {\n  background-position: -64px -144px;\n}\n.ui-icon-bullet {\n  background-position: -80px -144px;\n}\n.ui-icon-radio-on {\n  background-position: -96px -144px;\n}\n.ui-icon-radio-off {\n  background-position: -112px -144px;\n}\n.ui-icon-pin-w {\n  background-position: -128px -144px;\n}\n.ui-icon-pin-s {\n  background-position: -144px -144px;\n}\n.ui-icon-play {\n  background-position: 0 -160px;\n}\n.ui-icon-pause {\n  background-position: -16px -160px;\n}\n.ui-icon-seek-next {\n  background-position: -32px -160px;\n}\n.ui-icon-seek-prev {\n  background-position: -48px -160px;\n}\n.ui-icon-seek-end {\n  background-position: -64px -160px;\n}\n.ui-icon-seek-start {\n  background-position: -80px -160px;\n}\n/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */\n.ui-icon-seek-first {\n  background-position: -80px -160px;\n}\n.ui-icon-stop {\n  background-position: -96px -160px;\n}\n.ui-icon-eject {\n  background-position: -112px -160px;\n}\n.ui-icon-volume-off {\n  background-position: -128px -160px;\n}\n.ui-icon-volume-on {\n  background-position: -144px -160px;\n}\n.ui-icon-power {\n  background-position: 0 -176px;\n}\n.ui-icon-signal-diag {\n  background-position: -16px -176px;\n}\n.ui-icon-signal {\n  background-position: -32px -176px;\n}\n.ui-icon-battery-0 {\n  background-position: -48px -176px;\n}\n.ui-icon-battery-1 {\n  background-position: -64px -176px;\n}\n.ui-icon-battery-2 {\n  background-position: -80px -176px;\n}\n.ui-icon-battery-3 {\n  background-position: -96px -176px;\n}\n.ui-icon-circle-plus {\n  background-position: 0 -192px;\n}\n.ui-icon-circle-minus {\n  background-position: -16px -192px;\n}\n.ui-icon-circle-close {\n  background-position: -32px -192px;\n}\n.ui-icon-circle-triangle-e {\n  background-position: -48px -192px;\n}\n.ui-icon-circle-triangle-s {\n  background-position: -64px -192px;\n}\n.ui-icon-circle-triangle-w {\n  background-position: -80px -192px;\n}\n.ui-icon-circle-triangle-n {\n  background-position: -96px -192px;\n}\n.ui-icon-circle-arrow-e {\n  background-position: -112px -192px;\n}\n.ui-icon-circle-arrow-s {\n  background-position: -128px -192px;\n}\n.ui-icon-circle-arrow-w {\n  background-position: -144px -192px;\n}\n.ui-icon-circle-arrow-n {\n  background-position: -160px -192px;\n}\n.ui-icon-circle-zoomin {\n  background-position: -176px -192px;\n}\n.ui-icon-circle-zoomout {\n  background-position: -192px -192px;\n}\n.ui-icon-circle-check {\n  background-position: -208px -192px;\n}\n.ui-icon-circlesmall-plus {\n  background-position: 0 -208px;\n}\n.ui-icon-circlesmall-minus {\n  background-position: -16px -208px;\n}\n.ui-icon-circlesmall-close {\n  background-position: -32px -208px;\n}\n.ui-icon-squaresmall-plus {\n  background-position: -48px -208px;\n}\n.ui-icon-squaresmall-minus {\n  background-position: -64px -208px;\n}\n.ui-icon-squaresmall-close {\n  background-position: -80px -208px;\n}\n.ui-icon-grip-dotted-vertical {\n  background-position: 0 -224px;\n}\n.ui-icon-grip-dotted-horizontal {\n  background-position: -16px -224px;\n}\n.ui-icon-grip-solid-vertical {\n  background-position: -32px -224px;\n}\n.ui-icon-grip-solid-horizontal {\n  background-position: -48px -224px;\n}\n.ui-icon-gripsmall-diagonal-se {\n  background-position: -64px -224px;\n}\n.ui-icon-grip-diagonal-se {\n  background-position: -80px -224px;\n}\n/* Misc visuals\n----------------------------------*/\n/* Corner radius */\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-left,\n.ui-corner-tl {\n  border-top-left-radius: 3px;\n}\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-right,\n.ui-corner-tr {\n  border-top-right-radius: 3px;\n}\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-left,\n.ui-corner-bl {\n  border-bottom-left-radius: 3px;\n}\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-right,\n.ui-corner-br {\n  border-bottom-right-radius: 3px;\n}\n/* Overlays */\n.ui-widget-overlay {\n  background: #aaaaaa;\n  opacity: .3;\n  filter: Alpha(Opacity=30);\n  /* support: IE8 */\n}\n.ui-widget-shadow {\n  -webkit-box-shadow: 0px 0px 5px #666666;\n  box-shadow: 0px 0px 5px #666666;\n}\n';e("browserify-css").createStyle(i,{href:"node_modules\\jquery-ui-bundle\\jquery-ui.css"},{insertAt:"bottom"});t.exports=i},{"browserify-css":11}],23:[function(e,t,n){(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(S){S.ui=S.ui||{};var e=S.ui.version="1.12.1";var n=0;var s=Array.prototype.slice;S.cleanData=function(r){return function(e){var t,n,i;for(i=0;(n=e[i])!=null;i++){try{t=S._data(n,"events");if(t&&t.remove){S(n).triggerHandler("remove")}}catch(e){}}r(e)}}(S.cleanData);S.widget=function(e,n,t){var i,r,a;var o={};var s=e.split(".")[0];e=e.split(".")[1];var l=s+"-"+e;if(!t){t=n;n=S.Widget}if(S.isArray(t)){t=S.extend.apply(null,[{}].concat(t))}S.expr.pseudos[l.toLowerCase()]=function(e){return!!S.data(e,l)};S[s]=S[s]||{};i=S[s][e];r=S[s][e]=function(e,t){if(!this._createWidget){return new r(e,t)}if(arguments.length){this._createWidget(e,t)}};S.extend(r,i,{version:t.version,_proto:S.extend({},t),_childConstructors:[]});a=new n;a.options=S.widget.extend({},a.options);S.each(t,function(t,a){if(!S.isFunction(a)){o[t]=a;return}o[t]=function(){function i(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var e=this._super;var t=this._superApply;var n;this._super=i;this._superApply=r;n=a.apply(this,arguments);this._super=e;this._superApply=t;return n}}()});r.prototype=S.widget.extend(a,{widgetEventPrefix:i?a.widgetEventPrefix||e:e},o,{constructor:r,namespace:s,widgetName:e,widgetFullName:l});if(i){S.each(i._childConstructors,function(e,t){var n=t.prototype;S.widget(n.namespace+"."+n.widgetName,r,t._proto)});delete i._childConstructors}else{n._childConstructors.push(r)}S.widget.bridge(e,r);return r};S.widget.extend=function(e){var t=s.call(arguments,1);var n=0;var i=t.length;var r;var a;for(;n<i;n++){for(r in t[n]){a=t[n][r];if(t[n].hasOwnProperty(r)&&a!==undefined){if(S.isPlainObject(a)){e[r]=S.isPlainObject(e[r])?S.widget.extend({},e[r],a):S.widget.extend({},a)}else{e[r]=a}}}}return e};S.widget.bridge=function(a,t){var o=t.prototype.widgetFullName||a;S.fn[a]=function(n){var e=typeof n==="string";var i=s.call(arguments,1);var r=this;if(e){if(!this.length&&n==="instance"){r=undefined}else{this.each(function(){var e;var t=S.data(this,o);if(n==="instance"){r=t;return false}if(!t){return S.error("cannot call methods on "+a+" prior to initialization; "+"attempted to call method '"+n+"'")}if(!S.isFunction(t[n])||n.charAt(0)==="_"){return S.error("no such method '"+n+"' for "+a+" widget instance")}e=t[n].apply(t,i);if(e!==t&&e!==undefined){r=e&&e.jquery?r.pushStack(e.get()):e;return false}})}}else{if(i.length){n=S.widget.extend.apply(null,[n].concat(i))}this.each(function(){var e=S.data(this,o);if(e){e.option(n||{});if(e._init){e._init()}}else{S.data(this,o,new t(n,this))}})}return r}};S.Widget=function(){};S.Widget._childConstructors=[];S.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(e,t){t=S(t||this.defaultElement||this)[0];this.element=S(t);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=S();this.hoverable=S();this.focusable=S();this.classesElementLookup={};if(t!==this){S.data(t,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){if(e.target===t){this.destroy()}}});this.document=S(t.style?t.ownerDocument:t.document||t);this.window=S(this.document[0].defaultView||this.document[0].parentWindow)}this.options=S.widget.extend({},this.options,this._getCreateOptions(),e);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:S.noop,_create:S.noop,_init:S.noop,destroy:function(){var n=this;this._destroy();S.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:S.noop,widget:function(){return this.element},option:function(e,t){var n=e;var i;var r;var a;if(arguments.length===0){return S.widget.extend({},this.options)}if(typeof e==="string"){n={};i=e.split(".");e=i.shift();if(i.length){r=n[e]=S.widget.extend({},this.options[e]);for(a=0;a<i.length-1;a++){r[i[a]]=r[i[a]]||{};r=r[i[a]]}e=i.pop();if(arguments.length===1){return r[e]===undefined?null:r[e]}r[e]=t}else{if(arguments.length===1){return this.options[e]===undefined?null:this.options[e]}n[e]=t}}this._setOptions(n);return this},_setOptions:function(e){var t;for(t in e){this._setOption(t,e[t])}return this},_setOption:function(e,t){if(e==="classes"){this._setOptionClasses(t)}this.options[e]=t;if(e==="disabled"){this._setOptionDisabled(t)}return this},_setOptionClasses:function(e){var t,n,i;for(t in e){i=this.classesElementLookup[t];if(e[t]===this.options.classes[t]||!i||!i.length){continue}n=S(i.get());this._removeClass(i,t);n.addClass(this._classes({element:n,keys:t,classes:e,add:true}))}},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e);if(e){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(r){var a=[];var o=this;r=S.extend({element:this.element,classes:this.options.classes||{}},r);function e(e,t){var n,i;for(i=0;i<e.length;i++){n=o.classesElementLookup[e[i]]||S();if(r.add){n=S(S.uniqueSort(n.get().concat(r.element.get())))}else{n=S(n.not(r.element).get())}o.classesElementLookup[e[i]]=n;a.push(e[i]);if(t&&r.classes[e[i]]){a.push(r.classes[e[i]])}}}this._on(r.element,{remove:"_untrackClassesElement"});if(r.keys){e(r.keys.match(/\S+/g)||[],true)}if(r.extra){e(r.extra.match(/\S+/g)||[])}return a.join(" ")},_untrackClassesElement:function(n){var i=this;S.each(i.classesElementLookup,function(e,t){if(S.inArray(n.target,t)!==-1){i.classesElementLookup[e]=S(t.not(n.target).get())}})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,false)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,true)},_toggleClass:function(e,t,n,i){i=typeof i==="boolean"?i:n;var r=typeof e==="string"||e===null,a={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};a.element.toggleClass(this._classes(a),i);return this},_on:function(o,s,e){var l;var c=this;if(typeof o!=="boolean"){e=s;s=o;o=false}if(!e){e=s;s=this.element;l=this.widget()}else{s=l=S(s);this.bindings=this.bindings.add(s)}S.each(e,function(e,t){function n(){if(!o&&(c.options.disabled===true||S(this).hasClass("ui-state-disabled"))){return}return(typeof t==="string"?c[t]:t).apply(c,arguments)}if(typeof t!=="string"){n.guid=t.guid=t.guid||n.guid||S.guid++}var i=e.match(/^([\w:-]*)\s*(.*)$/);var r=i[1]+c.eventNamespace;var a=i[2];if(a){l.on(r,a,n)}else{s.on(r,n)}})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.off(t).off(t);this.bindings=S(this.bindings.not(e).get());this.focusable=S(this.focusable.not(e).get());this.hoverable=S(this.hoverable.not(e).get())},_delay:function(e,t){function n(){return(typeof e==="string"?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){this._addClass(S(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(S(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){this._addClass(S(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(S(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var i,r;var a=this.options[e];n=n||{};t=S.Event(t);t.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();t.target=this.element[0];r=t.originalEvent;if(r){for(i in r){if(!(i in t)){t[i]=r[i]}}}this.element.trigger(t,n);return!(S.isFunction(a)&&a.apply(this.element[0],[t].concat(n))===false||t.isDefaultPrevented())}};S.each({show:"fadeIn",hide:"fadeOut"},function(a,o){S.Widget.prototype["_"+a]=function(t,e,n){if(typeof e==="string"){e={effect:e}}var i;var r=!e?a:e===true||typeof e==="number"?o:e.effect||o;e=e||{};if(typeof e==="number"){e={duration:e}}i=!S.isEmptyObject(e);e.complete=n;if(e.delay){t.delay(e.delay)}if(i&&S.effects&&S.effects.effect[r]){t[a](e)}else if(r!==a&&t[r]){t[r](e.duration,e.easing,n)}else{t.queue(function(e){S(this)[a]();if(n){n.call(t[0])}e()})}}});var t=S.widget;(function(){var r,_=Math.max,E=Math.abs,i=/left|center|right/,a=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,t=S.fn.position;function A(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function C(e,t){return parseInt(S.css(e,t),10)||0}function n(e){var t=e[0];if(t.nodeType===9){return{width:e.width(),height:e.height(),offset:{top:0,left:0}}}if(S.isWindow(t)){return{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}}if(t.preventDefault){return{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}}return{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}S.position={scrollbarWidth:function(){if(r!==undefined){return r}var e,t,n=S("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];S("body").append(n);e=i.offsetWidth;n.css("overflow","scroll");t=i.offsetWidth;if(e===t){t=n[0].clientWidth}n.remove();return r=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),i=t==="scroll"||t==="auto"&&e.width<e.element[0].scrollWidth,r=n==="scroll"||n==="auto"&&e.height<e.element[0].scrollHeight;return{width:r?S.position.scrollbarWidth():0,height:i?S.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=S(e||window),n=S.isWindow(t[0]),i=!!t[0]&&t[0].nodeType===9,r=!n&&!i;return{element:t,isWindow:n,isDocument:i,offset:r?S(e).offset():{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}};S.fn.position=function(h){if(!h||!h.of){return t.apply(this,arguments)}h=S.extend({},h);var f,d,p,m,g,e,v=S(h.of),b=S.position.getWithinInfo(h.within),y=S.position.getScrollInfo(b),x=(h.collision||"flip").split(" "),w={};e=n(v);if(v[0].preventDefault){h.at="left top"}d=e.width;p=e.height;m=e.offset;g=S.extend({},m);S.each(["my","at"],function(){var e=(h[this]||"").split(" "),t,n;if(e.length===1){e=i.test(e[0])?e.concat(["center"]):a.test(e[0])?["center"].concat(e):["center","center"]}e[0]=i.test(e[0])?e[0]:"center";e[1]=a.test(e[1])?e[1]:"center";t=o.exec(e[0]);n=o.exec(e[1]);w[this]=[t?t[0]:0,n?n[0]:0];h[this]=[s.exec(e[0])[0],s.exec(e[1])[0]]});if(x.length===1){x[1]=x[0]}if(h.at[0]==="right"){g.left+=d}else if(h.at[0]==="center"){g.left+=d/2}if(h.at[1]==="bottom"){g.top+=p}else if(h.at[1]==="center"){g.top+=p/2}f=A(w.at,d,p);g.left+=f[0];g.top+=f[1];return this.each(function(){var n,e,o=S(this),s=o.outerWidth(),l=o.outerHeight(),t=C(this,"marginLeft"),i=C(this,"marginTop"),r=s+t+C(this,"marginRight")+y.width,a=l+i+C(this,"marginBottom")+y.height,c=S.extend({},g),u=A(w.my,o.outerWidth(),o.outerHeight());if(h.my[0]==="right"){c.left-=s}else if(h.my[0]==="center"){c.left-=s/2}if(h.my[1]==="bottom"){c.top-=l}else if(h.my[1]==="center"){c.top-=l/2}c.left+=u[0];c.top+=u[1];n={marginLeft:t,marginTop:i};S.each(["left","top"],function(e,t){if(S.ui.position[x[e]]){S.ui.position[x[e]][t](c,{targetWidth:d,targetHeight:p,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:a,offset:[f[0]+u[0],f[1]+u[1]],my:h.my,at:h.at,within:b,elem:o})}});if(h.using){e=function(e){var t=m.left-c.left,n=t+d-s,i=m.top-c.top,r=i+p-l,a={target:{element:v,left:m.left,top:m.top,width:d,height:p},element:{element:o,left:c.left,top:c.top,width:s,height:l},horizontal:n<0?"left":t>0?"right":"center",vertical:r<0?"top":i>0?"bottom":"middle"};if(d<s&&E(t+n)<d){a.horizontal="center"}if(p<l&&E(i+r)<p){a.vertical="middle"}if(_(E(t),E(n))>_(E(i),E(r))){a.important="horizontal"}else{a.important="vertical"}h.using.call(this,e,a)}}o.offset(S.extend(c,{using:e}))})};S.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,o=i-a,s=a+t.collisionWidth-r-i,l;if(t.collisionWidth>r){if(o>0&&s<=0){l=e.left+o+t.collisionWidth-r-i;e.left+=o-l}else if(s>0&&o<=0){e.left=i}else{if(o>s){e.left=i+r-t.collisionWidth}else{e.left=i}}}else if(o>0){e.left+=o}else if(s>0){e.left-=s}else{e.left=_(e.left-a,e.left)}},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,o=i-a,s=a+t.collisionHeight-r-i,l;if(t.collisionHeight>r){if(o>0&&s<=0){l=e.top+o+t.collisionHeight-r-i;e.top+=o-l}else if(s>0&&o<=0){e.top=i}else{if(o>s){e.top=i+r-t.collisionHeight}else{e.top=i}}}else if(o>0){e.top+=o}else if(s>0){e.top-=s}else{e.top=_(e.top-a,e.top)}}},flip:{left:function(e,t){var n=t.within,i=n.offset.left+n.scrollLeft,r=n.width,a=n.isWindow?n.scrollLeft:n.offset.left,o=e.left-t.collisionPosition.marginLeft,s=o-a,l=o+t.collisionWidth-r-a,c=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,u=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],f,d;if(s<0){f=e.left+c+u+h+t.collisionWidth-r-i;if(f<0||f<E(s)){e.left+=c+u+h}}else if(l>0){d=e.left-t.collisionPosition.marginLeft+c+u+h-a;if(d>0||E(d)<l){e.left+=c+u+h}}},top:function(e,t){var n=t.within,i=n.offset.top+n.scrollTop,r=n.height,a=n.isWindow?n.scrollTop:n.offset.top,o=e.top-t.collisionPosition.marginTop,s=o-a,l=o+t.collisionHeight-r-a,c=t.my[1]==="top",u=c?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,f=-2*t.offset[1],d,p;if(s<0){p=e.top+u+h+f+t.collisionHeight-r-i;if(p<0||p<E(s)){e.top+=u+h+f}}else if(l>0){d=e.top-t.collisionPosition.marginTop+u+h+f-a;if(d>0||E(d)<l){e.top+=u+h+f}}}},flipfit:{left:function(){S.ui.position.flip.left.apply(this,arguments);S.ui.position.fit.left.apply(this,arguments)},top:function(){S.ui.position.flip.top.apply(this,arguments);S.ui.position.fit.top.apply(this,arguments)}}}})();var i=S.ui.position;var r=S.extend(S.expr.pseudos,{data:S.expr.createPseudo?S.expr.createPseudo(function(t){return function(e){return!!S.data(e,t)}}):function(e,t,n){return!!S.data(e,n[3])}});var a=S.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});S.ui.focusable=function(e,t){var n,i,r,a,o,s=e.nodeName.toLowerCase();if("area"===s){n=e.parentNode;i=n.name;if(!e.href||!i||n.nodeName.toLowerCase()!=="map"){return false}r=S("img[usemap='#"+i+"']");return r.length>0&&r.is(":visible")}if(/^(input|select|textarea|button|object)$/.test(s)){a=!e.disabled;if(a){o=S(e).closest("fieldset")[0];if(o){a=!o.disabled}}}else if("a"===s){a=e.href||t}else{a=t}return a&&S(e).is(":visible")&&l(S(e))};function l(e){var t=e.css("visibility");while(t==="inherit"){e=e.parent();t=e.css("visibility")}return t!=="hidden"}S.extend(S.expr.pseudos,{focusable:function(e){return S.ui.focusable(e,S.attr(e,"tabindex")!=null)}});var o=S.ui.focusable;var c=S.fn.form=function(){return typeof this[0].form==="string"?this.closest("form"):S(this[0].form)};var u=S.ui.formResetMixin={_formResetHandler:function(){var t=S(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");S.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length){return}var e=this.form.data("ui-form-reset-instances")||[];if(!e.length){this.form.on("reset.ui-form-reset",this._formResetHandler)}e.push(this);this.form.data("ui-form-reset-instances",e)},_unbindFormResetHandler:function(){if(!this.form.length){return}var e=this.form.data("ui-form-reset-instances");e.splice(S.inArray(this,e),1);if(e.length){this.form.data("ui-form-reset-instances",e)}else{this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};if(S.fn.jquery.substring(0,3)==="1.7"){S.each(["Width","Height"],function(e,n){var r=n==="Width"?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),a={innerWidth:S.fn.innerWidth,innerHeight:S.fn.innerHeight,outerWidth:S.fn.outerWidth,outerHeight:S.fn.outerHeight};function o(e,t,n,i){S.each(r,function(){t-=parseFloat(S.css(e,"padding"+this))||0;if(n){t-=parseFloat(S.css(e,"border"+this+"Width"))||0}if(i){t-=parseFloat(S.css(e,"margin"+this))||0}});return t}S.fn["inner"+n]=function(e){if(e===undefined){return a["inner"+n].call(this)}return this.each(function(){S(this).css(i,o(this,e)+"px")})};S.fn["outer"+n]=function(e,t){if(typeof e!=="number"){return a["outer"+n].call(this,e)}return this.each(function(){S(this).css(i,o(this,e,true,t)+"px")})}});S.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}var h=S.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var f=S.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}();var d=S.fn.labels=function(){var e,t,n,i,r;if(this[0].labels&&this[0].labels.length){return this.pushStack(this[0].labels)}i=this.eq(0).parents("label");n=this.attr("id");if(n){e=this.eq(0).parents().last();r=e.add(e.length?e.siblings():this.siblings());t="label[for='"+S.ui.escapeSelector(n)+"']";i=i.add(r.find(t).addBack(t))}return this.pushStack(i)};var p=S.fn.scrollParent=function(e){var t=this.css("position"),n=t==="absolute",i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=S(this);if(n&&e.css("position")==="static"){return false}return i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return t==="fixed"||!r.length?S(this[0].ownerDocument||document):r};var m=S.extend(S.expr.pseudos,{tabbable:function(e){var t=S.attr(e,"tabindex"),n=t!=null;return(!n||t>=0)&&S.ui.focusable(e,n)}});var g=S.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++e}})}}(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){S(this).removeAttr("id")}})}});var v=S.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var b=false;S(document).on("mouseup",function(){b=false});var y=S.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(true===S.data(e.target,t.widgetName+".preventClickEvent")){S.removeData(e.target,t.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(e){if(b){return}this._mouseMoved=false;this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var t=this,n=e.which===1,i=typeof this.options.cancel==="string"&&e.target.nodeName?S(e.target).closest(this.options.cancel).length:false;if(!n||i||!this._mouseCapture(e)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}if(true===S.data(e.target,this.widgetName+".preventClickEvent")){S.removeData(e.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(e){return t._mouseMove(e)};this._mouseUpDelegate=function(e){return t._mouseUp(e)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();b=true;return true},_mouseMove:function(e){if(this._mouseMoved){if(S.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button){return this._mouseUp(e)}else if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey){this.ignoreMissingWhich=true}else if(!this.ignoreMissingWhich){return this._mouseUp(e)}}}if(e.which||e.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false;this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)}return!this._mouseStarted},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(e.target===this._mouseDownEvent.target){S.data(e.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(e)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;b=false;e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var x=S.ui.plugin={add:function(e,t,n){var i,r=S.ui[e].prototype;for(i in n){r.plugins[i]=r.plugins[i]||[];r.plugins[i].push([t,n[i]])}},call:function(e,t,n,i){var r,a=e.plugins[t];if(!a){return}if(!i&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)){return}for(r=0;r<a.length;r++){if(e.options[a[r][0]]){a[r][1].apply(e.element,n)}}}};var w=S.ui.safeActiveElement=function(t){var n;try{n=t.activeElement}catch(e){n=t.body}if(!n){n=t.body}if(!n.nodeName){n=t.body}return n};var _=S.ui.safeBlur=function(e){if(e&&e.nodeName.toLowerCase()!=="body"){S(e).trigger("blur")}};S.widget("ui.draggable",S.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function(e,t){this._super(e,t);if(e==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(e){var t=this.options;if(this.helper||t.disabled||S(e.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(e);if(!this.handle){return false}this._blurActiveElement(e);this._blockFrames(t.iframeFix===true?"iframe":t.iframeFix);return true},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=S(this);return S("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(e){var t=S.ui.safeActiveElement(this.document[0]),n=S(e.target);if(n.closest(t).length){return}S.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;this.helper=this._createHelper(e);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(S.ui.ddmanager){S.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return S(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(e);this.originalPosition=this.position=this._generatePosition(e,false);this.originalPageX=e.pageX;this.originalPageY=e.pageY;t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt);this._setContainment();if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(S.ui.ddmanager&&!t.dropBehaviour){S.ui.ddmanager.prepareOffsets(this,e)}this._mouseDrag(e,true);if(S.ui.ddmanager){S.ui.ddmanager.dragStart(this,e)}return true},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(e,true);this.positionAbs=this._convertPositionTo("absolute");if(!t){var n=this._uiHash();if(this._trigger("drag",e,n)===false){this._mouseUp(new S.Event("mouseup",e));return false}this.position=n.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(S.ui.ddmanager){S.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(e){var t=this,n=false;if(S.ui.ddmanager&&!this.options.dropBehaviour){n=S.ui.ddmanager.drop(this,e)}if(this.dropped){n=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===true||S.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){S(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(t._trigger("stop",e)!==false){t._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(e){this._unblockFrames();if(S.ui.ddmanager){S.ui.ddmanager.dragStop(this,e)}if(this.handleElement.is(e.target)){this.element.trigger("focus")}return S.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new S.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function(e){return this.options.handle?!!S(e.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=S.isFunction(t.helper),i=n?S(t.helper.apply(this.element[0],[e])):t.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!i.parents("body").length){i.appendTo(t.appendTo==="parent"?this.element[0].parentNode:t.appendTo)}if(n&&i[0]===this.element[0]){this._setPositionRelative()}if(i[0]!==this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))){i.css("position","absolute")}return i},_setPositionRelative:function(){if(!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(S.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==t&&S.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(!t?this.scrollParent.scrollTop():0),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(!t?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options,r=this.document[0];this.relativeContainer=null;if(!i.containment){this.containment=null;return}if(i.containment==="window"){this.containment=[S(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,S(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,S(window).scrollLeft()+S(window).width()-this.helperProportions.width-this.margins.left,S(window).scrollTop()+(S(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment==="document"){this.containment=[0,0,S(r).width()-this.helperProportions.width-this.margins.left,(S(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment.constructor===Array){this.containment=i.containment;return}if(i.containment==="parent"){i.containment=this.helper[0].parentNode}t=S(i.containment);n=t[0];if(!n){return}e=/(scroll|auto)/.test(t.css("overflow"));this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=t},_convertPositionTo:function(e,t){if(!t){t=this.position}var n=e==="absolute"?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,a,o=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;if(!s||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(t){if(this.containment){if(this.relativeContainer){i=this.relativeContainer.offset();n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else{n=this.containment}if(e.pageX-this.offset.click.left<n[0]){l=n[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<n[1]){c=n[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>n[2]){l=n[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>n[3]){c=n[3]+this.offset.click.top}}if(o.grid){r=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-o.grid[1]:r+o.grid[1]:r;a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;l=n?a-this.offset.click.left>=n[0]||a-this.offset.click.left>n[2]?a:a-this.offset.click.left>=n[0]?a-o.grid[0]:a+o.grid[0]:a}if(o.axis==="y"){l=this.originalPageX}if(o.axis==="x"){c=this.originalPageY}}return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(e,t,n){n=n||this._uiHash();S.ui.plugin.call(this,e,[t,n,this],true);if(/^(drag|start|stop)/.test(e)){this.positionAbs=this._convertPositionTo("absolute");n.offset=this.positionAbs}return S.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});S.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var i=S.extend({},e,{item:n.element});n.sortables=[];S(n.options.connectToSortable).each(function(){var e=S(this).sortable("instance");if(e&&!e.options.disabled){n.sortables.push(e);e.refreshPositions();e._trigger("activate",t,i)}})},stop:function(t,e,n){var i=S.extend({},e,{item:n.element});n.cancelHelperRemoval=false;S.each(n.sortables,function(){var e=this;if(e.isOver){e.isOver=0;n.cancelHelperRemoval=true;e.cancelHelperRemoval=false;e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")};e._mouseStop(t);e.options.helper=e.options._helper}else{e.cancelHelperRemoval=true;e._trigger("deactivate",t,i)}})},drag:function(n,i,r){S.each(r.sortables,function(){var e=false,t=this;t.positionAbs=r.positionAbs;t.helperProportions=r.helperProportions;t.offset.click=r.offset.click;if(t._intersectsWith(t.containerCache)){e=true;S.each(r.sortables,function(){this.positionAbs=r.positionAbs;this.helperProportions=r.helperProportions;this.offset.click=r.offset.click;if(this!==t&&this._intersectsWith(this.containerCache)&&S.contains(t.element[0],this.element[0])){e=false}return e})}if(e){if(!t.isOver){t.isOver=1;r._parent=i.helper.parent();t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",true);t.options._helper=t.options.helper;t.options.helper=function(){return i.helper[0]};n.target=t.currentItem[0];t._mouseCapture(n,true);t._mouseStart(n,true,true);t.offset.click.top=r.offset.click.top;t.offset.click.left=r.offset.click.left;t.offset.parent.left-=r.offset.parent.left-t.offset.parent.left;t.offset.parent.top-=r.offset.parent.top-t.offset.parent.top;r._trigger("toSortable",n);r.dropped=t.element;S.each(r.sortables,function(){this.refreshPositions()});r.currentItem=r.element;t.fromOutside=r}if(t.currentItem){t._mouseDrag(n);i.position=t.position}}else{if(t.isOver){t.isOver=0;t.cancelHelperRemoval=true;t.options._revert=t.options.revert;t.options.revert=false;t._trigger("out",n,t._uiHash(t));t._mouseStop(n,true);t.options.revert=t.options._revert;t.options.helper=t.options._helper;if(t.placeholder){t.placeholder.remove()}i.helper.appendTo(r._parent);r._refreshOffsets(n);i.position=r._generatePosition(n,true);r._trigger("fromSortable",n);r.dropped=false;S.each(r.sortables,function(){this.refreshPositions()})}}})}});S.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var i=S("body"),r=n.options;if(i.css("cursor")){r._cursor=i.css("cursor")}i.css("cursor",r.cursor)},stop:function(e,t,n){var i=n.options;if(i._cursor){S("body").css("cursor",i._cursor)}}});S.ui.plugin.add("draggable","opacity",{start:function(e,t,n){var i=S(t.helper),r=n.options;if(i.css("opacity")){r._opacity=i.css("opacity")}i.css("opacity",r.opacity)},stop:function(e,t,n){var i=n.options;if(i._opacity){S(t.helper).css("opacity",i._opacity)}}});S.ui.plugin.add("draggable","scroll",{start:function(e,t,n){if(!n.scrollParentNotHidden){n.scrollParentNotHidden=n.helper.scrollParent(false)}if(n.scrollParentNotHidden[0]!==n.document[0]&&n.scrollParentNotHidden[0].tagName!=="HTML"){n.overflowOffset=n.scrollParentNotHidden.offset()}},drag:function(e,t,n){var i=n.options,r=false,a=n.scrollParentNotHidden[0],o=n.document[0];if(a!==o&&a.tagName!=="HTML"){if(!i.axis||i.axis!=="x"){if(n.overflowOffset.top+a.offsetHeight-e.pageY<i.scrollSensitivity){a.scrollTop=r=a.scrollTop+i.scrollSpeed}else if(e.pageY-n.overflowOffset.top<i.scrollSensitivity){a.scrollTop=r=a.scrollTop-i.scrollSpeed}}if(!i.axis||i.axis!=="y"){if(n.overflowOffset.left+a.offsetWidth-e.pageX<i.scrollSensitivity){a.scrollLeft=r=a.scrollLeft+i.scrollSpeed}else if(e.pageX-n.overflowOffset.left<i.scrollSensitivity){a.scrollLeft=r=a.scrollLeft-i.scrollSpeed}}}else{if(!i.axis||i.axis!=="x"){if(e.pageY-S(o).scrollTop()<i.scrollSensitivity){r=S(o).scrollTop(S(o).scrollTop()-i.scrollSpeed)}else if(S(window).height()-(e.pageY-S(o).scrollTop())<i.scrollSensitivity){r=S(o).scrollTop(S(o).scrollTop()+i.scrollSpeed)}}if(!i.axis||i.axis!=="y"){if(e.pageX-S(o).scrollLeft()<i.scrollSensitivity){r=S(o).scrollLeft(S(o).scrollLeft()-i.scrollSpeed)}else if(S(window).width()-(e.pageX-S(o).scrollLeft())<i.scrollSensitivity){r=S(o).scrollLeft(S(o).scrollLeft()+i.scrollSpeed)}}}if(r!==false&&S.ui.ddmanager&&!i.dropBehaviour){S.ui.ddmanager.prepareOffsets(n,e)}}});S.ui.plugin.add("draggable","snap",{start:function(e,t,n){var i=n.options;n.snapElements=[];S(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=S(this),t=e.offset();if(this!==n.element[0]){n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})}})},drag:function(e,t,n){var i,r,a,o,s,l,c,u,h,f,d=n.options,p=d.snapTolerance,m=t.offset.left,g=m+n.helperProportions.width,v=t.offset.top,b=v+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--){s=n.snapElements[h].left-n.margins.left;l=s+n.snapElements[h].width;c=n.snapElements[h].top-n.margins.top;u=c+n.snapElements[h].height;if(g<s-p||m>l+p||b<c-p||v>u+p||!S.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)){if(n.snapElements[h].snapping){n.options.snap.release&&n.options.snap.release.call(n.element,e,S.extend(n._uiHash(),{snapItem:n.snapElements[h].item}))}n.snapElements[h].snapping=false;continue}if(d.snapMode!=="inner"){i=Math.abs(c-b)<=p;r=Math.abs(u-v)<=p;a=Math.abs(s-g)<=p;o=Math.abs(l-m)<=p;if(i){t.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top}if(r){t.position.top=n._convertPositionTo("relative",{top:u,left:0}).top}if(a){t.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left}if(o){t.position.left=n._convertPositionTo("relative",{top:0,left:l}).left}}f=i||r||a||o;if(d.snapMode!=="outer"){i=Math.abs(c-v)<=p;r=Math.abs(u-b)<=p;a=Math.abs(s-m)<=p;o=Math.abs(l-g)<=p;if(i){t.position.top=n._convertPositionTo("relative",{top:c,left:0}).top}if(r){t.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top}if(a){t.position.left=n._convertPositionTo("relative",{top:0,left:s}).left}if(o){t.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left}}if(!n.snapElements[h].snapping&&(i||r||a||o||f)){n.options.snap.snap&&n.options.snap.snap.call(n.element,e,S.extend(n._uiHash(),{snapItem:n.snapElements[h].item}))}n.snapElements[h].snapping=i||r||a||o||f}}});S.ui.plugin.add("draggable","stack",{start:function(e,t,n){var i,r=n.options,a=S.makeArray(S(r.stack)).sort(function(e,t){return(parseInt(S(e).css("zIndex"),10)||0)-(parseInt(S(t).css("zIndex"),10)||0)});if(!a.length){return}i=parseInt(S(a[0]).css("zIndex"),10)||0;S(a).each(function(e){S(this).css("zIndex",i+e)});this.css("zIndex",i+a.length)}});S.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){var i=S(t.helper),r=n.options;if(i.css("zIndex")){r._zIndex=i.css("zIndex")}i.css("zIndex",r.zIndex)},stop:function(e,t,n){var i=n.options;if(i._zIndex){S(t.helper).css("zIndex",i._zIndex)}}});var E=S.ui.draggable;S.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=false;this.isout=true;this.accept=S.isFunction(n)?n:function(e){return e.is(n)};this.proportions=function(){if(arguments.length){e=arguments[0]}else{return e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(t.scope);t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){S.ui.ddmanager.droppables[e]=S.ui.ddmanager.droppables[e]||[];S.ui.ddmanager.droppables[e].push(this)},_splice:function(e){var t=0;for(;t<e.length;t++){if(e[t]===this){e.splice(t,1)}}},_destroy:function(){var e=S.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,t){if(e==="accept"){this.accept=S.isFunction(t)?t:function(e){return e.is(t)}}else if(e==="scope"){var n=S.ui.ddmanager.droppables[this.options.scope];this._splice(n);this._addToManager(t)}this._super(e,t)},_activate:function(e){var t=S.ui.ddmanager.current;this._addActiveClass();if(t){this._trigger("activate",e,this.ui(t))}},_deactivate:function(e){var t=S.ui.ddmanager.current;this._removeActiveClass();if(t){this._trigger("deactivate",e,this.ui(t))}},_over:function(e){var t=S.ui.ddmanager.current;if(!t||(t.currentItem||t.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],t.currentItem||t.element)){this._addHoverClass();this._trigger("over",e,this.ui(t))}},_out:function(e){var t=S.ui.ddmanager.current;if(!t||(t.currentItem||t.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],t.currentItem||t.element)){this._removeHoverClass();this._trigger("out",e,this.ui(t))}},_drop:function(t,e){var n=e||S.ui.ddmanager.current,i=false;if(!n||(n.currentItem||n.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=S(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&A(n,S.extend(e,{offset:e.element.offset()}),e.options.tolerance,t)){i=true;return false}});if(i){return false}if(this.accept.call(this.element[0],n.currentItem||n.element)){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",t,this.ui(n));return this.element}return false},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var A=S.ui.intersect=function(){function f(e,t,n){return e>=t&&e<t+n}return function(e,t,n,i){if(!t.offset){return false}var r=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,o=r+e.helperProportions.width,s=a+e.helperProportions.height,l=t.offset.left,c=t.offset.top,u=l+t.proportions().width,h=c+t.proportions().height;switch(n){case"fit":return l<=r&&o<=u&&c<=a&&s<=h;case"intersect":return l<r+e.helperProportions.width/2&&o-e.helperProportions.width/2<u&&c<a+e.helperProportions.height/2&&s-e.helperProportions.height/2<h;case"pointer":return f(i.pageY,c,t.proportions().height)&&f(i.pageX,l,t.proportions().width);case"touch":return(a>=c&&a<=h||s>=c&&s<=h||a<c&&s>h)&&(r>=l&&r<=u||o>=l&&o<=u||r<l&&o>u);default:return false}}}();S.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,r=S.ui.ddmanager.droppables[e.options.scope]||[],a=t?t.type:null,o=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++){if(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element)){continue}for(i=0;i<o.length;i++){if(o[i]===r[n].element[0]){r[n].proportions().height=0;continue e}}r[n].visible=r[n].element.css("display")!=="none";if(!r[n].visible){continue}if(a==="mousedown"){r[n]._activate.call(r[n],t)}r[n].offset=r[n].element.offset();r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight})}},drop:function(e,t){var n=false;S.each((S.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&A(e,this,this.options.tolerance,t)){n=this._drop.call(this,t)||n}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)){this.isout=true;this.isover=false;this._deactivate.call(this,t)}});return n},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){if(!e.options.refreshPositions){S.ui.ddmanager.prepareOffsets(e,t)}})},drag:function(a,o){if(a.options.refreshPositions){S.ui.ddmanager.prepareOffsets(a,o)}S.each(S.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var e,t,n,i=A(a,this,this.options.tolerance,o),r=!i&&this.isover?"isout":i&&!this.isover?"isover":null;if(!r){return}if(this.options.greedy){t=this.options.scope;n=this.element.parents(":data(ui-droppable)").filter(function(){return S(this).droppable("instance").options.scope===t});if(n.length){e=S(n[0]).droppable("instance");e.greedyChild=r==="isover"}}if(e&&r==="isover"){e.isover=false;e.isout=true;e._out.call(e,o)}this[r]=true;this[r==="isout"?"isover":"isout"]=false;this[r==="isover"?"_over":"_out"].call(this,o);if(e&&r==="isout"){e.isout=false;e.isover=true;e._over.call(e,o)}})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable");if(!e.options.refreshPositions){S.ui.ddmanager.prepareOffsets(e,t)}}};if(S.uiBackCompat!==false){S.widget("ui.droppable",S.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass)}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}}})}var C=S.ui.droppable;S.widget("ui.resizable",S.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if(S(e).css("overflow")==="hidden"){return false}var n=t&&t==="left"?"scrollLeft":"scrollTop",i=false;if(e[n]>0){return true}e[n]=1;i=e[n]>0;e[n]=0;return i},_create:function(){var e,t=this.options,n=this;this._addClass("ui-resizable");S.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(S("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(e);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(e);this._proportionallyResize()}this._setupHandles();if(t.autoHide){S(this.element).on("mouseenter",function(){if(t.disabled){return}n._removeClass("ui-resizable-autohide");n._handles.show()}).on("mouseleave",function(){if(t.disabled){return}if(!n.resizing){n._addClass("ui-resizable-autohide");n._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){S(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e);e.remove()}this.originalElement.css("resize",this.originalResizeStyle);t(this.originalElement);return this},_setOption:function(e,t){this._super(e,t);switch(e){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var e=this.options,t,n,i,r,a,o=this;this.handles=e.handles||(!S(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=S();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}i=this.handles.split(",");this.handles={};for(n=0;n<i.length;n++){t=S.trim(i[n]);r="ui-resizable-"+t;a=S("<div>");this._addClass(a,"ui-resizable-handle "+r);a.css({zIndex:e.zIndex});this.handles[t]=".ui-resizable-"+t;this.element.append(a)}}this._renderAxis=function(e){var t,n,i,r;e=e||this.element;for(t in this.handles){if(this.handles[t].constructor===String){this.handles[t]=this.element.children(this.handles[t]).first().show()}else if(this.handles[t].jquery||this.handles[t].nodeType){this.handles[t]=S(this.handles[t]);this._on(this.handles[t],{mousedown:o._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){n=S(this.handles[t],this.element);r=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth();i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join("");e.css(i,r);this._proportionallyResize()}this._handles=this._handles.add(this.handles[t])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!o.resizing){if(this.className){a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}o.axis=a&&a[1]?a[1]:"se"}});if(e.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var t,n,i=false;for(t in this.handles){n=S(this.handles[t])[0];if(n===e.target||S.contains(n,e.target)){i=true}}return!this.options.disabled&&i},_mouseStart:function(e){var t,n,i,r=this.options,a=this.element;this.resizing=true;this._renderProxy();t=this._num(this.helper.css("left"));n=this._num(this.helper.css("top"));if(r.containment){t+=S(r.containment).scrollLeft()||0;n+=S(r.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:t,top:n};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()};this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()};this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()};this.originalPosition={left:t,top:n};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof r.aspectRatio==="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;i=S(".ui-resizable-"+this.axis).css("cursor");S("body").css("cursor",i==="auto"?this.axis+"-resize":i);this._addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var t,n,i=this.originalMousePosition,r=this.axis,a=e.pageX-i.left||0,o=e.pageY-i.top||0,s=this._change[r];this._updatePrevProperties();if(!s){return false}t=s.apply(this,[e,a,o]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){t=this._updateRatio(t,e)}t=this._respectSize(t,e);this._updateCache(t);this._propagate("resize",e);n=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!S.isEmptyObject(n)){this._updatePrevProperties();this._trigger("resize",e,this.ui());this._applyChanges()}return false},_mouseStop:function(e){this.resizing=false;var t,n,i,r,a,o,s,l=this.options,c=this;if(this._helper){t=this._proportionallyResizeElements;n=t.length&&/textarea/i.test(t[0].nodeName);i=n&&this._hasScroll(t[0],"left")?0:c.sizeDiff.height;r=n?0:c.sizeDiff.width;a={width:c.helper.width()-r,height:c.helper.height()-i};o=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null;s=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;if(!l.animate){this.element.css(S.extend(a,{top:s,left:o}))}c.helper.height(c.size.height);c.helper.width(c.size.width);if(this._helper&&!l.animate){this._proportionallyResize()}}S("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",e);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};if(this.position.top!==this.prevPosition.top){e.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){e.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){e.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){e.height=this.size.height+"px"}this.helper.css(e);return e},_updateVirtualBoundaries:function(e){var t,n,i,r,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||e){t=a.minHeight*this.aspectRatio;i=a.minWidth/this.aspectRatio;n=a.maxHeight*this.aspectRatio;r=a.maxWidth/this.aspectRatio;if(t>a.minWidth){a.minWidth=t}if(i>a.minHeight){a.minHeight=i}if(n<a.maxWidth){a.maxWidth=n}if(r<a.maxHeight){a.maxHeight=r}}this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset();if(this._isNumber(e.left)){this.position.left=e.left}if(this._isNumber(e.top)){this.position.top=e.top}if(this._isNumber(e.height)){this.size.height=e.height}if(this._isNumber(e.width)){this.size.width=e.width}},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;if(this._isNumber(e.height)){e.width=e.height*this.aspectRatio}else if(this._isNumber(e.width)){e.height=e.width/this.aspectRatio}if(i==="sw"){e.left=t.left+(n.width-e.width);e.top=null}if(i==="nw"){e.top=t.top+(n.height-e.height);e.left=t.left+(n.width-e.width)}return e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);if(a){e.width=t.minWidth}if(o){e.height=t.minHeight}if(i){e.width=t.maxWidth}if(r){e.height=t.maxHeight}if(a&&c){e.left=s-t.minWidth}if(i&&c){e.left=s-t.maxWidth}if(o&&u){e.top=l-t.minHeight}if(r&&u){e.top=l-t.maxHeight}if(!e.width&&!e.height&&!e.left&&e.top){e.top=null}else if(!e.width&&!e.height&&!e.top&&e.left){e.left=null}return e},_getPaddingPlusBorderDimensions:function(e){var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];for(;t<4;t++){n[t]=parseFloat(i[t])||0;n[t]+=parseFloat(r[t])||0}return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var e,t=0,n=this.helper||this.element;for(;t<this._proportionallyResizeElements.length;t++){e=this._proportionallyResizeElements[t];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(e)}e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||S("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return S.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return S.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return S.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return S.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){S.ui.plugin.call(this,e,[t,this.ui()]);e!=="resize"&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});S.ui.plugin.add("resizable","animate",{stop:function(t){var n=S(this).resizable("instance"),e=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),a=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,o=r?0:n.sizeDiff.width,s={width:n.size.width-o,height:n.size.height-a},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(S.extend(s,c&&l?{top:c,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};if(i&&i.length){S(i[0]).css({width:e.width,height:e.height})}n._updateCache(e);n._propagate("resize",t)}})}});S.ui.plugin.add("resizable","containment",{start:function(){var n,i,e,t,r,a,o,s=S(this).resizable("instance"),l=s.options,c=s.element,u=l.containment,h=u instanceof S?u.get(0):/parent/.test(u)?c.parent().get(0):u;if(!h){return}s.containerElement=S(h);if(/document/.test(u)||u===document){s.containerOffset={left:0,top:0};s.containerPosition={left:0,top:0};s.parentData={element:S(document),left:0,top:0,width:S(document).width(),height:S(document).height()||document.body.parentNode.scrollHeight}}else{n=S(h);i=[];S(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=s._num(n.css("padding"+t))});s.containerOffset=n.offset();s.containerPosition=n.position();s.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]};e=s.containerOffset;t=s.containerSize.height;r=s.containerSize.width;a=s._hasScroll(h,"left")?h.scrollWidth:r;o=s._hasScroll(h)?h.scrollHeight:t;s.parentData={element:h,left:e.left,top:e.top,width:a,height:o}}},resize:function(e){var t,n,i,r,a=S(this).resizable("instance"),o=a.options,s=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},h=a.containerElement,f=true;if(h[0]!==document&&/static/.test(h.css("position"))){u=s}if(l.left<(a._helper?s.left:0)){a.size.width=a.size.width+(a._helper?a.position.left-s.left:a.position.left-u.left);if(c){a.size.height=a.size.width/a.aspectRatio;f=false}a.position.left=o.helper?s.left:0}if(l.top<(a._helper?s.top:0)){a.size.height=a.size.height+(a._helper?a.position.top-s.top:a.position.top);if(c){a.size.width=a.size.height*a.aspectRatio;f=false}a.position.top=a._helper?s.top:0}i=a.containerElement.get(0)===a.element.parent().get(0);r=/relative|absolute/.test(a.containerElement.css("position"));if(i&&r){a.offset.left=a.parentData.left+a.position.left;a.offset.top=a.parentData.top+a.position.top}else{a.offset.left=a.element.offset().left;a.offset.top=a.element.offset().top}t=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-s.left));n=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-s.top));if(t+a.size.width>=a.parentData.width){a.size.width=a.parentData.width-t;if(c){a.size.height=a.size.width/a.aspectRatio;f=false}}if(n+a.size.height>=a.parentData.height){a.size.height=a.parentData.height-n;if(c){a.size.width=a.size.height*a.aspectRatio;f=false}}if(!f){a.position.left=a.prevPosition.left;a.position.top=a.prevPosition.top;a.size.width=a.prevSize.width;a.size.height=a.prevSize.height}},stop:function(){var e=S(this).resizable("instance"),t=e.options,n=e.containerOffset,i=e.containerPosition,r=e.containerElement,a=S(e.helper),o=a.offset(),s=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;if(e._helper&&!t.animate&&/relative/.test(r.css("position"))){S(this).css({left:o.left-i.left-n.left,width:s,height:l})}if(e._helper&&!t.animate&&/static/.test(r.css("position"))){S(this).css({left:o.left-i.left-n.left,width:s,height:l})}}});S.ui.plugin.add("resizable","alsoResize",{start:function(){var e=S(this).resizable("instance"),t=e.options;S(t.alsoResize).each(function(){var e=S(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var t=S(this).resizable("instance"),i=t.options,r=t.originalSize,a=t.originalPosition,o={height:t.size.height-r.height||0,width:t.size.width-r.width||0,top:t.position.top-a.top||0,left:t.position.left-a.left||0};S(i.alsoResize).each(function(){var e=S(this),i=S(this).data("ui-resizable-alsoresize"),r={},t=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];S.each(t,function(e,t){var n=(i[t]||0)+(o[t]||0);if(n&&n>=0){r[t]=n||null}});e.css(r)})},stop:function(){S(this).removeData("ui-resizable-alsoresize")}});S.ui.plugin.add("resizable","ghost",{start:function(){var e=S(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0});e._addClass(e.ghost,"ui-resizable-ghost");if(S.uiBackCompat!==false&&typeof e.options.ghost==="string"){e.ghost.addClass(this.options.ghost)}e.ghost.appendTo(e.helper)},resize:function(){var e=S(this).resizable("instance");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=S(this).resizable("instance");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});S.ui.plugin.add("resizable","grid",{resize:function(){var e,t=S(this).resizable("instance"),n=t.options,i=t.size,r=t.originalSize,a=t.originalPosition,o=t.axis,s=typeof n.grid==="number"?[n.grid,n.grid]:n.grid,l=s[0]||1,c=s[1]||1,u=Math.round((i.width-r.width)/l)*l,h=Math.round((i.height-r.height)/c)*c,f=r.width+u,d=r.height+h,p=n.maxWidth&&n.maxWidth<f,m=n.maxHeight&&n.maxHeight<d,g=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>d;n.grid=s;if(g){f+=l}if(v){d+=c}if(p){f-=l}if(m){d-=c}if(/^(se|s|e)$/.test(o)){t.size.width=f;t.size.height=d}else if(/^(ne)$/.test(o)){t.size.width=f;t.size.height=d;t.position.top=a.top-h}else if(/^(sw)$/.test(o)){t.size.width=f;t.size.height=d;t.position.left=a.left-u}else{if(d-c<=0||f-l<=0){e=t._getPaddingPlusBorderDimensions(this)}if(d-c>0){t.size.height=d;t.position.top=a.top-h}else{d=c-e.height;t.size.height=d;t.position.top=a.top+r.height-d}if(f-l>0){t.size.width=f;t.position.left=a.left-u}else{f=l-e.width;t.size.width=f;t.position.left=a.left+r.width-f}}}});var T=S.ui.resizable;var M=S.widget("ui.selectable",S.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){i.elementPos=S(i.element[0]).offset();i.selectees=S(i.options.filter,i.element[0]);i._addClass(i.selectees,"ui-selectee");i.selectees.each(function(){var e=S(this),t=e.offset(),n={left:t.left-i.elementPos.left,top:t.top-i.elementPos.top};S.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=S("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(n){var i=this,e=this.options;this.opos=[n.pageX,n.pageY];this.elementPos=S(this.element[0]).offset();if(this.options.disabled){return}this.selectees=S(e.filter,this.element[0]);this._trigger("start",n);S(e.appendTo).append(this.helper);this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0});if(e.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var e=S.data(this,"selectable-item");e.startselected=true;if(!n.metaKey&&!n.ctrlKey){i._removeClass(e.$element,"ui-selected");e.selected=false;i._addClass(e.$element,"ui-unselecting");e.unselecting=true;i._trigger("unselecting",n,{unselecting:e.element})}});S(n.target).parents().addBack().each(function(){var e,t=S.data(this,"selectable-item");if(t){e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected");i._removeClass(t.$element,e?"ui-unselecting":"ui-selected")._addClass(t.$element,e?"ui-selecting":"ui-unselecting");t.unselecting=!e;t.selecting=e;t.selected=e;if(e){i._trigger("selecting",n,{selecting:t.element})}else{i._trigger("unselecting",n,{unselecting:t.element})}return false}})},_mouseDrag:function(i){this.dragged=true;if(this.options.disabled){return}var e,r=this,a=this.options,o=this.opos[0],s=this.opos[1],l=i.pageX,c=i.pageY;if(o>l){e=l;l=o;o=e}if(s>c){e=c;c=s;s=e}this.helper.css({left:o,top:s,width:l-o,height:c-s});this.selectees.each(function(){var e=S.data(this,"selectable-item"),t=false,n={};if(!e||e.element===r.element[0]){return}n.left=e.left+r.elementPos.left;n.right=e.right+r.elementPos.left;n.top=e.top+r.elementPos.top;n.bottom=e.bottom+r.elementPos.top;if(a.tolerance==="touch"){t=!(n.left>l||n.right<o||n.top>c||n.bottom<s)}else if(a.tolerance==="fit"){t=n.left>o&&n.right<l&&n.top>s&&n.bottom<c}if(t){if(e.selected){r._removeClass(e.$element,"ui-selected");e.selected=false}if(e.unselecting){r._removeClass(e.$element,"ui-unselecting");e.unselecting=false}if(!e.selecting){r._addClass(e.$element,"ui-selecting");e.selecting=true;r._trigger("selecting",i,{selecting:e.element})}}else{if(e.selecting){if((i.metaKey||i.ctrlKey)&&e.startselected){r._removeClass(e.$element,"ui-selecting");e.selecting=false;r._addClass(e.$element,"ui-selected");e.selected=true}else{r._removeClass(e.$element,"ui-selecting");e.selecting=false;if(e.startselected){r._addClass(e.$element,"ui-unselecting");e.unselecting=true}r._trigger("unselecting",i,{unselecting:e.element})}}if(e.selected){if(!i.metaKey&&!i.ctrlKey&&!e.startselected){r._removeClass(e.$element,"ui-selected");e.selected=false;r._addClass(e.$element,"ui-unselecting");e.unselecting=true;r._trigger("unselecting",i,{unselecting:e.element})}}}});return false},_mouseStop:function(t){var n=this;this.dragged=false;S(".ui-unselecting",this.element[0]).each(function(){var e=S.data(this,"selectable-item");n._removeClass(e.$element,"ui-unselecting");e.unselecting=false;e.startselected=false;n._trigger("unselected",t,{unselected:e.element})});S(".ui-selecting",this.element[0]).each(function(){var e=S.data(this,"selectable-item");n._removeClass(e.$element,"ui-selecting")._addClass(e.$element,"ui-selected");e.selecting=false;e.selected=true;e.startselected=true;n._trigger("selected",t,{selected:e.element})});this._trigger("stop",t);this.helper.remove();return false}});var k=S.widget("ui.sortable",S.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(e,t){this._super(e,t);if(e==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");S.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--){this.items[e].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(e,t){var n=null,i=false,r=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(e);S(e.target).parents().each(function(){if(S.data(this,r.widgetName+"-item")===r){n=S(this);return false}});if(S.data(e.target,r.widgetName+"-item")===r){n=S(e.target)}if(!n){return false}if(this.options.handle&&!t){S(this.options.handle,n).find("*").addBack().each(function(){if(this===e.target){i=true}});if(!i){return false}}this.currentItem=n;this._removeCurrentsFromItems();return true},_mouseStart:function(e,t,n){var i,r,a=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};S.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(a.containment){this._setContainment()}if(a.cursor&&a.cursor!=="auto"){r=this.document.find("body");this.storedCursor=r.css("cursor");r.css("cursor",a.cursor);this.storedStylesheet=S("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)}if(a.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",a.opacity)}if(a.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",a.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!n){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",e,this._uiHash(this))}}if(S.ui.ddmanager){S.ui.ddmanager.current=this}if(S.ui.ddmanager&&!a.dropBehaviour){S.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(e){var t,n,i,r,a=this.options,o=false;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity){this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+a.scrollSpeed}else if(e.pageY-this.overflowOffset.top<a.scrollSensitivity){this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-a.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity){this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+a.scrollSpeed}else if(e.pageX-this.overflowOffset.left<a.scrollSensitivity){this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-a.scrollSpeed}}else{if(e.pageY-this.document.scrollTop()<a.scrollSensitivity){o=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed)}else if(this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity){o=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)}if(e.pageX-this.document.scrollLeft()<a.scrollSensitivity){o=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed)}else if(this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity){o=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed)}}if(o!==false&&S.ui.ddmanager&&!a.dropBehaviour){S.ui.ddmanager.prepareOffsets(this,e)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(t=this.items.length-1;t>=0;t--){n=this.items[t];i=n.item[0];r=this._intersectsWithPointer(n);if(!r){continue}if(n.instance!==this.currentContainer){continue}if(i!==this.currentItem[0]&&this.placeholder[r===1?"next":"prev"]()[0]!==i&&!S.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!S.contains(this.element[0],i):true)){this.direction=r===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(n)){this._rearrange(e,n)}else{break}this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);if(S.ui.ddmanager){S.ui.ddmanager.drag(this,e)}this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,t){if(!e){return}if(S.ui.ddmanager&&!this.options.dropBehaviour){S.ui.ddmanager.drop(this,e)}if(this.options.revert){var n=this,i=this.placeholder.offset(),r=this.options.axis,a={};if(!r||r==="x"){a.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!r||r==="y"){a.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;S(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else{this._clear(e,t)}return false},cancel:function(){if(this.dragging){this._mouseUp(new S.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}S.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){S(this.domPosition.prev).after(this.currentItem)}else{S(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];t=t||{};S(e).each(function(){var e=(S(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);if(e){n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}});if(!n.length&&t.key){n.push(t.key+"=")}return n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];e=e||{};t.each(function(){n.push(S(e.item||this).attr(e.attribute||"id")||"")});return n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,a=e.left,o=a+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,h=this.options.axis==="x"||i+c>s&&i+c<l,f=this.options.axis==="y"||t+u>a&&t+u<o,d=h&&f;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]){return d}else{return a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l}},_intersectsWithPointer:function(e){var t,n,i=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),a=i&&r;if(!a){return false}t=this._getDragVerticalDirection();n=this._getDragHorizontalDirection();return this.floating?n==="right"||t==="down"?2:1:t&&(t==="down"?2:1)},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();if(this.floating&&r){return r==="right"&&n||r==="left"&&!n}else{return i&&(i==="down"&&t||i==="up"&&!t)}},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,i,r,a=[],o=[],s=this._connectWith();if(s&&e){for(t=s.length-1;t>=0;t--){i=S(s[t],this.document[0]);for(n=i.length-1;n>=0;n--){r=S.data(i[n],this.widgetFullName);if(r&&r!==this&&!r.options.disabled){o.push([S.isFunction(r.options.items)?r.options.items.call(r.element):S(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r])}}}}o.push([S.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):S(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function l(){a.push(this)}for(t=o.length-1;t>=0;t--){o[t][0].each(l)}return S(a)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=S.grep(this.items,function(e){for(var t=0;t<n.length;t++){if(n[t]===e.item[0]){return false}}return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var t,n,i,r,a,o,s,l,c=this.items,u=[[S.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):S(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready){for(t=h.length-1;t>=0;t--){i=S(h[t],this.document[0]);for(n=i.length-1;n>=0;n--){r=S.data(i[n],this.widgetFullName);if(r&&r!==this&&!r.options.disabled){u.push([S.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):S(r.options.items,r.element),r]);this.containers.push(r)}}}}for(t=u.length-1;t>=0;t--){a=u[t][1];o=u[t][0];for(n=0,l=o.length;n<l;n++){s=S(o[n]);s.data(this.widgetName+"-item",a);c.push({item:s,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var t,n,i,r;for(t=this.items.length-1;t>=0;t--){n=this.items[t];if(n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]){continue}i=this.options.toleranceElement?S(this.options.toleranceElement,n.item):n.item;if(!e){n.width=i.outerWidth();n.height=i.outerHeight()}r=i.offset();n.left=r.left;n.top=r.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(t=this.containers.length-1;t>=0;t--){r=this.containers[t].element.offset();this.containers[t].containerCache.left=r.left;this.containers[t].containerCache.top=r.top;this.containers[t].containerCache.width=this.containers[t].element.outerWidth();this.containers[t].containerCache.height=this.containers[t].element.outerHeight()}}return this},_createPlaceholder:function(n){n=n||this;var i,r=n.options;if(!r.placeholder||r.placeholder.constructor===String){i=r.placeholder;r.placeholder={element:function(){var e=n.currentItem[0].nodeName.toLowerCase(),t=S("<"+e+">",n.document[0]);n._addClass(t,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(t,"ui-sortable-helper");if(e==="tbody"){n._createTrPlaceholder(n.currentItem.find("tr").eq(0),S("<tr>",n.document[0]).appendTo(t))}else if(e==="tr"){n._createTrPlaceholder(n.currentItem,t)}else if(e==="img"){t.attr("src",n.currentItem.attr("src"))}if(!i){t.css("visibility","hidden")}return t},update:function(e,t){if(i&&!r.forcePlaceholderSize){return}if(!t.height()){t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10))}if(!t.width()){t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10))}}}}n.placeholder=S(r.placeholder.element.call(n.element,n.currentItem));n.currentItem.after(n.placeholder);r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(e,t){var n=this;e.children().each(function(){S("<td>&#160;</td>",n.document[0]).attr("colspan",S(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){var t,n,i,r,a,o,s,l,c,u,h=null,f=null;for(t=this.containers.length-1;t>=0;t--){if(S.contains(this.currentItem[0],this.containers[t].element[0])){continue}if(this._intersectsWith(this.containers[t].containerCache)){if(h&&S.contains(this.containers[t].element[0],h.element[0])){continue}h=this.containers[t];f=t}else{if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",e,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(!h){return}if(this.containers.length===1){if(!this.containers[f].containerCache.over){this.containers[f]._trigger("over",e,this._uiHash(this));this.containers[f].containerCache.over=1}}else{i=1e4;r=null;c=h.floating||this._isFloating(this.currentItem);a=c?"left":"top";o=c?"width":"height";u=c?"pageX":"pageY";for(n=this.items.length-1;n>=0;n--){if(!S.contains(this.containers[f].element[0],this.items[n].item[0])){continue}if(this.items[n].item[0]===this.currentItem[0]){continue}s=this.items[n].item.offset()[a];l=false;if(e[u]-s>this.items[n][o]/2){l=true}if(Math.abs(e[u]-s)<i){i=Math.abs(e[u]-s);r=this.items[n];this.direction=l?"up":"down"}}if(!r&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[f]){if(!this.currentContainer.containerCache.over){this.containers[f]._trigger("over",e,this._uiHash());this.currentContainer.containerCache.over=1}return}r?this._rearrange(e,r,null,true):this._rearrange(e,null,this.containers[f].element,true);this._trigger("change",e,this._uiHash());this.containers[f]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[f];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[f]._trigger("over",e,this._uiHash(this));this.containers[f].containerCache.over=1}},_createHelper:function(e){var t=this.options,n=S.isFunction(t.helper)?S(t.helper.apply(this.element[0],[e,this.currentItem])):t.helper==="clone"?this.currentItem.clone():this.currentItem;if(!n.parents("body").length){S(t.appendTo!=="parent"?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0])}if(n[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!n[0].style.width||t.forceHelperSize){n.width(this.currentItem.width())}if(!n[0].style.height||t.forceHelperSize){n.height(this.currentItem.height())}return n},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(S.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&S.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options;if(i.containment==="parent"){i.containment=this.helper[0].parentNode}if(i.containment==="document"||i.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,i.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(i.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(i.containment)){e=S(i.containment)[0];t=S(i.containment).offset();n=S(e).css("overflow")!=="hidden";this.containment=[t.left+(parseInt(S(e).css("borderLeftWidth"),10)||0)+(parseInt(S(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(S(e).css("borderTopWidth"),10)||0)+(parseInt(S(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(S(e).css("borderLeftWidth"),10)||0)-(parseInt(S(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(S(e).css("borderTopWidth"),10)||0)-(parseInt(S(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,t){if(!t){t=this.position}var n=e==="absolute"?1:-1,i=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,r=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(e){var t,n,i=this.options,r=e.pageX,a=e.pageY,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(o[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){r=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){a=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){r=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){a=this.containment[3]+this.offset.click.top}}if(i.grid){t=this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1];a=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-i.grid[1]:t+i.grid[1]:t;n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0];r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){if(r===this.counter){this.refreshPositions(!i)}})},_clear:function(e,t){this.reverting=false;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS){if(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static"){this._storedCSS[n]=""}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!t){i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t){i.push(function(e){this._trigger("update",e,this._uiHash())})}if(this!==this.currentContainer){if(!t){i.push(function(e){this._trigger("remove",e,this._uiHash())});i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer));i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))}}function r(t,n,i){return function(e){i._trigger(t,e,n._uiHash(n))}}for(n=this.containers.length-1;n>=0;n--){if(!t){i.push(r("deactivate",this,this.containers[n]))}if(this.containers[n].containerCache.over){i.push(r("out",this,this.containers[n]));this.containers[n].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!t){this._trigger("beforeStop",e,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!t){for(n=0;n<i.length;n++){i[n].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){if(S.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||S([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}});var D=S.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:false,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=S();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");if(!e.collapsible&&(e.active===false||e.active==null)){e.active=0}this._processPanels();if(e.active<0){e.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?S():this.active.next()}},_createIcons:function(){var e,t,n=this.options.icons;if(n){e=S("<span>");this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header);e.prependTo(this.headers);t=this.active.children(".ui-accordion-header-icon");this._removeClass(t,n.header)._addClass(t,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();if(this.options.heightStyle!=="content"){e.css("height","")}},_setOption:function(e,t){if(e==="active"){this._activate(t);return}if(e==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(t)}this._super(e,t);if(e==="collapsible"&&!t&&this.options.active===false){this._activate(0)}if(e==="icons"){this._destroyIcons();if(t){this._createIcons()}}},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",e);this._toggleClass(null,"ui-state-disabled",!!e);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(e.altKey||e.ctrlKey){return}var t=S.ui.keyCode,n=this.headers.length,i=this.headers.index(e.target),r=false;switch(e.keyCode){case t.RIGHT:case t.DOWN:r=this.headers[(i+1)%n];break;case t.LEFT:case t.UP:r=this.headers[(i-1+n)%n];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:r=this.headers[0];break;case t.END:r=this.headers[n-1];break}if(r){S(e.target).attr("tabIndex",-1);S(r).attr("tabIndex",0);S(r).trigger("focus");e.preventDefault()}},_panelKeyDown:function(e){if(e.keyCode===S.ui.keyCode.UP&&e.ctrlKey){S(e.currentTarget).prev().trigger("focus")}},refresh:function(){var e=this.options;this._processPanels();if(e.active===false&&e.collapsible===true||!this.headers.length){e.active=false;this.active=S()}else if(e.active===false){this._activate(0)}else if(this.active.length&&!S.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){e.active=false;this.active=S()}else{this._activate(Math.max(0,e.active-1))}}else{e.active=this.headers.index(this.active)}this._destroyIcons();this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");if(t){this._off(e.not(this.headers));this._off(t.not(this.panels))}},_refresh:function(){var n,e=this.options,t=e.heightStyle,i=this.element.parent();this.active=this._findActive(e.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var e=S(this),t=e.uniqueId().attr("id"),n=e.next(),i=n.uniqueId().attr("id");e.attr("aria-controls",i);n.attr("aria-labelledby",t)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(e.event);if(t==="fill"){n=i.height();this.element.siblings(":visible").each(function(){var e=S(this),t=e.css("position");if(t==="absolute"||t==="fixed"){return}n-=e.outerHeight(true)});this.headers.each(function(){n-=S(this).outerHeight(true)});this.headers.next().each(function(){S(this).height(Math.max(0,n-S(this).innerHeight()+S(this).height()))}).css("overflow","auto")}else if(t==="auto"){n=0;this.headers.next().each(function(){var e=S(this).is(":visible");if(!e){S(this).show()}n=Math.max(n,S(this).css("height","").height());if(!e){S(this).hide()}}).height(n)}},_activate:function(e){var t=this._findActive(e)[0];if(t===this.active[0]){return}t=t||this.active[0];this._eventHandler({target:t,currentTarget:t,preventDefault:S.noop})},_findActive:function(e){return typeof e==="number"?this.headers.eq(e):S()},_setupEvents:function(e){var n={keydown:"_keydown"};if(e){S.each(e.split(" "),function(e,t){n[t]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,n);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(e){var t,n,i=this.options,r=this.active,a=S(e.currentTarget),o=a[0]===r[0],s=o&&i.collapsible,l=s?S():a.next(),c=r.next(),u={oldHeader:r,oldPanel:c,newHeader:s?S():a,newPanel:l};e.preventDefault();if(o&&!i.collapsible||this._trigger("beforeActivate",e,u)===false){return}i.active=s?false:this.headers.index(a);this.active=o?S():a;this._toggle(u);this._removeClass(r,"ui-accordion-header-active","ui-state-active");if(i.icons){t=r.children(".ui-accordion-header-icon");this._removeClass(t,null,i.icons.activeHeader)._addClass(t,null,i.icons.header)}if(!o){this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active");if(i.icons){n=a.children(".ui-accordion-header-icon");this._removeClass(n,null,i.icons.header)._addClass(n,null,i.icons.activeHeader)}this._addClass(a.next(),"ui-accordion-content-active")}},_toggle:function(e){var t=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=t;this.prevHide=n;if(this.options.animate){this._animate(t,n,e)}else{n.hide();t.show();this._toggleComplete(e)}n.attr({"aria-hidden":"true"});n.prev().attr({"aria-selected":"false","aria-expanded":"false"});if(t.length&&n.length){n.prev().attr({tabIndex:-1,"aria-expanded":"false"})}else if(t.length){this.headers.filter(function(){return parseInt(S(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1)}t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,n,t){var i,r,a,o=this,s=0,l=e.css("box-sizing"),c=e.length&&(!n.length||e.index()<n.index()),u=this.options.animate||{},h=c&&u.down||u,f=function(){o._toggleComplete(t)};if(typeof h==="number"){a=h}if(typeof h==="string"){r=h}r=r||h.easing||u.easing;a=a||h.duration||u.duration;if(!n.length){return e.animate(this.showProps,a,r,f)}if(!e.length){return n.animate(this.hideProps,a,r,f)}i=e.show().outerHeight();n.animate(this.hideProps,{duration:a,easing:r,step:function(e,t){t.now=Math.round(e)}});e.hide().animate(this.showProps,{duration:a,easing:r,complete:f,step:function(e,t){t.now=Math.round(e);if(t.prop!=="height"){if(l==="content-box"){s+=t.now}}else if(o.options.heightStyle!=="content"){t.now=Math.round(i-n.outerHeight()-s);s=0}}})},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active");this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed");if(t.length){t.parent()[0].className=t.parent()[0].className}this._trigger("activate",null,e)}});var L=S.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var t=S(e.target);var n=S(S.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&t.not(".ui-state-disabled").length){this.select(e);if(!e.isPropagationStopped()){this.mouseHandled=true}if(t.has(".ui-menu").length){this.expand(e)}else if(!this.element.is(":focus")&&n.closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}},"mouseenter .ui-menu-item":function(e){if(this.previousFilter){return}var t=S(e.target).closest(".ui-menu-item"),n=S(e.currentTarget);if(t[0]!==n[0]){return}this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(e,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);if(!t){this.focus(e,n)}},blur:function(t){this._delay(function(){var e=!S.contains(this.element[0],S.ui.safeActiveElement(this.document[0]));if(e){this.collapseAll(t)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(e){if(this._closeOnDocumentClick(e)){this.collapseAll(e)}this.mouseHandled=false}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),t=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled "+"tabIndex").removeUniqueId().show();t.children().each(function(){var e=S(this);if(e.data("ui-menu-submenu-caret")){e.remove()}})},_keydown:function(e){var t,n,i,r,a=true;switch(e.keyCode){case S.ui.keyCode.PAGE_UP:this.previousPage(e);break;case S.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case S.ui.keyCode.HOME:this._move("first","first",e);break;case S.ui.keyCode.END:this._move("last","last",e);break;case S.ui.keyCode.UP:this.previous(e);break;case S.ui.keyCode.DOWN:this.next(e);break;case S.ui.keyCode.LEFT:this.collapse(e);break;case S.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(e)}break;case S.ui.keyCode.ENTER:case S.ui.keyCode.SPACE:this._activate(e);break;case S.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=false;n=this.previousFilter||"";r=false;i=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode);clearTimeout(this.filterTimer);if(i===n){r=true}else{i=n+i}t=this._filterMenuItems(i);t=r&&t.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):t;if(!t.length){i=String.fromCharCode(e.keyCode);t=this._filterMenuItems(i)}if(t.length){this.focus(e,t);this.previousFilter=i;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else{delete this.previousFilter}}if(a){e.preventDefault()}},_activate:function(e){if(this.active&&!this.active.is(".ui-state-disabled")){if(this.active.children("[aria-haspopup='true']").length){this.expand(e)}else{this.select(e)}}},refresh:function(){var e,t,n,i,r,a=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=S(this),t=e.prev(),n=S("<span>").data("ui-menu-submenu-caret",true);a._addClass(n,"ui-menu-icon","ui-icon "+o);t.attr("aria-haspopup","true").prepend(n);e.attr("aria-labelledby",t.attr("id"))});this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front");e=s.add(this.element);t=e.find(this.options.items);t.not(".ui-menu-item").each(function(){var e=S(this);if(a._isDivider(e)){a._addClass(e,"ui-menu-divider","ui-widget-content")}});i=t.not(".ui-menu-item, .ui-menu-divider");r=i.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(i,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper");t.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!S.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if(e==="icons"){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",String(e));this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&e.type==="focus");this._scrollIntoView(t);this.active=t.first();i=this.active.children(".ui-menu-item-wrapper");this._addClass(i,null,"ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",i.attr("id"))}r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(r,null,"ui-state-active");if(e&&e.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}n=t.children(".ui-menu");if(n.length&&e&&/^mouse/.test(e.type)){this._startOpening(n)}this.activeMenu=t.parent();this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,n,i,r,a,o;if(this._hasScroll()){t=parseFloat(S.css(this.activeMenu[0],"borderTopWidth"))||0;n=parseFloat(S.css(this.activeMenu[0],"paddingTop"))||0;i=e.offset().top-this.activeMenu.offset().top-t-n;r=this.activeMenu.scrollTop();a=this.activeMenu.height();o=e.outerHeight();if(i<0){this.activeMenu.scrollTop(r+i)}else if(i+o>a){this.activeMenu.scrollTop(r+i-a+o)}}},blur:function(e,t){if(!t){clearTimeout(this.timer)}if(!this.active){return}this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",e,{item:this.active});this.active=null},_startOpening:function(e){clearTimeout(this.timer);if(e.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(e)},this.delay)},_open:function(e){var t=S.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true");e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,n){clearTimeout(this.timer);this.timer=this._delay(function(){var e=n?this.element:S(t&&t.target).closest(this.element.find(".ui-menu"));if(!e.length){e=this.element}this._close(e);this.blur(t);this._removeClass(e.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=e},this.delay)},_close:function(e){if(!e){e=this.active?this.active.parent():this.element}e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!S(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(t&&t.length){this._close();this.focus(e,t)}},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(t&&t.length){this._open(t.parent());this._delay(function(){this.focus(e,t)})}},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;if(this.active){if(e==="first"||e==="last"){i=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{i=this.active[e+"All"](".ui-menu-item").eq(0)}}if(!i||!i.length||!this.active){i=this.activeMenu.find(this.options.items)[t]()}this.focus(n,i)},nextPage:function(e){var t,n,i;if(!this.active){this.next(e);return}if(this.isLastItem()){return}if(this._hasScroll()){n=this.active.offset().top;i=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){t=S(this);return t.offset().top-n-i<0});this.focus(e,t)}else{this.focus(e,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}},previousPage:function(e){var t,n,i;if(!this.active){this.next(e);return}if(this.isFirstItem()){return}if(this._hasScroll()){n=this.active.offset().top;i=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){t=S(this);return t.offset().top-n+i>0});this.focus(e,t)}else{this.focus(e,this.activeMenu.find(this.options.items).first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||S(e.target).closest(".ui-menu-item");var t={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(e,true)}this._trigger("select",e,t)},_filterMenuItems:function(e){var t=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(S.trim(S(this).children(".ui-menu-item-wrapper").text()))})}});S.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,r,e=this.element[0].nodeName.toLowerCase(),t=e==="textarea",a=e==="input";this.isMultiLine=t||!a&&this._isContentEditable(this.element);this.valueMethod=this.element[t||a?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly")){n=true;r=true;i=true;return}n=false;r=false;i=false;var t=S.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:n=true;this._move("previousPage",e);break;case t.PAGE_DOWN:n=true;this._move("nextPage",e);break;case t.UP:n=true;this._keyEvent("previous",e);break;case t.DOWN:n=true;this._keyEvent("next",e);break;case t.ENTER:if(this.menu.active){n=true;e.preventDefault();this.menu.select(e)}break;case t.TAB:if(this.menu.active){this.menu.select(e)}break;case t.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term)}this.close(e);e.preventDefault()}break;default:i=true;this._searchTimeout(e);break}},keypress:function(e){if(n){n=false;if(!this.isMultiLine||this.menu.element.is(":visible")){e.preventDefault()}return}if(i){return}var t=S.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e);break}},input:function(e){if(r){r=false;e.preventDefault();return}this._searchTimeout(e)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(e);this._change(e)}});this._initSource();this.menu=S("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(e){e.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;if(this.element[0]!==S.ui.safeActiveElement(this.document[0])){this.element.trigger("focus")}})},menufocus:function(e,t){var n,i;if(this.isNewMenu){this.isNewMenu=false;if(e.originalEvent&&/^mouse/.test(e.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){S(e.target).trigger(e.originalEvent)});return}}i=t.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",e,{item:i})){if(e.originalEvent&&/^key/.test(e.originalEvent.type)){this._value(i.value)}}n=t.item.attr("aria-label")||i.value;if(n&&S.trim(n).length){this.liveRegion.children().hide();S("<div>").text(n).appendTo(this.liveRegion)}},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;if(this.element[0]!==S.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=i;this._delay(function(){this.previous=i;this.selectedItem=n})}if(false!==this._trigger("select",e,{item:n})){this._value(n.value)}this.term=this._value();this.close(e);this.selectedItem=n}});this.liveRegion=S("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t);if(e==="source"){this._initSource()}if(e==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(e==="disabled"&&t&&this.xhr){this.xhr.abort()}},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||S.contains(t,e.target)},_closeOnClickOutside:function(e){if(!this._isEventTargetInWidget(e)){this.close()}},_appendTo:function(){var e=this.options.appendTo;if(e){e=e.jquery||e.nodeType?S(e):this.document.find(e).eq(0)}if(!e||!e[0]){e=this.element.closest(".ui-front, dialog")}if(!e.length){e=this.document[0].body}return e},_initSource:function(){var n,i,r=this;if(S.isArray(this.options.source)){n=this.options.source;this.source=function(e,t){t(S.ui.autocomplete.filter(n,e.term))}}else if(typeof this.options.source==="string"){i=this.options.source;this.source=function(e,t){if(r.xhr){r.xhr.abort()}r.xhr=S.ajax({url:i,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}}else{this.source=this.options.source}},_searchTimeout:function(i){clearTimeout(this.searching);this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;if(!e||e&&!t&&!n){this.selectedItem=null;this.search(null,i)}},this.options.delay)},search:function(e,t){e=e!=null?e:this._value();this.term=this._value();if(e.length<this.options.minLength){return this.close(t)}if(this._trigger("search",t)===false){return}return this._search(e)},_search:function(e){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return S.proxy(function(e){if(t===this.requestIndex){this.__response(e)}this.pending--;if(!this.pending){this._removeClass("ui-autocomplete-loading")}},this)},__response:function(e){if(e){e=this._normalize(e)}this._trigger("response",null,{content:e});if(!this.options.disabled&&e&&e.length&&!this.cancelSearch){this._suggest(e);this._trigger("open")}else{this._close()}},close:function(e){this.cancelSearch=true;this._close(e)},_close:function(e){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",e)}},_change:function(e){if(this.previous!==this._value()){this._trigger("change",e,{item:this.selectedItem})}},_normalize:function(e){if(e.length&&e[0].label&&e[0].value){return e}return S.map(e,function(e){if(typeof e==="string"){return{label:e,value:e}}return S.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e);this.isNewMenu=true;this.menu.refresh();t.show();this._resizeMenu();t.position(S.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,e){var i=this;S.each(e,function(e,t){i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return S("<li>").append(S("<div>").text(t.label)).appendTo(e)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){if(!this.isMultiLine){this._value(this.term)}this.menu.blur();return}this.menu[e](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,t);t.preventDefault()}},_isContentEditable:function(e){if(!e.length){return false}var t=e.prop("contentEditable");if(t==="inherit"){return this._isContentEditable(e.parent())}return t==="true"}});S.extend(S.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var n=new RegExp(S.ui.autocomplete.escapeRegex(t),"i");return S.grep(e,function(e){return n.test(e.label||e.value||e)})}});S.widget("ui.autocomplete",S.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(e&&e.length){t=this.options.messages.results(e.length)}else{t=this.options.messages.noResults}this.liveRegion.children().hide();S("<div>").text(t).appendTo(this.liveRegion)}});var R=S.ui.autocomplete;var F=/ui-corner-([a-z]){2,6}/g;var P=S.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:true,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");if(this.options.items.controlgroupLabel){this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()}},_initWidgets:function(){var o=this,s=[];S.each(this.options.items,function(r,e){var t;var a={};if(!e){return}if(r==="controlgroupLabel"){t=o.element.find(e);t.each(function(){var e=S(this);if(e.children(".ui-controlgroup-label-contents").length){return}e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")});o._addClass(t,null,"ui-widget ui-widget-content ui-state-default");s=s.concat(t.get());return}if(!S.fn[r]){return}if(o["_"+r+"Options"]){a=o["_"+r+"Options"]("middle")}else{a={classes:{}}}o.element.find(e).each(function(){var e=S(this);var t=e[r]("instance");var n=S.widget.extend({},a);if(r==="button"&&e.parent(".ui-spinner").length){return}if(!t){t=e[r]()[r]("instance")}if(t){n.classes=o._resolveClassesValues(n.classes,t)}e[r](n);var i=e[r]("widget");S.data(i[0],"ui-controlgroup-data",t?t:e[r]("instance"));s.push(i[0])})});this.childWidgets=S(S.uniqueSort(s));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(n){this.childWidgets.each(function(){var e=S(this),t=e.data("ui-controlgroup-data");if(t&&t[n]){t[n]()}})},_updateCornerClass:function(e,t){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,n);this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var n=this.options.direction==="vertical";var i={classes:{}};i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e];return i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");t.classes["ui-spinner-up"]="";t.classes["ui-spinner-down"]="";return t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t=this.options.direction==="vertical";return{width:t?"auto":false,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(n,i){var r={};S.each(n,function(e){var t=i.options.classes[e]||"";t=S.trim(t.replace(F,""));r[e]=(t+" "+n[e]).replace(/\s+/g," ")});return r},_setOption:function(e,t){if(e==="direction"){this._removeClass("ui-controlgroup-"+this.options.direction)}this._super(e,t);if(e==="disabled"){this._callChildMethod(t?"disable":"enable");return}this.refresh()},refresh:function(){var r,a=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);if(this.options.direction==="horizontal"){this._addClass(null,"ui-helper-clearfix")}this._initWidgets();r=this.childWidgets;if(this.options.onlyVisible){r=r.filter(":visible")}if(r.length){S.each(["first","last"],function(e,t){var n=r[t]().data("ui-controlgroup-data");if(n&&a["_"+n.widgetName+"Options"]){var i=a["_"+n.widgetName+"Options"](r.length===1?"only":t);i.classes=a._resolveClassesValues(i.classes,n);n.element[n.widgetName](i)}else{a._updateCornerClass(r[t](),t)}});this._callChildMethod("refresh")}}});S.widget("ui.checkboxradio",[S.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t;var n=this;var i=this._super()||{};this._readType();t=this.element.labels();this.label=S(t[t.length-1]);if(!this.label.length){S.error("No label found for checkboxradio widget")}this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=this.nodeType===3?S(this).text():this.outerHTML});if(this.originalLabel){i.label=this.originalLabel}e=this.element[0].disabled;if(e!=null){i.disabled=e}return i},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler();if(this.options.disabled==null){this.options.disabled=this.element[0].disabled}this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");if(this.type==="radio"){this._addClass(this.label,"ui-checkboxradio-radio-label")}if(this.options.label&&this.options.label!==this.originalLabel){this._updateLabel()}else if(this.originalLabel){this.options.label=this.originalLabel}this._enhance();if(e){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");if(this.icon){this._addClass(this.icon,null,"ui-state-hover")}}this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;if(e!=="input"||!/radio|checkbox/.test(this.type)){S.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)}},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e;var t=this.element[0].name;var n="input[name='"+S.ui.escapeSelector(t)+"']";if(!t){return S([])}if(this.form.length){e=S(this.form[0].elements).filter(n)}else{e=S(n).filter(function(){return S(this).form().length===0})}return e.not(this.element)},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e);if(this.options.icon&&this.type==="checkbox"){this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e)}if(this.type==="radio"){this._getRadioGroup().each(function(){var e=S(this).checkboxradio("instance");if(e){e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")}})}},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove()}},_setOption:function(e,t){if(e==="label"&&!t){return}this._super(e,t);if(e==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",t);this.element[0].disabled=t;return}this.refresh()},_updateIcon:function(e){var t="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=S("<span>");this.iconSpace=S("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")}if(this.type==="checkbox"){t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")}else{t+="ui-icon-blank"}this._addClass(this.icon,"ui-checkboxradio-icon",t);if(!e){this._removeClass(this.icon,null,"ui-icon-check ui-state-checked")}this.icon.prependTo(this.label).after(this.iconSpace)}else if(this.icon!==undefined){this.icon.remove();this.iconSpace.remove();delete this.icon}},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);if(this.icon){e=e.not(this.icon[0])}if(this.iconSpace){e=e.not(this.iconSpace[0])}e.remove();this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e);if(this.options.label!==null){this._updateLabel()}if(t!==this.options.disabled){this._setOptions({disabled:t})}}}]);var I=S.ui.checkboxradio;S.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:true},_getCreateOptions:function(){var e,t=this._super()||{};this.isInput=this.element.is("input");e=this.element[0].disabled;if(e!=null){t.disabled=e}this.originalLabel=this.isInput?this.element.val():this.element.html();if(this.originalLabel){t.label=this.originalLabel}return t},_create:function(){if(!this.option.showLabel&!this.options.icon){this.options.showLabel=true}if(this.options.disabled==null){this.options.disabled=this.element[0].disabled||false}this.hasTitle=!!this.element.attr("title");if(this.options.label&&this.options.label!==this.originalLabel){if(this.isInput){this.element.val(this.options.label)}else{this.element.html(this.options.label)}}this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();if(this.element.is("a")){this._on({keyup:function(e){if(e.keyCode===S.ui.keyCode.SPACE){e.preventDefault();if(this.element[0].click){this.element[0].click()}else{this.element.trigger("click")}}}})}},_enhance:function(){if(!this.element.is("button")){this.element.attr("role","button")}if(this.options.icon){this._updateIcon("icon",this.options.icon);this._updateTooltip()}},_updateTooltip:function(){this.title=this.element.attr("title");if(!this.options.showLabel&&!this.title){this.element.attr("title",this.options.label)}},_updateIcon:function(e,t){var n=e!=="iconPosition",i=n?this.options.iconPosition:t,r=i==="top"||i==="bottom";if(!this.icon){this.icon=S("<span>");this._addClass(this.icon,"ui-button-icon","ui-icon");if(!this.options.showLabel){this._addClass("ui-button-icon-only")}}else if(n){this._removeClass(this.icon,null,this.options.icon)}if(n){this._addClass(this.icon,null,t)}this._attachIcon(i);if(r){this._addClass(this.icon,null,"ui-widget-icon-block");if(this.iconSpace){this.iconSpace.remove()}}else{if(!this.iconSpace){this.iconSpace=S("<span> </span>");this._addClass(this.iconSpace,"ui-button-icon-space")}this._removeClass(this.icon,null,"ui-wiget-icon-block");this._attachIconSpace(i)}},_destroy:function(){this.element.removeAttr("role");if(this.icon){this.icon.remove()}if(this.iconSpace){this.iconSpace.remove()}if(!this.hasTitle){this.element.removeAttr("title")}},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=e.showLabel===undefined?this.options.showLabel:e.showLabel,n=e.icon===undefined?this.options.icon:e.icon;if(!t&&!n){e.showLabel=true}this._super(e)},_setOption:function(e,t){if(e==="icon"){if(t){this._updateIcon(e,t)}else if(this.icon){this.icon.remove();if(this.iconSpace){this.iconSpace.remove()}}}if(e==="iconPosition"){this._updateIcon(e,t)}if(e==="showLabel"){this._toggleClass("ui-button-icon-only",null,!t);this._updateTooltip()}if(e==="label"){if(this.isInput){this.element.val(t)}else{this.element.html(t);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition)}}}this._super(e,t);if(e==="disabled"){this._toggleClass(null,"ui-state-disabled",t);this.element[0].disabled=t;if(t){this.element.blur()}}},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");if(e!==this.options.disabled){this._setOptions({disabled:e})}this._updateTooltip()}});if(S.uiBackCompat!==false){S.widget("ui.button",S.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function(){if(this.options.showLabel&&!this.options.text){this.options.showLabel=this.options.text}if(!this.options.showLabel&&this.options.text){this.options.text=this.options.showLabel}if(!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)){if(this.options.icons.primary){this.options.icon=this.options.icons.primary}else{this.options.icon=this.options.icons.secondary;this.options.iconPosition="end"}}else if(this.options.icon){this.options.icons.primary=this.options.icon}this._super()},_setOption:function(e,t){if(e==="text"){this._super("showLabel",t);return}if(e==="showLabel"){this.options.text=t}if(e==="icon"){this.options.icons.primary=t}if(e==="icons"){if(t.primary){this._super("icon",t.primary);this._super("iconPosition","beginning")}else if(t.secondary){this._super("icon",t.secondary);this._super("iconPosition","end")}}this._superApply(arguments)}});S.fn.button=function(e){return function(){if(!this.length||this.length&&this[0].tagName!=="INPUT"||this.length&&this[0].tagName==="INPUT"&&(this.attr("type")!=="checkbox"&&this.attr("type")!=="radio")){return e.apply(this,arguments)}if(!S.ui.checkboxradio){S.error("Checkboxradio widget missing")}if(arguments.length===0){return this.checkboxradio({icon:false})}return this.checkboxradio.apply(this,arguments)}}(S.fn.button);S.fn.buttonset=function(){if(!S.ui.controlgroup){S.error("Controlgroup widget missing")}if(arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]){return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]])}if(arguments[0]==="option"&&arguments[1]==="items"){return this.controlgroup.apply(this,[arguments[0],"items.button"])}if(typeof arguments[0]==="object"&&arguments[0].items){arguments[0].items={button:arguments[0].items}}return this.controlgroup.apply(this,arguments)}}var N=S.ui.button;S.extend(S.ui,{datepicker:{version:"1.12.1"}});var O;function B(e){var t,n;while(e.length&&e[0]!==document){t=e.css("position");if(t==="absolute"||t==="relative"||t==="fixed"){n=parseInt(e.css("zIndex"),10);if(!isNaN(n)&&n!==0){return n}}e=e.parent()}return 0}function z(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};S.extend(this._defaults,this.regional[""]);this.regional.en=S.extend(true,{},this.regional[""]);this.regional["en-US"]=S.extend(true,{},this.regional.en);this.dpDiv=U(S("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}S.extend(z.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){j(this._defaults,e||{});return this},_attachDatepicker:function(e,t){var n,i,r;n=e.nodeName.toLowerCase();i=n==="div"||n==="span";if(!e.id){this.uuid+=1;e.id="dp"+this.uuid}r=this._newInst(S(e),i);r.settings=S.extend({},t||{});if(n==="input"){this._connectDatepicker(e,r)}else if(i){this._inlineDatepicker(e,r)}},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:!t?this.dpDiv:U(S("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(e,t){var n=S(e);t.append=S([]);t.trigger=S([]);if(n.hasClass(this.markerClassName)){return}this._attachments(n,t);n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(t);S.data(e,"datepicker",t);if(t.settings.disabled){this._disableDatepicker(e)}},_attachments:function(e,t){var n,i,r,a=this._get(t,"appendText"),o=this._get(t,"isRTL");if(t.append){t.append.remove()}if(a){t.append=S("<span class='"+this._appendClass+"'>"+a+"</span>");e[o?"before":"after"](t.append)}e.off("focus",this._showDatepicker);if(t.trigger){t.trigger.remove()}n=this._get(t,"showOn");if(n==="focus"||n==="both"){e.on("focus",this._showDatepicker)}if(n==="button"||n==="both"){i=this._get(t,"buttonText");r=this._get(t,"buttonImage");t.trigger=S(this._get(t,"buttonImageOnly")?S("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):S("<button type='button'></button>").addClass(this._triggerClass).html(!r?i:S("<img/>").attr({src:r,alt:i,title:i})));e[o?"before":"after"](t.trigger);t.trigger.on("click",function(){if(S.datepicker._datepickerShowing&&S.datepicker._lastInput===e[0]){S.datepicker._hideDatepicker()}else if(S.datepicker._datepickerShowing&&S.datepicker._lastInput!==e[0]){S.datepicker._hideDatepicker();S.datepicker._showDatepicker(e[0])}else{S.datepicker._showDatepicker(e[0])}return false})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,a=new Date(2009,12-1,20),o=this._get(e,"dateFormat");if(o.match(/[DM]/)){t=function(e){n=0;i=0;for(r=0;r<e.length;r++){if(e[r].length>n){n=e[r].length;i=r}}return i};a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort")));a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())}e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(e,t){var n=S(e);if(n.hasClass(this.markerClassName)){return}n.addClass(this.markerClassName).append(t.dpDiv);S.data(e,"datepicker",t);this._setDate(t,this._getDefaultDate(t),true);this._updateDatepicker(t);this._updateAlternate(t);if(t.settings.disabled){this._disableDatepicker(e)}t.dpDiv.css("display","block")},_dialogDatepicker:function(e,t,n,i,r){var a,o,s,l,c,u=this._dialogInst;if(!u){this.uuid+=1;a="dp"+this.uuid;this._dialogInput=S("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);S("body").append(this._dialogInput);u=this._dialogInst=this._newInst(this._dialogInput,false);u.settings={};S.data(this._dialogInput[0],"datepicker",u)}j(u.settings,i||{});t=t&&t.constructor===Date?this._formatDate(u,t):t;this._dialogInput.val(t);this._pos=r?r.length?r:[r.pageX,r.pageY]:null;if(!this._pos){o=document.documentElement.clientWidth;s=document.documentElement.clientHeight;l=document.documentElement.scrollLeft||document.body.scrollLeft;c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+l,s/2-150+c]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");u.settings.onSelect=n;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(S.blockUI){S.blockUI(this.dpDiv)}S.data(this._dialogInput[0],"datepicker",u);return this},_destroyDatepicker:function(e){var t,n=S(e),i=S.data(e,"datepicker");if(!n.hasClass(this.markerClassName)){return}t=e.nodeName.toLowerCase();S.removeData(e,"datepicker");if(t==="input"){i.append.remove();i.trigger.remove();n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)}else if(t==="div"||t==="span"){n.removeClass(this.markerClassName).empty()}if(O===i){O=null}},_enableDatepicker:function(t){var e,n,i=S(t),r=S.data(t,"datepicker");if(!i.hasClass(this.markerClassName)){return}e=t.nodeName.toLowerCase();if(e==="input"){t.disabled=false;r.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(e==="div"||e==="span"){n=i.children("."+this._inlineClass);n.children().removeClass("ui-state-disabled");n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=S.map(this._disabledInputs,function(e){return e===t?null:e})},_disableDatepicker:function(t){var e,n,i=S(t),r=S.data(t,"datepicker");if(!i.hasClass(this.markerClassName)){return}e=t.nodeName.toLowerCase();if(e==="input"){t.disabled=true;r.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(e==="div"||e==="span"){n=i.children("."+this._inlineClass);n.children().addClass("ui-state-disabled");n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=S.map(this._disabledInputs,function(e){return e===t?null:e});this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e){return false}for(var t=0;t<this._disabledInputs.length;t++){if(this._disabledInputs[t]===e){return true}}return false},_getInst:function(e){try{return S.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i,r,a,o,s=this._getInst(e);if(arguments.length===2&&typeof t==="string"){return t==="defaults"?S.extend({},S.datepicker._defaults):s?t==="all"?S.extend({},s.settings):this._get(s,t):null}i=t||{};if(typeof t==="string"){i={};i[t]=n}if(s){if(this._curInst===s){this._hideDatepicker()}r=this._getDateDatepicker(e,true);a=this._getMinMaxDate(s,"min");o=this._getMinMaxDate(s,"max");j(s.settings,i);if(a!==null&&i.dateFormat!==undefined&&i.minDate===undefined){s.settings.minDate=this._formatDate(s,a)}if(o!==null&&i.dateFormat!==undefined&&i.maxDate===undefined){s.settings.maxDate=this._formatDate(s,o)}if("disabled"in i){if(i.disabled){this._disableDatepicker(e)}else{this._enableDatepicker(e)}}this._attachments(S(e),s);this._autoSize(s);this._setDate(s,r);this._updateAlternate(s);this._updateDatepicker(s)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);if(t){this._updateDatepicker(t)}},_setDateDatepicker:function(e,t){var n=this._getInst(e);if(n){this._setDate(n,t);this._updateDatepicker(n);this._updateAlternate(n)}},_getDateDatepicker:function(e,t){var n=this._getInst(e);if(n&&!n.inline){this._setDateFromField(n,t)}return n?this._getDate(n):null},_doKeyDown:function(e){var t,n,i,r=S.datepicker._getInst(e.target),a=true,o=r.dpDiv.is(".ui-datepicker-rtl");r._keyEvent=true;if(S.datepicker._datepickerShowing){switch(e.keyCode){case 9:S.datepicker._hideDatepicker();a=false;break;case 13:i=S("td."+S.datepicker._dayOverClass+":not(."+S.datepicker._currentClass+")",r.dpDiv);if(i[0]){S.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,i[0])}t=S.datepicker._get(r,"onSelect");if(t){n=S.datepicker._formatDate(r);t.apply(r.input?r.input[0]:null,[n,r])}else{S.datepicker._hideDatepicker()}return false;case 27:S.datepicker._hideDatepicker();break;case 33:S.datepicker._adjustDate(e.target,e.ctrlKey?-S.datepicker._get(r,"stepBigMonths"):-S.datepicker._get(r,"stepMonths"),"M");break;case 34:S.datepicker._adjustDate(e.target,e.ctrlKey?+S.datepicker._get(r,"stepBigMonths"):+S.datepicker._get(r,"stepMonths"),"M");break;case 35:if(e.ctrlKey||e.metaKey){S.datepicker._clearDate(e.target)}a=e.ctrlKey||e.metaKey;break;case 36:if(e.ctrlKey||e.metaKey){S.datepicker._gotoToday(e.target)}a=e.ctrlKey||e.metaKey;break;case 37:if(e.ctrlKey||e.metaKey){S.datepicker._adjustDate(e.target,o?+1:-1,"D")}a=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey){S.datepicker._adjustDate(e.target,e.ctrlKey?-S.datepicker._get(r,"stepBigMonths"):-S.datepicker._get(r,"stepMonths"),"M")}break;case 38:if(e.ctrlKey||e.metaKey){S.datepicker._adjustDate(e.target,-7,"D")}a=e.ctrlKey||e.metaKey;break;case 39:if(e.ctrlKey||e.metaKey){S.datepicker._adjustDate(e.target,o?-1:+1,"D")}a=e.ctrlKey||e.metaKey;if(e.originalEvent.altKey){S.datepicker._adjustDate(e.target,e.ctrlKey?+S.datepicker._get(r,"stepBigMonths"):+S.datepicker._get(r,"stepMonths"),"M")}break;case 40:if(e.ctrlKey||e.metaKey){S.datepicker._adjustDate(e.target,+7,"D")}a=e.ctrlKey||e.metaKey;break;default:a=false}}else if(e.keyCode===36&&e.ctrlKey){S.datepicker._showDatepicker(this)}else{a=false}if(a){e.preventDefault();e.stopPropagation()}},_doKeyPress:function(e){var t,n,i=S.datepicker._getInst(e.target);if(S.datepicker._get(i,"constrainInput")){t=S.datepicker._possibleChars(S.datepicker._get(i,"dateFormat"));n=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||(n<" "||!t||t.indexOf(n)>-1)}},_doKeyUp:function(e){var t,n=S.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal){try{t=S.datepicker.parseDate(S.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,S.datepicker._getFormatConfig(n));if(t){S.datepicker._setDateFromField(n);S.datepicker._updateAlternate(n);S.datepicker._updateDatepicker(n)}}catch(e){}}return true},_showDatepicker:function(e){e=e.target||e;if(e.nodeName.toLowerCase()!=="input"){e=S("input",e.parentNode)[0]}if(S.datepicker._isDisabledDatepicker(e)||S.datepicker._lastInput===e){return}var t,n,i,r,a,o,s;t=S.datepicker._getInst(e);if(S.datepicker._curInst&&S.datepicker._curInst!==t){S.datepicker._curInst.dpDiv.stop(true,true);if(t&&S.datepicker._datepickerShowing){S.datepicker._hideDatepicker(S.datepicker._curInst.input[0])}}n=S.datepicker._get(t,"beforeShow");i=n?n.apply(e,[e,t]):{};if(i===false){return}j(t.settings,i);t.lastVal=null;S.datepicker._lastInput=e;S.datepicker._setDateFromField(t);if(S.datepicker._inDialog){e.value=""}if(!S.datepicker._pos){S.datepicker._pos=S.datepicker._findPos(e);S.datepicker._pos[1]+=e.offsetHeight}r=false;S(e).parents().each(function(){r|=S(this).css("position")==="fixed";return!r});a={left:S.datepicker._pos[0],top:S.datepicker._pos[1]};S.datepicker._pos=null;t.dpDiv.empty();t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});S.datepicker._updateDatepicker(t);a=S.datepicker._checkOffset(t,a,r);t.dpDiv.css({position:S.datepicker._inDialog&&S.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"});if(!t.inline){o=S.datepicker._get(t,"showAnim");s=S.datepicker._get(t,"duration");t.dpDiv.css("z-index",B(S(e))+1);S.datepicker._datepickerShowing=true;if(S.effects&&S.effects.effect[o]){t.dpDiv.show(o,S.datepicker._get(t,"showOptions"),s)}else{t.dpDiv[o||"show"](o?s:null)}if(S.datepicker._shouldFocusInput(t)){t.input.trigger("focus")}S.datepicker._curInst=t}},_updateDatepicker:function(e){this.maxRows=4;O=e;e.dpDiv.empty().append(this._generateHTML(e));this._attachHandlers(e);var t,n=this._getNumberOfMonths(e),i=n[1],r=17,a=e.dpDiv.find("."+this._dayOverClass+" a");if(a.length>0){H.apply(a.get(0))}e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(i>1){e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",r*i+"em")}e.dpDiv[(n[0]!==1||n[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(e===S.datepicker._curInst&&S.datepicker._datepickerShowing&&S.datepicker._shouldFocusInput(e)){e.input.trigger("focus")}if(e.yearshtml){t=e.yearshtml;setTimeout(function(){if(t===e.yearshtml&&e.yearshtml){e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml)}t=e.yearshtml=null},0)}},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:S(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:S(document).scrollTop());t.left-=this._get(e,"isRTL")?i-a:0;t.left-=n&&t.left===e.input.offset().left?S(document).scrollLeft():0;t.top-=n&&t.top===e.input.offset().top+o?S(document).scrollTop():0;t.left-=Math.min(t.left,t.left+i>s&&s>i?Math.abs(t.left+i-s):0);t.top-=Math.min(t.top,t.top+r>l&&l>r?Math.abs(r+o):0);return t},_findPos:function(e){var t,n=this._getInst(e),i=this._get(n,"isRTL");while(e&&(e.type==="hidden"||e.nodeType!==1||S.expr.pseudos.hidden(e))){e=e[i?"previousSibling":"nextSibling"]}t=S(e).offset();return[t.left,t.top]},_hideDatepicker:function(e){var t,n,i,r,a=this._curInst;if(!a||e&&a!==S.data(e,"datepicker")){return}if(this._datepickerShowing){t=this._get(a,"showAnim");n=this._get(a,"duration");i=function(){S.datepicker._tidyDialog(a)};if(S.effects&&(S.effects.effect[t]||S.effects[t])){a.dpDiv.hide(t,S.datepicker._get(a,"showOptions"),n,i)}else{a.dpDiv[t==="slideDown"?"slideUp":t==="fadeIn"?"fadeOut":"hide"](t?n:null,i)}if(!t){i()}this._datepickerShowing=false;r=this._get(a,"onClose");if(r){r.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(S.blockUI){S.unblockUI();S("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!S.datepicker._curInst){return}var t=S(e.target),n=S.datepicker._getInst(t[0]);if(t[0].id!==S.datepicker._mainDivId&&t.parents("#"+S.datepicker._mainDivId).length===0&&!t.hasClass(S.datepicker.markerClassName)&&!t.closest("."+S.datepicker._triggerClass).length&&S.datepicker._datepickerShowing&&!(S.datepicker._inDialog&&S.blockUI)||t.hasClass(S.datepicker.markerClassName)&&S.datepicker._curInst!==n){S.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var i=S(e),r=this._getInst(i[0]);if(this._isDisabledDatepicker(i[0])){return}this._adjustInstDate(r,t+(n==="M"?this._get(r,"showCurrentAtPos"):0),n);this._updateDatepicker(r)},_gotoToday:function(e){var t,n=S(e),i=this._getInst(n[0]);if(this._get(i,"gotoCurrent")&&i.currentDay){i.selectedDay=i.currentDay;i.drawMonth=i.selectedMonth=i.currentMonth;i.drawYear=i.selectedYear=i.currentYear}else{t=new Date;i.selectedDay=t.getDate();i.drawMonth=i.selectedMonth=t.getMonth();i.drawYear=i.selectedYear=t.getFullYear()}this._notifyChange(i);this._adjustDate(n)},_selectMonthYear:function(e,t,n){var i=S(e),r=this._getInst(i[0]);r["selected"+(n==="M"?"Month":"Year")]=r["draw"+(n==="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10);this._notifyChange(r);this._adjustDate(i)},_selectDay:function(e,t,n,i){var r,a=S(e);if(S(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])){return}r=this._getInst(a[0]);r.selectedDay=r.currentDay=S("a",i).html();r.selectedMonth=r.currentMonth=t;r.selectedYear=r.currentYear=n;this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))},_clearDate:function(e){var t=S(e);this._selectDate(t,"")},_selectDate:function(e,t){var n,i=S(e),r=this._getInst(i[0]);t=t!=null?t:this._formatDate(r);if(r.input){r.input.val(t)}this._updateAlternate(r);n=this._get(r,"onSelect");if(n){n.apply(r.input?r.input[0]:null,[t,r])}else if(r.input){r.input.trigger("change")}if(r.inline){this._updateDatepicker(r)}else{this._hideDatepicker();this._lastInput=r.input[0];if(typeof r.input[0]!=="object"){r.input.trigger("focus")}this._lastInput=null}},_updateAlternate:function(e){var t,n,i,r=this._get(e,"altField");if(r){t=this._get(e,"altFormat")||this._get(e,"dateFormat");n=this._getDate(e);i=this.formatDate(t,n,this._getFormatConfig(e));S(r).val(i)}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));t=n.getTime();n.setMonth(0);n.setDate(1);return Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,o,e){if(n==null||o==null){throw"Invalid arguments"}o=typeof o==="object"?o.toString():o+"";if(o===""){return null}var i,t,r,s=0,a=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,l=typeof a!=="string"?a:(new Date).getFullYear()%100+parseInt(a,10),c=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,u=(e?e.dayNames:null)||this._defaults.dayNames,h=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,f=(e?e.monthNames:null)||this._defaults.monthNames,d=-1,p=-1,m=-1,g=-1,v=false,b,y=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;if(t){i++}return t},x=function(e){var t=y(e),n=e==="@"?14:e==="!"?20:e==="y"&&t?4:e==="o"?3:2,i=e==="y"?n:1,r=new RegExp("^\\d{"+i+","+n+"}"),a=o.substring(s).match(r);if(!a){throw"Missing number at position "+s}s+=a[0].length;return parseInt(a[0],10)},w=function(e,t,n){var i=-1,r=S.map(y(e)?n:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});S.each(r,function(e,t){var n=t[1];if(o.substr(s,n.length).toLowerCase()===n.toLowerCase()){i=t[0];s+=n.length;return false}});if(i!==-1){return i+1}else{throw"Unknown name at position "+s}},_=function(){if(o.charAt(s)!==n.charAt(i)){throw"Unexpected literal at position "+s}s++};for(i=0;i<n.length;i++){if(v){if(n.charAt(i)==="'"&&!y("'")){v=false}else{_()}}else{switch(n.charAt(i)){case"d":m=x("d");break;case"D":w("D",c,u);break;case"o":g=x("o");break;case"m":p=x("m");break;case"M":p=w("M",h,f);break;case"y":d=x("y");break;case"@":b=new Date(x("@"));d=b.getFullYear();p=b.getMonth()+1;m=b.getDate();break;case"!":b=new Date((x("!")-this._ticksTo1970)/1e4);d=b.getFullYear();p=b.getMonth()+1;m=b.getDate();break;case"'":if(y("'")){_()}else{v=true}break;default:_()}}}if(s<o.length){r=o.substr(s);if(!/^\s+/.test(r)){throw"Extra/unparsed characters found in date: "+r}}if(d===-1){d=(new Date).getFullYear()}else if(d<100){d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=l?0:-100)}if(g>-1){p=1;m=g;do{t=this._getDaysInMonth(d,p-1);if(m<=t){break}p++;m-=t}while(true)}b=this._daylightSavingAdjust(new Date(d,p-1,m));if(b.getFullYear()!==d||b.getMonth()+1!==p||b.getDate()!==m){throw"Invalid date"}return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(n,e,t){if(!e){return""}var i,r=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,a=(t?t.dayNames:null)||this._defaults.dayNames,o=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,s=(t?t.monthNames:null)||this._defaults.monthNames,l=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;if(t){i++}return t},c=function(e,t,n){var i=""+t;if(l(e)){while(i.length<n){i="0"+i}}return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},h="",f=false;if(e){for(i=0;i<n.length;i++){if(f){if(n.charAt(i)==="'"&&!l("'")){f=false}else{h+=n.charAt(i)}}else{switch(n.charAt(i)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,a);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),o,s);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=e.getTime()*1e4+this._ticksTo1970;break;case"'":if(l("'")){h+="'"}else{f=true}break;default:h+=n.charAt(i)}}}}return h},_possibleChars:function(n){var i,e="",t=false,r=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;if(t){i++}return t};for(i=0;i<n.length;i++){if(t){if(n.charAt(i)==="'"&&!r("'")){t=false}else{e+=n.charAt(i)}}else{switch(n.charAt(i)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":if(r("'")){e+="'"}else{t=true}break;default:e+=n.charAt(i)}}}return e},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal){return}var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),a=r,o=this._getFormatConfig(e);try{a=this.parseDate(n,i,o)||r}catch(e){i=t?"":i}e.selectedDay=a.getDate();e.drawMonth=e.selectedMonth=a.getMonth();e.drawYear=e.selectedYear=a.getFullYear();e.currentDay=i?a.getDate():0;e.currentMonth=i?a.getMonth():0;e.currentYear=i?a.getFullYear():0;this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(s,e,t){var n=function(e){var t=new Date;t.setDate(t.getDate()+e);return t},i=function(e){try{return S.datepicker.parseDate(S.datepicker._get(s,"dateFormat"),e,S.datepicker._getFormatConfig(s))}catch(e){}var t=(e.toLowerCase().match(/^c/)?S.datepicker._getDate(s):null)||new Date,n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,o=a.exec(e);while(o){switch(o[2]||"d"){case"d":case"D":r+=parseInt(o[1],10);break;case"w":case"W":r+=parseInt(o[1],10)*7;break;case"m":case"M":i+=parseInt(o[1],10);r=Math.min(r,S.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(o[1],10);r=Math.min(r,S.datepicker._getDaysInMonth(n,i));break}o=a.exec(e)}return new Date(n,i,r)},r=e==null||e===""?t:typeof e==="string"?i(e):typeof e==="number"?isNaN(e)?t:n(e):new Date(e.getTime());r=r&&r.toString()==="Invalid Date"?t:r;if(r){r.setHours(0);r.setMinutes(0);r.setSeconds(0);r.setMilliseconds(0)}return this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){if(!e){return null}e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth();e.drawYear=e.selectedYear=e.currentYear=o.getFullYear();if((r!==e.selectedMonth||a!==e.selectedYear)&&!n){this._notifyChange(e)}this._adjustInstDate(e);if(e.input){e.input.val(i?"":this._formatDate(e))}},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){S.datepicker._adjustDate(n,-t,"M")},next:function(){S.datepicker._adjustDate(n,+t,"M")},hide:function(){S.datepicker._hideDatepicker()},today:function(){S.datepicker._gotoToday(n)},selectDay:function(){S.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){S.datepicker._selectMonthYear(n,this,"M");return false},selectYear:function(){S.datepicker._selectMonthYear(n,this,"Y");return false}};S(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,a,o,s,l,c,u,h,f,d,p,m,g,v,b,y,x,w,_,E,A,C,S,T,M,k,D,L,R,F,P,I,N,O,B,z,U=new Date,H=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),j=this._get(e,"isRTL"),$=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),G=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),X=this._get(e,"stepMonths"),Y=G[0]!==1||G[1]!==1,K=this._daylightSavingAdjust(!e.currentDay?new Date(9999,9,9):new Date(e.currentYear,e.currentMonth,e.currentDay)),Z=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),J=e.drawMonth-q,ee=e.drawYear;if(J<0){J+=12;ee--}if(Q){t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-G[0]*G[1]+1,Q.getDate()));t=Z&&t<Z?Z:t;while(this._daylightSavingAdjust(new Date(ee,J,1))>t){J--;if(J<0){J=11;ee--}}}e.drawMonth=J;e.drawYear=ee;n=this._get(e,"prevText");n=!V?n:this.formatDate(n,this._daylightSavingAdjust(new Date(ee,J-X,1)),this._getFormatConfig(e));i=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>";r=this._get(e,"nextText");r=!V?r:this.formatDate(r,this._daylightSavingAdjust(new Date(ee,J+X,1)),this._getFormatConfig(e));a=this._canAdjustMonth(e,+1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>";o=this._get(e,"currentText");s=this._get(e,"gotoCurrent")&&e.currentDay?K:H;o=!V?o:this.formatDate(o,s,this._getFormatConfig(e));l=!e.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>":"";c=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+o+"</button>":"")+(j?"":l)+"</div>":"";u=parseInt(this._get(e,"firstDay"),10);u=isNaN(u)?0:u;h=this._get(e,"showWeek");f=this._get(e,"dayNames");d=this._get(e,"dayNamesMin");p=this._get(e,"monthNames");m=this._get(e,"monthNamesShort");g=this._get(e,"beforeShowDay");v=this._get(e,"showOtherMonths");b=this._get(e,"selectOtherMonths");y=this._getDefaultDate(e);x="";for(_=0;_<G[0];_++){E="";this.maxRows=4;for(A=0;A<G[1];A++){C=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay));S=" ui-corner-all";T="";if(Y){T+="<div class='ui-datepicker-group";if(G[1]>1){switch(A){case 0:T+=" ui-datepicker-group-first";S=" ui-corner-"+(j?"right":"left");break;case G[1]-1:T+=" ui-datepicker-group-last";S=" ui-corner-"+(j?"left":"right");break;default:T+=" ui-datepicker-group-middle";S="";break}}T+="'>"}T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&_===0?j?a:i:"")+(/all|right/.test(S)&&_===0?j?i:a:"")+this._generateMonthYearHeader(e,J,ee,Z,Q,_>0||A>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";M=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(w=0;w<7;w++){k=(w+u)%7;M+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+f[k]+"'>"+d[k]+"</span></th>"}T+=M+"</tr></thead><tbody>";D=this._getDaysInMonth(ee,J);if(ee===e.selectedYear&&J===e.selectedMonth){e.selectedDay=Math.min(e.selectedDay,D)}L=(this._getFirstDayOfMonth(ee,J)-u+7)%7;R=Math.ceil((L+D)/7);F=Y?this.maxRows>R?this.maxRows:R:R;this.maxRows=F;P=this._daylightSavingAdjust(new Date(ee,J,1-L));for(I=0;I<F;I++){T+="<tr>";N=!h?"":"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>";for(w=0;w<7;w++){O=g?g.apply(e.input?e.input[0]:null,[P]):[true,""];B=P.getMonth()!==J;z=B&&!b||!O[0]||Z&&P<Z||Q&&P>Q;N+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(P.getTime()===C.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===P.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+O[1]+(P.getTime()===K.getTime()?" "+this._currentClass:"")+(P.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+((!B||v)&&O[2]?" title='"+O[2].replace(/'/g,"&#39;")+"'":"")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===H.getTime()?" ui-state-highlight":"")+(P.getTime()===K.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>";P.setDate(P.getDate()+1);P=this._daylightSavingAdjust(P)}T+=N+"</tr>"}J++;if(J>11){J=0;ee++}T+="</tbody></table>"+(Y?"</div>"+(G[0]>0&&A===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");E+=T}x+=E}x+=c;e._keyEvent=false;return x},_generateMonthYearHeader:function(e,t,n,i,r,a,o,s){var l,c,u,h,f,d,p,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",x="";if(a||!g){x+="<span class='ui-datepicker-month'>"+o[t]+"</span>"}else{l=i&&i.getFullYear()===n;c=r&&r.getFullYear()===n;x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(u=0;u<12;u++){if((!l||u>=i.getMonth())&&(!c||u<=r.getMonth())){x+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>"}}x+="</select>"}if(!b){y+=x+(a||!(g&&v)?"&#xa0;":"")}if(!e.yearshtml){e.yearshtml="";if(a||!v){y+="<span class='ui-datepicker-year'>"+n+"</span>"}else{h=this._get(e,"yearRange").split(":");f=(new Date).getFullYear();d=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10);return isNaN(t)?f:t};p=d(h[0]);m=Math.max(p,d(h[1]||""));p=i?Math.max(p,i.getFullYear()):p;m=r?Math.min(m,r.getFullYear()):m;e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;p<=m;p++){e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>"}e.yearshtml+="</select>";y+=e.yearshtml;e.yearshtml=null}}y+=this._get(e,"yearSuffix");if(b){y+=(a||!(g&&v)?"&#xa0;":"")+x}y+="</div>";return y},_adjustInstDate:function(e,t,n){var i=e.selectedYear+(n==="Y"?t:0),r=e.selectedMonth+(n==="M"?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+(n==="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,a)));e.selectedDay=o.getDate();e.drawMonth=e.selectedMonth=o.getMonth();e.drawYear=e.selectedYear=o.getFullYear();if(n==="M"||n==="Y"){this._notifyChange(e)}},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");if(t){t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])}},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t==="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));if(t<0){a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth()))}return this._isInRange(e,a)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,s=null,l=this._get(e,"yearRange");if(l){n=l.split(":");i=(new Date).getFullYear();o=parseInt(n[0],10);s=parseInt(n[1],10);if(n[0].match(/[+\-].*/)){o+=i}if(n[1].match(/[+\-].*/)){s+=i}}return(!r||t.getTime()>=r.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");t=typeof t!=="string"?t:(new Date).getFullYear()%100+parseInt(t,10);return{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){if(!t){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var r=t?typeof t==="object"?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}});function U(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",t,function(){S(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){S(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){S(this).removeClass("ui-datepicker-next-hover")}}).on("mouseover",t,H)}function H(){if(!S.datepicker._isDisabledDatepicker(O.inline?O.dpDiv.parent()[0]:O.input[0])){S(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");S(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){S(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){S(this).addClass("ui-datepicker-next-hover")}}}function j(e,t){S.extend(e,t);for(var n in t){if(t[n]==null){e[n]=t[n]}}return e}S.fn.datepicker=function(e){if(!this.length){return this}if(!S.datepicker.initialized){S(document).on("mousedown",S.datepicker._checkExternalClick);S.datepicker.initialized=true}if(S("#"+S.datepicker._mainDivId).length===0){S("body").append(S.datepicker.dpDiv)}var t=Array.prototype.slice.call(arguments,1);if(typeof e==="string"&&(e==="isDisabled"||e==="getDate"||e==="widget")){return S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this[0]].concat(t))}if(e==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this[0]].concat(t))}return this.each(function(){typeof e==="string"?S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this].concat(t)):S.datepicker._attachDatepicker(this,e)})};S.datepicker=new z;S.datepicker.initialized=false;S.datepicker.uuid=(new Date).getTime();S.datepicker.version="1.12.1";var $=S.datepicker;S.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:true,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:true,closeText:"Close",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=S(this).css(e).offset().top;if(t<0){S(this).css("top",e.top-t)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");if(this.options.title==null&&this.originalTitle!=null){this.options.title=this.originalTitle}if(this.options.disabled){this.options.disabled=false}this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();if(this.options.draggable&&S.fn.draggable){this._makeDraggable()}if(this.options.resizable&&S.fn.resizable){this._makeResizable()}this._isOpen=false;this._trackFocus()},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var e=this.options.appendTo;if(e&&(e.jquery||e.nodeType)){return S(e)}return this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}e=t.parent.children().eq(t.index);if(e.length&&e[0]!==this.element[0]){e.before(this.element)}else{t.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:S.noop,enable:S.noop,close:function(e){var t=this;if(!this._isOpen||this._trigger("beforeClose",e)===false){return}this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").trigger("focus").length){S.ui.safeBlur(S.ui.safeActiveElement(this.document[0]))}this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=false,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+S(this).css("z-index")}).get(),r=Math.max.apply(null,i);if(r>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",r+1);n=true}if(n&&!t){this._trigger("focus",e)}return n},open:function(){var e=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=S(S.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1)}this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;if(!e){e=this.element.find("[autofocus]")}if(!e.length){e=this.element.find(":tabbable")}if(!e.length){e=this.uiDialogButtonPane.find(":tabbable")}if(!e.length){e=this.uiDialogTitlebarClose.filter(":tabbable")}if(!e.length){e=this.uiDialog}e.eq(0).trigger("focus")},_keepFocus:function(e){function t(){var e=S.ui.safeActiveElement(this.document[0]),t=this.uiDialog[0]===e||S.contains(this.uiDialog[0],e);if(!t){this._focusTabbable()}}e.preventDefault();t.call(this);this._delay(t)},_createWrapper:function(){this.uiDialog=S("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===S.ui.keyCode.ESCAPE){e.preventDefault();this.close(e);return}if(e.keyCode!==S.ui.keyCode.TAB||e.isDefaultPrevented()){return}var t=this.uiDialog.find(":tabbable"),n=t.filter(":first"),i=t.filter(":last");if((e.target===i[0]||e.target===this.uiDialog[0])&&!e.shiftKey){this._delay(function(){n.trigger("focus")});e.preventDefault()}else if((e.target===n[0]||e.target===this.uiDialog[0])&&e.shiftKey){this._delay(function(){i.trigger("focus")});e.preventDefault()}},mousedown:function(e){if(this._moveToTop(e)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var e;this.uiDialogTitlebar=S("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(e){if(!S(e.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.trigger("focus")}}});this.uiDialogTitlebarClose=S("<button type='button'></button>").button({label:S("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault();this.close(e)}});e=S("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(e,"ui-dialog-title");this._title(e);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){if(this.options.title){e.text(this.options.title)}else{e.html("&#160;")}},_createButtonPane:function(){this.uiDialogButtonPane=S("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=S("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var r=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(S.isEmptyObject(e)||S.isArray(e)&&!e.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}S.each(e,function(e,t){var n,i;t=S.isFunction(t)?{click:t,text:e}:t;t=S.extend({type:"button"},t);n=t.click;i={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel,icons:t.icons,text:t.text};delete t.click;delete t.icon;delete t.iconPosition;delete t.showLabel;delete t.icons;if(typeof t.text==="boolean"){delete t.text}S("<button></button>",t).button(i).appendTo(r.uiButtonSet).on("click",function(){n.apply(r.element[0],arguments)})});this._addClass(this.uiDialog,"ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var r=this,a=this.options;function o(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){r._addClass(S(this),"ui-dialog-dragging");r._blockFrames();r._trigger("dragStart",e,o(t))},drag:function(e,t){r._trigger("drag",e,o(t))},stop:function(e,t){var n=t.offset.left-r.document.scrollLeft(),i=t.offset.top-r.document.scrollTop();a.position={my:"left top",at:"left"+(n>=0?"+":"")+n+" "+"top"+(i>=0?"+":"")+i,of:r.window};r._removeClass(S(this),"ui-dialog-dragging");r._unblockFrames();r._trigger("dragStop",e,o(t))}})},_makeResizable:function(){var a=this,o=this.options,e=o.resizable,t=this.uiDialog.css("position"),n=typeof e==="string"?e:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,t){a._addClass(S(this),"ui-dialog-resizing");a._blockFrames();a._trigger("resizeStart",e,s(t))},resize:function(e,t){a._trigger("resize",e,s(t))},stop:function(e,t){var n=a.uiDialog.offset(),i=n.left-a.document.scrollLeft(),r=n.top-a.document.scrollTop();o.height=a.uiDialog.height();o.width=a.uiDialog.width();o.position={my:"left top",at:"left"+(i>=0?"+":"")+i+" "+"top"+(r>=0?"+":"")+r,of:a.window};a._removeClass(S(this),"ui-dialog-resizing");a._unblockFrames();a._trigger("resizeStop",e,s(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget();this._focusedElement=S(e.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=S.inArray(this,e);if(t!==-1){e.splice(t,1)}},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");if(!e){e=[];this.document.data("ui-dialog-instances",e)}return e},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!e){this.uiDialog.hide()}},_setOptions:function(e){var n=this,i=false,r={};S.each(e,function(e,t){n._setOption(e,t);if(e in n.sizeRelatedOptions){i=true}if(e in n.resizableRelatedOptions){r[e]=t}});if(i){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",r)}},_setOption:function(e,t){var n,i,r=this.uiDialog;if(e==="disabled"){return}this._super(e,t);if(e==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(e==="buttons"){this._createButtons()}if(e==="closeText"){this.uiDialogTitlebarClose.button({label:S("<a>").text(""+this.options.closeText).html()})}if(e==="draggable"){n=r.is(":data(ui-draggable)");if(n&&!t){r.draggable("destroy")}if(!n&&t){this._makeDraggable()}}if(e==="position"){this._position()}if(e==="resizable"){i=r.is(":data(ui-resizable)");if(i&&!t){r.resizable("destroy")}if(i&&typeof t==="string"){r.resizable("option","handles",t)}if(!i&&t!==false){this._makeResizable()}}if(e==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(i.minWidth>i.width){i.width=i.minWidth}e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight();t=Math.max(0,i.minHeight-e);n=typeof i.maxHeight==="number"?Math.max(0,i.maxHeight-e):"none";if(i.height==="auto"){this.element.css({minHeight:t,maxHeight:n,height:"auto"})}else{this.element.height(Math.max(0,i.height-e))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=S(this);return S("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(e){if(S(e.target).closest(".ui-dialog").length){return true}return!!S(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var t=true;this._delay(function(){t=false});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(e){if(t){return}if(!this._allowInteraction(e)){e.preventDefault();this._trackingInstances()[0]._focusTabbable()}}})}this.overlay=S("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){var e=this.document.data("ui-dialog-overlays")-1;if(!e){this._off(this.document,"focusin");this.document.removeData("ui-dialog-overlays")}else{this.document.data("ui-dialog-overlays",e)}this.overlay.remove();this.overlay=null}}});if(S.uiBackCompat!==false){S.widget("ui.dialog",S.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){if(e==="dialogClass"){this.uiDialog.removeClass(this.options.dialogClass).addClass(t)}this._superApply(arguments)}})}var W=S.ui.dialog;var V=S.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=S("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(e){if(e===undefined){return this.options.value}this.options.value=this._constrainedValue(e);this._refreshValue()},_constrainedValue:function(e){if(e===undefined){e=this.options.value}this.indeterminate=e===false;if(typeof e!=="number"){e=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value;this._super(e);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(e,t){if(e==="max"){t=Math.max(this.min,t)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",e);this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(t.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=S("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay")}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==e){this.oldValue=e;this._trigger("change")}if(e===this.options.max){this._trigger("complete")}}});var G=S.widget("ui.selectmenu",[S.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=S()},_drawButton:function(){var e,t=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(e){this.button.focus();e.preventDefault()}});this.element.hide();this.button=S("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");e=S("<span>").appendTo(this.button);this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(n).appendTo(this.button);if(this.options.width!==false){this._resizeButton()}this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){if(!t._rendered){t._refreshMenu()}})},_drawMenu:function(){var i=this;this.menu=S("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=S("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,t){e.preventDefault();i._setSelection();i._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){var n=t.item.data("ui-selectmenu-item");if(i.focusIndex!=null&&n.index!==i.focusIndex){i._trigger("focus",e,{item:n});if(!i.isOpen){i._select(n,e)}}i.focusIndex=n.index;i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false};this.menuInstance._isDivider=function(){return false}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));if(this.options.width===null){this._resizeButton()}},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty();this._parseOptions(t);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=true;if(!t.length){return}e=this._getSelectedItem();this.menuInstance.focus(null,e);this._setAria(e.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"))},open:function(e){if(this.options.disabled){return}if(!this._rendered){this._refreshMenu()}else{this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active");this.menuInstance.focus(null,this._getSelectedItem())}if(!this.menuItems.length){return}this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",e)},_position:function(){this.menuWrap.position(S.extend({of:this.button},this.options.position))},close:function(e){if(!this.isOpen){return}this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",e)},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var t=S("<span>");this._setText(t,e.label);this._addClass(t,"ui-selectmenu-text");return t},_renderMenu:function(i,e){var r=this,a="";S.each(e,function(e,t){var n;if(t.optgroup!==a){n=S("<li>",{text:t.optgroup});r._addClass(n,"ui-selectmenu-optgroup","ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""));n.appendTo(i);a=t.optgroup}r._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var n=S("<li>"),i=S("<div>",{title:t.element.attr("title")});if(t.disabled){this._addClass(n,null,"ui-state-disabled")}this._setText(i,t.label);return n.append(i).appendTo(e)},_setText:function(e,t){if(t){e.text(t)}else{e.html("&#160;")}},_move:function(e,t){var n,i,r=".ui-menu-item";if(this.isOpen){n=this.menuItems.eq(this.focusIndex).parent("li")}else{n=this.menuItems.eq(this.element[0].selectedIndex).parent("li");r+=":not(.ui-state-disabled)"}if(e==="first"||e==="last"){i=n[e==="first"?"prevAll":"nextAll"](r).eq(-1)}else{i=n[e+"All"](r).eq(0)}if(i.length){this.menuInstance.focus(t,i)}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;if(!this.range){return}if(window.getSelection){e=window.getSelection();e.removeAllRanges();e.addRange(this.range)}else{this.range.select()}this.button.focus()},_documentClick:{mousedown:function(e){if(!this.isOpen){return}if(!S(e.target).closest(".ui-selectmenu-menu, #"+S.ui.escapeSelector(this.ids.button)).length){this.close(e)}}},_buttonEvents:{mousedown:function(){var e;if(window.getSelection){e=window.getSelection();if(e.rangeCount){this.range=e.getRangeAt(0)}}else{this.range=document.selection.createRange()}},click:function(e){this._setSelection();this._toggle(e)},keydown:function(e){var t=true;switch(e.keyCode){case S.ui.keyCode.TAB:case S.ui.keyCode.ESCAPE:this.close(e);t=false;break;case S.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(e)}break;case S.ui.keyCode.UP:if(e.altKey){this._toggle(e)}else{this._move("prev",e)}break;case S.ui.keyCode.DOWN:if(e.altKey){this._toggle(e)}else{this._move("next",e)}break;case S.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(e)}else{this._toggle(e)}break;case S.ui.keyCode.LEFT:this._move("prev",e);break;case S.ui.keyCode.RIGHT:this._move("next",e);break;case S.ui.keyCode.HOME:case S.ui.keyCode.PAGE_UP:this._move("first",e);break;case S.ui.keyCode.END:case S.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e);t=false}if(t){e.preventDefault()}}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");if(!t.hasClass("ui-state-disabled")){this._select(t.data("ui-selectmenu-item"),e)}},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e));this._setAria(e);this._trigger("select",t,{item:e});if(e.index!==n){this._trigger("change",t,{item:e})}this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if(e==="icons"){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t);if(e==="appendTo"){this.menuWrap.appendTo(this._appendTo())}if(e==="width"){this._resizeButton()}},_setOptionDisabled:function(e){this._super(e);this.menuInstance.option("disabled",e);this.button.attr("aria-disabled",e);this._toggleClass(this.button,null,"ui-state-disabled",e);this.element.prop("disabled",e);if(e){this.button.attr("tabindex",-1);this.close()}else{this.button.attr("tabindex",0)}},_appendTo:function(){var e=this.options.appendTo;if(e){e=e.jquery||e.nodeType?S(e):this.document.find(e).eq(0)}if(!e||!e[0]){e=this.element.closest(".ui-front, dialog")}if(!e.length){e=this.document[0].body}return e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(e===false){this.button.css("width","");return}if(e===null){e=this.element.show().outerWidth();this.element.hide()}this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();e.disabled=this.element.prop("disabled");return e},_parseOptions:function(e){var n=this,i=[];e.each(function(e,t){i.push(n._parseOption(S(t),e))});this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);var q=S.widget("ui.slider",S.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var e,t,n=this.options,i=this.element.find(".ui-slider-handle"),r="<span tabindex='0'></span>",a=[];t=n.values&&n.values.length||1;if(i.length>t){i.slice(t).remove();i=i.slice(0,t)}for(e=i.length;e<t;e++){a.push(r)}this.handles=i.add(S(a.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(e){S(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;if(e.range){if(e.range===true){if(!e.values){e.values=[this._valueMin(),this._valueMin()]}else if(e.values.length&&e.values.length!==2){e.values=[e.values[0],e.values[0]]}else if(S.isArray(e.values)){e.values=e.values.slice(0)}}if(!this.range||!this.range.length){this.range=S("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range")}else{this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({left:"",bottom:""})}if(e.range==="min"||e.range==="max"){this._addClass(this.range,"ui-slider-range-"+e.range)}}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this._mouseDestroy()},_mouseCapture:function(e){var t,n,i,r,a,o,s,l,c=this,u=this.options;if(u.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();t={x:e.pageX,y:e.pageY};n=this._normValueFromMouse(t);i=this._valueMax()-this._valueMin()+1;this.handles.each(function(e){var t=Math.abs(n-c.values(e));if(i>t||i===t&&(e===c._lastChangedValue||c.values(e)===u.min)){i=t;r=S(this);a=e}});o=this._start(e,a);if(o===false){return false}this._mouseSliding=true;this._handleIndex=a;this._addClass(r,null,"ui-state-active");r.trigger("focus");s=r.offset();l=!S(e.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-r.width()/2,top:e.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(e,a,n)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);this._slide(e,this._handleIndex,n);return false},_mouseStop:function(e){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,a;if(this.orientation==="horizontal"){t=this.elementSize.width;n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{t=this.elementSize.height;n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}i=n/t;if(i>1){i=1}if(i<0){i=0}if(this.orientation==="vertical"){i=1-i}r=this._valueMax()-this._valueMin();a=this._valueMin()+i*r;return this._trimAlignValue(a)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:t!==undefined?t:this.value()};if(this._hasMultipleValues()){i.value=t!==undefined?t:this.values(e);i.values=n||this.values()}return i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r,a=this.value(),o=this.values();if(this._hasMultipleValues()){r=this.values(t?0:1);a=this.values(t);if(this.options.values.length===2&&this.options.range===true){n=t===0?Math.min(r,n):Math.max(r,n)}o[t]=n}if(n===a){return}i=this._trigger("slide",e,this._uiHash(t,n,o));if(i===false){return}if(this._hasMultipleValues()){this.values(t,n)}else{this.value(n)}},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=t;this._trigger("change",e,this._uiHash(t))}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,t){var n,i,r;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(t);this._refreshValue();this._change(null,e);return}if(arguments.length){if(S.isArray(arguments[0])){n=this.options.values;i=arguments[0];for(r=0;r<n.length;r+=1){n[r]=this._trimAlignValue(i[r]);this._change(null,r)}this._refreshValue()}else{if(this._hasMultipleValues()){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,t){var n,i=0;if(e==="range"&&this.options.range===true){if(t==="min"){this.options.value=this._values(0);this.options.values=null}else if(t==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}if(S.isArray(this.options.values)){i=this.options.values.length}this._super(e,t);switch(e){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();if(this.options.range){this._refreshRange(t)}this.handles.css(t==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(n=i-1;n>=0;n--){this._change(null,n)}this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_setOptionDisabled:function(e){this._super(e);this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var t,n,i;if(arguments.length){t=this.options.values[e];t=this._trimAlignValue(t);return t}else if(this._hasMultipleValues()){n=this.options.values.slice();for(i=0;i<n.length;i+=1){n[i]=this._trimAlignValue(n[i])}return n}else{return[]}},_trimAlignValue:function(e){if(e<=this._valueMin()){return this._valueMin()}if(e>=this._valueMax()){return this._valueMax()}var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;if(Math.abs(n)*2>=t){i+=n>0?t:-t}return parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.round((e-t)/n)*n;e=i+t;if(e>this.options.max){e-=n}this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);if(this.options.min!==null){e=Math.max(e,this._precisionOf(this.options.min))}return e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){if(e==="vertical"){this.range.css({width:"",left:""})}if(e==="horizontal"){this.range.css({height:"",bottom:""})}},_refreshValue:function(){var t,n,e,i,r,a=this.options.range,o=this.options,s=this,l=!this._animateOff?o.animate:false,c={};if(this._hasMultipleValues()){this.handles.each(function(e){n=(s.values(e)-s._valueMin())/(s._valueMax()-s._valueMin())*100;c[s.orientation==="horizontal"?"left":"bottom"]=n+"%";S(this).stop(1,1)[l?"animate":"css"](c,o.animate);if(s.options.range===true){if(s.orientation==="horizontal"){if(e===0){s.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},o.animate)}if(e===1){s.range[l?"animate":"css"]({width:n-t+"%"},{queue:false,duration:o.animate})}}else{if(e===0){s.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},o.animate)}if(e===1){s.range[l?"animate":"css"]({height:n-t+"%"},{queue:false,duration:o.animate})}}}t=n})}else{e=this.value();i=this._valueMin();r=this._valueMax();n=r!==i?(e-i)/(r-i)*100:0;c[this.orientation==="horizontal"?"left":"bottom"]=n+"%";this.handle.stop(1,1)[l?"animate":"css"](c,o.animate);if(a==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},o.animate)}if(a==="max"&&this.orientation==="horizontal"){this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},o.animate)}if(a==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},o.animate)}if(a==="max"&&this.orientation==="vertical"){this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},o.animate)}}},_handleEvents:{keydown:function(e){var t,n,i,r,a=S(e.target).data("ui-slider-handle-index");switch(e.keyCode){case S.ui.keyCode.HOME:case S.ui.keyCode.END:case S.ui.keyCode.PAGE_UP:case S.ui.keyCode.PAGE_DOWN:case S.ui.keyCode.UP:case S.ui.keyCode.RIGHT:case S.ui.keyCode.DOWN:case S.ui.keyCode.LEFT:e.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass(S(e.target),null,"ui-state-active");t=this._start(e,a);if(t===false){return}}break}r=this.options.step;if(this._hasMultipleValues()){n=i=this.values(a)}else{n=i=this.value()}switch(e.keyCode){case S.ui.keyCode.HOME:i=this._valueMin();break;case S.ui.keyCode.END:i=this._valueMax();break;case S.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case S.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case S.ui.keyCode.UP:case S.ui.keyCode.RIGHT:if(n===this._valueMax()){return}i=this._trimAlignValue(n+r);break;case S.ui.keyCode.DOWN:case S.ui.keyCode.LEFT:if(n===this._valueMin()){return}i=this._trimAlignValue(n-r);break}this._slide(e,a,i)},keyup:function(e){var t=S(e.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(e,t);this._change(e,t);this._removeClass(S(e.target),null,"ui-state-active")}}}});function X(t){return function(){var e=this.element.val();t.apply(this,arguments);this._refresh();if(e!==this.element.val()){this._trigger("change")}}}S.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true)}this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i=this._super();var r=this.element;S.each(["min","max","step"],function(e,t){var n=r.attr(t);if(n!=null&&n.length){i[t]=n}});return i},_events:{keydown:function(e){if(this._start(e)&&this._keydown(e)){e.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",e)}},mousewheel:function(e,t){if(!t){return}if(!this.spinning&&!this._start(e)){return false}this._spin((t>0?1:-1)*this.options.step,e);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(e)}},100);e.preventDefault()},"mousedown .ui-spinner-button":function(e){var t;t=this.element[0]===S.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function n(){var e=this.element[0]===S.ui.safeActiveElement(this.document[0]);if(!e){this.element.trigger("focus");this.previous=t;this._delay(function(){this.previous=t})}}e.preventDefault();n.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;n.call(this)});if(this._start(e)===false){return}this._repeat(null,S(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(!S(e.currentTarget).hasClass("ui-state-active")){return}if(this._start(e)===false){return false}this._repeat(null,S(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",true).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:false});this.buttons.last().button({icon:this.options.icons.down,showLabel:false});if(this.buttons.height()>Math.ceil(this.uiSpinner.height()*.5)&&this.uiSpinner.height()>0){this.uiSpinner.height(this.uiSpinner.height())}},_keydown:function(e){var t=this.options,n=S.ui.keyCode;switch(e.keyCode){case n.UP:this._repeat(null,1,e);return true;case n.DOWN:this._repeat(null,-1,e);return true;case n.PAGE_UP:this._repeat(null,t.page,e);return true;case n.PAGE_DOWN:this._repeat(null,-t.page,e);return true}return false},_start:function(e){if(!this.spinning&&this._trigger("start",e)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(e,t,n){e=e||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,n)},e);this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;if(!this.counter){this.counter=1}n=this._adjustValue(n+e*this._increment(this.counter));if(!this.spinning||this._trigger("spin",t,{value:n})!==false){this._value(n);this.counter++}},_increment:function(e){var t=this.options.incremental;if(t){return S.isFunction(t)?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1)}return 1},_precision:function(){var e=this._precisionOf(this.options.step);if(this.options.min!==null){e=Math.max(e,this._precisionOf(this.options.min))}return e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;t=i.min!==null?i.min:0;n=e-t;n=Math.round(n/i.step)*i.step;e=t+n;e=parseFloat(e.toFixed(this._precision()));if(i.max!==null&&e>i.max){return i.max}if(i.min!==null&&e<i.min){return i.min}return e},_stop:function(e){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",e)},_setOption:function(e,t){var n,i,r;if(e==="culture"||e==="numberFormat"){n=this._parse(this.element.val());this.options[e]=t;this.element.val(this._format(n));return}if(e==="max"||e==="min"||e==="step"){if(typeof t==="string"){t=this._parse(t)}}if(e==="icons"){i=this.buttons.first().find(".ui-icon");this._removeClass(i,null,this.options.icons.up);this._addClass(i,null,t.up);r=this.buttons.last().find(".ui-icon");this._removeClass(r,null,this.options.icons.down);this._addClass(r,null,t.down)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e);this.element.prop("disabled",!!e);this.buttons.button(e?"disable":"enable")},_setOptions:X(function(e){this._super(e)}),_parse:function(e){if(typeof e==="string"&&e!==""){e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e}return e===""||isNaN(e)?null:e},_format:function(e){if(e===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();if(e===null){return false}return e===this._adjustValue(e)},_value:function(e,t){var n;if(e!==""){n=this._parse(e);if(n!==null){if(!t){n=this._adjustValue(n)}e=this._format(n)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.prop("disabled",false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:X(function(e){this._stepUp(e)}),_stepUp:function(e){if(this._start()){this._spin((e||1)*this.options.step);this._stop()}},stepDown:X(function(e){this._stepDown(e)}),_stepDown:function(e){if(this._start()){this._spin((e||1)*-this.options.step);this._stop()}},pageUp:X(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:X(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length){return this._parse(this.element.val())}X(this._value).call(this,e)},widget:function(){return this.uiSpinner}});if(S.uiBackCompat!==false){S.widget("ui.spinner",S.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}})}var Y=S.ui.spinner;S.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var i=/#.*$/;return function(e){var t,n;t=e.href.replace(i,"");n=location.href.replace(i,"");try{t=decodeURIComponent(t)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return e.hash.length>1&&t===n}}(),_create:function(){var t=this,e=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,e.collapsible);this._processTabs();e.active=this._initialActive();if(S.isArray(e.disabled)){e.disabled=S.unique(e.disabled.concat(S.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(e.active)}else{this.active=S()}this._refresh();if(this.active.length){this.load(e.active)}},_initialActive:function(){var n=this.options.active,e=this.options.collapsible,i=location.hash.substring(1);if(n===null){if(i){this.tabs.each(function(e,t){if(S(t).attr("aria-controls")===i){n=e;return false}})}if(n===null){n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(n===null||n===-1){n=this.tabs.length?0:false}}if(n!==false){n=this.tabs.index(this.tabs.eq(n));if(n===-1){n=e?false:0}}if(!e&&n===false&&this.anchors.length){n=0}return n},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?S():this._getPanelForTab(this.active)}},_tabKeydown:function(e){var t=S(S.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(t),i=true;if(this._handlePageNav(e)){return}switch(e.keyCode){case S.ui.keyCode.RIGHT:case S.ui.keyCode.DOWN:n++;break;case S.ui.keyCode.UP:case S.ui.keyCode.LEFT:i=false;n--;break;case S.ui.keyCode.END:n=this.anchors.length-1;break;case S.ui.keyCode.HOME:n=0;break;case S.ui.keyCode.SPACE:e.preventDefault();clearTimeout(this.activating);this._activate(n);return;case S.ui.keyCode.ENTER:e.preventDefault();clearTimeout(this.activating);this._activate(n===this.options.active?false:n);return;default:return}e.preventDefault();clearTimeout(this.activating);n=this._focusNextTab(n,i);if(!e.ctrlKey&&!e.metaKey){t.attr("aria-selected","false");this.tabs.eq(n).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",n)},this.delay)}},_panelKeydown:function(e){if(this._handlePageNav(e)){return}if(e.ctrlKey&&e.keyCode===S.ui.keyCode.UP){e.preventDefault();this.active.trigger("focus")}},_handlePageNav:function(e){if(e.altKey&&e.keyCode===S.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(e.altKey&&e.keyCode===S.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(e,t){var n=this.tabs.length-1;function i(){if(e>n){e=0}if(e<0){e=n}return e}while(S.inArray(i(),this.options.disabled)!==-1){e=t?e+1:e-1}return e},_focusNextTab:function(e,t){e=this._findNextTab(e,t);this.tabs.eq(e).trigger("focus");return e},_setOption:function(e,t){if(e==="active"){this._activate(t);return}this._super(e,t);if(e==="collapsible"){this._toggleClass("ui-tabs-collapsible",null,t);if(!t&&this.options.active===false){this._activate(0)}}if(e==="event"){this._setupEvents(t)}if(e==="heightStyle"){this._setupHeightStyle(t)}},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=S.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)});this._processTabs();if(e.active===false||!this.anchors.length){e.active=false;this.active=S()}else if(this.active.length&&!S.contains(this.tablist[0],this.active[0])){if(this.tabs.length===e.disabled.length){e.active=false;this.active=S()}else{this._activate(this._findNextTab(Math.max(0,e.active-1),false))}}else{e.active=this.tabs.index(this.active)}this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){if(S(this).is(".ui-state-disabled")){e.preventDefault()}}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){if(S(this).closest("li").is(".ui-state-disabled")){this.blur()}});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return S("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=S();this.anchors.each(function(e,t){var n,i,r,a=S(t).uniqueId().attr("id"),o=S(t).closest("li"),s=o.attr("aria-controls");if(l._isLocal(t)){n=t.hash;r=n.substring(1);i=l.element.find(l._sanitizeSelector(n))}else{r=o.attr("aria-controls")||S({}).uniqueId()[0].id;n="#"+r;i=l.element.find(n);if(!i.length){i=l._createPanel(r);i.insertAfter(l.panels[e-1]||l.tablist)}i.attr("aria-live","polite")}if(i.length){l.panels=l.panels.add(i)}if(s){o.data("ui-tabs-aria-controls",s)}o.attr({"aria-controls":r,"aria-labelledby":a});i.attr("aria-labelledby",a)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(e){this._off(e.not(this.tabs));this._off(t.not(this.anchors));this._off(n.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return S("<div>").attr("id",e).data("ui-tabs-destroy",true)},_setOptionDisabled:function(e){var t,n,i;if(S.isArray(e)){if(!e.length){e=false}else if(e.length===this.anchors.length){e=true}}for(i=0;n=this.tabs[i];i++){t=S(n);if(e===true||S.inArray(i,e)!==-1){t.attr("aria-disabled","true");this._addClass(t,null,"ui-state-disabled")}else{t.removeAttr("aria-disabled");this._removeClass(t,null,"ui-state-disabled")}}this.options.disabled=e;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===true)},_setupEvents:function(e){var n={};if(e){S.each(e.split(" "),function(e,t){n[t]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(e){e.preventDefault()}});this._on(this.anchors,n);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,t=this.element.parent();if(e==="fill"){n=t.height();n-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var e=S(this),t=e.css("position");if(t==="absolute"||t==="fixed"){return}n-=e.outerHeight(true)});this.element.children().not(this.panels).each(function(){n-=S(this).outerHeight(true)});this.panels.each(function(){S(this).height(Math.max(0,n-S(this).innerHeight()+S(this).height()))}).css("overflow","auto")}else if(e==="auto"){n=0;this.panels.each(function(){n=Math.max(n,S(this).height("").height())}).height(n)}},_eventHandler:function(e){var t=this.options,n=this.active,i=S(e.currentTarget),r=i.closest("li"),a=r[0]===n[0],o=a&&t.collapsible,s=o?S():this._getPanelForTab(r),l=!n.length?S():this._getPanelForTab(n),c={oldTab:n,oldPanel:l,newTab:o?S():r,newPanel:s};e.preventDefault();if(r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||a&&!t.collapsible||this._trigger("beforeActivate",e,c)===false){return}t.active=o?false:this.tabs.index(r);this.active=a?S():r;if(this.xhr){this.xhr.abort()}if(!l.length&&!s.length){S.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(s.length){this.load(this.tabs.index(r),e)}this._toggle(e,c)},_toggle:function(e,t){var n=this,i=t.newPanel,r=t.oldPanel;this.running=true;function a(){n.running=false;n._trigger("activate",e,t)}function o(){n._addClass(t.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(i.length&&n.options.show){n._show(i,n.options.show,a)}else{i.show();a()}}if(r.length&&this.options.hide){this._hide(r,this.options.hide,function(){n._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active");o()})}else{this._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active");r.hide();o()}r.attr("aria-hidden","true");t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(i.length&&r.length){t.oldTab.attr("tabIndex",-1)}else if(i.length){this.tabs.filter(function(){return S(this).attr("tabIndex")===0}).attr("tabIndex",-1)}i.attr("aria-hidden","false");t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var t,n=this._findActive(e);if(n[0]===this.active[0]){return}if(!n.length){n=this.active}t=n.find(".ui-tabs-anchor")[0];this._eventHandler({target:t,currentTarget:t,preventDefault:S.noop})},_findActive:function(e){return e===false?S():this.tabs.eq(e)},_getIndex:function(e){if(typeof e==="string"){e=this.anchors.index(this.anchors.filter("[href$='"+S.ui.escapeSelector(e)+"']"))}return e},_destroy:function(){if(this.xhr){this.xhr.abort()}this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(S.data(this,"ui-tabs-destroy")){S(this).remove()}else{S(this).removeAttr("role tabIndex "+"aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}});this.tabs.each(function(){var e=S(this),t=e.data("ui-tabs-aria-controls");if(t){e.attr("aria-controls",t).removeData("ui-tabs-aria-controls")}else{e.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(n){var e=this.options.disabled;if(e===false){return}if(n===undefined){e=false}else{n=this._getIndex(n);if(S.isArray(e)){e=S.map(e,function(e){return e!==n?e:null})}else{e=S.map(this.tabs,function(e,t){return t!==n?t:null})}}this._setOptionDisabled(e)},disable:function(e){var t=this.options.disabled;if(t===true){return}if(e===undefined){t=true}else{e=this._getIndex(e);if(S.inArray(e,t)!==-1){return}if(S.isArray(t)){t=S.merge([e],t).sort()}else{t=[e]}}this._setOptionDisabled(t)},load:function(e,i){e=this._getIndex(e);var r=this,n=this.tabs.eq(e),t=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),o={tab:n,panel:a},s=function(e,t){if(t==="abort"){r.panels.stop(false,true)}r._removeClass(n,"ui-tabs-loading");a.removeAttr("aria-busy");if(e===r.xhr){delete r.xhr}};if(this._isLocal(t[0])){return}this.xhr=S.ajax(this._ajaxSettings(t,i,o));if(this.xhr&&this.xhr.statusText!=="canceled"){this._addClass(n,"ui-tabs-loading");a.attr("aria-busy","true");this.xhr.done(function(e,t,n){setTimeout(function(){a.html(e);r._trigger("load",i,o);s(n,t)},1)}).fail(function(e,t){setTimeout(function(){s(e,t)},1)})}},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,t){return r._trigger("beforeLoad",n,S.extend({jqXHR:e,ajaxSettings:t},i))}}},_getPanelForTab:function(e){var t=S(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}});if(S.uiBackCompat!==false){S.widget("ui.tabs",S.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}})}var K=S.ui.tabs;S.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=S(this).attr("title")||"";return S("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(e,t){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(t);e.data("ui-tooltip-id",t).attr("aria-describedby",S.trim(n.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),i=S.inArray(t,n);if(i!==-1){n.splice(i,1)}e.removeData("ui-tooltip-id");n=S.trim(n.join(" "));if(n){e.attr("aria-describedby",n)}else{e.removeAttr("aria-describedby")}},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=S("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=S([])},_setOption:function(e,t){var n=this;this._super(e,t);if(e==="content"){S.each(this.tooltips,function(e,t){n._updateContent(t.element)})}},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var i=this;S.each(this.tooltips,function(e,t){var n=S.Event("blur");n.target=n.currentTarget=t.element[0];i.close(n,true)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=S(this);if(e.is("[title]")){return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}}))},_enable:function(){this.disabledTitles.each(function(){var e=S(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}});this.disabledTitles=S([])},open:function(e){var n=this,t=S(e?e.target:this.element).closest(this.options.items);if(!t.length||t.data("ui-tooltip-id")){return}if(t.attr("title")){t.data("ui-tooltip-title",t.attr("title"))}t.data("ui-tooltip-open",true);if(e&&e.type==="mouseover"){t.parents().each(function(){var e=S(this),t;if(e.data("ui-tooltip-open")){t=S.Event("blur");t.target=t.currentTarget=this;n.close(t,true)}if(e.attr("title")){e.uniqueId();n.parents[this.id]={element:this,title:e.attr("title")};e.attr("title","")}})}this._registerCloseHandlers(e,t);this._updateContent(t,e)},_updateContent:function(t,n){var e,i=this.options.content,r=this,a=n?n.type:null;if(typeof i==="string"||i.nodeType||i.jquery){return this._open(n,t,i)}e=i.call(t[0],function(e){r._delay(function(){if(!t.data("ui-tooltip-open")){return}if(n){n.type=a}this._open(n,t,e)})});if(e){this._open(n,t,e)}},_open:function(e,t,n){var i,r,a,o,s=S.extend({},this.options.position);if(!n){return}i=this._find(t);if(i){i.tooltip.find(".ui-tooltip-content").html(n);return}if(t.is("[title]")){if(e&&e.type==="mouseover"){t.attr("title","")}else{t.removeAttr("title")}}i=this._tooltip(t);r=i.tooltip;this._addDescribedBy(t,r.attr("id"));r.find(".ui-tooltip-content").html(n);this.liveRegion.children().hide();o=S("<div>").html(r.find(".ui-tooltip-content").html());o.removeAttr("name").find("[name]").removeAttr("name");o.removeAttr("id").find("[id]").removeAttr("id");o.appendTo(this.liveRegion);function l(e){s.of=e;if(r.is(":hidden")){return}r.position(s)}if(this.options.track&&e&&/^mouse/.test(e.type)){this._on(this.document,{mousemove:l});l(e)}else{r.position(S.extend({of:t},this.options.position))}r.hide();this._show(r,this.options.show);if(this.options.track&&this.options.show&&this.options.show.delay){a=this.delayedShow=setInterval(function(){if(r.is(":visible")){l(s.of);clearInterval(a)}},S.fx.interval)}this._trigger("open",e,{tooltip:r})},_registerCloseHandlers:function(e,n){var t={keyup:function(e){if(e.keyCode===S.ui.keyCode.ESCAPE){var t=S.Event(e);t.currentTarget=n[0];this.close(t,true)}}};if(n[0]!==this.element[0]){t.remove=function(){this._removeTooltip(this._find(n).tooltip)}}if(!e||e.type==="mouseover"){t.mouseleave="close"}if(!e||e.type==="focusin"){t.focusout="close"}this._on(true,n,t)},close:function(e){var t,n=this,i=S(e?e.currentTarget:this.element),r=this._find(i);if(!r){i.removeData("ui-tooltip-open");return}t=r.tooltip;if(r.closing){return}clearInterval(this.delayedShow);if(i.data("ui-tooltip-title")&&!i.attr("title")){i.attr("title",i.data("ui-tooltip-title"))}this._removeDescribedBy(i);r.hiding=true;t.stop(true);this._hide(t,this.options.hide,function(){n._removeTooltip(S(this))});i.removeData("ui-tooltip-open");this._off(i,"mouseleave focusout keyup");if(i[0]!==this.element[0]){this._off(i,"remove")}this._off(this.document,"mousemove");if(e&&e.type==="mouseleave"){S.each(this.parents,function(e,t){S(t.element).attr("title",t.title);delete n.parents[e]})}r.closing=true;this._trigger("close",e,{tooltip:t});if(!r.hiding){r.closing=false}},_tooltip:function(e){var t=S("<div>").attr("role","tooltip"),n=S("<div>").appendTo(t),i=t.uniqueId().attr("id");this._addClass(n,"ui-tooltip-content");this._addClass(t,"ui-tooltip","ui-widget ui-widget-content");t.appendTo(this._appendTo(e));return this.tooltips[i]={element:e,tooltip:t}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");if(!t.length){t=this.document[0].body}return t},_destroy:function(){var r=this;S.each(this.tooltips,function(e,t){var n=S.Event("blur"),i=t.element;n.target=n.currentTarget=i[0];r.close(n,true);S("#"+e).remove();if(i.data("ui-tooltip-title")){if(!i.attr("title")){i.attr("title",i.data("ui-tooltip-title"))}i.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});if(S.uiBackCompat!==false){S.widget("ui.tooltip",S.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);if(this.options.tooltipClass){e.tooltip.addClass(this.options.tooltipClass)}return e}})}var Z=S.ui.tooltip;var Q="ui-effects-",J="ui-effects-style",ee="ui-effects-animated",te=S;S.effects={effect:{}};(function(u,h){var e="backgroundColor borderBottomColor borderLeftColor borderRightColor "+"borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",f=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=u.Color=function(e,t,n,i){return new u.Color.fn.parse(e,t,n,i)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},o=d.support={},n=u("<p>")[0],c,g=u.each;n.style.cssText="background-color:rgba(1,1,1,.5)";o.rgba=n.style.backgroundColor.indexOf("rgba")>-1;g(p,function(e,t){t.cache="_"+e;t.props.alpha={idx:3,type:"percent",def:1}});function v(e,t,n){var i=m[t.type]||{};if(e==null){return n||!t.def?null:t.def}e=i.floor?~~e:parseFloat(e);if(isNaN(e)){return t.def}if(i.mod){return(e+i.mod)%i.mod}return 0>e?0:i.max<e?i.max:e}function s(o){var s=d(),l=s._rgba=[];o=o.toLowerCase();g(t,function(e,t){var n,i=t.re.exec(o),r=i&&t.parse(i),a=t.space||"rgba";if(r){n=s[a](r);s[p[a].cache]=n[p[a].cache];l=s._rgba=n._rgba;return false}});if(l.length){if(l.join()==="0,0,0,0"){u.extend(l,c.transparent)}return s}return c[o]}d.fn=u.extend(d.prototype,{parse:function(r,e,t,n){if(r===h){this._rgba=[null,null,null,null];return this}if(r.jquery||r.nodeType){r=u(r).css(e);e=h}var a=this,i=u.type(r),o=this._rgba=[];if(e!==h){r=[r,e,t,n];i="array"}if(i==="string"){return this.parse(s(r)||c._default)}if(i==="array"){g(p.rgba.props,function(e,t){o[t.idx]=v(r[t.idx],t)});return this}if(i==="object"){if(r instanceof d){g(p,function(e,t){if(r[t.cache]){a[t.cache]=r[t.cache].slice()}})}else{g(p,function(e,n){var i=n.cache;g(n.props,function(e,t){if(!a[i]&&n.to){if(e==="alpha"||r[e]==null){return}a[i]=n.to(a._rgba)}a[i][t.idx]=v(r[e],t,true)});if(a[i]&&u.inArray(null,a[i].slice(0,3))<0){a[i][3]=1;if(n.from){a._rgba=n.from(a[i])}}})}return this}},is:function(e){var r=d(e),a=true,o=this;g(p,function(e,t){var n,i=r[t.cache];if(i){n=o[t.cache]||t.to&&t.to(o._rgba)||[];g(t.props,function(e,t){if(i[t.idx]!=null){a=i[t.idx]===n[t.idx];return a}})}return a});return a},_space:function(){var n=[],i=this;g(p,function(e,t){if(i[t.cache]){n.push(e)}});return n.pop()},transition:function(e,o){var s=d(e),t=s._space(),n=p[t],i=this.alpha()===0?d("transparent"):this,l=i[n.cache]||n.to(i._rgba),c=l.slice();s=s[n.cache];g(n.props,function(e,t){var n=t.idx,i=l[n],r=s[n],a=m[t.type]||{};if(r===null){return}if(i===null){c[n]=r}else{if(a.mod){if(r-i>a.mod/2){i+=a.mod}else if(i-r>a.mod/2){i-=a.mod}}c[n]=v((r-i)*o+i,t)}});return this[t](c)},blend:function(e){if(this._rgba[3]===1){return this}var t=this._rgba.slice(),n=t.pop(),i=d(e)._rgba;return d(u.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=u.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});if(t[3]===1){t.pop();e="rgb("}return e+t.join()+")"},toHslaString:function(){var e="hsla(",t=u.map(this.hsla(),function(e,t){if(e==null){e=t>2?1:0}if(t&&t<3){e=Math.round(e*100)+"%"}return e});if(t[3]===1){t.pop();e="hsl("}return e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();if(e){t.push(~~(n*255))}return"#"+u.map(t,function(e){e=(e||0).toString(16);return e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});d.fn.parse.prototype=d.fn;function l(e,t,n){n=(n+1)%1;if(n*6<1){return e+(t-e)*n*6}if(n*2<1){return t}if(n*3<2){return e+(t-e)*(2/3-n)*6}return e}p.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null){return[null,null,null,e[3]]}var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=e[3],a=Math.max(t,n,i),o=Math.min(t,n,i),s=a-o,l=a+o,c=l*.5,u,h;if(o===a){u=0}else if(t===a){u=60*(n-i)/s+360}else if(n===a){u=60*(i-t)/s+120}else{u=60*(t-n)/s+240}if(s===0){h=0}else if(c<=.5){h=s/l}else{h=s/(2-l)}return[Math.round(u)%360,h,c,r==null?1:r]};p.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null){return[null,null,null,e[3]]}var t=e[0]/360,n=e[1],i=e[2],r=e[3],a=i<=.5?i*(1+n):i+n-i*n,o=2*i-a;return[Math.round(l(o,a,t+1/3)*255),Math.round(l(o,a,t)*255),Math.round(l(o,a,t-1/3)*255),r]};g(p,function(l,e){var n=e.props,o=e.cache,s=e.to,c=e.from;d.fn[l]=function(e){if(s&&!this[o]){this[o]=s(this._rgba)}if(e===h){return this[o].slice()}var t,i=u.type(e),r=i==="array"||i==="object"?e:arguments,a=this[o].slice();g(n,function(e,t){var n=r[i==="object"?e:t.idx];if(n==null){n=a[t.idx]}a[t.idx]=v(n,t)});if(c){t=d(c(a));t[o]=a;return t}else{return d(a)}};g(n,function(o,s){if(d.fn[o]){return}d.fn[o]=function(e){var t=u.type(e),n=o==="alpha"?this._hsla?"hsla":"rgba":l,i=this[n](),r=i[s.idx],a;if(t==="undefined"){return r}if(t==="function"){e=e.call(this,r);t=u.type(e)}if(e==null&&s.empty){return this}if(t==="string"){a=f.exec(e);if(a){e=r+parseFloat(a[2])*(a[1]==="+"?1:-1)}}i[s.idx]=e;return this[n](i)}})});d.hook=function(e){var t=e.split(" ");g(t,function(e,a){u.cssHooks[a]={set:function(e,t){var n,i,r="";if(t!=="transparent"&&(u.type(t)!=="string"||(n=s(t)))){t=d(n||t);if(!o.rgba&&t._rgba[3]!==1){i=a==="backgroundColor"?e.parentNode:e;while((r===""||r==="transparent")&&i&&i.style){try{r=u.css(i,"backgroundColor");i=i.parentNode}catch(e){}}t=t.blend(r&&r!=="transparent"?r:"_default")}t=t.toRgbaString()}try{e.style[a]=t}catch(e){}}};u.fx.step[a]=function(e){if(!e.colorInit){e.start=d(e.elem,a);e.end=d(e.end);e.colorInit=true}u.cssHooks[a].set(e.elem,e.start.transition(e.end,e.pos))}})};d.hook(e);u.cssHooks.borderColor={expand:function(n){var i={};g(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n});return i}};c=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(te);(function(){var o=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};S.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){S.fx.step[t]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr){te.style(e.elem,t,e.end);e.setAttr=true}}});function s(e){var t,n,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]]){n=i.length;while(n--){t=i[n];if(typeof i[t]==="string"){r[S.camelCase(t)]=i[t]}}}else{for(t in i){if(typeof i[t]==="string"){r[t]=i[t]}}}return r}function l(e,t){var n={},i,r;for(i in t){r=t[i];if(e[i]!==r){if(!a[i]){if(S.fx.step[i]||!isNaN(parseFloat(r))){n[i]=r}}}}return n}if(!S.fn.addBack){S.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}S.effects.animateClass=function(r,e,t,n){var a=S.speed(e,t,n);return this.queue(function(){var n=S(this),e=n.attr("class")||"",t,i=a.children?n.find("*").addBack():n;i=i.map(function(){var e=S(this);return{el:e,start:s(this)}});t=function(){S.each(o,function(e,t){if(r[t]){n[t+"Class"](r[t])}})};t();i=i.map(function(){this.end=s(this.el[0]);this.diff=l(this.start,this.end);return this});n.attr("class",e);i=i.map(function(){var e=this,t=S.Deferred(),n=S.extend({},a,{queue:false,complete:function(){t.resolve(e)}});this.el.animate(this.diff,n);return t.promise()});S.when.apply(S,i.get()).done(function(){t();S.each(arguments,function(){var t=this.el;S.each(this.diff,function(e){t.css(e,"")})});a.complete.call(n[0])})})};S.fn.extend({addClass:function(r){return function(e,t,n,i){return t?S.effects.animateClass.call(this,{add:e},t,n,i):r.apply(this,arguments)}}(S.fn.addClass),removeClass:function(r){return function(e,t,n,i){return arguments.length>1?S.effects.animateClass.call(this,{remove:e},t,n,i):r.apply(this,arguments)}}(S.fn.removeClass),toggleClass:function(a){return function(e,t,n,i,r){if(typeof t==="boolean"||t===undefined){if(!n){return a.apply(this,arguments)}else{return S.effects.animateClass.call(this,t?{add:e}:{remove:e},n,i,r)}}else{return S.effects.animateClass.call(this,{toggle:e},t,n,i)}}}(S.fn.toggleClass),switchClass:function(e,t,n,i,r){return S.effects.animateClass.call(this,{add:t,remove:e},n,i,r)}})})();(function(){if(S.expr&&S.expr.pseudos&&S.expr.pseudos.animated){S.expr.pseudos.animated=function(t){return function(e){return!!S(e).data(ee)||t(e)}}(S.expr.pseudos.animated)}if(S.uiBackCompat!==false){S.extend(S.effects,{save:function(e,t){var n=0,i=t.length;for(;n<i;n++){if(t[n]!==null){e.data(Q+t[n],e[0].style[t[n]])}}},restore:function(e,t){var n,i=0,r=t.length;for(;i<r;i++){if(t[i]!==null){n=e.data(Q+t[i]);e.css(t[i],n)}}},setMode:function(e,t){if(t==="toggle"){t=e.is(":hidden")?"show":"hide"}return t},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper")){return n.parent()}var i={width:n.outerWidth(true),height:n.outerHeight(true),float:n.css("float")},e=S("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}n.wrap(e);if(n[0]===r||S.contains(n[0],r)){S(r).trigger("focus")}e=n.parent();if(n.css("position")==="static"){e.css({position:"relative"});n.css({position:"relative"})}else{S.extend(i,{position:n.css("position"),zIndex:n.css("z-index")});S.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t);if(isNaN(parseInt(i[t],10))){i[t]="auto"}});n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}n.css(t);return e.css(i).show()},removeWrapper:function(e){var t=document.activeElement;if(e.parent().is(".ui-effects-wrapper")){e.parent().replaceWith(e);if(e[0]===t||S.contains(e[0],t)){S(t).trigger("focus")}}return e}})}S.extend(S.effects,{version:"1.12.1",define:function(e,t,n){if(!n){n=t;t="effect"}S.effects.effect[e]=n;S.effects.effect[e].mode=t;return n},scaledDimensions:function(e,t,n){if(t===0){return{height:0,width:0,outerHeight:0,outerWidth:0}}var i=n!=="horizontal"?(t||100)/100:1,r=n!=="vertical"?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();if(t>1){i.splice.apply(i,[1,0].concat(i.splice(t,n)))}e.dequeue()},saveStyle:function(e){e.data(J,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(J)||"";e.removeData(J)},mode:function(e,t){var n=e.is(":hidden");if(t==="toggle"){t=n?"show":"hide"}if(n?t==="hide":t==="show"){t="none"}return t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(e){var t,n=e.css("position"),i=e.position();e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight());if(/^(static|relative)/.test(n)){n="absolute";t=S("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder");e.data(Q+"placeholder",t)}e.css({position:n,left:i.left,top:i.top});return t},removePlaceholder:function(e){var t=Q+"placeholder",n=e.data(t);if(n){n.remove();e.removeData(t)}},cleanUp:function(e){S.effects.restoreStyle(e);S.effects.removePlaceholder(e)},setTransition:function(i,e,r,a){a=a||{};S.each(e,function(e,t){var n=i.cssUnit(t);if(n[0]>0){a[t]=n[0]*r+n[1]}});return a}});function u(e,t,n,i){if(S.isPlainObject(e)){t=e;e=e.effect}e={effect:e};if(t==null){t={}}if(S.isFunction(t)){i=t;n=null;t={}}if(typeof t==="number"||S.fx.speeds[t]){i=n;n=t;t={}}if(S.isFunction(n)){i=n;n=null}if(t){S.extend(e,t)}n=n||t.duration;e.duration=S.fx.off?0:typeof n==="number"?n:n in S.fx.speeds?S.fx.speeds[n]:S.fx.speeds._default;e.complete=i||t.complete;return e}function i(e){if(!e||typeof e==="number"||S.fx.speeds[e]){return true}if(typeof e==="string"&&!S.effects.effect[e]){return true}if(S.isFunction(e)){return true}if(typeof e==="object"&&!e.effect){return true}return false}S.fn.extend({effect:function(){var r=u.apply(this,arguments),a=S.effects.effect[r.effect],o=a.mode,e=r.queue,t=e||"fx",s=r.complete,l=r.mode,c=[],n=function(e){var t=S(this),n=S.effects.mode(t,l)||o;t.data(ee,true);c.push(n);if(o&&(n==="show"||n===o&&n==="hide")){t.show()}if(!o||n!=="none"){S.effects.saveStyle(t)}if(S.isFunction(e)){e()}};if(S.fx.off||!a){if(l){return this[l](r.duration,s)}else{return this.each(function(){if(s){s.call(this)}})}}function i(e){var t=S(this);function n(){t.removeData(ee);S.effects.cleanUp(t);if(r.mode==="hide"){t.hide()}i()}function i(){if(S.isFunction(s)){s.call(t[0])}if(S.isFunction(e)){e()}}r.mode=c.shift();if(S.uiBackCompat!==false&&!o){if(t.is(":hidden")?l==="hide":l==="show"){t[l]();i()}else{a.call(t[0],r,i)}}else{if(r.mode==="none"){t[l]();i()}else{a.call(t[0],r,n)}}}return e===false?this.each(n).each(i):this.queue(t,n).queue(t,i)},show:function(n){return function(e){if(i(e)){return n.apply(this,arguments)}else{var t=u.apply(this,arguments);t.mode="show";return this.effect.call(this,t)}}}(S.fn.show),hide:function(n){return function(e){if(i(e)){return n.apply(this,arguments)}else{var t=u.apply(this,arguments);t.mode="hide";return this.effect.call(this,t)}}}(S.fn.hide),toggle:function(n){return function(e){if(i(e)||typeof e==="boolean"){return n.apply(this,arguments)}else{var t=u.apply(this,arguments);t.mode="toggle";return this.effect.call(this,t)}}}(S.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];S.each(["em","px","%","pt"],function(e,t){if(n.indexOf(t)>0){i=[parseFloat(n),t]}});return i},cssClip:function(e){if(e){return this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)")}return t(this.css("clip"),this)},transfer:function(e,t){var n=S(this),i=S(e.to),r=i.css("position")==="fixed",a=S("body"),o=r?a.scrollTop():0,s=r?a.scrollLeft():0,l=i.offset(),c={top:l.top-o,left:l.left-s,height:i.innerHeight(),width:i.innerWidth()},u=n.offset(),h=S("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-o,left:u.left-s,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove();if(S.isFunction(t)){t()}})}});function t(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,a=r.exec(e)||["",0,n,i,0];return{top:parseFloat(a[1])||0,right:a[2]==="auto"?n:parseFloat(a[2]),bottom:a[3]==="auto"?i:parseFloat(a[3]),left:parseFloat(a[4])||0}}S.fx.step.clip=function(e){if(!e.clipInit){e.start=S(e.elem).cssClip();if(typeof e.end==="string"){e.end=t(e.end,e.elem)}e.clipInit=true}S(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}})();(function(){var n={};S.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){n[e]=function(e){return Math.pow(e,t+2)}});S.extend(n,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11){}return 1/Math.pow(4,3-n)-7.5625*Math.pow((t*3-2)/22-e,2)}});S.each(n,function(e,t){S.easing["easeIn"+e]=t;S.easing["easeOut"+e]=function(e){return 1-t(1-e)};S.easing["easeInOut"+e]=function(e){return e<.5?t(e*2)/2:1-t(e*-2+2)/2}})})();var ne=S.effects;var ie=S.effects.define("blind","hide",function(e,t){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},i=S(this),r=e.direction||"up",a=i.cssClip(),o={clip:S.extend({},a)},s=S.effects.createPlaceholder(i);o.clip[n[r][0]]=o.clip[n[r][1]];if(e.mode==="show"){i.cssClip(o.clip);if(s){s.css(S.effects.clipToBox(o))}o.clip=a}if(s){s.animate(S.effects.clipToBox(o),e.duration,e.easing)}i.animate(o,{queue:false,duration:e.duration,easing:e.easing,complete:t})});var re=S.effects.define("bounce",function(e,t){var n,i,r,a=S(this),o=e.mode,s=o==="hide",l=o==="show",c=e.direction||"up",u=e.distance,h=e.times||5,f=h*2+(l||s?1:0),d=e.duration/f,p=e.easing,m=c==="up"||c==="down"?"top":"left",g=c==="up"||c==="left",v=0,b=a.queue().length;S.effects.createPlaceholder(a);r=a.css(m);if(!u){u=a[m==="top"?"outerHeight":"outerWidth"]()/3}if(l){i={opacity:1};i[m]=r;a.css("opacity",0).css(m,g?-u*2:u*2).animate(i,d,p)}if(s){u=u/Math.pow(2,h-1)}i={};i[m]=r;for(;v<h;v++){n={};n[m]=(g?"-=":"+=")+u;a.animate(n,d,p).animate(i,d,p);u=s?u*2:u/2}if(s){n={opacity:0};n[m]=(g?"-=":"+=")+u;a.animate(n,d,p)}a.queue(t);S.effects.unshift(a,b,f+1)});var ae=S.effects.define("clip","hide",function(e,t){var n,i={},r=S(this),a=e.direction||"vertical",o=a==="both",s=o||a==="horizontal",l=o||a==="vertical";n=r.cssClip();i.clip={top:l?(n.bottom-n.top)/2:n.top,right:s?(n.right-n.left)/2:n.right,bottom:l?(n.bottom-n.top)/2:n.bottom,left:s?(n.right-n.left)/2:n.left};S.effects.createPlaceholder(r);if(e.mode==="show"){r.cssClip(i.clip);i.clip=n}r.animate(i,{queue:false,duration:e.duration,easing:e.easing,complete:t})});var oe=S.effects.define("drop","hide",function(e,t){var n,i=S(this),r=e.mode,a=r==="show",o=e.direction||"left",s=o==="up"||o==="down"?"top":"left",l=o==="up"||o==="left"?"-=":"+=",c=l==="+="?"-=":"+=",u={opacity:0};S.effects.createPlaceholder(i);n=e.distance||i[s==="top"?"outerHeight":"outerWidth"](true)/2;u[s]=l+n;if(a){i.css(u);u[s]=c+n;u.opacity=1}i.animate(u,{queue:false,duration:e.duration,easing:e.easing,complete:t})});var se=S.effects.define("explode","hide",function(e,t){var n,i,r,a,o,s,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=l,u=S(this),h=e.mode,f=h==="show",d=u.show().css("visibility","hidden").offset(),p=Math.ceil(u.outerWidth()/c),m=Math.ceil(u.outerHeight()/l),g=[];function v(){g.push(this);if(g.length===l*c){b()}}for(n=0;n<l;n++){a=d.top+n*m;s=n-(l-1)/2;for(i=0;i<c;i++){r=d.left+i*p;o=i-(c-1)/2;u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*p,top:-n*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:m,left:r+(f?o*p:0),top:a+(f?s*m:0),opacity:f?0:1}).animate({left:r+(f?0:o*p),top:a+(f?0:s*m),opacity:f?1:0},e.duration||500,e.easing,v)}}function b(){u.css({visibility:"visible"});S(g).remove();t()}});var le=S.effects.define("fade","toggle",function(e,t){var n=e.mode==="show";S(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:false,duration:e.duration,easing:e.easing,complete:t})});var ce=S.effects.define("fold","hide",function(t,e){var n=S(this),i=t.mode,r=i==="show",a=i==="hide",o=t.size||15,s=/([0-9]+)%/.exec(o),l=!!t.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=t.duration/2,h=S.effects.createPlaceholder(n),f=n.cssClip(),d={clip:S.extend({},f)},p={clip:S.extend({},f)},m=[f[c[0]],f[c[1]]],g=n.queue().length;if(s){o=parseInt(s[1],10)/100*m[a?0:1]}d.clip[c[0]]=o;p.clip[c[0]]=o;p.clip[c[1]]=0;if(r){n.cssClip(p.clip);if(h){h.css(S.effects.clipToBox(p))}p.clip=f}n.queue(function(e){if(h){h.animate(S.effects.clipToBox(d),u,t.easing).animate(S.effects.clipToBox(p),u,t.easing)}e()}).animate(d,u,t.easing).animate(p,u,t.easing).queue(e);S.effects.unshift(n,g,4)});var ue=S.effects.define("highlight","show",function(e,t){var n=S(this),i={backgroundColor:n.css("backgroundColor")};if(e.mode==="hide"){i.opacity=0}S.effects.saveStyle(n);n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(i,{queue:false,duration:e.duration,easing:e.easing,complete:t})});var he=S.effects.define("size",function(r,t){var e,a,n,i=S(this),o=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=r.mode,u=c!=="effect",h=r.scale||"both",f=r.origin||["middle","center"],d=i.css("position"),p=i.position(),m=S.effects.scaledDimensions(i),g=r.from||m,v=r.to||S.effects.scaledDimensions(i,0);S.effects.createPlaceholder(i);if(c==="show"){n=g;g=v;v=n}a={from:{y:g.height/m.height,x:g.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}};if(h==="box"||h==="both"){if(a.from.y!==a.to.y){g=S.effects.setTransition(i,s,a.from.y,g);v=S.effects.setTransition(i,s,a.to.y,v)}if(a.from.x!==a.to.x){g=S.effects.setTransition(i,l,a.from.x,g);v=S.effects.setTransition(i,l,a.to.x,v)}}if(h==="content"||h==="both"){if(a.from.y!==a.to.y){g=S.effects.setTransition(i,o,a.from.y,g);v=S.effects.setTransition(i,o,a.to.y,v)}}if(f){e=S.effects.getBaseline(f,m);g.top=(m.outerHeight-g.outerHeight)*e.y+p.top;g.left=(m.outerWidth-g.outerWidth)*e.x+p.left;v.top=(m.outerHeight-v.outerHeight)*e.y+p.top;v.left=(m.outerWidth-v.outerWidth)*e.x+p.left}i.css(g);if(h==="content"||h==="both"){s=s.concat(["marginTop","marginBottom"]).concat(o);l=l.concat(["marginLeft","marginRight"]);i.find("*[width]").each(function(){var e=S(this),t=S.effects.scaledDimensions(e),n={height:t.height*a.from.y,width:t.width*a.from.x,outerHeight:t.outerHeight*a.from.y,outerWidth:t.outerWidth*a.from.x},i={height:t.height*a.to.y,width:t.width*a.to.x,outerHeight:t.height*a.to.y,outerWidth:t.width*a.to.x};if(a.from.y!==a.to.y){n=S.effects.setTransition(e,s,a.from.y,n);i=S.effects.setTransition(e,s,a.to.y,i)}if(a.from.x!==a.to.x){n=S.effects.setTransition(e,l,a.from.x,n);i=S.effects.setTransition(e,l,a.to.x,i)}if(u){S.effects.saveStyle(e)}e.css(n);e.animate(i,r.duration,r.easing,function(){if(u){S.effects.restoreStyle(e)}})})}i.animate(v,{queue:false,duration:r.duration,easing:r.easing,complete:function(){var e=i.offset();if(v.opacity===0){i.css("opacity",g.opacity)}if(!u){i.css("position",d==="static"?"relative":d).offset(e);S.effects.saveStyle(i)}t()}})});var fe=S.effects.define("scale",function(e,t){var n=S(this),i=e.mode,r=parseInt(e.percent,10)||(parseInt(e.percent,10)===0?0:i!=="effect"?0:100),a=S.extend(true,{from:S.effects.scaledDimensions(n),to:S.effects.scaledDimensions(n,r,e.direction||"both"),origin:e.origin||["middle","center"]},e);if(e.fade){a.from.opacity=1;a.to.opacity=0}S.effects.effect.size.call(this,a,t)});var de=S.effects.define("puff","hide",function(e,t){var n=S.extend(true,{},e,{fade:true,percent:parseInt(e.percent,10)||150});S.effects.effect.scale.call(this,n,t)});var pe=S.effects.define("pulsate","show",function(e,t){var n=S(this),i=e.mode,r=i==="show",a=i==="hide",o=r||a,s=(e.times||5)*2+(o?1:0),l=e.duration/s,c=0,u=1,h=n.queue().length;if(r||!n.is(":visible")){n.css("opacity",0).show();c=1}for(;u<s;u++){n.animate({opacity:c},l,e.easing);c=1-c}n.animate({opacity:c},l,e.easing);n.queue(t);S.effects.unshift(n,h,s+1)});var me=S.effects.define("shake",function(e,t){var n=1,i=S(this),r=e.direction||"left",a=e.distance||20,o=e.times||3,s=o*2+1,l=Math.round(e.duration/s),c=r==="up"||r==="down"?"top":"left",u=r==="up"||r==="left",h={},f={},d={},p=i.queue().length;S.effects.createPlaceholder(i);h[c]=(u?"-=":"+=")+a;f[c]=(u?"+=":"-=")+a*2;d[c]=(u?"-=":"+=")+a*2;i.animate(h,l,e.easing);for(;n<o;n++){i.animate(f,l,e.easing).animate(d,l,e.easing)}i.animate(f,l,e.easing).animate(h,l/2,e.easing).queue(t);S.effects.unshift(i,p,s+1)});var ge=S.effects.define("slide","show",function(e,t){var n,i,r=S(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},o=e.mode,s=e.direction||"left",l=s==="up"||s==="down"?"top":"left",c=s==="up"||s==="left",u=e.distance||r[l==="top"?"outerHeight":"outerWidth"](true),h={};S.effects.createPlaceholder(r);n=r.cssClip();i=r.position()[l];h[l]=(c?-1:1)*u+i;h.clip=r.cssClip();h.clip[a[s][1]]=h.clip[a[s][0]];if(o==="show"){r.cssClip(h.clip);r.css(l,h[l]);h.clip=n;h[l]=i}r.animate(h,{queue:false,duration:e.duration,easing:e.easing,complete:t})});var ne;if(S.uiBackCompat!==false){ne=S.effects.define("transfer",function(e,t){S(this).transfer(e,t)})}var ve=ne})},{}],24:[function(e,n,t){(function(e,t){if(typeof n==="object"&&typeof n.exports==="object"){n.exports=e.document?t(e,true):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return t(e)}}else{t(e)}})(typeof window!=="undefined"?window:this,function(E,e){var t=[];var A=E.document;var u=t.slice;var m=t.concat;var s=t.push;var r=t.indexOf;var n={};var i=n.toString;var p=n.hasOwnProperty;var g={};var a="2.2.4",C=function(e,t){return new C.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi,h=function(e,t){return t.toUpperCase()};C.fn=C.prototype={jquery:a,constructor:C,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=C.merge(this.constructor(),e);t.prevObject=this;t.context=this.context;return t},each:function(e){return C.each(this,e)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice};C.extend=C.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=false;if(typeof o==="boolean"){c=o;o=arguments[s]||{};s++}if(typeof o!=="object"&&!C.isFunction(o)){o={}}if(s===l){o=this;s--}for(;s<l;s++){if((e=arguments[s])!=null){for(t in e){n=o[t];i=e[t];if(o===i){continue}if(c&&i&&(C.isPlainObject(i)||(r=C.isArray(i)))){if(r){r=false;a=n&&C.isArray(n)?n:[]}else{a=n&&C.isPlainObject(n)?n:{}}o[t]=C.extend(c,a,i)}else if(i!==undefined){o[t]=i}}}}return o};C.extend({expando:"jQuery"+(a+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return C.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!C.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if(C.type(e)!=="object"||e.nodeType||C.isWindow(e)){return false}if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype||{},"isPrototypeOf")){return false}for(t in e){}return t===undefined||p.call(e,t)},isEmptyObject:function(e){var t;for(t in e){return false}return true},type:function(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?n[i.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=C.trim(e);if(e){if(e.indexOf("use strict")===1){t=A.createElement("script");t.text=e;A.head.appendChild(t).parentNode.removeChild(t)}else{n(e)}}},camelCase:function(e){return e.replace(l,"ms-").replace(c,h)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(f(e)){n=e.length;for(;i<n;i++){if(t.call(e[i],i,e[i])===false){break}}}else{for(i in e){if(t.call(e[i],i,e[i])===false){break}}}return e},trim:function(e){return e==null?"":(e+"").replace(o,"")},makeArray:function(e,t){var n=t||[];if(e!=null){if(f(Object(e))){C.merge(n,typeof e==="string"?[e]:e)}else{s.call(n,e)}}return n},inArray:function(e,t,n){return t==null?-1:r.call(t,e,n)},merge:function(e,t){var n=+t.length,i=0,r=e.length;for(;i<n;i++){e[r++]=t[i]}e.length=r;return e},grep:function(e,t,n){var i,r=[],a=0,o=e.length,s=!n;for(;a<o;a++){i=!t(e[a],a);if(i!==s){r.push(e[a])}}return r},map:function(e,t,n){var i,r,a=0,o=[];if(f(e)){i=e.length;for(;a<i;a++){r=t(e[a],a,n);if(r!=null){o.push(r)}}}else{for(a in e){r=t(e[a],a,n);if(r!=null){o.push(r)}}}return m.apply([],o)},guid:1,proxy:function(e,t){var n,i,r;if(typeof t==="string"){n=e[t];t=e;e=n}if(!C.isFunction(e)){return undefined}i=u.call(arguments,2);r=function(){return e.apply(t||this,i.concat(u.call(arguments)))};r.guid=e.guid=e.guid||C.guid++;return r},now:Date.now,support:g});if(typeof Symbol==="function"){C.fn[Symbol.iterator]=t[Symbol.iterator]}C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});function f(e){var t=!!e&&"length"in e&&e.length,n=C.type(e);if(n==="function"||C.isWindow(e)){return false}return n==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e}var d=function(n){var e,p,x,a,r,m,h,g,w,l,c,_,E,o,A,v,s,u,b,C="sizzle"+1*new Date,y=n.document,S=0,i=0,f=ae(),d=ae(),T=ae(),M=function(e,t){if(e===t){c=true}return 0},k=1<<31,D={}.hasOwnProperty,t=[],L=t.pop,R=t.push,F=t.push,P=t.slice,I=function(e,t){var n=0,i=e.length;for(;n<i;n++){if(e[n]===t){return n}}return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",z="\\["+O+"*("+B+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+O+"*\\]",U=":("+B+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|"+".*"+")\\)|)",H=new RegExp(O+"+","g"),j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),$=new RegExp("^"+O+"*,"+O+"*"),W=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),V=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),G=new RegExp(U),q=new RegExp("^"+B+"$"),X={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)},ie=function(){_()};try{F.apply(t=P.call(y.childNodes),y.childNodes);t[y.childNodes.length].nodeType}catch(e){F={apply:t.length?function(e,t){R.apply(e,P.call(t))}:function(e,t){var n=e.length,i=0;while(e[n++]=t[i++]){}e.length=n-1}}}function re(e,t,n,i){var r,a,o,s,l,c,u,h,f=t&&t.ownerDocument,d=t?t.nodeType:9;n=n||[];if(typeof e!=="string"||!e||d!==1&&d!==9&&d!==11){return n}if(!i){if((t?t.ownerDocument||t:y)!==E){_(t)}t=t||E;if(A){if(d!==11&&(c=Q.exec(e))){if(r=c[1]){if(d===9){if(o=t.getElementById(r)){if(o.id===r){n.push(o);return n}}else{return n}}else{if(f&&(o=f.getElementById(r))&&b(t,o)&&o.id===r){n.push(o);return n}}}else if(c[2]){F.apply(n,t.getElementsByTagName(e));return n}else if((r=c[3])&&p.getElementsByClassName&&t.getElementsByClassName){F.apply(n,t.getElementsByClassName(r));return n}}if(p.qsa&&!T[e+" "]&&(!v||!v.test(e))){if(d!==1){f=t;h=e}else if(t.nodeName.toLowerCase()!=="object"){if(s=t.getAttribute("id")){s=s.replace(ee,"\\$&")}else{t.setAttribute("id",s=C)}u=m(e);a=u.length;l=q.test(s)?"#"+s:"[id='"+s+"']";while(a--){u[a]=l+" "+me(u[a])}h=u.join(",");f=J.test(e)&&de(t.parentNode)||t}if(h){try{F.apply(n,f.querySelectorAll(h));return n}catch(e){}finally{if(s===C){t.removeAttribute("id")}}}}}}return g(e.replace(j,"$1"),t,n,i)}function ae(){var n=[];function i(e,t){if(n.push(e+" ")>x.cacheLength){delete i[n.shift()]}return i[e+" "]=t}return i}function oe(e){e[C]=true;return e}function se(e){var t=E.createElement("div");try{return!!e(t)}catch(e){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--){x.attrHandle[n[i]]=t}}function ce(e,t){var n=t&&e,i=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(i){return i}if(n){while(n=n.nextSibling){if(n===t){return-1}}}return e?1:-1}function ue(n){return function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type===n}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&e.type===n}}function fe(o){return oe(function(a){a=+a;return oe(function(e,t){var n,i=o([],e.length,a),r=i.length;while(r--){if(e[n=i[r]]){e[n]=!(t[n]=e[n])}}})})}function de(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}p=re.support={};r=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};_=re.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:y;if(i===E||i.nodeType!==9||!i.documentElement){return E}E=i;o=E.documentElement;A=!r(E);if((n=E.defaultView)&&n.top!==n){if(n.addEventListener){n.addEventListener("unload",ie,false)}else if(n.attachEvent){n.attachEvent("onunload",ie)}}p.attributes=se(function(e){e.className="i";return!e.getAttribute("className")});p.getElementsByTagName=se(function(e){e.appendChild(E.createComment(""));return!e.getElementsByTagName("*").length});p.getElementsByClassName=Z.test(E.getElementsByClassName);p.getById=se(function(e){o.appendChild(e).id=C;return!E.getElementsByName||!E.getElementsByName(C).length});if(p.getById){x.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&A){var n=t.getElementById(e);return n?[n]:[]}};x.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}}else{delete x.find["ID"];x.filter["ID"]=function(e){var n=e.replace(te,ne);return function(e){var t=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return t&&t.value===n}}}x.find["TAG"]=p.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName(e)}else if(p.qsa){return t.querySelectorAll(e)}}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if(e==="*"){while(n=a[r++]){if(n.nodeType===1){i.push(n)}}return i}return a};x.find["CLASS"]=p.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!=="undefined"&&A){return t.getElementsByClassName(e)}};s=[];v=[];if(p.qsa=Z.test(E.querySelectorAll)){se(function(e){o.appendChild(e).innerHTML="<a id='"+C+"'></a>"+"<select id='"+C+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(e.querySelectorAll("[msallowcapture^='']").length){v.push("[*^$]="+O+"*(?:''|\"\")")}if(!e.querySelectorAll("[selected]").length){v.push("\\["+O+"*(?:value|"+N+")")}if(!e.querySelectorAll("[id~="+C+"-]").length){v.push("~=")}if(!e.querySelectorAll(":checked").length){v.push(":checked")}if(!e.querySelectorAll("a#"+C+"+*").length){v.push(".#.+[+~]")}});se(function(e){var t=E.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");if(e.querySelectorAll("[name=d]").length){v.push("name"+O+"*[*^$|!~]?=")}if(!e.querySelectorAll(":enabled").length){v.push(":enabled",":disabled")}e.querySelectorAll("*,:x");v.push(",.*:")})}if(p.matchesSelector=Z.test(u=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector)){se(function(e){p.disconnectedMatch=u.call(e,"div");u.call(e,"[s!='']:x");s.push("!=",U)})}v=v.length&&new RegExp(v.join("|"));s=s.length&&new RegExp(s.join("|"));t=Z.test(o.compareDocumentPosition);b=t||Z.test(o.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&i.nodeType===1&&(n.contains?n.contains(i):e.compareDocumentPosition&&e.compareDocumentPosition(i)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};M=t?function(e,t){if(e===t){c=true;return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;if(n){return n}n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(n&1||!p.sortDetached&&t.compareDocumentPosition(e)===n){if(e===E||e.ownerDocument===y&&b(y,e)){return-1}if(t===E||t.ownerDocument===y&&b(y,t)){return 1}return l?I(l,e)-I(l,t):0}return n&4?-1:1}:function(e,t){if(e===t){c=true;return 0}var n,i=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a){return e===E?-1:t===E?1:r?-1:a?1:l?I(l,e)-I(l,t):0}else if(r===a){return ce(e,t)}n=e;while(n=n.parentNode){o.unshift(n)}n=t;while(n=n.parentNode){s.unshift(n)}while(o[i]===s[i]){i++}return i?ce(o[i],s[i]):o[i]===y?-1:s[i]===y?1:0};return E};re.matches=function(e,t){return re(e,null,null,t)};re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==E){_(e)}t=t.replace(V,"='$1']");if(p.matchesSelector&&A&&!T[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t))){try{var n=u.call(e,t);if(n||p.disconnectedMatch||e.document&&e.document.nodeType!==11){return n}}catch(e){}}return re(t,E,null,[e]).length>0};re.contains=function(e,t){if((e.ownerDocument||e)!==E){_(e)}return b(e,t)};re.attr=function(e,t){if((e.ownerDocument||e)!==E){_(e)}var n=x.attrHandle[t.toLowerCase()],i=n&&D.call(x.attrHandle,t.toLowerCase())?n(e,t,!A):undefined;return i!==undefined?i:p.attributes||!A?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null};re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};re.uniqueSort=function(e){var t,n=[],i=0,r=0;c=!p.detectDuplicates;l=!p.sortStable&&e.slice(0);e.sort(M);if(c){while(t=e[r++]){if(t===e[r]){i=n.push(r)}}while(i--){e.splice(n[i],1)}}l=null;return e};a=re.getText=function(e){var t,n="",i=0,r=e.nodeType;if(!r){while(t=e[i++]){n+=a(t)}}else if(r===1||r===9||r===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){n+=a(e)}}}else if(r===3||r===4){return e.nodeValue}return n};x=re.selectors={cacheLength:50,createPseudo:oe,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(te,ne);e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){re.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){re.error(e[0])}return e},PSEUDO:function(e){var t,n=!e[6]&&e[2];if(X["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(n&&G.test(n)&&(t=m(n,true))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=f[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&f(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!=="undefined"&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=re.attr(e,n);if(t==null){return i==="!="}if(!i){return true}t+="";return i==="="?t===r:i==="!="?t!==r:i==="^="?r&&t.indexOf(r)===0:i==="*="?r&&t.indexOf(r)>-1:i==="$="?r&&t.slice(-r.length)===r:i==="~="?(" "+t.replace(H," ")+" ").indexOf(r)>-1:i==="|="?t===r||t.slice(0,r.length+1)===r+"-":false}},CHILD:function(p,e,t,m,g){var v=p.slice(0,3)!=="nth",b=p.slice(-4)!=="last",y=e==="of-type";return m===1&&g===0?function(e){return!!e.parentNode}:function(e,t,n){var i,r,a,o,s,l,c=v!==b?"nextSibling":"previousSibling",u=e.parentNode,h=y&&e.nodeName.toLowerCase(),f=!n&&!y,d=false;if(u){if(v){while(c){o=e;while(o=o[c]){if(y?o.nodeName.toLowerCase()===h:o.nodeType===1){return false}}l=c=p==="only"&&!l&&"nextSibling"}return true}l=[b?u.firstChild:u.lastChild];if(b&&f){o=u;a=o[C]||(o[C]={});r=a[o.uniqueID]||(a[o.uniqueID]={});i=r[p]||[];s=i[0]===S&&i[1];d=s&&i[2];o=s&&u.childNodes[s];while(o=++s&&o&&o[c]||(d=s=0)||l.pop()){if(o.nodeType===1&&++d&&o===e){r[p]=[S,s,d];break}}}else{if(f){o=e;a=o[C]||(o[C]={});r=a[o.uniqueID]||(a[o.uniqueID]={});i=r[p]||[];s=i[0]===S&&i[1];d=s}if(d===false){while(o=++s&&o&&o[c]||(d=s=0)||l.pop()){if((y?o.nodeName.toLowerCase()===h:o.nodeType===1)&&++d){if(f){a=o[C]||(o[C]={});r=a[o.uniqueID]||(a[o.uniqueID]={});r[p]=[S,d]}if(o===e){break}}}}}d-=g;return d===m||d%m===0&&d/m>=0}}},PSEUDO:function(e,a){var t,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);if(o[C]){return o(a)}if(o.length>1){t=[e,e,"",a];return x.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,t){var n,i=o(e,a),r=i.length;while(r--){n=I(e,i[r]);e[n]=!(t[n]=i[r])}}):function(e){return o(e,0,t)}}return o}},pseudos:{not:oe(function(e){var i=[],r=[],s=h(e.replace(j,"$1"));return s[C]?oe(function(e,t,n,i){var r,a=s(e,null,i,[]),o=e.length;while(o--){if(r=a[o]){e[o]=!(t[o]=r)}}}):function(e,t,n){i[0]=e;s(i,null,n,r);i[0]=null;return!r.pop()}}),has:oe(function(t){return function(e){return re(t,e).length>0}}),contains:oe(function(t){t=t.replace(te,ne);return function(e){return(e.textContent||e.innerText||a(e)).indexOf(t)>-1}}),lang:oe(function(n){if(!q.test(n||"")){re.error("unsupported lang: "+n)}n=n.replace(te,ne).toLowerCase();return function(e){var t;do{if(t=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang")){t=t.toLowerCase();return t===n||t.indexOf(n+"-")===0}}while((e=e.parentNode)&&e.nodeType===1);return false}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!x.pseudos["empty"](e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){var n=0;for(;n<t;n+=2){e.push(n)}return e}),odd:fe(function(e,t){var n=1;for(;n<t;n+=2){e.push(n)}return e}),lt:fe(function(e,t,n){var i=n<0?n+t:n;for(;--i>=0;){e.push(i)}return e}),gt:fe(function(e,t,n){var i=n<0?n+t:n;for(;++i<t;){e.push(i)}return e})}};x.pseudos["nth"]=x.pseudos["eq"];for(e in{radio:true,checkbox:true,file:true,password:true,image:true}){x.pseudos[e]=ue(e)}for(e in{submit:true,reset:true}){x.pseudos[e]=he(e)}function pe(){}pe.prototype=x.filters=x.pseudos;x.setFilters=new pe;m=re.tokenize=function(e,t){var n,i,r,a,o,s,l,c=d[e+" "];if(c){return t?0:c.slice(0)}o=e;s=[];l=x.preFilter;while(o){if(!n||(i=$.exec(o))){if(i){o=o.slice(i[0].length)||o}s.push(r=[])}n=false;if(i=W.exec(o)){n=i.shift();r.push({value:n,type:i[0].replace(j," ")});o=o.slice(n.length)}for(a in x.filter){if((i=X[a].exec(o))&&(!l[a]||(i=l[a](i)))){n=i.shift();r.push({value:n,type:a,matches:i});o=o.slice(n.length)}}if(!n){break}}return t?o.length:o?re.error(e):d(e,s).slice(0)};function me(e){var t=0,n=e.length,i="";for(;t<n;t++){i+=e[t].value}return i}function ge(s,e,t){var l=e.dir,c=t&&l==="parentNode",u=i++;return e.first?function(e,t,n){while(e=e[l]){if(e.nodeType===1||c){return s(e,t,n)}}}:function(e,t,n){var i,r,a,o=[S,u];if(n){while(e=e[l]){if(e.nodeType===1||c){if(s(e,t,n)){return true}}}}else{while(e=e[l]){if(e.nodeType===1||c){a=e[C]||(e[C]={});r=a[e.uniqueID]||(a[e.uniqueID]={});if((i=r[l])&&i[0]===S&&i[1]===u){return o[2]=i[2]}else{r[l]=o;if(o[2]=s(e,t,n)){return true}}}}}}}function ve(r){return r.length>1?function(e,t,n){var i=r.length;while(i--){if(!r[i](e,t,n)){return false}}return true}:r[0]}function be(e,t,n){var i=0,r=t.length;for(;i<r;i++){re(e,t[i],n)}return n}function ye(e,t,n,i,r){var a,o=[],s=0,l=e.length,c=t!=null;for(;s<l;s++){if(a=e[s]){if(!n||n(a,i,r)){o.push(a);if(c){t.push(s)}}}}return o}function xe(d,p,m,g,v,e){if(g&&!g[C]){g=xe(g)}if(v&&!v[C]){v=xe(v,e)}return oe(function(e,t,n,i){var r,a,o,s=[],l=[],c=t.length,u=e||be(p||"*",n.nodeType?[n]:n,[]),h=d&&(e||!p)?ye(u,s,d,n,i):u,f=m?v||(e?d:c||g)?[]:t:h;if(m){m(h,f,n,i)}if(g){r=ye(f,l);g(r,[],n,i);a=r.length;while(a--){if(o=r[a]){f[l[a]]=!(h[l[a]]=o)}}}if(e){if(v||d){if(v){r=[];a=f.length;while(a--){if(o=f[a]){r.push(h[a]=o)}}v(null,f=[],r,i)}a=f.length;while(a--){if((o=f[a])&&(r=v?I(e,o):s[a])>-1){e[r]=!(t[r]=o)}}}}else{f=ye(f===t?f.splice(c,f.length):f);if(v){v(null,t,f,i)}else{F.apply(t,f)}}})}function we(e){var r,t,n,i=e.length,a=x.relative[e[0].type],o=a||x.relative[" "],s=a?1:0,l=ge(function(e){return e===r},o,true),c=ge(function(e){return I(r,e)>-1},o,true),u=[function(e,t,n){var i=!a&&(n||t!==w)||((r=t).nodeType?l(e,t,n):c(e,t,n));r=null;return i}];for(;s<i;s++){if(t=x.relative[e[s].type]){u=[ge(ve(u),t)]}else{t=x.filter[e[s].type].apply(null,e[s].matches);if(t[C]){n=++s;for(;n<i;n++){if(x.relative[e[n].type]){break}}return xe(s>1&&ve(u),s>1&&me(e.slice(0,s-1).concat({value:e[s-2].type===" "?"*":""})).replace(j,"$1"),t,s<n&&we(e.slice(s,n)),n<i&&we(e=e.slice(n)),n<i&&me(e))}u.push(t)}}return ve(u)}function _e(g,v){var b=v.length>0,y=g.length>0,e=function(e,t,n,i,r){var a,o,s,l=0,c="0",u=e&&[],h=[],f=w,d=e||y&&x.find["TAG"]("*",r),p=S+=f==null?1:Math.random()||.1,m=d.length;if(r){w=t===E||t||r}for(;c!==m&&(a=d[c])!=null;c++){if(y&&a){o=0;if(!t&&a.ownerDocument!==E){_(a);n=!A}while(s=g[o++]){if(s(a,t||E,n)){i.push(a);break}}if(r){S=p}}if(b){if(a=!s&&a){l--}if(e){u.push(a)}}}l+=c;if(b&&c!==l){o=0;while(s=v[o++]){s(u,h,t,n)}if(e){if(l>0){while(c--){if(!(u[c]||h[c])){h[c]=L.call(i)}}}h=ye(h)}F.apply(i,h);if(r&&!e&&h.length>0&&l+v.length>1){re.uniqueSort(i)}}if(r){S=p;w=f}return u};return b?oe(e):e}h=re.compile=function(e,t){var n,i=[],r=[],a=T[e+" "];if(!a){if(!t){t=m(e)}n=t.length;while(n--){a=we(t[n]);if(a[C]){i.push(a)}else{r.push(a)}}a=T(e,_e(r,i));a.selector=e}return a};g=re.select=function(e,t,n,i){var r,a,o,s,l,c=typeof e==="function"&&e,u=!i&&m(e=c.selector||e);n=n||[];if(u.length===1){a=u[0]=u[0].slice(0);if(a.length>2&&(o=a[0]).type==="ID"&&p.getById&&t.nodeType===9&&A&&x.relative[a[1].type]){t=(x.find["ID"](o.matches[0].replace(te,ne),t)||[])[0];if(!t){return n}else if(c){t=t.parentNode}e=e.slice(a.shift().value.length)}r=X["needsContext"].test(e)?0:a.length;while(r--){o=a[r];if(x.relative[s=o.type]){break}if(l=x.find[s]){if(i=l(o.matches[0].replace(te,ne),J.test(a[0].type)&&de(t.parentNode)||t)){a.splice(r,1);e=i.length&&me(a);if(!e){F.apply(n,i);return n}break}}}}(c||h(e,u))(i,t,!A,n,!t||J.test(e)&&de(t.parentNode)||t);return n};p.sortStable=C.split("").sort(M).join("")===C;p.detectDuplicates=!!c;_();p.sortDetached=se(function(e){return e.compareDocumentPosition(E.createElement("div"))&1});if(!se(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){le("type|href|height|width",function(e,t,n){if(!n){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!p.attributes||!se(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){le("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!se(function(e){return e.getAttribute("disabled")==null})){le(N,function(e,t,n){var i;if(!n){return e[t]===true?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}})}return re}(E);C.find=d;C.expr=d.selectors;C.expr[":"]=C.expr.pseudos;C.uniqueSort=C.unique=d.uniqueSort;C.text=d.getText;C.isXMLDoc=d.isXML;C.contains=d.contains;var v=function(e,t,n){var i=[],r=n!==undefined;while((e=e[t])&&e.nodeType!==9){if(e.nodeType===1){if(r&&C(e).is(n)){break}i.push(e)}}return i};var b=function(e,t){var n=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){n.push(e)}}return n};var y=C.expr.match.needsContext;var x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var w=/^.[^:#\[\.,]*$/;function _(e,n,i){if(C.isFunction(n)){return C.grep(e,function(e,t){return!!n.call(e,t,e)!==i})}if(n.nodeType){return C.grep(e,function(e){return e===n!==i})}if(typeof n==="string"){if(w.test(n)){return C.filter(n,e,i)}n=C.filter(n,e)}return C.grep(e,function(e){return r.call(n,e)>-1!==i})}C.filter=function(e,t,n){var i=t[0];if(n){e=":not("+e+")"}return t.length===1&&i.nodeType===1?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return e.nodeType===1}))};C.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if(typeof e!=="string"){return this.pushStack(C(e).filter(function(){for(t=0;t<n;t++){if(C.contains(r[t],this)){return true}}}))}for(t=0;t<n;t++){C.find(e,r[t],i)}i=this.pushStack(n>1?C.unique(i):i);i.selector=this.selector?this.selector+" "+e:e;return i},filter:function(e){return this.pushStack(_(this,e||[],false))},not:function(e){return this.pushStack(_(this,e||[],true))},is:function(e){return!!_(this,typeof e==="string"&&y.test(e)?C(e):e||[],false).length}});var S,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,M=C.fn.init=function(e,t,n){var i,r;if(!e){return this}n=n||S;if(typeof e==="string"){if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3){i=[null,e,null]}else{i=T.exec(e)}if(i&&(i[1]||!t)){if(i[1]){t=t instanceof C?t[0]:t;C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:A,true));if(x.test(i[1])&&C.isPlainObject(t)){for(i in t){if(C.isFunction(this[i])){this[i](t[i])}else{this.attr(i,t[i])}}}return this}else{r=A.getElementById(i[2]);if(r&&r.parentNode){this.length=1;this[0]=r}this.context=A;this.selector=e;return this}}else if(!t||t.jquery){return(t||n).find(e)}else{return this.constructor(t).find(e)}}else if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else if(C.isFunction(e)){return n.ready!==undefined?n.ready(e):e(C)}if(e.selector!==undefined){this.selector=e.selector;this.context=e.context}return C.makeArray(e,this)};M.prototype=C.fn;S=C(A);var k=/^(?:parents|prev(?:Until|All))/,D={children:true,contents:true,next:true,prev:true};C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++){if(C.contains(this,t[e])){return true}}})},closest:function(e,t){var n,i=0,r=this.length,a=[],o=y.test(e)||typeof e!=="string"?C(e,t||this.context):0;for(;i<r;i++){for(n=this[i];n&&n!==t;n=n.parentNode){if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&C.find.matchesSelector(n,e))){a.push(n);break}}}return this.pushStack(a.length>1?C.uniqueSort(a):a)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return r.call(C(e),this[0])}return r.call(this,e.jquery?e[0]:e)},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function L(e,t){while((e=e[t])&&e.nodeType!==1){}return e}C.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v(e,"parentNode")},parentsUntil:function(e,t,n){return v(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return v(e,"nextSibling")},prevAll:function(e){return v(e,"previousSibling")},nextUntil:function(e,t,n){return v(e,"nextSibling",n)},prevUntil:function(e,t,n){return v(e,"previousSibling",n)},siblings:function(e){return b((e.parentNode||{}).firstChild,e)},children:function(e){return b(e.firstChild)},contents:function(e){return e.contentDocument||C.merge([],e.childNodes)}},function(i,r){C.fn[i]=function(e,t){var n=C.map(this,r,e);if(i.slice(-5)!=="Until"){t=e}if(t&&typeof t==="string"){n=C.filter(t,n)}if(this.length>1){if(!D[i]){C.uniqueSort(n)}if(k.test(i)){n.reverse()}}return this.pushStack(n)}});var R=/\S+/g;function F(e){var n={};C.each(e.match(R)||[],function(e,t){n[t]=true});return n}C.Callbacks=function(i){i=typeof i==="string"?F(i):C.extend({},i);var n,e,t,r,a=[],o=[],s=-1,l=function(){r=i.once;t=n=true;for(;o.length;s=-1){e=o.shift();while(++s<a.length){if(a[s].apply(e[0],e[1])===false&&i.stopOnFalse){s=a.length;e=false}}}if(!i.memory){e=false}n=false;if(r){if(e){a=[]}else{a=""}}},c={add:function(){if(a){if(e&&!n){s=a.length-1;o.push(e)}(function n(e){C.each(e,function(e,t){if(C.isFunction(t)){if(!i.unique||!c.has(t)){a.push(t)}}else if(t&&t.length&&C.type(t)!=="string"){n(t)}})})(arguments);if(e&&!n){l()}}return this},remove:function(){C.each(arguments,function(e,t){var n;while((n=C.inArray(t,a,n))>-1){a.splice(n,1);if(n<=s){s--}}});return this},has:function(e){return e?C.inArray(e,a)>-1:a.length>0},empty:function(){if(a){a=[]}return this},disable:function(){r=o=[];a=e="";return this},disabled:function(){return!a},lock:function(){r=o=[];if(!e){a=e=""}return this},locked:function(){return!!r},fireWith:function(e,t){if(!r){t=t||[];t=[e,t.slice?t.slice():t];o.push(t);if(!n){l()}}return this},fire:function(){c.fireWith(this,arguments);return this},fired:function(){return!!t}};return c};C.extend({Deferred:function(e){var a=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],r="pending",o={state:function(){return r},always:function(){s.done(arguments).fail(arguments);return this},then:function(){var r=arguments;return C.Deferred(function(i){C.each(a,function(e,t){var n=C.isFunction(r[e])&&r[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);if(e&&C.isFunction(e.promise)){e.promise().progress(i.notify).done(i.resolve).fail(i.reject)}else{i[t[0]+"With"](this===o?i.promise():this,n?[e]:arguments)}})});r=null}).promise()},promise:function(e){return e!=null?C.extend(e,o):o}},s={};o.pipe=o.then;C.each(a,function(e,t){var n=t[2],i=t[3];o[t[1]]=n.add;if(i){n.add(function(){r=i},a[e^1][2].disable,a[2][2].lock)}s[t[0]]=function(){s[t[0]+"With"](this===s?o:this,arguments);return this};s[t[0]+"With"]=n.fireWith});o.promise(s);if(e){e.call(s,s)}return s},when:function(e){var t=0,n=u.call(arguments),i=n.length,r=i!==1||e&&C.isFunction(e.promise)?i:0,a=r===1?e:C.Deferred(),o=function(t,n,i){return function(e){n[t]=this;i[t]=arguments.length>1?u.call(arguments):e;if(i===s){a.notifyWith(n,i)}else if(!--r){a.resolveWith(n,i)}}},s,l,c;if(i>1){s=new Array(i);l=new Array(i);c=new Array(i);for(;t<i;t++){if(n[t]&&C.isFunction(n[t].promise)){n[t].promise().progress(o(t,l,s)).done(o(t,c,n)).fail(a.reject)}else{--r}}}if(!r){a.resolveWith(c,n)}return a.promise()}});var P;C.fn.ready=function(e){C.ready.promise().done(e);return this};C.extend({isReady:false,readyWait:1,holdReady:function(e){if(e){C.readyWait++}else{C.ready(true)}},ready:function(e){if(e===true?--C.readyWait:C.isReady){return}C.isReady=true;if(e!==true&&--C.readyWait>0){return}P.resolveWith(A,[C]);if(C.fn.triggerHandler){C(A).triggerHandler("ready");C(A).off("ready")}}});function I(){A.removeEventListener("DOMContentLoaded",I);E.removeEventListener("load",I);C.ready()}C.ready.promise=function(e){if(!P){P=C.Deferred();if(A.readyState==="complete"||A.readyState!=="loading"&&!A.documentElement.doScroll){E.setTimeout(C.ready)}else{A.addEventListener("DOMContentLoaded",I);E.addEventListener("load",I)}}return P.promise(e)};C.ready.promise();var N=function(e,t,n,i,r,a,o){var s=0,l=e.length,c=n==null;if(C.type(n)==="object"){r=true;for(s in n){N(e,t,s,n[s],true,a,o)}}else if(i!==undefined){r=true;if(!C.isFunction(i)){o=true}if(c){if(o){t.call(e,i);t=null}else{c=t;t=function(e,t,n){return c.call(C(e),n)}}}if(t){for(;s<l;s++){t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)))}}}return r?e:c?t.call(e):l?t(e[0],n):a};var O=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function B(){this.expando=C.expando+B.uid++}B.uid=1;B.prototype={register:function(e,t){var n=t||{};if(e.nodeType){e[this.expando]=n}else{Object.defineProperty(e,this.expando,{value:n,writable:true,configurable:true})}return e[this.expando]},cache:function(e){if(!O(e)){return{}}var t=e[this.expando];if(!t){t={};if(O(e)){if(e.nodeType){e[this.expando]=t}else{Object.defineProperty(e,this.expando,{value:t,configurable:true})}}}return t},set:function(e,t,n){var i,r=this.cache(e);if(typeof t==="string"){r[t]=n}else{for(i in t){r[i]=t[i]}}return r},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;if(t===undefined||t&&typeof t==="string"&&n===undefined){i=this.get(e,t);return i!==undefined?i:this.get(e,C.camelCase(t))}this.set(e,t,n);return n!==undefined?n:t},remove:function(e,t){var n,i,r,a=e[this.expando];if(a===undefined){return}if(t===undefined){this.register(e)}else{if(C.isArray(t)){i=t.concat(t.map(C.camelCase))}else{r=C.camelCase(t);if(t in a){i=[t,r]}else{i=r;i=i in a?[i]:i.match(R)||[]}}n=i.length;while(n--){delete a[i[n]]}}if(t===undefined||C.isEmptyObject(a)){if(e.nodeType){e[this.expando]=undefined}else{delete e[this.expando]}}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!C.isEmptyObject(t)}};var z=new B;var U=new B;var H=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,j=/[A-Z]/g;function $(e,t,n){var i;if(n===undefined&&e.nodeType===1){i="data-"+t.replace(j,"-$&").toLowerCase();n=e.getAttribute(i);if(typeof n==="string"){try{n=n==="true"?true:n==="false"?false:n==="null"?null:+n+""===n?+n:H.test(n)?C.parseJSON(n):n}catch(e){}U.set(e,t,n)}else{n=undefined}}return n}C.extend({hasData:function(e){return U.hasData(e)||z.hasData(e)},data:function(e,t,n){return U.access(e,t,n)},removeData:function(e,t){U.remove(e,t)},_data:function(e,t,n){return z.access(e,t,n)},_removeData:function(e,t){z.remove(e,t)}});C.fn.extend({data:function(i,e){var t,n,r,a=this[0],o=a&&a.attributes;if(i===undefined){if(this.length){r=U.get(a);if(a.nodeType===1&&!z.get(a,"hasDataAttrs")){t=o.length;while(t--){if(o[t]){n=o[t].name;if(n.indexOf("data-")===0){n=C.camelCase(n.slice(5));$(a,n,r[n])}}}z.set(a,"hasDataAttrs",true)}}return r}if(typeof i==="object"){return this.each(function(){U.set(this,i)})}return N(this,function(t){var e,n;if(a&&t===undefined){e=U.get(a,i)||U.get(a,i.replace(j,"-$&").toLowerCase());if(e!==undefined){return e}n=C.camelCase(i);e=U.get(a,n);if(e!==undefined){return e}e=$(a,n,undefined);if(e!==undefined){return e}return}n=C.camelCase(i);this.each(function(){var e=U.get(this,n);U.set(this,n,t);if(i.indexOf("-")>-1&&e!==undefined){U.set(this,i,t)}})},null,e,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){U.remove(this,e)})}});C.extend({queue:function(e,t,n){var i;if(e){t=(t||"fx")+"queue";i=z.get(e,t);if(n){if(!i||C.isArray(n)){i=z.access(e,t,C.makeArray(n))}else{i.push(n)}}return i||[]}},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,r=n.shift(),a=C._queueHooks(e,t),o=function(){C.dequeue(e,t)};if(r==="inprogress"){r=n.shift();i--}if(r){if(t==="fx"){n.unshift("inprogress")}delete a.stop;r.call(e,o,a)}if(!i&&a){a.empty.fire()}},_queueHooks:function(e,t){var n=t+"queueHooks";return z.get(e,n)||z.access(e,n,{empty:C.Callbacks("once memory").add(function(){z.remove(e,[t+"queue",n])})})}});C.fn.extend({queue:function(t,n){var e=2;if(typeof t!=="string"){n=t;t="fx";e--}if(arguments.length<e){return C.queue(this[0],t)}return n===undefined?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t);if(t==="fx"&&e[0]!=="inprogress"){C.dequeue(this,t)}})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=C.Deferred(),a=this,o=this.length,s=function(){if(!--i){r.resolveWith(a,[a])}};if(typeof e!=="string"){t=e;e=undefined}e=e||"fx";while(o--){n=z.get(a[o],e+"queueHooks");if(n&&n.empty){i++;n.empty.add(s)}}s();return r.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var V=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i");var G=["Top","Right","Bottom","Left"];var q=function(e,t){e=t||e;return C.css(e,"display")==="none"||!C.contains(e.ownerDocument,e)};function X(e,t,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return C.css(e,t,"")},l=s(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=(C.cssNumber[t]||c!=="px"&&+l)&&V.exec(C.css(e,t));if(u&&u[3]!==c){c=c||u[3];n=n||[];u=+l||1;do{a=a||".5";u=u/a;C.style(e,t,u+c)}while(a!==(a=s()/l)&&a!==1&&--o)}if(n){u=+u||+l||0;r=n[1]?u+(n[1]+1)*n[2]:+n[2];if(i){i.unit=c;i.start=u;i.end=r}}return r}var Y=/^(?:checkbox|radio)$/i;var K=/<([\w:-]+)/;var Z=/^$|\/(?:java|ecma)script/i;var Q={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Q.optgroup=Q.option;Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead;Q.th=Q.td;function J(e,t){var n=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!=="undefined"?e.querySelectorAll(t||"*"):[];return t===undefined||t&&C.nodeName(e,t)?C.merge([e],n):n}function ee(e,t){var n=0,i=e.length;for(;n<i;n++){z.set(e[n],"globalEval",!t||z.get(t[n],"globalEval"))}}var te=/<|&#?\w+;/;function ne(e,t,n,i,r){var a,o,s,l,c,u,h=t.createDocumentFragment(),f=[],d=0,p=e.length;for(;d<p;d++){a=e[d];if(a||a===0){if(C.type(a)==="object"){C.merge(f,a.nodeType?[a]:a)}else if(!te.test(a)){f.push(t.createTextNode(a))}else{o=o||h.appendChild(t.createElement("div"));s=(K.exec(a)||["",""])[1].toLowerCase();l=Q[s]||Q._default;o.innerHTML=l[1]+C.htmlPrefilter(a)+l[2];u=l[0];while(u--){o=o.lastChild}C.merge(f,o.childNodes);o=h.firstChild;o.textContent=""}}}h.textContent="";d=0;while(a=f[d++]){if(i&&C.inArray(a,i)>-1){if(r){r.push(a)}continue}c=C.contains(a.ownerDocument,a);o=J(h.appendChild(a),"script");if(c){ee(o)}if(n){u=0;while(a=o[u++]){if(Z.test(a.type||"")){n.push(a)}}}}return h}(function(){var e=A.createDocumentFragment(),t=e.appendChild(A.createElement("div")),n=A.createElement("input");n.setAttribute("type","radio");n.setAttribute("checked","checked");n.setAttribute("name","t");t.appendChild(n);g.checkClone=t.cloneNode(true).cloneNode(true).lastChild.checked;t.innerHTML="<textarea>x</textarea>";g.noCloneChecked=!!t.cloneNode(true).lastChild.defaultValue})();var ie=/^key/,re=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ae=/^([^.]*)(?:\.(.+)|)/;function oe(){return true}function se(){return false}function le(){try{return A.activeElement}catch(e){}}function ce(e,t,n,i,r,a){var o,s;if(typeof t==="object"){if(typeof n!=="string"){i=i||n;n=undefined}for(s in t){ce(e,s,n,i,t[s],a)}return e}if(i==null&&r==null){r=n;i=n=undefined}else if(r==null){if(typeof n==="string"){r=i;i=undefined}else{r=i;i=n;n=undefined}}if(r===false){r=se}else if(!r){return e}if(a===1){o=r;r=function(e){C().off(e);return o.apply(this,arguments)};r.guid=o.guid||(o.guid=C.guid++)}return e.each(function(){C.event.add(this,t,r,i,n)})}C.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,c,u,h,f,d,p,m,g=z.get(t);if(!g){return}if(n.handler){a=n;n=a.handler;r=a.selector}if(!n.guid){n.guid=C.guid++}if(!(l=g.events)){l=g.events={}}if(!(o=g.handle)){o=g.handle=function(e){return typeof C!=="undefined"&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):undefined}}e=(e||"").match(R)||[""];c=e.length;while(c--){s=ae.exec(e[c])||[];d=m=s[1];p=(s[2]||"").split(".").sort();if(!d){continue}h=C.event.special[d]||{};d=(r?h.delegateType:h.bindType)||d;h=C.event.special[d]||{};u=C.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},a);if(!(f=l[d])){f=l[d]=[];f.delegateCount=0;if(!h.setup||h.setup.call(t,i,p,o)===false){if(t.addEventListener){t.addEventListener(d,o)}}}if(h.add){h.add.call(t,u);if(!u.handler.guid){u.handler.guid=n.guid}}if(r){f.splice(f.delegateCount++,0,u)}else{f.push(u)}C.event.global[d]=true}},remove:function(e,t,n,i,r){var a,o,s,l,c,u,h,f,d,p,m,g=z.hasData(e)&&z.get(e);if(!g||!(l=g.events)){return}t=(t||"").match(R)||[""];c=t.length;while(c--){s=ae.exec(t[c])||[];d=m=s[1];p=(s[2]||"").split(".").sort();if(!d){for(d in l){C.event.remove(e,d+t[c],n,i,true)}continue}h=C.event.special[d]||{};d=(i?h.delegateType:h.bindType)||d;f=l[d]||[];s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");o=a=f.length;while(a--){u=f[a];if((r||m===u.origType)&&(!n||n.guid===u.guid)&&(!s||s.test(u.namespace))&&(!i||i===u.selector||i==="**"&&u.selector)){f.splice(a,1);if(u.selector){f.delegateCount--}if(h.remove){h.remove.call(e,u)}}}if(o&&!f.length){if(!h.teardown||h.teardown.call(e,p,g.handle)===false){C.removeEvent(e,d,g.handle)}delete l[d]}}if(C.isEmptyObject(l)){z.remove(e,"handle events")}},dispatch:function(e){e=C.event.fix(e);var t,n,i,r,a,o=[],s=u.call(arguments),l=(z.get(this,"events")||{})[e.type]||[],c=C.event.special[e.type]||{};s[0]=e;e.delegateTarget=this;if(c.preDispatch&&c.preDispatch.call(this,e)===false){return}o=C.event.handlers.call(this,e,l);t=0;while((r=o[t++])&&!e.isPropagationStopped()){e.currentTarget=r.elem;n=0;while((a=r.handlers[n++])&&!e.isImmediatePropagationStopped()){if(!e.rnamespace||e.rnamespace.test(a.namespace)){e.handleObj=a;e.data=a.data;i=((C.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s);if(i!==undefined){if((e.result=i)===false){e.preventDefault();e.stopPropagation()}}}}}if(c.postDispatch){c.postDispatch.call(this,e)}return e.result},handlers:function(e,t){var n,i,r,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(e.type!=="click"||isNaN(e.button)||e.button<1)){for(;l!==this;l=l.parentNode||this){if(l.nodeType===1&&(l.disabled!==true||e.type!=="click")){i=[];for(n=0;n<s;n++){a=t[n];r=a.selector+" ";if(i[r]===undefined){i[r]=a.needsContext?C(r,this).index(l)>-1:C.find(r,this,null,[l]).length}if(i[r]){i.push(a)}}if(i.length){o.push({elem:l,handlers:i})}}}}if(s<t.length){o.push({elem:this,handlers:t.slice(s)})}return o},props:("altKey bubbles cancelable ctrlKey currentTarget detail eventPhase "+"metaKey relatedTarget shiftKey target timeStamp view which").split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){if(e.which==null){e.which=t.charCode!=null?t.charCode:t.keyCode}return e}},mouseHooks:{props:("button buttons clientX clientY offsetX offsetY pageX pageY "+"screenX screenY toElement").split(" "),filter:function(e,t){var n,i,r,a=t.button;if(e.pageX==null&&t.clientX!=null){n=e.target.ownerDocument||A;i=n.documentElement;r=n.body;e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0);e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)}if(!e.which&&a!==undefined){e.which=a&1?1:a&2?3:a&4?2:0}return e}},fix:function(e){if(e[C.expando]){return e}var t,n,i,r=e.type,a=e,o=this.fixHooks[r];if(!o){this.fixHooks[r]=o=re.test(r)?this.mouseHooks:ie.test(r)?this.keyHooks:{}}i=o.props?this.props.concat(o.props):this.props;e=new C.Event(a);t=i.length;while(t--){n=i[t];e[n]=a[n]}if(!e.target){e.target=A}if(e.target.nodeType===3){e.target=e.target.parentNode}return o.filter?o.filter(e,a):e},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==le()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===le()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&C.nodeName(this,"input")){this.click();return false}},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}}};C.removeEvent=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n)}};C.Event=function(e,t){if(!(this instanceof C.Event)){return new C.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===false?oe:se}else{this.type=e}if(t){C.extend(this,t)}this.timeStamp=e&&e.timeStamp||C.now();this[C.expando]=true};C.Event.prototype={constructor:C.Event,isDefaultPrevented:se,isPropagationStopped:se,isImmediatePropagationStopped:se,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=oe;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=oe;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=oe;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,a){C.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,n=this,i=e.relatedTarget,r=e.handleObj;if(!i||i!==n&&!C.contains(n,i)){e.type=r.origType;t=r.handler.apply(this,arguments);e.type=a}return t}}});C.fn.extend({on:function(e,t,n,i){return ce(this,e,t,n,i)},one:function(e,t,n,i){return ce(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj){i=e.handleObj;C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if(typeof e==="object"){for(r in e){this.off(r,t,e[r])}return this}if(t===false||typeof t==="function"){n=t;t=undefined}if(n===false){n=se}return this.each(function(){C.event.remove(this,e,n,t)})}});var ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,he=/<script|<style|<link/i,fe=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^true\/(.*)/,pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function me(e,t){return C.nodeName(e,"table")&&C.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ge(e){e.type=(e.getAttribute("type")!==null)+"/"+e.type;return e}function ve(e){var t=de.exec(e.type);if(t){e.type=t[1]}else{e.removeAttribute("type")}return e}function be(e,t){var n,i,r,a,o,s,l,c;if(t.nodeType!==1){return}if(z.hasData(e)){a=z.access(e);o=z.set(t,a);c=a.events;if(c){delete o.handle;o.events={};for(r in c){for(n=0,i=c[r].length;n<i;n++){C.event.add(t,r,c[r][n])}}}}if(U.hasData(e)){s=U.access(e);l=C.extend({},s);U.set(t,l)}}function ye(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&Y.test(e.type)){t.checked=e.checked}else if(n==="input"||n==="textarea"){t.defaultValue=e.defaultValue}}function xe(n,i,r,a){i=m.apply([],i);var e,t,o,s,l,c,u=0,h=n.length,f=h-1,d=i[0],p=C.isFunction(d);if(p||h>1&&typeof d==="string"&&!g.checkClone&&fe.test(d)){return n.each(function(e){var t=n.eq(e);if(p){i[0]=d.call(this,e,t.html())}xe(t,i,r,a)})}if(h){e=ne(i,n[0].ownerDocument,false,n,a);t=e.firstChild;if(e.childNodes.length===1){e=t}if(t||a){o=C.map(J(e,"script"),ge);s=o.length;for(;u<h;u++){l=e;if(u!==f){l=C.clone(l,true,true);if(s){C.merge(o,J(l,"script"))}}r.call(n[u],l,u)}if(s){c=o[o.length-1].ownerDocument;C.map(o,ve);for(u=0;u<s;u++){l=o[u];if(Z.test(l.type||"")&&!z.access(l,"globalEval")&&C.contains(c,l)){if(l.src){if(C._evalUrl){C._evalUrl(l.src)}}else{C.globalEval(l.textContent.replace(pe,""))}}}}}}return n}function we(e,t,n){var i,r=t?C.filter(t,e):e,a=0;for(;(i=r[a])!=null;a++){if(!n&&i.nodeType===1){C.cleanData(J(i))}if(i.parentNode){if(n&&C.contains(i.ownerDocument,i)){ee(J(i,"script"))}i.parentNode.removeChild(i)}}return e}C.extend({htmlPrefilter:function(e){return e.replace(ue,"<$1></$2>")},clone:function(e,t,n){var i,r,a,o,s=e.cloneNode(true),l=C.contains(e.ownerDocument,e);if(!g.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!C.isXMLDoc(e)){o=J(s);a=J(e);for(i=0,r=a.length;i<r;i++){ye(a[i],o[i])}}if(t){if(n){a=a||J(e);o=o||J(s);for(i=0,r=a.length;i<r;i++){be(a[i],o[i])}}else{be(e,s)}}o=J(s,"script");if(o.length>0){ee(o,!l&&J(e,"script"))}return s},cleanData:function(e){var t,n,i,r=C.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(O(n)){if(t=n[z.expando]){if(t.events){for(i in t.events){if(r[i]){C.event.remove(n,i)}else{C.removeEvent(n,i,t.handle)}}}n[z.expando]=undefined}if(n[U.expando]){n[U.expando]=undefined}}}}});C.fn.extend({domManip:xe,detach:function(e){return we(this,e,true)},remove:function(e){return we(this,e)},text:function(e){return N(this,function(e){return e===undefined?C.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=e}})},null,e,arguments.length)},append:function(){return xe(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=me(this,e);t.appendChild(e)}})},prepend:function(){return xe(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return xe(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return xe(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){C.cleanData(J(e,false));e.textContent=""}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return C.clone(this,e,t)})},html:function(e){return N(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined&&t.nodeType===1){return t.innerHTML}if(typeof e==="string"&&!he.test(e)&&!Q[(K.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++){t=this[n]||{};if(t.nodeType===1){C.cleanData(J(t,false));t.innerHTML=e}}t=0}catch(e){}}if(t){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var n=[];return xe(this,arguments,function(e){var t=this.parentNode;if(C.inArray(this,n)<0){C.cleanData(J(this));if(t){t.replaceChild(e,this)}}},n)}});C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){C.fn[e]=function(e){var t,n=[],i=C(e),r=i.length-1,a=0;for(;a<=r;a++){t=a===r?this:this.clone(true);C(i[a])[o](t);s.apply(n,t.get())}return this.pushStack(n)}});var _e,Ee={HTML:"block",BODY:"block"};function Ae(e,t){var n=C(t.createElement(e)).appendTo(t.body),i=C.css(n[0],"display");n.detach();return i}function Ce(e){var t=A,n=Ee[e];if(!n){n=Ae(e,t);if(n==="none"||!n){_e=(_e||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement);t=_e[0].contentDocument;t.write();t.close();n=Ae(e,t);_e.detach()}Ee[e]=n}return n}var Se=/^margin/;var Te=new RegExp("^("+W+")(?!px)[a-z%]+$","i");var Me=function(e){var t=e.ownerDocument.defaultView;if(!t||!t.opener){t=E}return t.getComputedStyle(e)};var ke=function(e,t,n,i){var r,a,o={};for(a in t){o[a]=e.style[a];e.style[a]=t[a]}r=n.apply(e,i||[]);for(a in t){e.style[a]=o[a]}return r};var De=A.documentElement;(function(){var t,n,i,r,a=A.createElement("div"),o=A.createElement("div");if(!o.style){return}o.style.backgroundClip="content-box";o.cloneNode(true).style.backgroundClip="";g.clearCloneStyle=o.style.backgroundClip==="content-box";a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;"+"padding:0;margin-top:1px;position:absolute";a.appendChild(o);function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;"+"position:relative;display:block;"+"margin:auto;border:1px;padding:1px;"+"top:1%;width:50%";o.innerHTML="";De.appendChild(a);var e=E.getComputedStyle(o);t=e.top!=="1%";r=e.marginLeft==="2px";n=e.width==="4px";o.style.marginRight="50%";i=e.marginRight==="4px";De.removeChild(a)}C.extend(g,{pixelPosition:function(){e();return t},boxSizingReliable:function(){if(n==null){e()}return n},pixelMarginRight:function(){if(n==null){e()}return i},reliableMarginLeft:function(){if(n==null){e()}return r},reliableMarginRight:function(){var e,t=o.appendChild(A.createElement("div"));t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;"+"display:block;margin:0;border:0;padding:0";t.style.marginRight=t.style.width="0";o.style.width="1px";De.appendChild(a);e=!parseFloat(E.getComputedStyle(t).marginRight);De.removeChild(a);o.removeChild(t);return e}})})();function Le(e,t,n){var i,r,a,o,s=e.style;n=n||Me(e);o=n?n.getPropertyValue(t)||n[t]:undefined;if((o===""||o===undefined)&&!C.contains(e.ownerDocument,e)){o=C.style(e,t)}if(n){if(!g.pixelMarginRight()&&Te.test(o)&&Se.test(t)){i=s.width;r=s.minWidth;a=s.maxWidth;s.minWidth=s.maxWidth=s.width=o;o=n.width;s.width=i;s.minWidth=r;s.maxWidth=a}}return o!==undefined?o+"":o}function Re(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var Fe=/^(none|table(?!-c[ea]).+)/,Pe={position:"absolute",visibility:"hidden",display:"block"},Ie={letterSpacing:"0",fontWeight:"400"},Ne=["Webkit","O","Moz","ms"],Oe=A.createElement("div").style;function Be(e){if(e in Oe){return e}var t=e[0].toUpperCase()+e.slice(1),n=Ne.length;while(n--){e=Ne[n]+t;if(e in Oe){return e}}}function ze(e,t,n){var i=V.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ue(e,t,n,i,r){var a=n===(i?"border":"content")?4:t==="width"?1:0,o=0;for(;a<4;a+=2){if(n==="margin"){o+=C.css(e,n+G[a],true,r)}if(i){if(n==="content"){o-=C.css(e,"padding"+G[a],true,r)}if(n!=="margin"){o-=C.css(e,"border"+G[a]+"Width",true,r)}}else{o+=C.css(e,"padding"+G[a],true,r);if(n!=="padding"){o+=C.css(e,"border"+G[a]+"Width",true,r)}}}return o}function He(e,t,n){var i=true,r=t==="width"?e.offsetWidth:e.offsetHeight,a=Me(e),o=C.css(e,"boxSizing",false,a)==="border-box";if(r<=0||r==null){r=Le(e,t,a);if(r<0||r==null){r=e.style[t]}if(Te.test(r)){return r}i=o&&(g.boxSizingReliable()||r===e.style[t]);r=parseFloat(r)||0}return r+Ue(e,t,n||(o?"border":"content"),i,a)+"px"}function je(e,t){var n,i,r,a=[],o=0,s=e.length;for(;o<s;o++){i=e[o];if(!i.style){continue}a[o]=z.get(i,"olddisplay");n=i.style.display;if(t){if(!a[o]&&n==="none"){i.style.display=""}if(i.style.display===""&&q(i)){a[o]=z.access(i,"olddisplay",Ce(i.nodeName))}}else{r=q(i);if(n!=="none"||!r){z.set(i,"olddisplay",r?n:C.css(i,"display"))}}}for(o=0;o<s;o++){i=e[o];if(!i.style){continue}if(!t||i.style.display==="none"||i.style.display===""){i.style.display=t?a[o]||"":"none"}}return e}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Le(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var r,a,o,s=C.camelCase(t),l=e.style;t=C.cssProps[s]||(C.cssProps[s]=Be(s)||s);o=C.cssHooks[t]||C.cssHooks[s];if(n!==undefined){a=typeof n;if(a==="string"&&(r=V.exec(n))&&r[1]){n=X(e,t,r);a="number"}if(n==null||n!==n){return}if(a==="number"){n+=r&&r[3]||(C.cssNumber[s]?"":"px")}if(!g.clearCloneStyle&&n===""&&t.indexOf("background")===0){l[t]="inherit"}if(!o||!("set"in o)||(n=o.set(e,n,i))!==undefined){l[t]=n}}else{if(o&&"get"in o&&(r=o.get(e,false,i))!==undefined){return r}return l[t]}},css:function(e,t,n,i){var r,a,o,s=C.camelCase(t);t=C.cssProps[s]||(C.cssProps[s]=Be(s)||s);o=C.cssHooks[t]||C.cssHooks[s];if(o&&"get"in o){r=o.get(e,true,n)}if(r===undefined){r=Le(e,t,i)}if(r==="normal"&&t in Ie){r=Ie[t]}if(n===""||n){a=parseFloat(r);return n===true||isFinite(a)?a||0:r}return r}});C.each(["height","width"],function(e,o){C.cssHooks[o]={get:function(e,t,n){if(t){return Fe.test(C.css(e,"display"))&&e.offsetWidth===0?ke(e,Pe,function(){return He(e,o,n)}):He(e,o,n)}},set:function(e,t,n){var i,r=n&&Me(e),a=n&&Ue(e,o,n,C.css(e,"boxSizing",false,r)==="border-box",r);if(a&&(i=V.exec(t))&&(i[3]||"px")!=="px"){e.style[o]=t;t=C.css(e,o)}return ze(e,t,a)}}});C.cssHooks.marginLeft=Re(g.reliableMarginLeft,function(e,t){if(t){return(parseFloat(Le(e,"marginLeft"))||e.getBoundingClientRect().left-ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}});C.cssHooks.marginRight=Re(g.reliableMarginRight,function(e,t){if(t){return ke(e,{display:"inline-block"},Le,[e,"marginRight"])}});C.each({margin:"",padding:"",border:"Width"},function(r,a){C.cssHooks[r+a]={expand:function(e){var t=0,n={},i=typeof e==="string"?e.split(" "):[e];for(;t<4;t++){n[r+G[t]+a]=i[t]||i[t-2]||i[0]}return n}};if(!Se.test(r)){C.cssHooks[r+a].set=ze}});C.fn.extend({css:function(e,t){return N(this,function(e,t,n){var i,r,a={},o=0;if(C.isArray(t)){i=Me(e);r=t.length;for(;o<r;o++){a[t[o]]=C.css(e,t[o],false,i)}return a}return n!==undefined?C.style(e,t,n):C.css(e,t)},e,t,arguments.length>1)},show:function(){return je(this,true)},hide:function(){return je(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(q(this)){C(this).show()}else{C(this).hide()}})}});function $e(e,t,n,i,r){return new $e.prototype.init(e,t,n,i,r)}C.Tween=$e;$e.prototype={constructor:$e,init:function(e,t,n,i,r,a){this.elem=e;this.prop=n;this.easing=r||C.easing._default;this.options=t;this.start=this.now=this.cur();this.end=i;this.unit=a||(C.cssNumber[n]?"":"px")},cur:function(){var e=$e.propHooks[this.prop];return e&&e.get?e.get(this):$e.propHooks._default.get(this)},run:function(e){var t,n=$e.propHooks[this.prop];if(this.options.duration){this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(n&&n.set){n.set(this)}else{$e.propHooks._default.set(this)}return this}};$e.prototype.init.prototype=$e.prototype;$e.propHooks={_default:{get:function(e){var t;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}t=C.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(C.fx.step[e.prop]){C.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(e.elem.style[C.cssProps[e.prop]]!=null||C.cssHooks[e.prop])){C.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};$e.propHooks.scrollTop=$e.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};C.fx=$e.prototype.init;C.fx.step={};var We,Ve,Ge=/^(?:toggle|show|hide)$/,qe=/queueHooks$/;function Xe(){E.setTimeout(function(){We=undefined});return We=C.now()}function Ye(e,t){var n,i=0,r={height:e};t=t?1:0;for(;i<4;i+=2-t){n=G[i];r["margin"+n]=r["padding"+n]=e}if(t){r.opacity=r.width=e}return r}function Ke(e,t,n){var i,r=(Je.tweeners[t]||[]).concat(Je.tweeners["*"]),a=0,o=r.length;for(;a<o;a++){if(i=r[a].call(n,t,e)){return i}}}function Ze(t,e,n){var i,r,a,o,s,l,c,u,h=this,f={},d=t.style,p=t.nodeType&&q(t),m=z.get(t,"fxshow");if(!n.queue){s=C._queueHooks(t,"fx");if(s.unqueued==null){s.unqueued=0;l=s.empty.fire;s.empty.fire=function(){if(!s.unqueued){l()}}}s.unqueued++;h.always(function(){h.always(function(){s.unqueued--;if(!C.queue(t,"fx").length){s.empty.fire()}})})}if(t.nodeType===1&&("height"in e||"width"in e)){n.overflow=[d.overflow,d.overflowX,d.overflowY];c=C.css(t,"display");u=c==="none"?z.get(t,"olddisplay")||Ce(t.nodeName):c;if(u==="inline"&&C.css(t,"float")==="none"){d.display="inline-block"}}if(n.overflow){d.overflow="hidden";h.always(function(){d.overflow=n.overflow[0];d.overflowX=n.overflow[1];d.overflowY=n.overflow[2]})}for(i in e){r=e[i];if(Ge.exec(r)){delete e[i];a=a||r==="toggle";if(r===(p?"hide":"show")){if(r==="show"&&m&&m[i]!==undefined){p=true}else{continue}}f[i]=m&&m[i]||C.style(t,i)}else{c=undefined}}if(!C.isEmptyObject(f)){if(m){if("hidden"in m){p=m.hidden}}else{m=z.access(t,"fxshow",{})}if(a){m.hidden=!p}if(p){C(t).show()}else{h.done(function(){C(t).hide()})}h.done(function(){var e;z.remove(t,"fxshow");for(e in f){C.style(t,e,f[e])}});for(i in f){o=Ke(p?m[i]:0,i,h);if(!(i in m)){m[i]=o.start;if(p){o.end=o.start;o.start=i==="width"||i==="height"?1:0}}}}else if((c==="none"?Ce(t.nodeName):c)==="inline"){d.display=c}}function Qe(e,t){var n,i,r,a,o;for(n in e){i=C.camelCase(n);r=t[i];a=e[n];if(C.isArray(a)){r=a[1];a=e[n]=a[0]}if(n!==i){e[i]=a;delete e[n]}o=C.cssHooks[i];if(o&&"expand"in o){a=o.expand(a);delete e[i];for(n in a){if(!(n in e)){e[n]=a[n];t[n]=r}}}else{t[i]=r}}}function Je(o,e,t){var n,s,i=0,r=Je.prefilters.length,l=C.Deferred().always(function(){delete a.elem}),a=function(){if(s){return false}var e=We||Xe(),t=Math.max(0,c.startTime+c.duration-e),n=t/c.duration||0,i=1-n,r=0,a=c.tweens.length;for(;r<a;r++){c.tweens[r].run(i)}l.notifyWith(o,[c,i,t]);if(i<1&&a){return t}else{l.resolveWith(o,[c]);return false}},c=l.promise({elem:o,props:C.extend({},e),opts:C.extend(true,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:We||Xe(),duration:t.duration,tweens:[],createTween:function(e,t){var n=C.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);c.tweens.push(n);return n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(s){return this}s=true;for(;t<n;t++){c.tweens[t].run(1)}if(e){l.notifyWith(o,[c,1,0]);l.resolveWith(o,[c,e])}else{l.rejectWith(o,[c,e])}return this}}),u=c.props;Qe(u,c.opts.specialEasing);for(;i<r;i++){n=Je.prefilters[i].call(c,o,u,c.opts);if(n){if(C.isFunction(n.stop)){C._queueHooks(c.elem,c.opts.queue).stop=C.proxy(n.stop,n)}return n}}C.map(u,Ke,c);if(C.isFunction(c.opts.start)){c.opts.start.call(o,c)}C.fx.timer(C.extend(a,{elem:o,anim:c,queue:c.opts.queue}));return c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}C.Animation=C.extend(Je,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);X(n.elem,e,V.exec(t),n);return n}]},tweener:function(e,t){if(C.isFunction(e)){t=e;e=["*"]}else{e=e.match(R)}var n,i=0,r=e.length;for(;i<r;i++){n=e[i];Je.tweeners[n]=Je.tweeners[n]||[];Je.tweeners[n].unshift(t)}},prefilters:[Ze],prefilter:function(e,t){if(t){Je.prefilters.unshift(e)}else{Je.prefilters.push(e)}}});C.speed=function(e,t,n){var i=e&&typeof e==="object"?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};i.duration=C.fx.off?0:typeof i.duration==="number"?i.duration:i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default;if(i.queue==null||i.queue===true){i.queue="fx"}i.old=i.complete;i.complete=function(){if(C.isFunction(i.old)){i.old.call(this)}if(i.queue){C.dequeue(this,i.queue)}};return i};C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(q).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=C.isEmptyObject(t),a=C.speed(e,n,i),o=function(){var e=Je(this,C.extend({},t),a);if(r||z.get(this,"finish")){e.stop(true)}};o.finish=o;return r||a.queue===false?this.each(o):this.queue(a.queue,o)},stop:function(r,e,a){var o=function(e){var t=e.stop;delete e.stop;t(a)};if(typeof r!=="string"){a=e;e=r;r=undefined}if(e&&r!==false){this.queue(r||"fx",[])}return this.each(function(){var e=true,t=r!=null&&r+"queueHooks",n=C.timers,i=z.get(this);if(t){if(i[t]&&i[t].stop){o(i[t])}}else{for(t in i){if(i[t]&&i[t].stop&&qe.test(t)){o(i[t])}}}for(t=n.length;t--;){if(n[t].elem===this&&(r==null||n[t].queue===r)){n[t].anim.stop(a);e=false;n.splice(t,1)}}if(e||!a){C.dequeue(this,r)}})},finish:function(o){if(o!==false){o=o||"fx"}return this.each(function(){var e,t=z.get(this),n=t[o+"queue"],i=t[o+"queueHooks"],r=C.timers,a=n?n.length:0;t.finish=true;C.queue(this,o,[]);if(i&&i.stop){i.stop.call(this,true)}for(e=r.length;e--;){if(r[e].elem===this&&r[e].queue===o){r[e].anim.stop(true);r.splice(e,1)}}for(e=0;e<a;e++){if(n[e]&&n[e].finish){n[e].finish.call(this)}}delete t.finish})}});C.each(["toggle","show","hide"],function(e,i){var r=C.fn[i];C.fn[i]=function(e,t,n){return e==null||typeof e==="boolean"?r.apply(this,arguments):this.animate(Ye(i,true),e,t,n)}});C.each({slideDown:Ye("show"),slideUp:Ye("hide"),slideToggle:Ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}});C.timers=[];C.fx.tick=function(){var e,t=0,n=C.timers;We=C.now();for(;t<n.length;t++){e=n[t];if(!e()&&n[t]===e){n.splice(t--,1)}}if(!n.length){C.fx.stop()}We=undefined};C.fx.timer=function(e){C.timers.push(e);if(e()){C.fx.start()}else{C.timers.pop()}};C.fx.interval=13;C.fx.start=function(){if(!Ve){Ve=E.setInterval(C.fx.tick,C.fx.interval)}};C.fx.stop=function(){E.clearInterval(Ve);Ve=null};C.fx.speeds={slow:600,fast:200,_default:400};C.fn.delay=function(i,e){i=C.fx?C.fx.speeds[i]||i:i;e=e||"fx";return this.queue(e,function(e,t){var n=E.setTimeout(e,i);t.stop=function(){E.clearTimeout(n)}})};(function(){var e=A.createElement("input"),t=A.createElement("select"),n=t.appendChild(A.createElement("option"));e.type="checkbox";g.checkOn=e.value!=="";g.optSelected=n.selected;t.disabled=true;g.optDisabled=!n.disabled;e=A.createElement("input");e.value="t";e.type="radio";g.radioValue=e.value==="t"})();var et,tt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return N(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}});C.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(a===3||a===8||a===2){return}if(typeof e.getAttribute==="undefined"){return C.prop(e,t,n)}if(a!==1||!C.isXMLDoc(e)){t=t.toLowerCase();r=C.attrHooks[t]||(C.expr.match.bool.test(t)?et:undefined)}if(n!==undefined){if(n===null){C.removeAttr(e,t);return}if(r&&"set"in r&&(i=r.set(e,n,t))!==undefined){return i}e.setAttribute(t,n+"");return n}if(r&&"get"in r&&(i=r.get(e,t))!==null){return i}i=C.find.attr(e,t);return i==null?undefined:i},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&t==="radio"&&C.nodeName(e,"input")){var n=e.value;e.setAttribute("type",t);if(n){e.value=n}return t}}}},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(R);if(a&&e.nodeType===1){while(n=a[r++]){i=C.propFix[n]||n;if(C.expr.match.bool.test(n)){e[i]=false}e.removeAttribute(n)}}}});et={set:function(e,t,n){if(t===false){C.removeAttr(e,n)}else{e.setAttribute(n,n)}return n}};C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var a=tt[t]||C.find.attr;tt[t]=function(e,t,n){var i,r;if(!n){r=tt[t];tt[t]=i;i=a(e,t,n)!=null?t.toLowerCase():null;tt[t]=r}return i}});var nt=/^(?:input|select|textarea|button)$/i,it=/^(?:a|area)$/i;C.fn.extend({prop:function(e,t){return N(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}});C.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(a===3||a===8||a===2){return}if(a!==1||!C.isXMLDoc(e)){t=C.propFix[t]||t;r=C.propHooks[t]}if(n!==undefined){if(r&&"set"in r&&(i=r.set(e,n,t))!==undefined){return i}return e[t]=n}if(r&&"get"in r&&(i=r.get(e,t))!==null){return i}return e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):nt.test(e.nodeName)||it.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}});if(!g.optSelected){C.propHooks.selected={get:function(e){var t=e.parentNode;if(t&&t.parentNode){t.parentNode.selectedIndex}return null},set:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}}}}C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});var rt=/[\t\r\n\f]/g;function at(e){return e.getAttribute&&e.getAttribute("class")||""}C.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,l=0;if(C.isFunction(t)){return this.each(function(e){C(this).addClass(t.call(this,e,at(this)))})}if(typeof t==="string"&&t){e=t.match(R)||[];while(n=this[l++]){r=at(n);i=n.nodeType===1&&(" "+r+" ").replace(rt," ");if(i){o=0;while(a=e[o++]){if(i.indexOf(" "+a+" ")<0){i+=a+" "}}s=C.trim(i);if(r!==s){n.setAttribute("class",s)}}}}return this},removeClass:function(t){var e,n,i,r,a,o,s,l=0;if(C.isFunction(t)){return this.each(function(e){C(this).removeClass(t.call(this,e,at(this)))})}if(!arguments.length){return this.attr("class","")}if(typeof t==="string"&&t){e=t.match(R)||[];while(n=this[l++]){r=at(n);i=n.nodeType===1&&(" "+r+" ").replace(rt," ");if(i){o=0;while(a=e[o++]){while(i.indexOf(" "+a+" ")>-1){i=i.replace(" "+a+" "," ")}}s=C.trim(i);if(r!==s){n.setAttribute("class",s)}}}}return this},toggleClass:function(r,t){var a=typeof r;if(typeof t==="boolean"&&a==="string"){return t?this.addClass(r):this.removeClass(r)}if(C.isFunction(r)){return this.each(function(e){C(this).toggleClass(r.call(this,e,at(this),t),t)})}return this.each(function(){var e,t,n,i;if(a==="string"){t=0;n=C(this);i=r.match(R)||[];while(e=i[t++]){if(n.hasClass(e)){n.removeClass(e)}else{n.addClass(e)}}}else if(r===undefined||a==="boolean"){e=at(this);if(e){z.set(this,"__className__",e)}if(this.setAttribute){this.setAttribute("class",e||r===false?"":z.get(this,"__className__")||"")}}})},hasClass:function(e){var t,n,i=0;t=" "+e+" ";while(n=this[i++]){if(n.nodeType===1&&(" "+at(n)+" ").replace(rt," ").indexOf(t)>-1){return true}}return false}});var ot=/\r/g,st=/[\x20\t\r\n\f]+/g;C.fn.extend({val:function(n){var i,e,r,t=this[0];if(!arguments.length){if(t){i=C.valHooks[t.type]||C.valHooks[t.nodeName.toLowerCase()];if(i&&"get"in i&&(e=i.get(t,"value"))!==undefined){return e}e=t.value;return typeof e==="string"?e.replace(ot,""):e==null?"":e}return}r=C.isFunction(n);return this.each(function(e){var t;if(this.nodeType!==1){return}if(r){t=n.call(this,e,C(this).val())}else{t=n}if(t==null){t=""}else if(typeof t==="number"){t+=""}else if(C.isArray(t)){t=C.map(t,function(e){return e==null?"":e+""})}i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()];if(!i||!("set"in i)||i.set(this,t,"value")===undefined){this.value=t}})}});C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return t!=null?t:C.trim(C.text(e)).replace(st," ")}},select:{get:function(e){var t,n,i=e.options,r=e.selectedIndex,a=e.type==="select-one"||r<0,o=a?null:[],s=a?r+1:i.length,l=r<0?s:a?r:0;for(;l<s;l++){n=i[l];if((n.selected||l===r)&&(g.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!C.nodeName(n.parentNode,"optgroup"))){t=C(n).val();if(a){return t}o.push(t)}}return o},set:function(e,t){var n,i,r=e.options,a=C.makeArray(t),o=r.length;while(o--){i=r[o];if(i.selected=C.inArray(C.valHooks.option.get(i),a)>-1){n=true}}if(!n){e.selectedIndex=-1}return a}}}});C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t)){return e.checked=C.inArray(C(e).val(),t)>-1}}};if(!g.checkOn){C.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var lt=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(e,t,n,i){var r,a,o,s,l,c,u,h=[n||A],f=p.call(e,"type")?e.type:e,d=p.call(e,"namespace")?e.namespace.split("."):[];a=o=n=n||A;if(n.nodeType===3||n.nodeType===8){return}if(lt.test(f+C.event.triggered)){return}if(f.indexOf(".")>-1){d=f.split(".");f=d.shift();d.sort()}l=f.indexOf(":")<0&&"on"+f;e=e[C.expando]?e:new C.Event(f,typeof e==="object"&&e);e.isTrigger=i?2:3;e.namespace=d.join(".");e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;e.result=undefined;if(!e.target){e.target=n}t=t==null?[e]:C.makeArray(t,[e]);u=C.event.special[f]||{};if(!i&&u.trigger&&u.trigger.apply(n,t)===false){return}if(!i&&!u.noBubble&&!C.isWindow(n)){s=u.delegateType||f;if(!lt.test(s+f)){a=a.parentNode}for(;a;a=a.parentNode){h.push(a);o=a}if(o===(n.ownerDocument||A)){h.push(o.defaultView||o.parentWindow||E)}}r=0;while((a=h[r++])&&!e.isPropagationStopped()){e.type=r>1?s:u.bindType||f;c=(z.get(a,"events")||{})[e.type]&&z.get(a,"handle");if(c){c.apply(a,t)}c=l&&a[l];if(c&&c.apply&&O(a)){e.result=c.apply(a,t);if(e.result===false){e.preventDefault()}}}e.type=f;if(!i&&!e.isDefaultPrevented()){if((!u._default||u._default.apply(h.pop(),t)===false)&&O(n)){if(l&&C.isFunction(n[f])&&!C.isWindow(n)){o=n[l];if(o){n[l]=null}C.event.triggered=f;n[f]();C.event.triggered=undefined;if(o){n[l]=o}}}}return e.result},simulate:function(e,t,n){var i=C.extend(new C.Event,n,{type:e,isSimulated:true});C.event.trigger(i,null,t)}});C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n){return C.event.trigger(e,t,n,true)}}});C.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(e,n){C.fn[n]=function(e,t){return arguments.length>0?this.on(n,null,e,t):this.trigger(n)}});C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});g.focusin="onfocusin"in E;if(!g.focusin){C.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){C.event.simulate(i,e.target,C.event.fix(e))};C.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=z.access(e,i);if(!t){e.addEventListener(n,r,true)}z.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=z.access(e,i)-1;if(!t){e.removeEventListener(n,r,true);z.remove(e,i)}else{z.access(e,i,t)}}}})}var ct=E.location;var ut=C.now();var ht=/\?/;C.parseJSON=function(e){return JSON.parse(e+"")};C.parseXML=function(e){var t;if(!e||typeof e!=="string"){return null}try{t=(new E.DOMParser).parseFromString(e,"text/xml")}catch(e){t=undefined}if(!t||t.getElementsByTagName("parsererror").length){C.error("Invalid XML: "+e)}return t};var ft=/#.*$/,dt=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,vt=/^\/\//,bt={},yt={},xt="*/".concat("*"),wt=A.createElement("a");wt.href=ct.href;function _t(a){return function(e,t){if(typeof e!=="string"){t=e;e="*"}var n,i=0,r=e.toLowerCase().match(R)||[];if(C.isFunction(t)){while(n=r[i++]){if(n[0]==="+"){n=n.slice(1)||"*";(a[n]=a[n]||[]).unshift(t)}else{(a[n]=a[n]||[]).push(t)}}}}}function Et(t,r,a,o){var s={},l=t===yt;function c(e){var i;s[e]=true;C.each(t[e]||[],function(e,t){var n=t(r,a,o);if(typeof n==="string"&&!l&&!s[n]){r.dataTypes.unshift(n);c(n);return false}else if(l){return!(i=n)}});return i}return c(r.dataTypes[0])||!s["*"]&&c("*")}function At(e,t){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in t){if(t[n]!==undefined){(r[n]?e:i||(i={}))[n]=t[n]}}if(i){C.extend(true,e,i)}return e}function Ct(e,t,n){var i,r,a,o,s=e.contents,l=e.dataTypes;while(l[0]==="*"){l.shift();if(i===undefined){i=e.mimeType||t.getResponseHeader("Content-Type")}}if(i){for(r in s){if(s[r]&&s[r].test(i)){l.unshift(r);break}}}if(l[0]in n){a=l[0]}else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}if(!o){o=r}}a=a||o}if(a){if(a!==l[0]){l.unshift(a)}return n[a]}}function St(e,t,n,i){var r,a,o,s,l,c={},u=e.dataTypes.slice();if(u[1]){for(o in e.converters){c[o.toLowerCase()]=e.converters[o]}}a=u.shift();while(a){if(e.responseFields[a]){n[e.responseFields[a]]=t}if(!l&&i&&e.dataFilter){t=e.dataFilter(t,e.dataType)}l=a;a=u.shift();if(a){if(a==="*"){a=l}else if(l!=="*"&&l!==a){o=c[l+" "+a]||c["* "+a];if(!o){for(r in c){s=r.split(" ");if(s[1]===a){o=c[l+" "+s[0]]||c["* "+s[0]];if(o){if(o===true){o=c[r]}else if(c[r]!==true){a=s[0];u.unshift(s[1])}break}}}}if(o!==true){if(o&&e.throws){t=o(t)}else{try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}}}}}return{state:"success",data:t}}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ct.href,type:"GET",isLocal:mt.test(ct.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?At(At(e,C.ajaxSettings),t):At(C.ajaxSettings,e)},ajaxPrefilter:_t(bt),ajaxTransport:_t(yt),ajax:function(e,t){if(typeof e==="object"){t=e;e=undefined}t=t||{};var u,h,f,n,d,i,p,r,m=C.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?C(g):C.event,b=C.Deferred(),y=C.Callbacks("once memory"),x=m.statusCode||{},a={},o={},w=0,s="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(w===2){if(!n){n={};while(t=pt.exec(f)){n[t[1].toLowerCase()]=t[2]}}t=n[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return w===2?f:null},setRequestHeader:function(e,t){var n=e.toLowerCase();if(!w){e=o[n]=o[n]||e;a[e]=t}return this},overrideMimeType:function(e){if(!w){m.mimeType=e}return this},statusCode:function(e){var t;if(e){if(w<2){for(t in e){x[t]=[x[t],e[t]]}}else{_.always(e[_.status])}}return this},abort:function(e){var t=e||s;if(u){u.abort(t)}l(0,t);return this}};b.promise(_).complete=y.add;_.success=_.done;_.error=_.fail;m.url=((e||m.url||ct.href)+"").replace(ft,"").replace(vt,ct.protocol+"//");m.type=t.method||t.type||m.method||m.type;m.dataTypes=C.trim(m.dataType||"*").toLowerCase().match(R)||[""];if(m.crossDomain==null){i=A.createElement("a");try{i.href=m.url;i.href=i.href;m.crossDomain=wt.protocol+"//"+wt.host!==i.protocol+"//"+i.host}catch(e){m.crossDomain=true}}if(m.data&&m.processData&&typeof m.data!=="string"){m.data=C.param(m.data,m.traditional)}Et(bt,m,t,_);if(w===2){return _}p=C.event&&m.global;if(p&&C.active++===0){C.event.trigger("ajaxStart")}m.type=m.type.toUpperCase();m.hasContent=!gt.test(m.type);h=m.url;if(!m.hasContent){if(m.data){h=m.url+=(ht.test(h)?"&":"?")+m.data;delete m.data}if(m.cache===false){m.url=dt.test(h)?h.replace(dt,"$1_="+ut++):h+(ht.test(h)?"&":"?")+"_="+ut++}}if(m.ifModified){if(C.lastModified[h]){_.setRequestHeader("If-Modified-Since",C.lastModified[h])}if(C.etag[h]){_.setRequestHeader("If-None-Match",C.etag[h])}}if(m.data&&m.hasContent&&m.contentType!==false||t.contentType){_.setRequestHeader("Content-Type",m.contentType)}_.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(m.dataTypes[0]!=="*"?", "+xt+"; q=0.01":""):m.accepts["*"]);for(r in m.headers){_.setRequestHeader(r,m.headers[r])}if(m.beforeSend&&(m.beforeSend.call(g,_,m)===false||w===2)){return _.abort()}s="abort";for(r in{success:1,error:1,complete:1}){_[r](m[r])}u=Et(yt,m,t,_);if(!u){l(-1,"No Transport")}else{_.readyState=1;if(p){v.trigger("ajaxSend",[_,m])}if(w===2){return _}if(m.async&&m.timeout>0){d=E.setTimeout(function(){_.abort("timeout")},m.timeout)}try{w=1;u.send(a,l)}catch(e){if(w<2){l(-1,e)}else{throw e}}}function l(e,t,n,i){var r,a,o,s,l,c=t;if(w===2){return}w=2;if(d){E.clearTimeout(d)}u=undefined;f=i||"";_.readyState=e>0?4:0;r=e>=200&&e<300||e===304;if(n){s=Ct(m,_,n)}s=St(m,s,_,r);if(r){if(m.ifModified){l=_.getResponseHeader("Last-Modified");if(l){C.lastModified[h]=l}l=_.getResponseHeader("etag");if(l){C.etag[h]=l}}if(e===204||m.type==="HEAD"){c="nocontent"}else if(e===304){c="notmodified"}else{c=s.state;a=s.data;o=s.error;r=!o}}else{o=c;if(e||!c){c="error";if(e<0){e=0}}}_.status=e;_.statusText=(t||c)+"";if(r){b.resolveWith(g,[a,c,_])}else{b.rejectWith(g,[_,c,o])}_.statusCode(x);x=undefined;if(p){v.trigger(r?"ajaxSuccess":"ajaxError",[_,m,r?a:o])}y.fireWith(g,[_,c]);if(p){v.trigger("ajaxComplete",[_,m]);if(!--C.active){C.event.trigger("ajaxStop")}}}return _},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,undefined,t,"script")}});C.each(["get","post"],function(e,r){C[r]=function(e,t,n,i){if(C.isFunction(t)){i=i||n;n=t;t=undefined}return C.ajax(C.extend({url:e,type:r,dataType:i,data:t,success:n},C.isPlainObject(e)&&e))}});C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",async:false,global:false,throws:true})};C.fn.extend({wrapAll:function(t){var e;if(C.isFunction(t)){return this.each(function(e){C(this).wrapAll(t.call(this,e))})}if(this[0]){e=C(t,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){e.insertBefore(this[0])}e.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(n){if(C.isFunction(n)){return this.each(function(e){C(this).wrapInner(n.call(this,e))})}return this.each(function(){var e=C(this),t=e.contents();if(t.length){t.wrapAll(n)}else{e.append(n)}})},wrap:function(t){var n=C.isFunction(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){if(!C.nodeName(this,"body")){C(this).replaceWith(this.childNodes)}}).end()}});C.expr.filters.hidden=function(e){return!C.expr.filters.visible(e)};C.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Tt=/%20/g,Mt=/\[\]$/,kt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Rt(n,e,i,r){var t;if(C.isArray(e)){C.each(e,function(e,t){if(i||Mt.test(n)){r(n,t)}else{Rt(n+"["+(typeof t==="object"&&t!=null?e:"")+"]",t,i,r)}})}else if(!i&&C.type(e)==="object"){for(t in e){Rt(n+"["+t+"]",e[t],i,r)}}else{r(n,e)}}C.param=function(e,t){var n,i=[],r=function(e,t){t=C.isFunction(t)?t():t==null?"":t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined){t=C.ajaxSettings&&C.ajaxSettings.traditional}if(C.isArray(e)||e.jquery&&!C.isPlainObject(e)){C.each(e,function(){r(this.name,this.value)})}else{for(n in e){Rt(n,e[n],t,r)}}return i.join("&").replace(Tt,"+")};C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Lt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!Y.test(e))}).map(function(e,t){var n=C(this).val();return n==null?null:C.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});C.ajaxSettings.xhr=function(){try{return new E.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},Pt=C.ajaxSettings.xhr();g.cors=!!Pt&&"withCredentials"in Pt;g.ajax=Pt=!!Pt;C.ajaxTransport(function(r){var a,o;if(g.cors||Pt&&!r.crossDomain){return{send:function(e,t){var n,i=r.xhr();i.open(r.type,r.url,r.async,r.username,r.password);if(r.xhrFields){for(n in r.xhrFields){i[n]=r.xhrFields[n]}}if(r.mimeType&&i.overrideMimeType){i.overrideMimeType(r.mimeType)}if(!r.crossDomain&&!e["X-Requested-With"]){e["X-Requested-With"]="XMLHttpRequest"}for(n in e){i.setRequestHeader(n,e[n])}a=function(e){return function(){if(a){a=o=i.onload=i.onerror=i.onabort=i.onreadystatechange=null;if(e==="abort"){i.abort()}else if(e==="error"){if(typeof i.status!=="number"){t(0,"error")}else{t(i.status,i.statusText)}}else{t(Ft[i.status]||i.status,i.statusText,(i.responseType||"text")!=="text"||typeof i.responseText!=="string"?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders())}}}};i.onload=a();o=i.onerror=a("error");if(i.onabort!==undefined){i.onabort=o}else{i.onreadystatechange=function(){if(i.readyState===4){E.setTimeout(function(){if(a){o()}})}}}a=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(a){throw e}}},abort:function(){if(a){a()}}}}});C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){C.globalEval(e);return e}}});C.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET"}});C.ajaxTransport("script",function(n){if(n.crossDomain){var i,r;return{send:function(e,t){i=C("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove();r=null;if(e){t(e.type==="error"?404:200,e.type)}});A.head.appendChild(i[0])},abort:function(){if(r){r()}}}}});var It=[],Nt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=It.pop()||C.expando+"_"+ut++;this[e]=true;return e}});C.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,a,o=e.jsonp!==false&&(Nt.test(e.url)?"url":typeof e.data==="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Nt.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp"){i=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback;if(o){e[o]=e[o].replace(Nt,"$1"+i)}else if(e.jsonp!==false){e.url+=(ht.test(e.url)?"&":"?")+e.jsonp+"="+i}e.converters["script json"]=function(){if(!a){C.error(i+" was not called")}return a[0]};e.dataTypes[0]="json";r=E[i];E[i]=function(){a=arguments};n.always(function(){if(r===undefined){C(E).removeProp(i)}else{E[i]=r}if(e[i]){e.jsonpCallback=t.jsonpCallback;It.push(i)}if(a&&C.isFunction(r)){r(a[0])}a=r=undefined});return"script"}});C.parseHTML=function(e,t,n){if(!e||typeof e!=="string"){return null}if(typeof t==="boolean"){n=t;t=false}t=t||A;var i=x.exec(e),r=!n&&[];if(i){return[t.createElement(i[1])]}i=ne([e],t,r);if(r&&r.length){C(r).remove()}return C.merge([],i.childNodes)};var Ot=C.fn.load;C.fn.load=function(e,t,n){if(typeof e!=="string"&&Ot){return Ot.apply(this,arguments)}var i,r,a,o=this,s=e.indexOf(" ");if(s>-1){i=C.trim(e.slice(s));e=e.slice(0,s)}if(C.isFunction(t)){n=t;t=undefined}else if(t&&typeof t==="object"){r="POST"}if(o.length>0){C.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments;o.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})})}return this};C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}});C.expr.filters.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length};function Bt(e){return C.isWindow(e)?e:e.nodeType===9&&e.defaultView}C.offset={setOffset:function(e,t,n){var i,r,a,o,s,l,c,u=C.css(e,"position"),h=C(e),f={};if(u==="static"){e.style.position="relative"}s=h.offset();a=C.css(e,"top");l=C.css(e,"left");c=(u==="absolute"||u==="fixed")&&(a+l).indexOf("auto")>-1;if(c){i=h.position();o=i.top;r=i.left}else{o=parseFloat(a)||0;r=parseFloat(l)||0}if(C.isFunction(t)){t=t.call(e,n,C.extend({},s))}if(t.top!=null){f.top=t.top-s.top+o}if(t.left!=null){f.left=t.left-s.left+r}if("using"in t){t.using.call(e,f)}else{h.css(f)}}};C.fn.extend({offset:function(t){if(arguments.length){return t===undefined?this:this.each(function(e){C.offset.setOffset(this,t,e)})}var e,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;if(!a){return}e=a.documentElement;if(!C.contains(e,i)){return r}r=i.getBoundingClientRect();n=Bt(a);return{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}},position:function(){if(!this[0]){return}var e,t,n=this[0],i={top:0,left:0};if(C.css(n,"position")==="fixed"){t=n.getBoundingClientRect()}else{e=this.offsetParent();t=this.offset();if(!C.nodeName(e[0],"html")){i=e.offset()}i.top+=C.css(e[0],"borderTopWidth",true);i.left+=C.css(e[0],"borderLeftWidth",true)}return{top:t.top-i.top-C.css(n,"marginTop",true),left:t.left-i.left-C.css(n,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&C.css(e,"position")==="static"){e=e.offsetParent}return e||De})}});C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var a="pageYOffset"===r;C.fn[t]=function(e){return N(this,function(e,t,n){var i=Bt(e);if(n===undefined){return i?i[r]:e[t]}if(i){i.scrollTo(!a?n:i.pageXOffset,a?n:i.pageYOffset)}else{e[t]=n}},t,e,arguments.length)}});C.each(["top","left"],function(e,n){C.cssHooks[n]=Re(g.pixelPosition,function(e,t){if(t){t=Le(e,n);return Te.test(t)?C(e).position()[n]+"px":t}})});C.each({Height:"height",Width:"width"},function(a,o){C.each({padding:"inner"+a,content:o,"":"outer"+a},function(i,e){C.fn[e]=function(e,t){var n=arguments.length&&(i||typeof e!=="boolean"),r=i||(e===true||t===true?"margin":"border");return N(this,function(e,t,n){var i;if(C.isWindow(e)){return e.document.documentElement["client"+a]}if(e.nodeType===9){i=e.documentElement;return Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])}return n===undefined?C.css(e,t,r):C.style(e,t,n,r)},o,n?e:undefined,n,null)}})});C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}});C.fn.andSelf=C.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return C})}var zt=E.jQuery,Ut=E.$;C.noConflict=function(e){if(E.$===C){E.$=Ut}if(e&&E.jQuery===C){E.jQuery=zt}return C};if(!e){E.jQuery=E.$=C}return C})},{}],25:[function(e,t,n){var i=".jsondiffpatch-annotated-delta {\n  font-family: 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;\n  font-size: 12px;\n  margin: 0;\n  padding: 0 0 0 12px;\n  display: inline-block;\n}\n.jsondiffpatch-annotated-delta pre {\n  font-family: 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;\n  font-size: 12px;\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n}\n.jsondiffpatch-annotated-delta td {\n  margin: 0;\n  padding: 0;\n}\n.jsondiffpatch-annotated-delta td pre:hover {\n  font-weight: bold;\n}\ntd.jsondiffpatch-delta-note {\n  font-style: italic;\n  padding-left: 10px;\n}\n.jsondiffpatch-delta-note > div {\n  margin: 0;\n  padding: 0;\n}\n.jsondiffpatch-delta-note pre {\n  font-style: normal;\n}\n.jsondiffpatch-annotated-delta .jsondiffpatch-delta-note {\n  color: #777;\n}\n.jsondiffpatch-annotated-delta tr:hover {\n  background: #ffc;\n}\n.jsondiffpatch-annotated-delta tr:hover > td.jsondiffpatch-delta-note {\n  color: black;\n}\n.jsondiffpatch-error {\n  background: red;\n  color: white;\n  font-weight: bold;\n}\n";e("browserify-css").createStyle(i,{href:"node_modules\\jsondiffpatch\\public\\formatters-styles\\annotated.css"},{insertAt:"bottom"});t.exports=i},{"browserify-css":11}],26:[function(e,t,n){var i=".jsondiffpatch-delta {\n  font-family: 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;\n  font-size: 12px;\n  margin: 0;\n  padding: 0 0 0 12px;\n  display: inline-block;\n}\n.jsondiffpatch-delta pre {\n  font-family: 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;\n  font-size: 12px;\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n}\nul.jsondiffpatch-delta {\n  list-style-type: none;\n  padding: 0 0 0 20px;\n  margin: 0;\n}\n.jsondiffpatch-delta ul {\n  list-style-type: none;\n  padding: 0 0 0 20px;\n  margin: 0;\n}\n.jsondiffpatch-added .jsondiffpatch-property-name,\n.jsondiffpatch-added .jsondiffpatch-value pre,\n.jsondiffpatch-modified .jsondiffpatch-right-value pre,\n.jsondiffpatch-textdiff-added {\n  background: #bbffbb;\n}\n.jsondiffpatch-deleted .jsondiffpatch-property-name,\n.jsondiffpatch-deleted pre,\n.jsondiffpatch-modified .jsondiffpatch-left-value pre,\n.jsondiffpatch-textdiff-deleted {\n  background: #ffbbbb;\n  text-decoration: line-through;\n}\n.jsondiffpatch-unchanged,\n.jsondiffpatch-movedestination {\n  color: gray;\n}\n.jsondiffpatch-unchanged,\n.jsondiffpatch-movedestination > .jsondiffpatch-value {\n  transition: all 0.5s;\n  -webkit-transition: all 0.5s;\n  overflow-y: hidden;\n}\n.jsondiffpatch-unchanged-showing .jsondiffpatch-unchanged,\n.jsondiffpatch-unchanged-showing .jsondiffpatch-movedestination > .jsondiffpatch-value {\n  max-height: 100px;\n}\n.jsondiffpatch-unchanged-hidden .jsondiffpatch-unchanged,\n.jsondiffpatch-unchanged-hidden .jsondiffpatch-movedestination > .jsondiffpatch-value {\n  max-height: 0;\n}\n.jsondiffpatch-unchanged-hiding .jsondiffpatch-movedestination > .jsondiffpatch-value,\n.jsondiffpatch-unchanged-hidden .jsondiffpatch-movedestination > .jsondiffpatch-value {\n  display: block;\n}\n.jsondiffpatch-unchanged-visible .jsondiffpatch-unchanged,\n.jsondiffpatch-unchanged-visible .jsondiffpatch-movedestination > .jsondiffpatch-value {\n  max-height: 100px;\n}\n.jsondiffpatch-unchanged-hiding .jsondiffpatch-unchanged,\n.jsondiffpatch-unchanged-hiding .jsondiffpatch-movedestination > .jsondiffpatch-value {\n  max-height: 0;\n}\n.jsondiffpatch-unchanged-showing .jsondiffpatch-arrow,\n.jsondiffpatch-unchanged-hiding .jsondiffpatch-arrow {\n  display: none;\n}\n.jsondiffpatch-value {\n  display: inline-block;\n}\n.jsondiffpatch-property-name {\n  display: inline-block;\n  padding-right: 5px;\n  vertical-align: top;\n}\n.jsondiffpatch-property-name:after {\n  content: ': ';\n}\n.jsondiffpatch-child-node-type-array > .jsondiffpatch-property-name:after {\n  content: ': [';\n}\n.jsondiffpatch-child-node-type-array:after {\n  content: '],';\n}\ndiv.jsondiffpatch-child-node-type-array:before {\n  content: '[';\n}\ndiv.jsondiffpatch-child-node-type-array:after {\n  content: ']';\n}\n.jsondiffpatch-child-node-type-object > .jsondiffpatch-property-name:after {\n  content: ': {';\n}\n.jsondiffpatch-child-node-type-object:after {\n  content: '},';\n}\ndiv.jsondiffpatch-child-node-type-object:before {\n  content: '{';\n}\ndiv.jsondiffpatch-child-node-type-object:after {\n  content: '}';\n}\n.jsondiffpatch-value pre:after {\n  content: ',';\n}\nli:last-child > .jsondiffpatch-value pre:after,\n.jsondiffpatch-modified > .jsondiffpatch-left-value pre:after {\n  content: '';\n}\n.jsondiffpatch-modified .jsondiffpatch-value {\n  display: inline-block;\n}\n.jsondiffpatch-modified .jsondiffpatch-right-value {\n  margin-left: 5px;\n}\n.jsondiffpatch-moved .jsondiffpatch-value {\n  display: none;\n}\n.jsondiffpatch-moved .jsondiffpatch-moved-destination {\n  display: inline-block;\n  background: #ffffbb;\n  color: #888;\n}\n.jsondiffpatch-moved .jsondiffpatch-moved-destination:before {\n  content: ' => ';\n}\nul.jsondiffpatch-textdiff {\n  padding: 0;\n}\n.jsondiffpatch-textdiff-location {\n  color: #bbb;\n  display: inline-block;\n  min-width: 60px;\n}\n.jsondiffpatch-textdiff-line {\n  display: inline-block;\n}\n.jsondiffpatch-textdiff-line-number:after {\n  content: ',';\n}\n.jsondiffpatch-error {\n  background: red;\n  color: white;\n  font-weight: bold;\n}\n";e("browserify-css").createStyle(i,{href:"node_modules\\jsondiffpatch\\public\\formatters-styles\\html.css"},{insertAt:"bottom"});t.exports=i},{"browserify-css":11}],27:[function(e,t,n){var i=typeof Array.isArray==="function"?Array.isArray:function(e){return e instanceof Array};function r(e){var t=/^\/(.*)\/([gimyu]*)$/.exec(e.toString());return new RegExp(t[1],t[2])}function a(e){if(typeof e!=="object"){return e}if(e===null){return null}if(i(e)){return e.map(a)}if(e instanceof Date){return new Date(e.getTime())}if(e instanceof RegExp){return r(e)}var t={};for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){t[n]=a(e[n])}}return t}t.exports=a},{}],28:[function(e,t,n){var i=e("../pipe").Pipe;var r=function e(){};r.prototype.setResult=function(e){this.result=e;this.hasResult=true;return this};r.prototype.exit=function(){this.exiting=true;return this};r.prototype.switchTo=function(e,t){if(typeof e==="string"||e instanceof i){this.nextPipe=e}else{this.next=e;if(t){this.nextPipe=t}}return this};r.prototype.push=function(e,t){e.parent=this;if(typeof t!=="undefined"){e.childName=t}e.root=this.root||this;e.options=e.options||this.options;if(!this.children){this.children=[e];this.nextAfterChildren=this.next||null;this.next=e}else{this.children[this.children.length-1].next=e;this.children.push(e)}e.next=this;return this};n.Context=r},{"../pipe":42}],29:[function(e,t,n){var i=e("./context").Context;var r=e("../clone");var a=function e(t,n){this.left=t;this.right=n;this.pipe="diff"};a.prototype=new i;a.prototype.setResult=function(e){if(this.options.cloneDiffValues&&typeof e==="object"){var t=typeof this.options.cloneDiffValues==="function"?this.options.cloneDiffValues:r;if(typeof e[0]==="object"){e[0]=t(e[0])}if(typeof e[1]==="object"){e[1]=t(e[1])}}return i.prototype.setResult.apply(this,arguments)};n.DiffContext=a},{"../clone":27,"./context":28}],30:[function(e,t,n){var i=e("./context").Context;var r=function e(t,n){this.left=t;this.delta=n;this.pipe="patch"};r.prototype=new i;n.PatchContext=r},{"./context":28}],31:[function(e,t,n){var i=e("./context").Context;var r=function e(t){this.delta=t;this.pipe="reverse"};r.prototype=new i;n.ReverseContext=r},{"./context":28}],32:[function(e,t,n){t.exports=function e(t,n){var i;if(typeof n==="string"){i=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(n);if(i){return new Date(Date.UTC(+i[1],+i[2]-1,+i[3],+i[4],+i[5],+i[6],+(i[7]||0)))}}return n}},{}],33:[function(e,t,n){var i=e("./processor").Processor;var r=e("./pipe").Pipe;var a=e("./contexts/diff").DiffContext;var o=e("./contexts/patch").PatchContext;var s=e("./contexts/reverse").ReverseContext;var l=e("./clone");var c=e("./filters/trivial");var u=e("./filters/nested");var h=e("./filters/arrays");var f=e("./filters/dates");var d=e("./filters/texts");var p=function e(t){this.processor=new i(t);this.processor.pipe(new r("diff").append(u.collectChildrenDiffFilter,c.diffFilter,f.diffFilter,d.diffFilter,u.objectsDiffFilter,h.diffFilter).shouldHaveResult());this.processor.pipe(new r("patch").append(u.collectChildrenPatchFilter,h.collectChildrenPatchFilter,c.patchFilter,d.patchFilter,u.patchFilter,h.patchFilter).shouldHaveResult());this.processor.pipe(new r("reverse").append(u.collectChildrenReverseFilter,h.collectChildrenReverseFilter,c.reverseFilter,d.reverseFilter,u.reverseFilter,h.reverseFilter).shouldHaveResult())};p.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)};p.prototype.diff=function(e,t){return this.processor.process(new a(e,t))};p.prototype.patch=function(e,t){return this.processor.process(new o(e,t))};p.prototype.reverse=function(e){return this.processor.process(new s(e))};p.prototype.unpatch=function(e,t){return this.patch(e,this.reverse(t))};p.prototype.clone=function(e){return l(e)};n.DiffPatcher=p},{"./clone":27,"./contexts/diff":29,"./contexts/patch":30,"./contexts/reverse":31,"./filters/arrays":35,"./filters/dates":36,"./filters/nested":38,"./filters/texts":39,"./filters/trivial":40,"./pipe":42,"./processor":43}],34:[function(e,t,n){n.isBrowser=typeof window!=="undefined"},{}],35:[function(e,t,n){var A=e("../contexts/diff").DiffContext;var g=e("../contexts/patch").PatchContext;var r=e("../contexts/reverse").ReverseContext;var C=e("./lcs");var S=3;var c=typeof Array.isArray==="function"?Array.isArray:function(e){return e instanceof Array};var T=typeof Array.prototype.indexOf==="function"?function(e,t){return e.indexOf(t)}:function(e,t){var n=e.length;for(var i=0;i<n;i++){if(e[i]===t){return i}}return-1};function M(e,t,n,i){for(var r=0;r<n;r++){var a=e[r];for(var o=0;o<i;o++){var s=t[o];if(r!==o&&a===s){return true}}}}function k(e,t,n,i,r){var a=e[n];var o=t[i];if(a===o){return true}if(typeof a!=="object"||typeof o!=="object"){return false}var s=r.objectHash;if(!s){return r.matchByPosition&&n===i}var l;var c;if(typeof n==="number"){r.hashCache1=r.hashCache1||[];l=r.hashCache1[n];if(typeof l==="undefined"){r.hashCache1[n]=l=s(a,n)}}else{l=s(a)}if(typeof l==="undefined"){return false}if(typeof i==="number"){r.hashCache2=r.hashCache2||[];c=r.hashCache2[i];if(typeof c==="undefined"){r.hashCache2[i]=c=s(o,i)}}else{c=s(o)}if(typeof c==="undefined"){return false}return l===c}var i=function e(t){if(!t.leftIsArray){return}var n={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition};var i=0;var r=0;var a;var o;var s;var l=t.left;var c=t.right;var u=l.length;var h=c.length;var f;if(u>0&&h>0&&!n.objectHash&&typeof n.matchByPosition!=="boolean"){n.matchByPosition=!M(l,c,u,h)}while(i<u&&i<h&&k(l,c,i,i,n)){a=i;f=new A(t.left[a],t.right[a]);t.push(f,a);i++}while(r+i<u&&r+i<h&&k(l,c,u-1-r,h-1-r,n)){o=u-1-r;s=h-1-r;f=new A(t.left[o],t.right[s]);t.push(f,s);r++}var d;if(i+r===u){if(u===h){t.setResult(undefined).exit();return}d=d||{_t:"a"};for(a=i;a<h-r;a++){d[a]=[c[a]]}t.setResult(d).exit();return}if(i+r===h){d=d||{_t:"a"};for(a=i;a<u-r;a++){d["_"+a]=[l[a],0,0]}t.setResult(d).exit();return}delete n.hashCache1;delete n.hashCache2;var p=l.slice(i,u-r);var m=c.slice(i,h-r);var g=C.get(p,m,k,n);var v=[];d=d||{_t:"a"};for(a=i;a<u-r;a++){if(T(g.indices1,a-i)<0){d["_"+a]=[l[a],0,0];v.push(a)}}var b=true;if(t.options&&t.options.arrays&&t.options.arrays.detectMove===false){b=false}var y=false;if(t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove){y=true}var x=v.length;for(a=i;a<h-r;a++){var w=T(g.indices2,a-i);if(w<0){var _=false;if(b&&x>0){for(var E=0;E<x;E++){o=v[E];if(k(p,m,o-i,a-i,n)){d["_"+o].splice(1,2,a,S);if(!y){d["_"+o][0]=""}s=a;f=new A(t.left[o],t.right[s]);t.push(f,s);v.splice(E,1);_=true;break}}}if(!_){d[a]=[c[a]]}}else{o=g.indices1[w]+i;s=g.indices2[w]+i;f=new A(t.left[o],t.right[s]);t.push(f,s)}}t.setResult(d).exit()};i.filterName="arrays";var v={numerically:function(e,t){return e-t},numericallyBy:function(n){return function(e,t){return e[n]-t[n]}}};var a=function e(t){if(!t.nested){return}if(t.delta._t!=="a"){return}var n,i;var r=t.delta;var a=t.left;var o=[];var s=[];var l=[];for(n in r){if(n!=="_t"){if(n[0]==="_"){if(r[n][2]===0||r[n][2]===S){o.push(parseInt(n.slice(1),10))}else{throw new Error("only removal or move can be applied at original array indices"+", invalid diff type: "+r[n][2])}}else{if(r[n].length===1){s.push({index:parseInt(n,10),value:r[n][0]})}else{l.push({index:parseInt(n,10),delta:r[n]})}}}}o=o.sort(v.numerically);for(n=o.length-1;n>=0;n--){i=o[n];var c=r["_"+i];var u=a.splice(i,1)[0];if(c[2]===S){s.push({index:c[1],value:u})}}s=s.sort(v.numericallyBy("index"));var h=s.length;for(n=0;n<h;n++){var f=s[n];a.splice(f.index,0,f.value)}var d=l.length;var p;if(d>0){for(n=0;n<d;n++){var m=l[n];p=new g(t.left[m.index],m.delta);t.push(p,m.index)}}if(!t.children){t.setResult(t.left).exit();return}t.exit()};a.filterName="arrays";var o=function e(t){if(!t||!t.children){return}if(t.delta._t!=="a"){return}var n=t.children.length;var i;for(var r=0;r<n;r++){i=t.children[r];t.left[i.childName]=i.result}t.setResult(t.left).exit()};o.filterName="arraysCollectChildren";var s=function e(t){if(!t.nested){if(t.delta[2]===S){t.newName="_"+t.delta[1];t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),S]).exit()}return}if(t.delta._t!=="a"){return}var n,i;for(n in t.delta){if(n==="_t"){continue}i=new r(t.delta[n]);t.push(i,n)}t.exit()};s.filterName="arrays";var l=function(e,t,n){if(typeof t==="string"&&t[0]==="_"){return parseInt(t.substr(1),10)}else if(c(n)&&n[2]===0){return"_"+t}var i=+t;for(var r in e){var a=e[r];if(c(a)){if(a[2]===S){var o=parseInt(r.substr(1),10);var s=a[1];if(s===+t){return o}if(o<=i&&s>i){i++}else if(o>=i&&s<i){i--}}else if(a[2]===0){var l=parseInt(r.substr(1),10);if(l<=i){i++}}else if(a.length===1&&r<=i){i--}}}return i};var u=function e(t){if(!t||!t.children){return}if(t.delta._t!=="a"){return}var n=t.children.length;var i;var r={_t:"a"};for(var a=0;a<n;a++){i=t.children[a];var o=i.newName;if(typeof o==="undefined"){o=l(t.delta,i.childName,i.result)}if(r[o]!==i.result){r[o]=i.result}}t.setResult(r).exit()};u.filterName="arraysCollectChildren";n.diffFilter=i;n.patchFilter=a;n.collectChildrenPatchFilter=o;n.reverseFilter=s;n.collectChildrenReverseFilter=u},{"../contexts/diff":29,"../contexts/patch":30,"../contexts/reverse":31,"./lcs":37}],36:[function(e,t,n){var i=function e(t){if(t.left instanceof Date){if(t.right instanceof Date){if(t.left.getTime()!==t.right.getTime()){t.setResult([t.left,t.right])}else{t.setResult(undefined)}}else{t.setResult([t.left,t.right])}t.exit()}else if(t.right instanceof Date){t.setResult([t.left,t.right]).exit()}};i.filterName="dates";n.diffFilter=i},{}],37:[function(e,t,n){var o=function(e,t,n,i){return e[n]===t[i]};var s=function(e,t,n,i){var r=e.length;var a=t.length;var o,s;var l=[r+1];for(o=0;o<r+1;o++){l[o]=[a+1];for(s=0;s<a+1;s++){l[o][s]=0}}l.match=n;for(o=1;o<r+1;o++){for(s=1;s<a+1;s++){if(n(e,t,o-1,s-1,i)){l[o][s]=l[o-1][s-1]+1}else{l[o][s]=Math.max(l[o-1][s],l[o][s-1])}}}return l};var l=function(e,t,n,i,r,a){if(i===0||r===0){return{sequence:[],indices1:[],indices2:[]}}if(e.match(t,n,i-1,r-1,a)){var o=l(e,t,n,i-1,r-1,a);o.sequence.push(t[i-1]);o.indices1.push(i-1);o.indices2.push(r-1);return o}if(e[i][r-1]>e[i-1][r]){return l(e,t,n,i,r-1,a)}else{return l(e,t,n,i-1,r,a)}};var i=function(e,t,n,i){i=i||{};var r=s(e,t,n||o,i);var a=l(r,e,t,e.length,t.length,i);if(typeof e==="string"&&typeof t==="string"){a.sequence=a.sequence.join("")}return a};n.get=i},{}],38:[function(e,t,n){var a=e("../contexts/diff").DiffContext;var r=e("../contexts/patch").PatchContext;var o=e("../contexts/reverse").ReverseContext;var i=function e(t){if(!t||!t.children){return}var n=t.children.length;var i;var r=t.result;for(var a=0;a<n;a++){i=t.children[a];if(typeof i.result==="undefined"){continue}r=r||{};r[i.childName]=i.result}if(r&&t.leftIsArray){r._t="a"}t.setResult(r).exit()};i.filterName="collectChildren";var s=function e(t){if(t.leftIsArray||t.leftType!=="object"){return}var n,i,r=t.options.propertyFilter;for(n in t.left){if(!Object.prototype.hasOwnProperty.call(t.left,n)){continue}if(r&&!r(n,t)){continue}i=new a(t.left[n],t.right[n]);t.push(i,n)}for(n in t.right){if(!Object.prototype.hasOwnProperty.call(t.right,n)){continue}if(r&&!r(n,t)){continue}if(typeof t.left[n]==="undefined"){i=new a(undefined,t.right[n]);t.push(i,n)}}if(!t.children||t.children.length===0){t.setResult(undefined).exit();return}t.exit()};s.filterName="objects";var l=function e(t){if(!t.nested){return}if(t.delta._t){return}var n,i;for(n in t.delta){i=new r(t.left[n],t.delta[n]);t.push(i,n)}t.exit()};l.filterName="objects";var c=function e(t){if(!t||!t.children){return}if(t.delta._t){return}var n=t.children.length;var i;for(var r=0;r<n;r++){i=t.children[r];if(Object.prototype.hasOwnProperty.call(t.left,i.childName)&&i.result===undefined){delete t.left[i.childName]}else if(t.left[i.childName]!==i.result){t.left[i.childName]=i.result}}t.setResult(t.left).exit()};c.filterName="collectChildren";var u=function e(t){if(!t.nested){return}if(t.delta._t){return}var n,i;for(n in t.delta){i=new o(t.delta[n]);t.push(i,n)}t.exit()};u.filterName="objects";var h=function e(t){if(!t||!t.children){return}if(t.delta._t){return}var n=t.children.length;var i;var r={};for(var a=0;a<n;a++){i=t.children[a];if(r[i.childName]!==i.result){r[i.childName]=i.result}}t.setResult(r).exit()};h.filterName="collectChildren";n.collectChildrenDiffFilter=i;n.objectsDiffFilter=s;n.patchFilter=l;n.collectChildrenPatchFilter=c;n.reverseFilter=u;n.collectChildrenReverseFilter=h},{"../contexts/diff":29,"../contexts/patch":30,"../contexts/reverse":31}],39:[function(r,e,t){var a=2;var o=60;var s=null;var l=function(e){if(!s){var a;if(typeof diff_match_patch!=="undefined"){a=typeof diff_match_patch==="function"?new diff_match_patch:new diff_match_patch.diff_match_patch}else if(typeof r==="function"){try{var t="diff_match_patch_uncompressed";var n=r("../../public/external/"+t);a=new n.diff_match_patch}catch(e){a=null}}if(!a){if(!e){return null}var i=new Error("text diff_match_patch library not found");i.diff_match_patch_not_found=true;throw i}s={diff:function(e,t){return a.patch_toText(a.patch_make(e,t))},patch:function(e,t){var n=a.patch_apply(a.patch_fromText(t),e);for(var i=0;i<n[1].length;i++){if(!n[1][i]){var r=new Error("text patch failed");r.textPatchFailed=true}}return n[0]}}}return s};var n=function e(t){if(t.leftType!=="string"){return}var n=t.options&&t.options.textDiff&&t.options.textDiff.minLength||o;if(t.left.length<n||t.right.length<n){t.setResult([t.left,t.right]).exit();return}var i=l();if(!i){t.setResult([t.left,t.right]).exit();return}var r=i.diff;t.setResult([r(t.left,t.right),0,a]).exit()};n.filterName="texts";var i=function e(t){if(t.nested){return}if(t.delta[2]!==a){return}var n=l(true).patch;t.setResult(n(t.left,t.delta[0])).exit()};i.filterName="texts";var c=function(e){var t,n,i,r,a,o=null,s=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,l,c,u;i=e.split("\n");for(t=0,n=i.length;t<n;t++){r=i[t];var h=r.slice(0,1);if(h==="@"){o=s.exec(r);l=t;c=null;u=null;i[l]="@@ -"+o[3]+","+o[4]+" +"+o[1]+","+o[2]+" @@"}else if(h==="+"){c=t;i[t]="-"+i[t].slice(1);if(i[t-1].slice(0,1)==="+"){a=i[t];i[t]=i[t-1];i[t-1]=a}}else if(h==="-"){u=t;i[t]="+"+i[t].slice(1)}}return i.join("\n")};var u=function e(t){if(t.nested){return}if(t.delta[2]!==a){return}t.setResult([c(t.delta[0]),0,a]).exit()};u.filterName="texts";t.diffFilter=n;t.patchFilter=i;t.reverseFilter=u},{}],40:[function(e,t,n){var i=typeof Array.isArray==="function"?Array.isArray:function(e){return e instanceof Array};var r=function e(t){if(t.left===t.right){t.setResult(undefined).exit();return}if(typeof t.left==="undefined"){if(typeof t.right==="function"){throw new Error("functions are not supported")}t.setResult([t.right]).exit();return}if(typeof t.right==="undefined"){t.setResult([t.left,0,0]).exit();return}if(typeof t.left==="function"||typeof t.right==="function"){throw new Error("functions are not supported")}t.leftType=t.left===null?"null":typeof t.left;t.rightType=t.right===null?"null":typeof t.right;if(t.leftType!==t.rightType){t.setResult([t.left,t.right]).exit();return}if(t.leftType==="boolean"||t.leftType==="number"){t.setResult([t.left,t.right]).exit();return}if(t.leftType==="object"){t.leftIsArray=i(t.left)}if(t.rightType==="object"){t.rightIsArray=i(t.right)}if(t.leftIsArray!==t.rightIsArray){t.setResult([t.left,t.right]).exit();return}if(t.left instanceof RegExp){if(t.right instanceof RegExp){t.setResult([t.left.toString(),t.right.toString()]).exit()}else{t.setResult([t.left,t.right]).exit();return}}};r.filterName="trivial";var a=function e(t){if(typeof t.delta==="undefined"){t.setResult(t.left).exit();return}t.nested=!i(t.delta);if(t.nested){return}if(t.delta.length===1){t.setResult(t.delta[0]).exit();return}if(t.delta.length===2){if(t.left instanceof RegExp){var n=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(n){t.setResult(new RegExp(n[1],n[2])).exit();return}}t.setResult(t.delta[1]).exit();return}if(t.delta.length===3&&t.delta[2]===0){t.setResult(undefined).exit();return}};a.filterName="trivial";var o=function e(t){if(typeof t.delta==="undefined"){t.setResult(t.delta).exit();return}t.nested=!i(t.delta);if(t.nested){return}if(t.delta.length===1){t.setResult([t.delta[0],0,0]).exit();return}if(t.delta.length===2){t.setResult([t.delta[1],t.delta[0]]).exit();return}if(t.delta.length===3&&t.delta[2]===0){t.setResult([t.delta[0]]).exit();return}};o.filterName="trivial";n.diffFilter=r;n.patchFilter=a;n.reverseFilter=o},{}],41:[function(e,t,n){var i=e("./environment");var r=e("./diffpatcher").DiffPatcher;n.DiffPatcher=r;n.create=function(e){return new r(e)};n.dateReviver=e("./date-reviver");var a;n.diff=function(){if(!a){a=new r}return a.diff.apply(a,arguments)};n.patch=function(){if(!a){a=new r}return a.patch.apply(a,arguments)};n.unpatch=function(){if(!a){a=new r}return a.unpatch.apply(a,arguments)};n.reverse=function(){if(!a){a=new r}return a.reverse.apply(a,arguments)};n.clone=function(){if(!a){a=new r}return a.clone.apply(a,arguments)};if(i.isBrowser){n.homepage="{{package-homepage}}";n.version="{{package-version}}"}else{var o="../package.json";var s=e(o);n.homepage=s.homepage;n.version=s.version;var l="./formatters";var c=e(l);n.formatters=c;n.console=c.console}},{"./date-reviver":32,"./diffpatcher":33,"./environment":34}],42:[function(e,t,n){var i=function e(t){this.name=t;this.filters=[]};i.prototype.process=function(e){if(!this.processor){throw new Error("add this pipe to a processor before using it")}var t=this.debug;var n=this.filters.length;var i=e;for(var r=0;r<n;r++){var a=this.filters[r];if(t){this.log("filter: "+a.filterName)}a(i);if(typeof i==="object"&&i.exiting){i.exiting=false;break}}if(!i.next&&this.resultCheck){this.resultCheck(i)}};i.prototype.log=function(e){console.log("[jsondiffpatch] "+this.name+" pipe, "+e)};i.prototype.append=function(){this.filters.push.apply(this.filters,arguments);return this};i.prototype.prepend=function(){this.filters.unshift.apply(this.filters,arguments);return this};i.prototype.indexOf=function(e){if(!e){throw new Error("a filter name is required")}for(var t=0;t<this.filters.length;t++){var n=this.filters[t];if(n.filterName===e){return t}}throw new Error("filter not found: "+e)};i.prototype.list=function(){var e=[];for(var t=0;t<this.filters.length;t++){var n=this.filters[t];e.push(n.filterName)}return e};i.prototype.after=function(e){var t=this.indexOf(e);var n=Array.prototype.slice.call(arguments,1);if(!n.length){throw new Error("a filter is required")}n.unshift(t+1,0);Array.prototype.splice.apply(this.filters,n);return this};i.prototype.before=function(e){var t=this.indexOf(e);var n=Array.prototype.slice.call(arguments,1);if(!n.length){throw new Error("a filter is required")}n.unshift(t,0);Array.prototype.splice.apply(this.filters,n);return this};i.prototype.replace=function(e){var t=this.indexOf(e);var n=Array.prototype.slice.call(arguments,1);if(!n.length){throw new Error("a filter is required")}n.unshift(t,1);Array.prototype.splice.apply(this.filters,n);return this};i.prototype.remove=function(e){var t=this.indexOf(e);this.filters.splice(t,1);return this};i.prototype.clear=function(){this.filters.length=0;return this};i.prototype.shouldHaveResult=function(e){if(e===false){this.resultCheck=null;return}if(this.resultCheck){return}var n=this;this.resultCheck=function(e){if(!e.hasResult){console.log(e);var t=new Error(n.name+" failed");t.noResult=true;throw t}};return this};n.Pipe=i},{}],43:[function(e,t,n){var i=function e(t){this.selfOptions=t||{};this.pipes={}};i.prototype.options=function(e){if(e){this.selfOptions=e}return this.selfOptions};i.prototype.pipe=function(e,t){if(typeof e==="string"){if(typeof t==="undefined"){return this.pipes[e]}else{this.pipes[e]=t}}if(e&&e.name){t=e;if(t.processor===this){return t}this.pipes[t.name]=t}t.processor=this;return t};i.prototype.process=function(e,t){var n=e;n.options=this.options();var i=t||e.pipe||"default";var r,a;while(i){if(typeof n.nextAfterChildren!=="undefined"){n.next=n.nextAfterChildren;n.nextAfterChildren=null}if(typeof i==="string"){i=this.pipe(i)}i.process(n);a=n;r=i;i=null;if(n){if(n.next){n=n.next;i=a.nextPipe||n.pipe||r}}}return n.hasResult?n.result:undefined};n.Processor=i},{}],44:[function(require,module,exports){(function($){var min=Math.min,max=Math.max,round=Math.floor,isStr=function(e){return $.type(e)==="string"},runPluginCallbacks=function(Instance,a_fn){if($.isArray(a_fn))for(var i=0,c=a_fn.length;i<c;i++){var fn=a_fn[i];try{if(isStr(fn))fn=eval(fn);if($.isFunction(fn))g(fn)(Instance)}catch(e){}}function g(e){return e}};$.layout={version:"1.4.3",revision:1.0403,browser:{},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(e){var t=$(e),n=t.data("layout")||t.data("parentLayout");if(n){var i=n.container;if(i.data("layoutPane"))return i;var r=i.closest("."+$.layout.defaults.panes.paneClass);if(r.data("layoutPane"))return r}return null},getParentPaneInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("layoutPane"):null},getParentLayoutInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("parentLayout"):null},getEventObject:function(e){return typeof e==="object"&&e.stopPropagation?e:null},parsePaneName:function(e){var t=$.layout.getEventObject(e),n=e;if(t){t.stopPropagation();n=$(this).data("layoutEdge")}if(n&&!/^(west|east|north|south|center)$/.test(n)){$.layout.msg('LAYOUT ERROR - Invalid pane-name: "'+n+'"');n="error"}return n},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&($.effects.slide||$.effects.effect&&$.effects.effect.slide)}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; border: 0; overflow: scroll;"></div>').appendTo("body"),n={width:t.outerWidth-t[0].clientWidth,height:100-t[0].clientHeight};t.remove();window.scrollbarWidth=n.width;window.scrollbarHeight=n.height;return e.match(/^(width|height)$/)?n[e]:n},disableTextSelection:function(){var e=$(document),t="textSelectionDisabled",n="textSelectionInitialized";if($.fn.disableSelection){if(!e.data(n))e.on("mouseup",$.layout.enableTextSelection).data(n,true);if(!e.data(t))e.disableSelection().data(t,true)}},enableTextSelection:function(){var e=$(document),t="textSelectionDisabled";if($.fn.enableSelection&&e.data(t))e.enableSelection().data(t,false)},showInvisibly:function(e,t){if(e&&e.length&&(t||e.css("display")==="none")){var n=e[0].style,i={display:n.display||"",visibility:n.visibility||""};e.css({display:"block",visibility:"hidden"});return i}return{}},getElementDimensions:function(n,i){var r={css:{},inset:{}},a=r.css,o={bottom:0},e=$.layout.cssNum,t=Math.round,s=n.offset(),l,c,u;r.offsetLeft=s.left;r.offsetTop=s.top;if(!i)i={};$.each("Left,Right,Top,Bottom".split(","),function(e,t){l=a["border"+t]=$.layout.borderWidth(n,t);c=a["padding"+t]=$.layout.cssNum(n,"padding"+t);u=t.toLowerCase();r.inset[u]=i[u]>=0?i[u]:c;o[u]=r.inset[u]+l});a.width=t(n.width());a.height=t(n.height());a.top=e(n,"top",true);a.bottom=e(n,"bottom",true);a.left=e(n,"left",true);a.right=e(n,"right",true);r.outerWidth=t(n.outerWidth());r.outerHeight=t(n.outerHeight());r.innerWidth=max(0,r.outerWidth-o.left-o.right);r.innerHeight=max(0,r.outerHeight-o.top-o.bottom);r.layoutWidth=t(n.innerWidth());r.layoutHeight=t(n.innerHeight());return r},getElementStyles:function(e,t){var n={},i=e[0].style,r=t.split(","),a="Top,Bottom,Left,Right".split(","),o="Color,Style,Width".split(","),s,l,c,u,h,f;for(u=0;u<r.length;u++){s=r[u];if(s.match(/(border|padding|margin)$/))for(h=0;h<4;h++){l=a[h];if(s==="border")for(f=0;f<3;f++){c=o[f];n[s+l+c]=i[s+l+c]}else n[s+l]=i[s+l]}else n[s]=i[s]}return n},cssWidth:function(e,t){if(t<=0)return 0;var n=$.layout.browser,i=!n.boxModel?"border-box":n.boxSizing?e.css("boxSizing"):"content-box",r=$.layout.borderWidth,a=$.layout.cssNum,o=t;if(i!=="border-box")o-=r(e,"Left")+r(e,"Right");if(i==="content-box")o-=a(e,"paddingLeft")+a(e,"paddingRight");return max(0,o)},cssHeight:function(e,t){if(t<=0)return 0;var n=$.layout.browser,i=!n.boxModel?"border-box":n.boxSizing?e.css("boxSizing"):"content-box",r=$.layout.borderWidth,a=$.layout.cssNum,o=t;if(i!=="border-box")o-=r(e,"Top")+r(e,"Bottom");if(i==="content-box")o-=a(e,"paddingTop")+a(e,"paddingBottom");return max(0,o)},cssNum:function(e,t,n){if(!e.jquery)e=$(e);var i=$.layout.showInvisibly(e),r=$.css(e[0],t,true),a=n&&r=="auto"?r:Math.round(parseFloat(r)||0);e.css(i);return a},borderWidth:function(e,t){if(e.jquery)e=e[0];var n="border"+t.substr(0,1).toUpperCase()+t.substr(1);return $.css(e,n+"Style",true)==="none"?0:Math.round(parseFloat($.css(e,n+"Width",true))||0)},isMouseOverElem:function(e,t){var n=$(t||this),i=n.offset(),r=i.top,a=i.left,o=a+n.outerWidth(),s=r+n.outerHeight(),l=e.pageX,c=e.pageY;return $.layout.browser.msie&&l<0&&c<0||l>=a&&l<=o&&(c>=r&&c<=s)},msg:function(e,t,n,i){if($.isPlainObject(e)&&window.debugData){if(typeof t==="string"){i=n;n=t}else if(typeof n==="object"){i=n;n=null}var r=n||"log( <object> )",a=$.extend({sort:false,returnHTML:false,display:false},i);if(t===true||a.display)debugData(e,r,a);else if(window.console)console.log(debugData(e,r,a))}else if(t)alert(e);else if(window.console)console.log(e);else{var o="#layoutLogger",s=$(o);if(!s.length)s=l();s.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")}function l(){var e=$.support.fixedPosition?"fixed":"absolute",t=$('<div id="layoutLogger" style="position: '+e+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">'+'<div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;">'+'<span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div>'+'<ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul>'+"</div>").appendTo("body");t.css("left",$(window).width()-t.outerWidth()-5);if($.ui.draggable)t.draggable({handle:":first-child"});return t}}};(function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=t[1]||"",i=t[2]||0,r=n==="msie",a=document.compatMode,o=$.support,s=o.boxSizing!==undefined?o.boxSizing:o.boxSizingReliable,l=!r||!a||a==="CSS1Compat"||o.boxModel||false,c=$.layout.browser={version:i,safari:n==="webkit",webkit:n==="chrome",msie:r,isIE6:r&&i==6,boxModel:l,boxSizing:!!(typeof s==="function"?s():s)};if(n)c[n]=true;if(!l&&!a)$(function(){c.boxModel=o.boxModel})})();$.layout.defaults={name:"",containerClass:"ui-layout-container",inset:null,scrollToBookmarkOnLoad:true,resizeWithWindow:true,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,maskPanesEarly:false,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:true,showErrorMessages:true,showDebugMessages:false,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button\nInvalid ",containerMissing:"UI Layout Initialization Error\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\nThe center-pane element does not exist.\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\nThe layout-container \"CONTAINER\" has no height.\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:false,closable:true,resizable:true,slidable:true,initClosed:false,initHidden:false,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:false,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:true,autoResize:true,autoReopen:true,resizerDragOpacity:1,maskContents:false,maskObjects:false,maskZindex:null,resizingGrid:false,livePaneResizing:false,liveContentResizing:false,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:false,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:false,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:false,enableCursorHotkey:true,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:true,animatePaneSizing:false,children:null,containerSelector:"",initChildren:true,destroyChildren:true,resizeChildren:true,triggerEventsOnLoad:false,triggerEventsDuringLiveResize:true,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}};$.layout.optionsMap={layout:("name,instanceKey,stateManagement,effects,inset,zIndexes,errors,"+"zIndex,scrollToBookmarkOnLoad,showErrorMessages,maskPanesEarly,"+"outset,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,"+"onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end").split(","),center:("paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,"+"showOverflowOnHover,maskContents,maskObjects,liveContentResizing,"+"containerSelector,children,initChildren,resizeChildren,destroyChildren,"+"onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end").split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")};$.layout.transformData=function(e,t){var n=t?{panes:{},center:{}}:{},i,r,a,o,s,l,c;if(typeof e!=="object")return n;for(r in e){i=n;s=e[r];a=r.split("__");c=a.length-1;for(l=0;l<=c;l++){o=a[l];if(l===c){if($.isPlainObject(s))i[o]=$.layout.transformData(s);else i[o]=s}else{if(!i[o])i[o]={};i=i[o]}}}return n};$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",childOptions:"children",initChildLayout:"initChildren",destroyChildLayout:"destroyChildren",resizeChildLayout:"resizeChildren",resizeNestedLayout:"resizeChildren",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(l){var e=$.layout.backwardCompatibility.map,t,n,i;for(var r in e){t=a(r);i=t.branch[t.key];if(i!==undefined){n=a(e[r],true);n.branch[n.key]=i;delete t.branch[t.key]}}function a(e,t){var n=e.split("."),i=n.length-1,r={branch:l,key:n[i]},a=0,o,s;for(;a<i;a++){o=n[a];if(r.branch[o]==undefined){if(t){r.branch=r.branch[o]={}}else r.branch={}}else r.branch=r.branch[o]}return r}},renameAllOptions:function(n){var i=$.layout.backwardCompatibility.renameOptions;i(n);if(n.defaults){if(typeof n.panes!=="object")n.panes={};$.extend(true,n.panes,n.defaults);delete n.defaults}if(n.panes)i(n.panes);$.each($.layout.config.allPanes,function(e,t){if(n[t])i(n[t])});return n}};$.fn.layout=function(opts){var browser=$.layout.browser,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,styles=$.layout.getElementStyles,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(true,{},$.layout.defaults),effects=options.effects=$.extend(true,{},$.layout.effects),state={id:"layout"+$.now(),initialized:false,paneResizing:false,panesSliding:{},container:{innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,layoutWidth:0,layoutHeight:0},north:{childIdx:0},south:{childIdx:0},east:{childIdx:0},west:{childIdx:0},center:{childIdx:0}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(e,t,n){timer.clear(e);timer.data[e]=setTimeout(t,n)},clear:function(e){var t=timer.data;if(t[e]){clearTimeout(t[e]);delete t[e]}}},_log=function(e,t,n){var i=options;if(i.showErrorMessages&&!n||n&&i.showDebugMessages)$.layout.msg(i.name+" / "+e,t!==false);return false},_runCallbacks=function(evtName,pane,skipBoundEvents){var hasPane=pane&&isStr(pane),s=hasPane?state[pane]:state,o=hasPane?options[pane]:options,lName=options.name,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng]||o[shrt],retVal="NC",args=[],$P=hasPane?$Ps[pane]:0;if(hasPane&&!$P)return retVal;if(!hasPane&&$.type(pane)==="boolean"){skipBoundEvents=pane;pane=""}if(fn){try{if(isStr(fn)){if(fn.match(/,/)){args=fn.split(","),fn=eval(args[0])}else fn=eval(fn)}if($.isFunction(fn)){if(args.length)retVal=g(fn)(args[1]);else if(hasPane)retVal=g(fn)(pane,$Ps[pane],s,o,lName);else retVal=g(fn)(Instance,s,o,lName)}}catch(e){_log(options.errors.callbackError.replace(/EVENT/,$.trim((pane||"")+" "+lng)),false);if($.type(e)==="string"&&string.length)_log("Exception:  "+e,false)}}if(!skipBoundEvents&&retVal!==false){if(hasPane){o=options[pane];s=state[pane];$P.triggerHandler("layoutpane"+lng,[pane,$P,s,o,lName]);if(shrt)$P.triggerHandler("layoutpane"+shrt,[pane,$P,s,o,lName])}else{$N.triggerHandler("layout"+lng,[Instance,s,o,lName]);if(shrt)$N.triggerHandler("layout"+shrt,[Instance,s,o,lName])}}if(hasPane&&evtName==="onresize_end")resizeChildren(pane+"",true);return retVal;function g(e){return e}},_fixIframe=function(e){if(browser.mozilla)return;var t=$Ps[e];if(state[e].tagName==="IFRAME")t.css(_c.hidden).css(_c.visible);else t.find("IFRAME").css(_c.hidden).css(_c.visible)},cssSize=function(e,t){var n=_c[e].dir=="horz"?cssH:cssW;return n($Ps[e],t)},cssMinDims=function(e){var t=$Ps[e],n=_c[e].dir,i={minWidth:1001-cssW(t,1e3),minHeight:1001-cssH(t,1e3)};if(n==="horz")i.minSize=i.minHeight;if(n==="vert")i.minSize=i.minWidth;return i},setOuterWidth=function(e,t,n){var i=e,r;if(isStr(e))i=$Ps[e];else if(!e.jquery)i=$(e);r=cssW(i,t);i.css({width:r});if(r>0){if(n&&i.data("autoHidden")&&i.innerHeight()>0){i.show().data("autoHidden",false);if(!browser.mozilla)i.css(_c.hidden).css(_c.visible)}}else if(n&&!i.data("autoHidden"))i.hide().data("autoHidden",true)},setOuterHeight=function(e,t,n){var i=e,r;if(isStr(e))i=$Ps[e];else if(!e.jquery)i=$(e);r=cssH(i,t);i.css({height:r,visibility:"visible"});if(r>0&&i.innerWidth()>0){if(n&&i.data("autoHidden")){i.show().data("autoHidden",false);if(!browser.mozilla)i.css(_c.hidden).css(_c.visible)}}else if(n&&!i.data("autoHidden"))i.hide().data("autoHidden",true)},_parseSize=function(e,t,n){if(!n)n=_c[e].dir;if(isStr(t)&&t.match(/%/))t=t==="100%"?-1:parseInt(t,10)/100;if(t===0)return 0;else if(t>=1)return parseInt(t,10);var i=options,r=0;if(n=="horz")r=sC.innerHeight-($Ps.north?i.north.spacing_open:0)-($Ps.south?i.south.spacing_open:0);else if(n=="vert")r=sC.innerWidth-($Ps.west?i.west.spacing_open:0)-($Ps.east?i.east.spacing_open:0);if(t===-1)return r;else if(t>0)return round(r*t);else if(e=="center")return 0;else{var a=n==="horz"?"height":"width",o=$Ps[e],s=a==="height"?$Cs[e]:false,l=$.layout.showInvisibly(o),c=o.css(a),u=s?s.css(a):0;o.css(a,"auto");if(s)s.css(a,"auto");t=a==="height"?o.outerHeight():o.outerWidth();o.css(a,c).css(l);if(s)s.css(a,u);return t}},getPaneSize=function(e,t){var n=$Ps[e],i=options[e],r=state[e],a=t?i.spacing_open:0,o=t?i.spacing_closed:0;if(!n||r.isHidden)return 0;else if(r.isClosed||r.isSliding&&t)return o;else if(_c[e].dir==="horz")return n.outerHeight()+a;else return n.outerWidth()+a},setSizeLimits=function(e,t){if(!isInitialized())return;var n=options[e],i=state[e],r=_c[e],a=r.dir,o=r.sizeType.toLowerCase(),s=t!=undefined?t:i.isSliding,l=$Ps[e],c=n.spacing_open,u=_c.oppositeEdge[e],h=state[u],f=$Ps[u],d=!f||h.isVisible===false||h.isSliding?0:a=="horz"?f.outerHeight():f.outerWidth(),p=(!f||h.isHidden?0:options[u][h.isClosed!==false?"spacing_closed":"spacing_open"])||0,m=a=="horz"?sC.innerHeight:sC.innerWidth,g=cssMinDims("center"),v=a=="horz"?max(options.center.minHeight,g.minHeight):max(options.center.minWidth,g.minWidth),b=m-c-(s?0:_parseSize("center",v,a)+d+p),y=i.minSize=max(_parseSize(e,n.minSize),cssMinDims(e).minSize),x=i.maxSize=min(n.maxSize?_parseSize(e,n.maxSize):1e5,b),w=i.resizerPosition={},_=sC.inset.top,E=sC.inset.left,A=sC.innerWidth,C=sC.innerHeight,S=n.spacing_open;switch(e){case"north":w.min=_+y;w.max=_+x;break;case"west":w.min=E+y;w.max=E+x;break;case"south":w.min=_+C-x-S;w.max=_+C-y-S;break;case"east":w.min=E+A-x-S;w.max=E+A-y-S;break}},calcNewCenterPaneDims=function(){var e={top:getPaneSize("north",true),bottom:getPaneSize("south",true),left:getPaneSize("west",true),right:getPaneSize("east",true),width:0,height:0};e.width=sC.innerWidth-e.left-e.right;e.height=sC.innerHeight-e.bottom-e.top;e.top+=sC.inset.top;e.bottom+=sC.inset.bottom;e.left+=sC.inset.left;e.right+=sC.inset.right;return e},getHoverClasses=function(e,t){var n=$(e),i=n.data("layoutRole"),r=n.data("layoutEdge"),a=options[r],o=a[i+"Class"],s="-"+r,l="-open",c="-closed",u="-sliding",h="-hover ",f=n.hasClass(o+c)?c:l,d=f===c?l:c,p=o+h+(o+s+h)+(o+f+h)+(o+s+f+h);if(t)p+=o+d+h+(o+s+d+h);if(i=="resizer"&&n.hasClass(o+u))p+=o+u+h+(o+s+u+h);return $.trim(p)},addHover=function(e,t){var n=$(t||this);if(e&&n.data("layoutRole")==="toggler")e.stopPropagation();n.addClass(getHoverClasses(n))},removeHover=function(e,t){var n=$(t||this);n.removeClass(getHoverClasses(n,true))},onResizerEnter=function(e){var t=$(this).data("layoutEdge"),n=state[t],i=$(document);if(n.isResizing||state.paneResizing)return;if(options.maskPanesEarly)showMasks(t,{resizing:true})},onResizerLeave=function(e,t){var n=t||this,i=$(n).data("layoutEdge"),r=i+"ResizerLeave",a=$(document);timer.clear(i+"_openSlider");timer.clear(r);if(!t)timer.set(r,function(){onResizerLeave(e,n)},200);else if(options.maskPanesEarly&&!state.paneResizing)hideMasks()},_create=function(){initOptions();var e=options,t=state;t.creatingLayout=true;runPluginCallbacks(Instance,$.layout.onCreate);if(false===_runCallbacks("onload_start"))return"cancel";_initContainer();initHotkeys();$(window).bind("unload."+sID,unload);runPluginCallbacks(Instance,$.layout.onLoad);if(e.initPanes)_initLayoutElements();delete t.creatingLayout;return state.initialized},isInitialized=function(){if(state.initialized||state.creatingLayout)return true;else return _initLayoutElements()},_initLayoutElements=function(e){var t=options;if(!$N.is(":visible")){if(!e&&browser.webkit&&$N[0].tagName==="BODY")setTimeout(function(){_initLayoutElements(true)},50);return false}if(!getPane("center").length){return _log(t.errors.centerPaneMissing)}state.creatingLayout=true;$.extend(sC,elDims($N,t.inset));initPanes();if(t.scrollToBookmarkOnLoad){var n=self.location;if(n.hash)n.replace(n.hash)}if(Instance.hasParentLayout)t.resizeWithWindow=false;else if(t.resizeWithWindow)$(window).bind("resize."+sID,windowResize);delete state.creatingLayout;state.initialized=true;runPluginCallbacks(Instance,$.layout.onReady);_runCallbacks("onload_end");return true},createChildren=function(e,t){var o=evtPane.call(this,e),n=$Ps[o];if(!n)return;var i=$Cs[o],s=state[o],r=options[o],l=options.stateManagement||{},a=t?r.children=t:r.children;if($.isPlainObject(a))a=[a];else if(!a||!$.isArray(a))return;$.each(a,function(e,a){if(!$.isPlainObject(a))return;var t=a.containerSelector?n.find(a.containerSelector):i||n;t.each(function(){var e=$(this),t=e.data("layout");if(!t){setInstanceKey({container:e,options:a},s);if(l.includeChildren&&state.stateData[o]){var n=state.stateData[o].children||{},i=n[a.instanceKey],r=a.stateManagement||(a.stateManagement={autoLoad:true});if(r.autoLoad===true&&i){r.autoSave=false;r.includeChildren=true;r.autoLoad=$.extend(true,{},i)}}t=e.layout(a);if(t){refreshChildren(o,t)}}})})},setInstanceKey=function(e,t){var n=e.container,i=e.options,r=i.stateManagement,a=i.instanceKey||n.data("layoutInstanceKey");if(!a)a=(r&&r.cookie?r.cookie.name:"")||i.name;if(!a)a="layout"+ ++t.childIdx;else a=a.replace(/[^\w-]/gi,"_").replace(/_{2,}/g,"_");i.instanceKey=a;n.data("layoutInstanceKey",a);return a},refreshChildren=function(e,t){var n=$Ps[e],i=children[e],r=state[e],a;if($.isPlainObject(i)){$.each(i,function(e,t){if(t.destroyed)delete i[e]});if($.isEmptyObject(i))i=children[e]=null}if(!t&&!i){t=n.data("layout")}if(t){t.hasParentLayout=true;a=t.options;setInstanceKey(t,r);if(!i)i=children[e]={};i[a.instanceKey]=t.container.data("layout")}Instance[e].children=children[e];if(!t){createChildren(e)}},windowResize=function(){var t=options,e=Number(t.resizeWithWindowDelay);if(e<10)e=100;timer.clear("winResize");timer.set("winResize",function(){timer.clear("winResize");timer.clear("winResizeRepeater");var e=elDims($N,t.inset);if(e.innerWidth!==sC.innerWidth||e.innerHeight!==sC.innerHeight)resizeAll()},e);if(!timer.data["winResizeRepeater"])setWindowResizeRepeater()},setWindowResizeRepeater=function(){var e=Number(options.resizeWithWindowMaxDelay);if(e>0)timer.set("winResizeRepeater",function(){setWindowResizeRepeater();resizeAll()},e)},unload=function(){var e=options;_runCallbacks("onunload_start");runPluginCallbacks(Instance,$.layout.onUnload);_runCallbacks("onunload_end")},_initContainer=function(){var e=$N[0],t=$("html"),n=sC.tagName=e.tagName,i=sC.id=e.id,r=sC.className=e.className,a=options,o=a.name,s="position,margin,padding,border",l="layoutCSS",c={},u="hidden",h=$N.data("parentLayout"),f=$N.data("layoutEdge"),d=h&&f,p=$.layout.cssNum,m,g;sC.selector=$N.selector.split(".slice")[0];sC.ref=(a.name?a.name+" layout / ":"")+n+(i?"#"+i:r?".["+r+"]":"");sC.isBody=n==="BODY";if(!d&&!sC.isBody){m=$N.closest("."+$.layout.defaults.panes.paneClass);h=m.data("parentLayout");f=m.data("layoutEdge");d=h&&f}$N.data({layout:Instance,layoutContainer:sID}).addClass(a.containerClass);var v={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(o in v){$N.bind("layout"+o.toLowerCase()+"."+sID,Instance[v[o]||o])}if(d){Instance.hasParentLayout=true;h.refreshChildren(f,Instance)}if(!$N.data(l)){if(sC.isBody){$N.data(l,$.extend(styles($N,s),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")}));t.data(l,$.extend(styles(t,"padding"),{height:"auto",overflow:t.css("overflow"),overflowX:t.css("overflowX"),overflowY:t.css("overflowY")}))}else $N.data(l,styles($N,s+",top,bottom,left,right,width,height,overflow,overflowX,overflowY"))}try{c={overflow:u,overflowX:u,overflowY:u};$N.css(c);if(a.inset&&!$.isPlainObject(a.inset)){g=parseInt(a.inset,10)||0;a.inset={top:g,bottom:g,left:g,right:g}}if(sC.isBody){if(!a.outset){a.outset={top:p(t,"paddingTop"),bottom:p(t,"paddingBottom"),left:p(t,"paddingLeft"),right:p(t,"paddingRight")}}else if(!$.isPlainObject(a.outset)){g=parseInt(a.outset,10)||0;a.outset={top:g,bottom:g,left:g,right:g}}t.css(c).css({height:"100%",border:"none",padding:0,margin:0});if(browser.isIE6){$N.css({width:"100%",height:"100%",border:"none",padding:0,margin:0,position:"relative"});if(!a.inset)a.inset=elDims($N).inset}else{$N.css({width:"auto",height:"auto",margin:0,position:"absolute"});$N.css(a.outset)}$.extend(sC,elDims($N,a.inset))}else{var b=$N.css("position");if(!b||!b.match(/(fixed|absolute|relative)/))$N.css("position","relative");if($N.is(":visible")){$.extend(sC,elDims($N,a.inset));if(sC.innerHeight<1)_log(a.errors.noContainerHeight.replace(/CONTAINER/,sC.ref))}}if(p($N,"minWidth"))$N.parent().css("overflowX","auto");if(p($N,"minHeight"))$N.parent().css("overflowY","auto")}catch(e){}},initHotkeys=function(e){e=e?e.split(","):_c.borderPanes;$.each(e,function(e,t){var n=options[t];if(n.enableCursorHotkey||n.customHotkey){$(document).bind("keydown."+sID,keyDown);return false}})},initOptions=function(){var n,i,e,r,t,a,o,s;opts=$.layout.transformData(opts,true);opts=$.layout.backwardCompatibility.renameAllOptions(opts);if(!$.isEmptyObject(opts.panes)){n=$.layout.optionsMap.noDefault;for(a=0,o=n.length;a<o;a++){r=n[a];delete opts.panes[r]}n=$.layout.optionsMap.layout;for(a=0,o=n.length;a<o;a++){r=n[a];delete opts.panes[r]}}n=$.layout.optionsMap.layout;var l=$.layout.config.optionRootKeys;for(r in opts){t=opts[r];if($.inArray(r,l)<0&&$.inArray(r,n)<0){if(!opts.panes[r])opts.panes[r]=$.isPlainObject(t)?$.extend(true,{},t):t;delete opts[r]}}$.extend(true,options,opts);$.each(_c.allPanes,function(e,t){_c[t]=$.extend(true,{},_c.panes,_c[t]);i=options.panes;s=options[t];if(t==="center"){n=$.layout.optionsMap.center;for(e=0,o=n.length;e<o;e++){r=n[e];if(!opts.center[r]&&(opts.panes[r]||!s[r]))s[r]=i[r]}}else{s=options[t]=$.extend(true,{},i,s);h(t);if(!s.resizerClass)s.resizerClass="ui-layout-resizer";if(!s.togglerClass)s.togglerClass="ui-layout-toggler"}if(!s.paneClass)s.paneClass="ui-layout-pane"});var c=opts.zIndex,u=options.zIndexes;if(c>0){u.pane_normal=c;u.content_mask=max(c+1,u.content_mask);u.resizer_normal=max(c+2,u.resizer_normal)}delete options.panes;function h(u){var h=options[u],f=options.panes;if(!h.fxSettings)h.fxSettings={};if(!f.fxSettings)f.fxSettings={};$.each(["_open","_close","_size"],function(e,t){var n="fxName"+t,i="fxSpeed"+t,r="fxSettings"+t,a=h[n]=h[n]||f[n]||h.fxName||f.fxName||"none",o=$.effects&&($.effects[a]||$.effects.effect&&$.effects.effect[a]);if(a==="none"||!options.effects[a]||!o)a=h[n]="none";var s=options.effects[a]||{},l=s.all||null,c=s[u]||null;h[i]=h[i]||f[i]||h.fxSpeed||f.fxSpeed||null;h[r]=$.extend(true,{},l,c,f.fxSettings,h.fxSettings,f[r],h[r])});delete h.fxName;delete h.fxSpeed;delete h.fxSettings}},getPane=function(e){var t=options[e].paneSelector;if(t.substr(0,1)==="#")return $N.find(t).eq(0);else{var n=$N.children(t).eq(0);return n.length?n:$N.children("form:first").children(t).eq(0)}},initPanes=function(e){evtPane(e);$.each(_c.allPanes,function(e,t){addPane(t,true)});initHandles();$.each(_c.borderPanes,function(e,t){if($Ps[t]&&state[t].isVisible){setSizeLimits(t);makePaneFit(t)}});sizeMidPanes("center");$.each(_c.allPanes,function(e,t){afterInitPane(t)})},addPane=function(e,t){if(!t&&!isInitialized())return;var n=options[e],i=state[e],r=_c[e],a=r.dir,o=i.fx,s=n.spacing_open||0,l=e==="center",c={},u=$Ps[e],h,f,d,p;if(u)removePane(e,false,true,false);else $Cs[e]=false;u=$Ps[e]=getPane(e);if(!u.length){$Ps[e]=false;return}if(!u.data("layoutCSS")){var m="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";u.data("layoutCSS",styles(u,m))}Instance[e]={name:e,pane:$Ps[e],content:$Cs[e],options:options[e],state:state[e],children:children[e]};u.data({parentLayout:Instance,layoutPane:Instance[e],layoutEdge:e,layoutRole:"pane"}).css(r.cssReq).css("zIndex",options.zIndexes.pane_normal).css(n.applyDemoStyles?r.cssDemo:{}).addClass(n.paneClass+" "+n.paneClass+"-"+e).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var g={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildren:"",resizeChildren:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"},v;for(v in g){u.bind("layoutpane"+v.toLowerCase()+"."+sID,Instance[g[v]||v])}initContent(e,false);if(!l){h=i.size=_parseSize(e,n.size);f=_parseSize(e,n.minSize)||1;d=_parseSize(e,n.maxSize)||1e5;if(h>0)h=max(min(h,d),f);i.autoResize=n.autoResize;i.isClosed=false;i.isSliding=false;i.isResizing=false;i.isHidden=false;if(!i.pins)i.pins=[]}i.tagName=u[0].tagName;i.edge=e;i.noRoom=false;i.isVisible=true;setPanePosition(e);if(a==="horz")c.height=cssH(u,h);else if(a==="vert")c.width=cssW(u,h);u.css(c);if(a!="horz")sizeMidPanes(e,true);if(state.initialized){initHandles(e);initHotkeys(e)}if(n.initClosed&&n.closable&&!n.initHidden)close(e,true,true);else if(n.initHidden||n.initClosed)hide(e);else if(!i.noRoom)u.css("display","block");u.css("visibility","visible");if(n.showOverflowOnHover)u.hover(allowOverflow,resetOverflow);if(state.initialized){afterInitPane(e)}},afterInitPane=function(e){var t=$Ps[e],n=state[e],i=options[e];if(!t)return;if(t.data("layout"))refreshChildren(e,t.data("layout"));if(n.isVisible){if(state.initialized)resizeAll();else sizeContent(e);if(i.triggerEventsOnLoad)_runCallbacks("onresize_end",e);else resizeChildren(e,true)}if(i.initChildren&&i.children)createChildren(e)},setPanePosition=function(e){e=e?e.split(","):_c.borderPanes;$.each(e,function(e,t){var n=$Ps[t],i=$Rs[t],r=options[t],a=state[t],o=_c[t].side,s={};if(!n)return;switch(t){case"north":s.top=sC.inset.top;s.left=sC.inset.left;s.right=sC.inset.right;break;case"south":s.bottom=sC.inset.bottom;s.left=sC.inset.left;s.right=sC.inset.right;break;case"west":s.left=sC.inset.left;break;case"east":s.right=sC.inset.right;break;case"center":}n.css(s);if(i&&a.isClosed)i.css(o,sC.inset[o]);else if(i&&!a.isHidden)i.css(o,sC.inset[o]+getPaneSize(t))})},initHandles=function(e){e=e?e.split(","):_c.borderPanes;$.each(e,function(e,t){var n=$Ps[t];$Rs[t]=false;$Ts[t]=false;if(!n)return;var i=options[t],r=state[t],a=_c[t],o=i.paneSelector.substr(0,1)==="#"?i.paneSelector.substr(1):"",s=i.resizerClass,l=i.togglerClass,c=r.isVisible?i.spacing_open:i.spacing_closed,u="-"+t,h=r.isVisible?"-open":"-closed",f=Instance[t],d=f.resizer=$Rs[t]=$("<div></div>"),p=f.toggler=i.closable?$Ts[t]=$("<div></div>"):false;if(!r.isVisible&&i.slidable)d.attr("title",i.tips.Slide).css("cursor",i.sliderCursor);d.attr("id",o?o+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(i.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(s+" "+s+u).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).mousedown($.layout.disableTextSelection).mouseup($.layout.enableTextSelection).appendTo($N);if($.fn.disableSelection)d.disableSelection();if(i.resizerDblClickToggle)d.bind("dblclick."+sID,toggle);if(p){p.attr("id",o?o+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(i.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(l+" "+l+u).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(d);if(i.togglerContent_open)$("<span>"+i.togglerContent_open+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(p);if(i.togglerContent_closed)$("<span>"+i.togglerContent_closed+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(p);enableClosable(t)}initResizable(t);if(r.isVisible)setAsOpen(t);else{setAsClosed(t);bindStartSlidingEvents(t,true)}});sizeHandles()},initContent=function(e,t){if(!isInitialized())return;var n=options[e],i=n.contentSelector,r=Instance[e],a=$Ps[e],o;if(i)o=r.content=$Cs[e]=n.findNestedContent?a.find(i).eq(0):a.children(i).eq(0);if(o&&o.length){o.data("layoutRole","content");if(!o.data("layoutCSS"))o.data("layoutCSS",styles(o,"height"));o.css(_c.content.cssReq);if(n.applyDemoStyles){o.css(_c.content.cssDemo);a.css(_c.content.cssDemoPane)}if(a.css("overflowX").match(/(scroll|auto)/)){a.css("overflow","hidden")}state[e].content={};if(t!==false)sizeContent(e)}else r.content=$Cs[e]=false},initResizable=function(e){var x=$.layout.plugins.draggable,t;e=e?e.split(","):_c.borderPanes;$.each(e,function(e,i){var r=options[i];if(!x||!$Ps[i]||!r.resizable){r.resizable=false;return true}var a=state[i],o=options.zIndexes,t=_c[i],s=t.dir=="horz"?"top":"left",n=$Ps[i],l=$Rs[i],c=r.resizerClass,u=0,h,f,d=c+"-drag",p=c+"-"+i+"-drag",m=c+"-dragging",g=c+"-"+i+"-dragging",v=c+"-dragging-limit",b=c+"-"+i+"-dragging-limit",y=false;if(!a.isClosed)l.attr("title",r.tips.Resize).css("cursor",r.resizerCursor);l.draggable({containment:$N[0],axis:t.dir=="horz"?"y":"x",delay:0,distance:1,grid:r.resizingGrid,helper:"clone",opacity:r.resizerDragOpacity,addClasses:false,zIndex:o.resizer_drag,start:function(e,t){r=options[i];a=state[i];f=r.livePaneResizing;if(false===_runCallbacks("ondrag_start",i))return false;a.isResizing=true;state.paneResizing=i;timer.clear(i+"_closeSlider");setSizeLimits(i);h=a.resizerPosition;u=t.position[s];l.addClass(d+" "+p);y=false;showMasks(i,{resizing:true})},drag:function(e,t){if(!y){t.helper.addClass(m+" "+g).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden");y=true;if(a.isSliding)$Ps[i].css("zIndex",o.pane_sliding)}var n=0;if(t.position[s]<h.min){t.position[s]=h.min;n=-1}else if(t.position[s]>h.max){t.position[s]=h.max;n=1}if(n){t.helper.addClass(v+" "+b);window.defaultStatus=n>0&&i.match(/(north|west)/)||n<0&&i.match(/(south|east)/)?r.tips.maxSizeWarning:r.tips.minSizeWarning}else{t.helper.removeClass(v+" "+b);window.defaultStatus=""}if(f&&Math.abs(t.position[s]-u)>=r.liveResizingTolerance){u=t.position[s];w(e,t,i)}},stop:function(e,t){$("body").enableSelection();window.defaultStatus="";l.removeClass(d+" "+p);a.isResizing=false;state.paneResizing=false;w(e,t,i,true)}})});var w=function(e,t,n,i){var r=t.position,a=_c[n],o=options[n],s=state[n],l;switch(n){case"north":l=r.top;break;case"west":l=r.left;break;case"south":l=sC.layoutHeight-r.top-o.spacing_open;break;case"east":l=sC.layoutWidth-r.left-o.spacing_open;break}var c=l-sC.inset[a.side];if(!i){if(Math.abs(c-s.size)<o.liveResizingTolerance)return;manualSizePane(n,c,false,true);sizeMasks()}else{if(false!==_runCallbacks("ondrag_end",n))manualSizePane(n,c,false,true);hideMasks(true);if(s.isSliding)showMasks(n,{resizing:true})}}},sizeMask=function(){var e=$(this),t=e.data("layoutMask"),n=state[t];if(n.tagName=="IFRAME"&&n.isVisible)e.css({top:n.offsetTop,left:n.offsetLeft,width:n.outerWidth,height:n.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(e,t){var n=_c[e],i=["center"],r=options.zIndexes,a=$.extend({objectsOnly:false,animation:false,resizing:true,sliding:state[e].isSliding},t),o,s;if(a.resizing)i.push(e);if(a.sliding)i.push(_c.oppositeEdge[e]);if(n.dir==="horz"){i.push("west");i.push("east")}$.each(i,function(e,t){s=state[t];o=options[t];if(s.isVisible&&(o.maskObjects||!a.objectsOnly&&o.maskContents)){getMasks(t).each(function(){sizeMask.call(this);this.style.zIndex=s.isSliding?r.pane_sliding+1:r.pane_normal+1;this.style.display="block"})}})},hideMasks=function(e){if(e||!state.paneResizing){$Ms.hide()}else if(!e&&!$.isEmptyObject(state.panesSliding)){var t=$Ms.length-1,n,i;for(;t>=0;t--){i=$Ms.eq(t);n=i.data("layoutMask");if(!options[n].maskObjects){i.hide()}}}},getMasks=function(e){var t=$([]),n,i=0,r=$Ms.length;for(;i<r;i++){n=$Ms.eq(i);if(n.data("layoutMask")===e)t=t.add(n)}if(t.length)return t;else return createMasks(e)},createMasks=function(e){var t=$Ps[e],n=state[e],i=options[e],r=options.zIndexes,a,o,s,l,c;if(!i.maskContents&&!i.maskObjects)return $([]);for(c=0;c<(i.maskObjects?2:1);c++){a=i.maskObjects&&c==0;o=document.createElement(a?"iframe":"div");s=$(o).data("layoutMask",e);o.className="ui-layout-mask ui-layout-mask-"+e;l=o.style;l.background="#FFF";l.position="absolute";l.display="block";if(a){o.src="about:blank";o.frameborder=0;l.border=0;l.opacity=0;l.filter="Alpha(Opacity='0')"}else{l.opacity=.001;l.filter="Alpha(Opacity='1')"}if(n.tagName=="IFRAME"){l.zIndex=r.pane_normal+1;$N.append(o)}else{s.addClass("ui-layout-mask-inside-pane");l.zIndex=i.maskZindex||r.content_mask;l.top=0;l.left=0;l.width="100%";l.height="100%";t.append(o)}$Ms=$Ms.add(o)}return $Ms},destroy=function(e,n){$(window).unbind("."+sID);$(document).unbind("."+sID);if(typeof e==="object")evtPane(e);else n=e;$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID);$Ms.remove();$.each(_c.allPanes,function(e,t){removePane(t,false,true,n)});var t="layoutCSS";if($N.data(t)&&!$N.data("layoutRole"))$N.css($N.data(t)).removeData(t);if(sC.tagName==="BODY"&&($N=$("html")).data(t))$N.css($N.data(t)).removeData(t);runPluginCallbacks(Instance,$.layout.onDestroy);unload();for(var i in Instance)if(!i.match(/^(container|options)$/))delete Instance[i];Instance.destroyed=true;return Instance},removePane=function(e,t,n,i){if(!isInitialized())return;var r=evtPane.call(this,e),a=$Ps[r],o=$Cs[r],s=$Rs[r],l=$Ts[r];if(a&&$.isEmptyObject(a.data()))a=false;if(o&&$.isEmptyObject(o.data()))o=false;if(s&&$.isEmptyObject(s.data()))s=false;if(l&&$.isEmptyObject(l.data()))l=false;if(a)a.stop(true,true);var c=options[r],u=state[r],h="layout",f="layoutCSS",d=children[r],p=$.isPlainObject(d)&&!$.isEmptyObject(d),m=i!==undefined?i:c.destroyChildren;if(p&&m){$.each(d,function(e,t){if(!t.destroyed)t.destroy(true);if(t.destroyed)delete d[e]});if($.isEmptyObject(d)){d=children[r]=null;p=false}}if(a&&t&&!p)a.remove();else if(a&&a[0]){var g=c.paneClass,v=g+"-"+r,b="-open",y="-sliding",x="-closed",w=[g,g+b,g+x,g+y,v,v+b,v+x,v+y];$.merge(w,getHoverClasses(a,true));a.removeClass(w.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID);if(p&&o){o.width(o.width());$.each(d,function(e,t){t.resizeAll()})}else if(o)o.css(o.data(f)).removeData(f).removeData("layoutRole");if(!a.data(h))a.css(a.data(f)).removeData(f)}if(l)l.remove();if(s)s.remove();Instance[r]=$Ps[r]=$Cs[r]=$Rs[r]=$Ts[r]=false;u={removed:true};if(!n)resizeAll()},_hidePane=function(e){var t=$Ps[e],n=options[e],i=t[0].style;if(n.useOffscreenClose){if(!t.data(_c.offscreenReset))t.data(_c.offscreenReset,{left:i.left,right:i.right});t.css(_c.offscreenCSS)}else t.hide().removeData(_c.offscreenReset)},_showPane=function(e){var t=$Ps[e],n=options[e],i=_c.offscreenCSS,r=t.data(_c.offscreenReset),a=t[0].style;t.show().removeData(_c.offscreenReset);if(n.useOffscreenClose&&r){if(a.left==i.left)a.left=r.left;if(a.right==i.right)a.right=r.right}},hide=function(e,t){if(!isInitialized())return;var n=evtPane.call(this,e),i=options[n],r=state[n],a=$Ps[n],o=$Rs[n];if(n==="center"||!a||r.isHidden)return;if(state.initialized&&false===_runCallbacks("onhide_start",n))return;r.isSliding=false;delete state.panesSliding[n];if(o)o.hide();if(!state.initialized||r.isClosed){r.isClosed=true;r.isHidden=true;r.isVisible=false;if(!state.initialized)_hidePane(n);sizeMidPanes(_c[n].dir==="horz"?"":"center");if(state.initialized||i.triggerEventsOnLoad)_runCallbacks("onhide_end",n)}else{r.isHiding=true;close(n,false,t)}},show=function(e,t,n,i){if(!isInitialized())return;var r=evtPane.call(this,e),a=options[r],o=state[r],s=$Ps[r],l=$Rs[r];if(r==="center"||!s||!o.isHidden)return;if(false===_runCallbacks("onshow_start",r))return;o.isShowing=true;o.isSliding=false;delete state.panesSliding[r];if(t===false)close(r,true);else open(r,false,n,i)},toggle=function(e,t){if(!isInitialized())return;var n=evtObj(e),i=evtPane.call(this,e),r=state[i];if(n)n.stopImmediatePropagation();if(r.isHidden)show(i);else if(r.isClosed)open(i,!!t);else close(i)},_closePane=function(e,t){var n=$Ps[e],i=state[e];_hidePane(e);i.isClosed=true;i.isVisible=false;if(t)setAsClosed(e)},close=function(e,n,i,t){var r=evtPane.call(this,e);if(r==="center")return;if(!state.initialized&&$Ps[r]){_closePane(r,true);return}if(!isInitialized())return;var a=$Ps[r],o=$Rs[r],s=$Ts[r],l=options[r],c=state[r],u=_c[r],h,f,d,p;$N.queue(function(e){if(!a||!l.closable&&!c.isShowing&&!c.isHiding||!n&&c.isClosed&&!c.isShowing)return e();var t=!c.isShowing&&false===_runCallbacks("onclose_start",r);f=c.isShowing;d=c.isHiding;p=c.isSliding;delete c.isShowing;delete c.isHiding;if(t)return e();h=!i&&!c.isClosed&&l.fxName_close!="none";c.isMoving=true;c.isClosed=true;c.isVisible=false;if(d)c.isHidden=true;else if(f)c.isHidden=false;if(c.isSliding)bindStopSlidingEvents(r,false);else sizeMidPanes(_c[r].dir==="horz"?"":"center",false);setAsClosed(r);if(h){lockPaneForFX(r,true);a.hide(l.fxName_close,l.fxSettings_close,l.fxSpeed_close,function(){lockPaneForFX(r,false);if(c.isClosed)m();e()})}else{_hidePane(r);m();e()}});function m(){c.isMoving=false;bindStartSlidingEvents(r,true);var e=_c.oppositeEdge[r];if(state[e].noRoom){setSizeLimits(e);makePaneFit(e)}if(!t&&(state.initialized||l.triggerEventsOnLoad)){if(!f)_runCallbacks("onclose_end",r);if(f)_runCallbacks("onshow_end",r);if(d)_runCallbacks("onhide_end",r)}}},setAsClosed=function(e){if(!$Rs[e])return;var t=$Ps[e],n=$Rs[e],i=$Ts[e],r=options[e],a=state[e],o=_c[e].side,s=r.resizerClass,l=r.togglerClass,c="-"+e,u="-open",h="-sliding",f="-closed";n.css(o,sC.inset[o]).removeClass(s+u+" "+s+c+u).removeClass(s+h+" "+s+c+h).addClass(s+f+" "+s+c+f);if(a.isHidden)n.hide();if(r.resizable&&$.layout.plugins.draggable)n.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title","");if(i){i.removeClass(l+u+" "+l+c+u).addClass(l+f+" "+l+c+f).attr("title",r.tips.Open);i.children(".content-open").hide();i.children(".content-closed").css("display","block")}syncPinBtns(e,false);if(state.initialized){sizeHandles()}},open=function(e,n,i,r){if(!isInitialized())return;var a=evtPane.call(this,e),o=$Ps[a],t=$Rs[a],s=$Ts[a],l=options[a],c=state[a],u=_c[a],h,f;if(a==="center")return;$N.queue(function(e){if(!o||!l.resizable&&!l.closable&&!c.isShowing||c.isVisible&&!c.isSliding)return e();if(c.isHidden&&!c.isShowing){e();show(a,true);return}if(c.autoResize&&c.size!=l.size)sizePane(a,l.size,true,true,true);else setSizeLimits(a,n);var t=_runCallbacks("onopen_start",a);if(t==="abort")return e();if(t!=="NC")setSizeLimits(a,n);if(c.minSize>c.maxSize){syncPinBtns(a,false);if(!r&&l.tips.noRoomToOpen)alert(l.tips.noRoomToOpen);return e()}if(n)bindStopSlidingEvents(a,true);else if(c.isSliding)bindStopSlidingEvents(a,false);else if(l.slidable)bindStartSlidingEvents(a,false);c.noRoom=false;makePaneFit(a);f=c.isShowing;delete c.isShowing;h=!i&&c.isClosed&&l.fxName_open!="none";c.isMoving=true;c.isVisible=true;c.isClosed=false;if(f)c.isHidden=false;if(h){lockPaneForFX(a,true);o.show(l.fxName_open,l.fxSettings_open,l.fxSpeed_open,function(){lockPaneForFX(a,false);if(c.isVisible)d();e()})}else{_showPane(a);d();e()}});function d(){c.isMoving=false;_fixIframe(a);if(!c.isSliding){sizeMidPanes(_c[a].dir=="vert"?"center":"",false)}setAsOpen(a)}},setAsOpen=function(e,t){var n=$Ps[e],i=$Rs[e],r=$Ts[e],a=options[e],o=state[e],s=_c[e].side,l=a.resizerClass,c=a.togglerClass,u="-"+e,h="-open",f="-closed",d="-sliding";i.css(s,sC.inset[s]+getPaneSize(e)).removeClass(l+f+" "+l+u+f).addClass(l+h+" "+l+u+h);if(o.isSliding)i.addClass(l+d+" "+l+u+d);else i.removeClass(l+d+" "+l+u+d);removeHover(0,i);if(a.resizable&&$.layout.plugins.draggable)i.draggable("enable").css("cursor",a.resizerCursor).attr("title",a.tips.Resize);else if(!o.isSliding)i.css("cursor","default");if(r){r.removeClass(c+f+" "+c+u+f).addClass(c+h+" "+c+u+h).attr("title",a.tips.Close);removeHover(0,r);r.children(".content-closed").hide();r.children(".content-open").css("display","block")}syncPinBtns(e,!o.isSliding);$.extend(o,elDims(n));if(state.initialized){sizeHandles();sizeContent(e,true)}if(!t&&(state.initialized||a.triggerEventsOnLoad)&&n.is(":visible")){_runCallbacks("onopen_end",e);if(o.isShowing)_runCallbacks("onshow_end",e);if(state.initialized)_runCallbacks("onresize_end",e)}},slideOpen=function(e){if(!isInitialized())return;var t=evtObj(e),n=evtPane.call(this,e),i=state[n],r=options[n].slideDelay_open;if(n==="center")return;if(t)t.stopImmediatePropagation();if(i.isClosed&&t&&t.type==="mouseenter"&&r>0)timer.set(n+"_openSlider",a,r);else a();function a(){if(!i.isClosed)bindStopSlidingEvents(n,true);else if(!i.isMoving)open(n,true)}},slideClose=function(e){if(!isInitialized())return;var t=evtObj(e),n=evtPane.call(this,e),i=options[n],r=state[n],a=r.isMoving?1e3:300;if(n==="center")return;if(r.isClosed||r.isResizing)return;else if(i.slideTrigger_close==="click")o();else if(i.preventQuickSlideClose&&r.isMoving)return;else if(i.preventPrematureSlideClose&&t&&$.layout.isMouseOverElem(t,$Ps[n]))return;else if(t)timer.set(n+"_closeSlider",o,max(i.slideDelay_close,a));else o();function o(){if(r.isClosed)bindStopSlidingEvents(n,false);else if(!r.isMoving)close(n)}},slideToggle=function(e){var t=evtPane.call(this,e);toggle(t,true)},lockPaneForFX=function(e,t){var n=$Ps[e],i=state[e],r=options[e],a=options.zIndexes;if(t){showMasks(e,{animation:true,objectsOnly:true});n.css({zIndex:a.pane_animate});if(e=="south")n.css({top:sC.inset.top+sC.innerHeight-n.outerHeight()});else if(e=="east")n.css({left:sC.inset.left+sC.innerWidth-n.outerWidth()})}else{hideMasks();n.css({zIndex:i.isSliding?a.pane_sliding:a.pane_normal});if(e=="south")n.css({top:"auto"});else if(e=="east"&&!n.css("left").match(/\-99999/))n.css({left:"auto"});if(browser.msie&&r.fxOpacityFix&&r.fxName_open!="slide"&&n.css("filter")&&n.css("opacity")==1)n[0].style.removeAttribute("filter")}},bindStartSlidingEvents=function(e,t){var n=options[e],i=$Ps[e],r=$Rs[e],a=n.slideTrigger_open.toLowerCase();if(!r||t&&!n.slidable)return;if(a.match(/mouseover/))a=n.slideTrigger_open="mouseenter";else if(!a.match(/(click|dblclick|mouseenter)/))a=n.slideTrigger_open="click";if(n.resizerDblClickToggle&&a.match(/click/)){r[t?"unbind":"bind"]("dblclick."+sID,toggle)}r[t?"bind":"unbind"](a+"."+sID,slideOpen).css("cursor",t?n.sliderCursor:"default").attr("title",t?n.tips.Slide:"")},bindStopSlidingEvents=function(t,e){var n=options[t],i=state[t],r=_c[t],a=options.zIndexes,o=n.slideTrigger_close.toLowerCase(),s=e?"bind":"unbind",l=$Ps[t],c=$Rs[t];timer.clear(t+"_closeSlider");if(e){i.isSliding=true;state.panesSliding[t]=true;bindStartSlidingEvents(t,false)}else{i.isSliding=false;delete state.panesSliding[t]}l.css("zIndex",e?a.pane_sliding:a.pane_normal);c.css("zIndex",e?a.pane_sliding+2:a.resizer_normal);if(!o.match(/(click|mouseleave)/))o=n.slideTrigger_close="mouseleave";c[s](o,slideClose);if(o==="mouseleave"){l[s]("mouseleave."+sID,slideClose);c[s]("mouseenter."+sID,u);l[s]("mouseenter."+sID,u)}if(!e)timer.clear(t+"_closeSlider");else if(o==="click"&&!n.resizable){c.css("cursor",e?n.sliderCursor:"default");c.attr("title",e?n.tips.Close:"")}function u(e){timer.clear(t+"_closeSlider");e.stopPropagation()}},makePaneFit=function(e,t,n,i){var r=options[e],a=state[e],o=_c[e],s=$Ps[e],l=$Rs[e],c=o.dir==="vert",u=false;if(e==="center"||c&&a.noVerticalRoom){u=a.maxHeight>=0;if(u&&a.noRoom){_showPane(e);if(l)l.show();a.isVisible=true;a.noRoom=false;if(c)a.noVerticalRoom=false;_fixIframe(e)}else if(!u&&!a.noRoom){_hidePane(e);if(l)l.hide();a.isVisible=false;a.noRoom=true}}if(e==="center"){}else if(a.minSize<=a.maxSize){u=true;if(a.size>a.maxSize)sizePane(e,a.maxSize,n,true,i);else if(a.size<a.minSize)sizePane(e,a.minSize,n,true,i);else if(l&&a.isVisible&&s.is(":visible")){var h=a.size+sC.inset[o.side];if($.layout.cssNum(l,o.side)!=h)l.css(o.side,h)}if(a.noRoom){if(a.wasOpen&&r.closable){if(r.autoReopen)open(e,false,true,true);else a.noRoom=false}else show(e,a.wasOpen,true,true)}}else{if(!a.noRoom){a.noRoom=true;a.wasOpen=!a.isClosed&&!a.isSliding;if(a.isClosed){}else if(r.closable)close(e,true,true);else hide(e,true)}}},manualSizePane=function(e,t,n,i,r){if(!isInitialized())return;var a=evtPane.call(this,e),o=options[a],s=state[a],l=r||o.livePaneResizing&&!s.isResizing;if(a==="center")return;s.autoResize=false;sizePane(a,t,n,i,l)},sizePane=function(e,o,s,t,l){if(!isInitialized())return;var c=evtPane.call(this,e),a=options[c],u=state[c],h=$Ps[c],f=$Rs[c],d=_c[c].side,p=_c[c].sizeType.toLowerCase(),m=u.isResizing&&!a.triggerEventsDuringLiveResize,g=t!==true&&a.animatePaneSizing,v,b;if(c==="center")return;$N.queue(function(e){setSizeLimits(c);v=u.size;o=_parseSize(c,o);o=max(o,_parseSize(c,a.minSize));o=min(o,u.maxSize);if(o<u.minSize){e();makePaneFit(c,false,s);return}if(!l&&o===v)return e();u.newSize=o;if(!s&&state.initialized&&u.isVisible)_runCallbacks("onresize_start",c);b=cssSize(c,o);if(g&&h.is(":visible")){var t=$.layout.effects.size[c]||$.layout.effects.size.all,n=a.fxSettings_size.easing||t.easing,i=options.zIndexes,r={};r[p]=b+"px";u.isMoving=true;h.css({zIndex:i.pane_animate}).show().animate(r,a.fxSpeed_size,n,function(){h.css({zIndex:u.isSliding?i.pane_sliding:i.pane_normal});u.isMoving=false;delete u.newSize;y();e()})}else{h.css(p,b);delete u.newSize;if(h.is(":visible"))y();else{u.size=o}e()}});function y(){var e=p==="width"?h.outerWidth():h.outerHeight(),t=[{pane:c,count:1,target:o,actual:e,correct:o===e,attempt:o,cssSize:b}],n=t[0],i={},r="Inaccurate size after resizing the "+c+"-pane.";while(!n.correct){i={pane:c,count:n.count+1,target:o};if(n.actual>o)i.attempt=max(0,n.attempt-(n.actual-o));else i.attempt=max(0,n.attempt+(o-n.actual));i.cssSize=cssSize(c,i.attempt);h.css(p,i.cssSize);i.actual=p=="width"?h.outerWidth():h.outerHeight();i.correct=o===i.actual;if(t.length===1){_log(r,false,true);_log(n,false,true)}_log(i,false,true);if(t.length>3)break;t.push(i);n=t[t.length-1]}u.size=o;$.extend(u,elDims(h));if(u.isVisible&&h.is(":visible")){if(f)f.css(d,o+sC.inset[d]);sizeContent(c)}if(!s&&!m&&state.initialized&&u.isVisible)_runCallbacks("onresize_end",c);if(!s){if(!u.isSliding)sizeMidPanes(_c[c].dir=="horz"?"":"center",m,l);sizeHandles()}var a=_c.oppositeEdge[c];if(o<v&&state[a].noRoom){setSizeLimits(a);makePaneFit(a,false,s)}if(t.length>1)_log(r+"\nSee the Error Console for details.",true,true)}},sizeMidPanes=function(e,y,x){e=(e?e:"east,west,center").split(",");$.each(e,function(e,t){if(!$Ps[t])return;var n=options[t],i=state[t],r=$Ps[t],a=$Rs[t],o=t=="center",s=true,l={},c=$.layout.showInvisibly(r),u=calcNewCenterPaneDims();$.extend(i,elDims(r));if(t==="center"){if(!x&&i.isVisible&&u.width===i.outerWidth&&u.height===i.outerHeight){r.css(c);return true}$.extend(i,cssMinDims(t),{maxWidth:u.width,maxHeight:u.height});l=u;i.newWidth=l.width;i.newHeight=l.height;l.width=cssW(r,l.width);l.height=cssH(r,l.height);s=l.width>=0&&l.height>=0;if(!state.initialized&&n.minWidth>u.width){var h=n.minWidth-i.outerWidth,f=options.east.minSize||0,d=options.west.minSize||0,p=state.east.size,m=state.west.size,g=p,v=m;if(h>0&&state.east.isVisible&&p>f){g=max(p-f,p-h);h-=p-g}if(h>0&&state.west.isVisible&&m>d){v=max(m-d,m-h);h-=m-v}if(h===0){if(p&&p!=f)sizePane("east",g,true,true,x);if(m&&m!=d)sizePane("west",v,true,true,x);sizeMidPanes("center",y,x);r.css(c);return}}}else{if(i.isVisible&&!i.noVerticalRoom)$.extend(i,elDims(r),cssMinDims(t));if(!x&&!i.noVerticalRoom&&u.height===i.outerHeight){r.css(c);return true}l.top=u.top;l.bottom=u.bottom;i.newSize=u.height;l.height=cssH(r,u.height);i.maxHeight=l.height;s=i.maxHeight>=0;if(!s)i.noVerticalRoom=true}if(s){if(!y&&state.initialized)_runCallbacks("onresize_start",t);r.css(l);if(t!=="center")sizeHandles(t);if(i.noRoom&&!i.isClosed&&!i.isHidden)makePaneFit(t);if(i.isVisible){$.extend(i,elDims(r));if(state.initialized)sizeContent(t)}}else if(!i.noRoom&&i.isVisible)makePaneFit(t);r.css(c);delete i.newSize;delete i.newWidth;delete i.newHeight;if(!i.isVisible)return true;if(t==="center"){var b=browser.isIE6||!browser.boxModel;if($Ps.north&&(b||state.north.tagName=="IFRAME"))$Ps.north.css("width",cssW($Ps.north,sC.innerWidth));if($Ps.south&&(b||state.south.tagName=="IFRAME"))$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}if(!y&&state.initialized)_runCallbacks("onresize_end",t)})},resizeAll=function(e){var t=sC.innerWidth,n=sC.innerHeight;evtPane(e);if(!$N.is(":visible"))return;if(!state.initialized){_initLayoutElements();return}if(e===true&&$.isPlainObject(options.outset)){$N.css(options.outset)}$.extend(sC,elDims($N,options.inset));if(!sC.outerHeight)return;if(e===true){setPanePosition()}if(false===_runCallbacks("onresizeall_start"))return false;var i=sC.innerHeight<n,r=sC.innerWidth<t,a,o,s;$.each(["south","north","east","west"],function(e,t){if(!$Ps[t])return;o=options[t];s=state[t];if(s.autoResize&&s.size!=o.size)sizePane(t,o.size,true,true,true);else{setSizeLimits(t);makePaneFit(t,false,true,true)}});sizeMidPanes("",true,true);sizeHandles();$.each(_c.allPanes,function(e,t){a=$Ps[t];if(!a)return;if(state[t].isVisible)_runCallbacks("onresize_end",t)});_runCallbacks("onresizeall_end")},resizeChildren=function(e,t){var n=evtPane.call(this,e);if(!options[n].resizeChildren)return;if(!t)refreshChildren(n);var i=children[n];if($.isPlainObject(i)){$.each(i,function(e,t){if(!t.destroyed)t.resizeAll()})}},sizeContent=function(e,u){if(!isInitialized())return;var t=evtPane.call(this,e);t=t?t.split(","):_c.allPanes;$.each(t,function(e,r){var t=$Ps[r],a=$Cs[r],n=options[r],i=state[r],o=i.content;if(!t||!a||!t.is(":visible"))return true;if(!a.length){initContent(r,false);if(!a)return}if(false===_runCallbacks("onsizecontent_start",r))return;if(!i.isMoving&&!i.isResizing||n.liveContentResizing||u||o.top==undefined){c();if(o.hiddenFooters>0&&t.css("overflow")==="hidden"){t.css("overflow","visible");c();t.css("overflow","hidden")}}var s=i.innerHeight-(o.spaceAbove-i.css.paddingTop)-(o.spaceBelow-i.css.paddingBottom);if(!a.is(":visible")||o.height!=s){setOuterHeight(a,s,true);o.height=s}if(state.initialized)_runCallbacks("onsizecontent_end",r);function l(e){return max(i.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function c(){var e=options[r].contentIgnoreSelector,t=a.nextAll().not(".ui-layout-mask").not(e||":lt(0)"),n=t.filter(":visible"),i=n.filter(":last");o={top:a[0].offsetTop,height:a.outerHeight(),numFooters:t.length,hiddenFooters:t.length-n.length,spaceBelow:0};o.spaceAbove=o.top;o.bottom=o.top+o.height;if(i.length)o.spaceBelow=i[0].offsetTop+i.outerHeight()-o.bottom+l(i);else o.spaceBelow=l(a)}})},sizeHandles=function(e){var t=evtPane.call(this,e);t=t?t.split(","):_c.borderPanes;$.each(t,function(e,t){var n=options[t],i=state[t],r=$Ps[t],a=$Rs[t],o=$Ts[t],s;if(!r||!a)return;var l=_c[t].dir,c=i.isClosed?"_closed":"_open",u=n["spacing"+c],h=n["togglerAlign"+c],f=n["togglerLength"+c],d,p,m,g={};if(u===0){a.hide();return}else if(!i.noRoom&&!i.isHidden)a.show();if(l==="horz"){d=sC.innerWidth;i.resizerLength=d;p=$.layout.cssNum(r,"left");a.css({width:cssW(a,d),height:cssH(a,u),left:p>-9999?p:sC.inset.left})}else{d=r.outerHeight();i.resizerLength=d;a.css({height:cssH(a,d),width:cssW(a,u),top:sC.inset.top+getPaneSize("north",true)})}removeHover(n,a);if(o){if(f===0||i.isSliding&&n.hideTogglerOnSlide){o.hide();return}else o.show();if(!(f>0)||f==="100%"||f>d){f=d;m=0}else{if(isStr(h)){switch(h){case"top":case"left":m=0;break;case"bottom":case"right":m=d-f;break;case"middle":case"center":default:m=round((d-f)/2)}}else{var v=parseInt(h,10);if(h>=0)m=v;else m=d-f+v}}if(l==="horz"){var b=cssW(o,f);o.css({width:b,height:cssH(o,u),left:m,top:0});o.children(".content").each(function(){s=$(this);s.css("marginLeft",round((b-s.outerWidth())/2))})}else{var y=cssH(o,f);o.css({height:y,width:cssW(o,u),top:m,left:0});o.children(".content").each(function(){s=$(this);s.css("marginTop",round((y-s.outerHeight())/2))})}removeHover(0,o)}if(!state.initialized&&(n.initHidden||i.isHidden)){a.hide();if(o)o.hide()}})},enableClosable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Ts[t],i=options[t];if(!n)return;i.closable=true;n.bind("click."+sID,function(e){e.stopPropagation();toggle(t)}).css("visibility","visible").css("cursor","pointer").attr("title",state[t].isClosed?i.tips.Open:i.tips.Close).show()},disableClosable=function(e,t){if(!isInitialized())return;var n=evtPane.call(this,e),i=$Ts[n];if(!i)return;options[n].closable=false;if(state[n].isClosed)open(n,false,true);i.unbind("."+sID).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title","")},enableSlidable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Rs[t];if(!n||!n.data("draggable"))return;options[t].slidable=true;if(state[t].isClosed)bindStartSlidingEvents(t,true)},disableSlidable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Rs[t];if(!n)return;options[t].slidable=false;if(state[t].isSliding)close(t,false,true);else{bindStartSlidingEvents(t,false);n.css("cursor","default").attr("title","");removeHover(null,n[0])}},enableResizable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Rs[t],i=options[t];if(!n||!n.data("draggable"))return;i.resizable=true;n.draggable("enable");if(!state[t].isClosed)n.css("cursor",i.resizerCursor).attr("title",i.tips.Resize)},disableResizable=function(e){if(!isInitialized())return;var t=evtPane.call(this,e),n=$Rs[t];if(!n||!n.data("draggable"))return;options[t].resizable=false;n.draggable("disable").css("cursor","default").attr("title","");removeHover(null,n[0])},swapPanes=function(e,t){if(!isInitialized())return;var n=evtPane.call(this,e);state[n].edge=t;state[t].edge=n;if(false===_runCallbacks("onswap_start",n)||false===_runCallbacks("onswap_start",t)){state[n].edge=n;state[t].edge=t;return}var i=a(n),r=a(t),f={};f[n]=i?i.state.size:0;f[t]=r?r.state.size:0;$Ps[n]=false;$Ps[t]=false;state[n]={};state[t]={};if($Ts[n])$Ts[n].remove();if($Ts[t])$Ts[t].remove();if($Rs[n])$Rs[n].remove();if($Rs[t])$Rs[t].remove();$Rs[n]=$Rs[t]=$Ts[n]=$Ts[t]=false;o(i,t);o(r,n);i=r=f=null;if($Ps[n])$Ps[n].css(_c.visible);if($Ps[t])$Ps[t].css(_c.visible);resizeAll();_runCallbacks("onswap_end",n);_runCallbacks("onswap_end",t);return;function a(e){var t=$Ps[e],n=$Cs[e];return!t?false:{pane:e,P:t?t[0]:false,C:n?n[0]:false,state:$.extend(true,{},state[e]),options:$.extend(true,{},options[e])}}function o(e,t){if(!e)return;var n=e.P,i=e.C,r=e.pane,a=_c[t],o=$.extend(true,{},state[t]),s=options[t],l={resizerCursor:s.resizerCursor},c,u,h;$.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){l[t+"_open"]=s[t+"_open"];l[t+"_close"]=s[t+"_close"];l[t+"_size"]=s[t+"_size"]});$Ps[t]=$(n).data({layoutPane:Instance[t],layoutEdge:t}).css(_c.hidden).css(a.cssReq);$Cs[t]=i?$(i):false;options[t]=$.extend(true,{},e.options,l);state[t]=$.extend(true,{},e.state);c=new RegExp(s.paneClass+"-"+r,"g");n.className=n.className.replace(c,s.paneClass+"-"+t);initHandles(t);if(a.dir!=_c[r].dir){u=f[t]||0;setSizeLimits(t);u=max(u,state[t].minSize);manualSizePane(t,u,true,true)}else $Rs[t].css(a.side,sC.inset[a.side]+(state[t].isVisible?getPaneSize(t):0));if(e.state.isVisible&&!o.isVisible)setAsOpen(t,true);else{setAsClosed(t);bindStartSlidingEvents(t,true)}e=null}},syncPinBtns=function(n,i){if($.layout.plugins.buttons)$.each(state[n].pins,function(e,t){$.layout.buttons.setPinState(Instance,$(t),n,i)})};function keyDown(e){if(!e)return true;var n=e.keyCode;if(n<33)return true;var t={38:"north",40:"south",37:"west",39:"east"},i=e.altKey,r=e.shiftKey,a=e.ctrlKey,o=a&&n>=37&&n<=40,s,l,c,u;if(o&&options[t[n]].enableCursorHotkey)u=t[n];else if(a||r)$.each(_c.borderPanes,function(e,t){s=options[t];l=s.customHotkey;c=s.customHotkeyModifier;if(r&&c=="SHIFT"||a&&c=="CTRL"||a&&r){if(l&&n===(isNaN(l)||l<=9?l.toUpperCase().charCodeAt(0):l)){u=t;return false}}});if(!u||!$Ps[u]||!options[u].closable||state[u].isHidden)return true;toggle(u);e.stopPropagation();e.returnValue=false;return false}function allowOverflow(e){if(!isInitialized())return;if(this&&this.tagName)e=this;var t;if(isStr(e))t=$Ps[e];else if($(e).data("layoutRole"))t=$(e);else $(e).parents().each(function(){if($(this).data("layoutRole")){t=$(this);return false}});if(!t||!t.length)return;var n=t.data("layoutEdge"),i=state[n];if(i.cssSaved)resetOverflow(n);if(i.isSliding||i.isResizing||i.isClosed){i.cssSaved=false;return}var r={zIndex:options.zIndexes.resizer_normal+1},a={},o=t.css("overflow"),s=t.css("overflowX"),l=t.css("overflowY");if(o!="visible"){a.overflow=o;r.overflow="visible"}if(s&&!s.match(/(visible|auto)/)){a.overflowX=s;r.overflowX="visible"}if(l&&!l.match(/(visible|auto)/)){a.overflowY=s;r.overflowY="visible"}i.cssSaved=a;t.css(r);$.each(_c.allPanes,function(e,t){if(t!=n)resetOverflow(t)})}function resetOverflow(e){if(!isInitialized())return;if(this&&this.tagName)e=this;var t;if(isStr(e))t=$Ps[e];else if($(e).data("layoutRole"))t=$(e);else $(e).parents().each(function(){if($(this).data("layoutRole")){t=$(this);return false}});if(!t||!t.length)return;var n=t.data("layoutEdge"),i=state[n],r=i.cssSaved||{};if(!i.isSliding&&!i.isResizing)t.css("zIndex",options.zIndexes.pane_normal);t.css(r);i.cssSaved=false}var $N=$(this).eq(0);if(!$N.length){return _log(options.errors.containerMissing)}if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id;var Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,showMasks:showMasks,hideMasks:hideMasks,initContent:initContent,addPane:addPane,removePane:removePane,createChildren:createChildren,refreshChildren:refreshChildren,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:false,children:children,north:false,south:false,west:false,east:false,center:false};if(_create()==="cancel")return null;else return Instance}})(jQuery)},{}],45:[function(e,t,n){"use strict";var l=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty;var u=Object.prototype.propertyIsEnumerable;function h(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function i(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var n=0;n<10;n++){t["_"+String.fromCharCode(n)]=n}var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(i.join("")!=="0123456789"){return false}var r={};"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e});if(Object.keys(Object.assign({},r)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}t.exports=i()?Object.assign:function(e,t){var n;var i=h(e);var r;for(var a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n){if(c.call(n,o)){i[o]=n[o]}}if(l){r=l(n);for(var s=0;s<r.length;s++){if(u.call(n,r[s])){i[r[s]]=n[r[s]]}}}}return i}},{}],46:[function(e,n,i){(function(Ce){(function(e,t){typeof i==="object"&&typeof n!=="undefined"?n.exports=t():typeof define==="function"&&define.amd?define(t):e.Popper=t()})(this,function(){"use strict";var e=typeof window!=="undefined"&&typeof document!=="undefined";var t=["Edge","Trident","Firefox"];var n=0;for(var i=0;i<t.length;i+=1){if(e&&navigator.userAgent.indexOf(t[i])>=0){n=1;break}}function r(e){var t=false;return function(){if(t){return}t=true;window.Promise.resolve().then(function(){t=false;e()})}}function a(e){var t=false;return function(){if(!t){t=true;setTimeout(function(){t=false;e()},n)}}}var o=e&&window.Promise;var s=o?r:a;function l(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function x(e,t){if(e.nodeType!==1){return[]}var n=getComputedStyle(e,null);return t?n[t]:n}function f(e){if(e.nodeName==="HTML"){return e}return e.parentNode||e.host}function p(e){if(!e){return document.body}switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=x(e),n=t.overflow,i=t.overflowX,r=t.overflowY;if(/(auto|scroll|overlay)/.test(n+r+i)){return e}return p(f(e))}var c=e&&!!(window.MSInputMethodContext&&document.documentMode);var u=e&&/MSIE 10/.test(navigator.userAgent);function m(e){if(e===11){return c}if(e===10){return u}return c||u}function y(e){if(!e){return document.documentElement}var t=m(10)?document.body:null;var n=e.offsetParent;while(n===t&&e.nextElementSibling){n=(e=e.nextElementSibling).offsetParent}var i=n&&n.nodeName;if(!i||i==="BODY"||i==="HTML"){return e?e.ownerDocument.documentElement:document.documentElement}if(["TD","TABLE"].indexOf(n.nodeName)!==-1&&x(n,"position")==="static"){return y(n)}return n}function h(e){var t=e.nodeName;if(t==="BODY"){return false}return t==="HTML"||y(e.firstElementChild)===e}function d(e){if(e.parentNode!==null){return d(e.parentNode)}return e}function g(e,t){if(!e||!e.nodeType||!t||!t.nodeType){return document.documentElement}var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING;var i=n?e:t;var r=n?t:e;var a=document.createRange();a.setStart(i,0);a.setEnd(r,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||i.contains(r)){if(h(o)){return o}return y(o)}var s=d(e);if(s.host){return g(s.host,t)}else{return g(e,d(t).host)}}function v(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top";var n=t==="top"?"scrollTop":"scrollLeft";var i=e.nodeName;if(i==="BODY"||i==="HTML"){var r=e.ownerDocument.documentElement;var a=e.ownerDocument.scrollingElement||r;return a[n]}return e[n]}function b(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=v(t,"top");var r=v(t,"left");var a=n?-1:1;e.top+=i*a;e.bottom+=i*a;e.left+=r*a;e.right+=r*a;return e}function w(e,t){var n=t==="x"?"Left":"Top";var i=n==="Left"?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function _(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],m(10)?n["offset"+e]+i["margin"+(e==="Height"?"Top":"Left")]+i["margin"+(e==="Height"?"Bottom":"Right")]:0)}function E(){var e=document.body;var t=document.documentElement;var n=m(10)&&getComputedStyle(t);return{height:_("Height",e,t,n),width:_("Width",e,t,n)}}var A=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var C=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var S=function(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e};var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};function M(e){return T({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(m(10)){t=e.getBoundingClientRect();var n=v(e,"top");var i=v(e,"left");t.top+=n;t.left+=i;t.bottom+=n;t.right+=i}else{t=e.getBoundingClientRect()}}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top};var a=e.nodeName==="HTML"?E():{};var o=a.width||e.clientWidth||r.right-r.left;var s=a.height||e.clientHeight||r.bottom-r.top;var l=e.offsetWidth-o;var c=e.offsetHeight-s;if(l||c){var u=x(e);l-=w(u,"x");c-=w(u,"y");r.width-=l;r.height-=c}return M(r)}function D(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=m(10);var r=t.nodeName==="HTML";var a=k(e);var o=k(t);var s=p(e);var l=x(t);var c=parseFloat(l.borderTopWidth,10);var u=parseFloat(l.borderLeftWidth,10);if(n&&t.nodeName==="HTML"){o.top=Math.max(o.top,0);o.left=Math.max(o.left,0)}var h=M({top:a.top-o.top-c,left:a.left-o.left-u,width:a.width,height:a.height});h.marginTop=0;h.marginLeft=0;if(!i&&r){var f=parseFloat(l.marginTop,10);var d=parseFloat(l.marginLeft,10);h.top-=c-f;h.bottom-=c-f;h.left-=u-d;h.right-=u-d;h.marginTop=f;h.marginLeft=d}if(i&&!n?t.contains(s):t===s&&s.nodeName!=="BODY"){h=b(h,t)}return h}function L(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=e.ownerDocument.documentElement;var i=D(e,n);var r=Math.max(n.clientWidth,window.innerWidth||0);var a=Math.max(n.clientHeight,window.innerHeight||0);var o=!t?v(n):0;var s=!t?v(n,"left"):0;var l={top:o-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:a};return M(l)}function R(e){var t=e.nodeName;if(t==="BODY"||t==="HTML"){return false}if(x(e,"position")==="fixed"){return true}return R(f(e))}function F(e){if(!e||!e.parentElement||m()){return document.documentElement}var t=e.parentElement;while(t&&x(t,"transform")==="none"){t=t.parentElement}return t||document.documentElement}function P(e,t,n,i){var r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var a={top:0,left:0};var o=r?F(e):g(e,t);if(i==="viewport"){a=L(o,r)}else{var s=void 0;if(i==="scrollParent"){s=p(f(t));if(s.nodeName==="BODY"){s=e.ownerDocument.documentElement}}else if(i==="window"){s=e.ownerDocument.documentElement}else{s=i}var l=D(s,o,r);if(s.nodeName==="HTML"&&!R(o)){var c=E(),u=c.height,h=c.width;a.top+=l.top-l.marginTop;a.bottom=u+l.top;a.left+=l.left-l.marginLeft;a.right=h+l.left}else{a=l}}a.left+=n;a.top+=n;a.right-=n;a.bottom-=n;return a}function I(e){var t=e.width,n=e.height;return t*n}function N(e,t,i,n,r){var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;if(e.indexOf("auto")===-1){return e}var o=P(i,n,a,r);var s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}};var l=Object.keys(s).map(function(e){return T({key:e},s[e],{area:I(s[e])})}).sort(function(e,t){return t.area-e.area});var c=l.filter(function(e){var t=e.width,n=e.height;return t>=i.clientWidth&&n>=i.clientHeight});var u=c.length>0?c[0].key:l[0].key;var h=e.split("-")[1];return u+(h?"-"+h:"")}function O(e,t,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var r=i?F(t):g(t,n);return D(n,r,i)}function B(e){var t=getComputedStyle(e);var n=parseFloat(t.marginTop)+parseFloat(t.marginBottom);var i=parseFloat(t.marginLeft)+parseFloat(t.marginRight);var r={width:e.offsetWidth+i,height:e.offsetHeight+n};return r}function z(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function U(e,t,n){n=n.split("-")[0];var i=B(e);var r={width:i.width,height:i.height};var a=["right","left"].indexOf(n)!==-1;var o=a?"top":"left";var s=a?"left":"top";var l=a?"height":"width";var c=!a?"height":"width";r[o]=t[o]+t[l]/2-i[l]/2;if(n===s){r[s]=t[s]-i[c]}else{r[s]=t[z(s)]}return r}function H(e,t){if(Array.prototype.find){return e.find(t)}return e.filter(t)[0]}function j(e,t,n){if(Array.prototype.findIndex){return e.findIndex(function(e){return e[t]===n})}var i=H(e,function(e){return e[t]===n});return e.indexOf(i)}function $(e,n,t){var i=t===undefined?e:e.slice(0,j(e,"name",t));i.forEach(function(e){if(e["function"]){console.warn("`modifier.function` is deprecated, use `modifier.fn`!")}var t=e["function"]||e.fn;if(e.enabled&&l(t)){n.offsets.popper=M(n.offsets.popper);n.offsets.reference=M(n.offsets.reference);n=t(n,e)}});return n}function W(){if(this.state.isDestroyed){return}var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:false,offsets:{}};e.offsets.reference=O(this.state,this.popper,this.reference,this.options.positionFixed);e.placement=N(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);e.originalPlacement=e.placement;e.positionFixed=this.options.positionFixed;e.offsets.popper=U(this.popper,e.offsets.reference,e.placement);e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";e=$(this.modifiers,e);if(!this.state.isCreated){this.state.isCreated=true;this.options.onCreate(e)}else{this.options.onUpdate(e)}}function V(e,i){return e.some(function(e){var t=e.name,n=e.enabled;return n&&t===i})}function G(e){var t=[false,"ms","Webkit","Moz","O"];var n=e.charAt(0).toUpperCase()+e.slice(1);for(var i=0;i<t.length;i++){var r=t[i];var a=r?""+r+n:e;if(typeof document.body.style[a]!=="undefined"){return a}}return null}function q(){this.state.isDestroyed=true;if(V(this.modifiers,"applyStyle")){this.popper.removeAttribute("x-placement");this.popper.style.position="";this.popper.style.top="";this.popper.style.left="";this.popper.style.right="";this.popper.style.bottom="";this.popper.style.willChange="";this.popper.style[G("transform")]=""}this.disableEventListeners();if(this.options.removeOnDestroy){this.popper.parentNode.removeChild(this.popper)}return this}function X(e){var t=e.ownerDocument;return t?t.defaultView:window}function Y(e,t,n,i){var r=e.nodeName==="BODY";var a=r?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:true});if(!r){Y(p(a.parentNode),t,n,i)}i.push(a)}function K(e,t,n,i){n.updateBound=i;X(e).addEventListener("resize",n.updateBound,{passive:true});var r=p(e);Y(r,"scroll",n.updateBound,n.scrollParents);n.scrollElement=r;n.eventsEnabled=true;return n}function Z(){if(!this.state.eventsEnabled){this.state=K(this.reference,this.options,this.state,this.scheduleUpdate)}}function Q(e,t){X(e).removeEventListener("resize",t.updateBound);t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)});t.updateBound=null;t.scrollParents=[];t.scrollElement=null;t.eventsEnabled=false;return t}function J(){if(this.state.eventsEnabled){cancelAnimationFrame(this.scheduleUpdate);this.state=Q(this.reference,this.state)}}function ee(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function te(n,i){Object.keys(i).forEach(function(e){var t="";if(["width","height","top","right","bottom","left"].indexOf(e)!==-1&&ee(i[e])){t="px"}n.style[e]=i[e]+t})}function ne(n,i){Object.keys(i).forEach(function(e){var t=i[e];if(t!==false){n.setAttribute(e,i[e])}else{n.removeAttribute(e)}})}function ie(e){te(e.instance.popper,e.styles);ne(e.instance.popper,e.attributes);if(e.arrowElement&&Object.keys(e.arrowStyles).length){te(e.arrowElement,e.arrowStyles)}return e}function re(e,t,n,i,r){var a=O(r,t,e,n.positionFixed);var o=N(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);t.setAttribute("x-placement",o);te(t,{position:n.positionFixed?"fixed":"absolute"});return n}function ae(e,t){var n=t.x,i=t.y;var r=e.offsets.popper;var a=H(e.instance.modifiers,function(e){return e.name==="applyStyle"}).gpuAcceleration;if(a!==undefined){console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!")}var o=a!==undefined?a:t.gpuAcceleration;var s=y(e.instance.popper);var l=k(s);var c={position:r.position};var u={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)};var h=n==="bottom"?"top":"bottom";var f=i==="right"?"left":"right";var d=G("transform");var p=void 0,m=void 0;if(h==="bottom"){m=-l.height+u.bottom}else{m=u.top}if(f==="right"){p=-l.width+u.right}else{p=u.left}if(o&&d){c[d]="translate3d("+p+"px, "+m+"px, 0)";c[h]=0;c[f]=0;c.willChange="transform"}else{var g=h==="bottom"?-1:1;var v=f==="right"?-1:1;c[h]=m*g;c[f]=p*v;c.willChange=h+", "+f}var b={"x-placement":e.placement};e.attributes=T({},b,e.attributes);e.styles=T({},c,e.styles);e.arrowStyles=T({},e.offsets.arrow,e.arrowStyles);return e}function oe(e,n,t){var i=H(e,function(e){var t=e.name;return t===n});var r=!!i&&e.some(function(e){return e.name===t&&e.enabled&&e.order<i.order});if(!r){var a="`"+n+"`";var o="`"+t+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return r}function se(e,t){var n;if(!oe(e.instance.modifiers,"arrow","keepTogether")){return e}var i=t.element;if(typeof i==="string"){i=e.instance.popper.querySelector(i);if(!i){return e}}else{if(!e.instance.popper.contains(i)){console.warn("WARNING: `arrow.element` must be child of its popper element!");return e}}var r=e.placement.split("-")[0];var a=e.offsets,o=a.popper,s=a.reference;var l=["left","right"].indexOf(r)!==-1;var c=l?"height":"width";var u=l?"Top":"Left";var h=u.toLowerCase();var f=l?"left":"top";var d=l?"bottom":"right";var p=B(i)[c];if(s[d]-p<o[h]){e.offsets.popper[h]-=o[h]-(s[d]-p)}if(s[h]+p>o[d]){e.offsets.popper[h]+=s[h]+p-o[d]}e.offsets.popper=M(e.offsets.popper);var m=s[h]+s[c]/2-p/2;var g=x(e.instance.popper);var v=parseFloat(g["margin"+u],10);var b=parseFloat(g["border"+u+"Width"],10);var y=m-e.offsets.popper[h]-v-b;y=Math.max(Math.min(o[c]-p,y),0);e.arrowElement=i;e.offsets.arrow=(n={},S(n,h,Math.round(y)),S(n,f,""),n);return e}function le(e){if(e==="end"){return"start"}else if(e==="start"){return"end"}return e}var ce=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];var ue=ce.slice(3);function he(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=ue.indexOf(e);var i=ue.slice(n+1).concat(ue.slice(0,n));return t?i.reverse():i}var fe={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function de(d,p){if(V(d.instance.modifiers,"inner")){return d}if(d.flipped&&d.placement===d.originalPlacement){return d}var m=P(d.instance.popper,d.instance.reference,p.padding,p.boundariesElement,d.positionFixed);var g=d.placement.split("-")[0];var v=z(g);var b=d.placement.split("-")[1]||"";var y=[];switch(p.behavior){case fe.FLIP:y=[g,v];break;case fe.CLOCKWISE:y=he(g);break;case fe.COUNTERCLOCKWISE:y=he(g,true);break;default:y=p.behavior}y.forEach(function(e,t){if(g!==e||y.length===t+1){return d}g=d.placement.split("-")[0];v=z(g);var n=d.offsets.popper;var i=d.offsets.reference;var r=Math.floor;var a=g==="left"&&r(n.right)>r(i.left)||g==="right"&&r(n.left)<r(i.right)||g==="top"&&r(n.bottom)>r(i.top)||g==="bottom"&&r(n.top)<r(i.bottom);var o=r(n.left)<r(m.left);var s=r(n.right)>r(m.right);var l=r(n.top)<r(m.top);var c=r(n.bottom)>r(m.bottom);var u=g==="left"&&o||g==="right"&&s||g==="top"&&l||g==="bottom"&&c;var h=["top","bottom"].indexOf(g)!==-1;var f=!!p.flipVariations&&(h&&b==="start"&&o||h&&b==="end"&&s||!h&&b==="start"&&l||!h&&b==="end"&&c);if(a||u||f){d.flipped=true;if(a||u){g=y[t+1]}if(f){b=le(b)}d.placement=g+(b?"-"+b:"");d.offsets.popper=T({},d.offsets.popper,U(d.instance.popper,d.offsets.reference,d.placement));d=$(d.instance.modifiers,d,"flip")}});return d}function pe(e){var t=e.offsets,n=t.popper,i=t.reference;var r=e.placement.split("-")[0];var a=Math.floor;var o=["top","bottom"].indexOf(r)!==-1;var s=o?"right":"bottom";var l=o?"left":"top";var c=o?"width":"height";if(n[s]<a(i[l])){e.offsets.popper[l]=a(i[l])-n[c]}if(n[l]>a(i[s])){e.offsets.popper[l]=a(i[s])}return e}function me(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var a=+r[1];var o=r[2];if(!a){return e}if(o.indexOf("%")===0){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=i}var l=M(s);return l[t]/100*a}else if(o==="vh"||o==="vw"){var c=void 0;if(o==="vh"){c=Math.max(document.documentElement.clientHeight,window.innerHeight||0)}else{c=Math.max(document.documentElement.clientWidth,window.innerWidth||0)}return c/100*a}else{return a}}function ge(e,r,a,t){var o=[0,0];var s=["right","left"].indexOf(t)!==-1;var n=e.split(/(\+|\-)/).map(function(e){return e.trim()});var i=n.indexOf(H(n,function(e){return e.search(/,|\s/)!==-1}));if(n[i]&&n[i].indexOf(",")===-1){console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.")}var l=/\s*,\s*|\s+/;var c=i!==-1?[n.slice(0,i).concat([n[i].split(l)[0]]),[n[i].split(l)[1]].concat(n.slice(i+1))]:[n];c=c.map(function(e,t){var n=(t===1?!s:s)?"height":"width";var i=false;return e.reduce(function(e,t){if(e[e.length-1]===""&&["+","-"].indexOf(t)!==-1){e[e.length-1]=t;i=true;return e}else if(i){e[e.length-1]+=t;i=false;return e}else{return e.concat(t)}},[]).map(function(e){return me(e,n,r,a)})});c.forEach(function(n,i){n.forEach(function(e,t){if(ee(e)){o[i]+=e*(n[t-1]==="-"?-1:1)}})});return o}function ve(e,t){var n=t.offset;var i=e.placement,r=e.offsets,a=r.popper,o=r.reference;var s=i.split("-")[0];var l=void 0;if(ee(+n)){l=[+n,0]}else{l=ge(n,a,o,s)}if(s==="left"){a.top+=l[0];a.left-=l[1]}else if(s==="right"){a.top+=l[0];a.left+=l[1]}else if(s==="top"){a.left+=l[0];a.top-=l[1]}else if(s==="bottom"){a.left+=l[0];a.top+=l[1]}e.popper=a;return e}function be(e,r){var t=r.boundariesElement||y(e.instance.popper);if(e.instance.reference===t){t=y(t)}var n=G("transform");var i=e.instance.popper.style;var a=i.top,o=i.left,s=i[n];i.top="";i.left="";i[n]="";var l=P(e.instance.popper,e.instance.reference,r.padding,t,e.positionFixed);i.top=a;i.left=o;i[n]=s;r.boundaries=l;var c=r.priority;var u=e.offsets.popper;var h={primary:function e(t){var n=u[t];if(u[t]<l[t]&&!r.escapeWithReference){n=Math.max(u[t],l[t])}return S({},t,n)},secondary:function e(t){var n=t==="right"?"left":"top";var i=u[n];if(u[t]>l[t]&&!r.escapeWithReference){i=Math.min(u[n],l[t]-(t==="right"?u.width:u.height))}return S({},n,i)}};c.forEach(function(e){var t=["left","top"].indexOf(e)!==-1?"primary":"secondary";u=T({},u,h[t](e))});e.offsets.popper=u;return e}function ye(e){var t=e.placement;var n=t.split("-")[0];var i=t.split("-")[1];if(i){var r=e.offsets,a=r.reference,o=r.popper;var s=["bottom","top"].indexOf(n)!==-1;var l=s?"left":"top";var c=s?"width":"height";var u={start:S({},l,a[l]),end:S({},l,a[l]+a[c]-o[c])};e.offsets.popper=T({},o,u[i])}return e}function xe(e){if(!oe(e.instance.modifiers,"hide","preventOverflow")){return e}var t=e.offsets.reference;var n=H(e.instance.modifiers,function(e){return e.name==="preventOverflow"}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===true){return e}e.hide=true;e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===false){return e}e.hide=false;e.attributes["x-out-of-boundaries"]=false}return e}function we(e){var t=e.placement;var n=t.split("-")[0];var i=e.offsets,r=i.popper,a=i.reference;var o=["left","right"].indexOf(n)!==-1;var s=["top","left"].indexOf(n)===-1;r[o?"left":"top"]=a[n]-(s?r[o?"width":"height"]:0);e.placement=z(t);e.offsets.popper=M(r);return e}var _e={shift:{order:100,enabled:true,fn:ye},offset:{order:200,enabled:true,fn:ve,offset:0},preventOverflow:{order:300,enabled:true,fn:be,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:true,fn:pe},arrow:{order:500,enabled:true,fn:se,element:"[x-arrow]"},flip:{order:600,enabled:true,fn:de,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:false,fn:we},hide:{order:800,enabled:true,fn:xe},computeStyle:{order:850,enabled:true,fn:ae,gpuAcceleration:true,x:"bottom",y:"right"},applyStyle:{order:900,enabled:true,fn:ie,onLoad:re,gpuAcceleration:undefined}};var Ee={placement:"bottom",positionFixed:false,eventsEnabled:true,removeOnDestroy:false,onCreate:function e(){},onUpdate:function e(){},modifiers:_e};var Ae=function(){function a(e,t){var n=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};A(this,a);this.scheduleUpdate=function(){return requestAnimationFrame(n.update)};this.update=s(this.update.bind(this));this.options=T({},a.Defaults,i);this.state={isDestroyed:false,isCreated:false,scrollParents:[]};this.reference=e&&e.jquery?e[0]:e;this.popper=t&&t.jquery?t[0]:t;this.options.modifiers={};Object.keys(T({},a.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=T({},a.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(e){return T({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order});this.modifiers.forEach(function(e){if(e.enabled&&l(e.onLoad)){e.onLoad(n.reference,n.popper,n.options,e,n.state)}});this.update();var r=this.options.eventsEnabled;if(r){this.enableEventListeners()}this.state.eventsEnabled=r}C(a,[{key:"update",value:function e(){return W.call(this)}},{key:"destroy",value:function e(){return q.call(this)}},{key:"enableEventListeners",value:function e(){return Z.call(this)}},{key:"disableEventListeners",value:function e(){return J.call(this)}}]);return a}();Ae.Utils=(typeof window!=="undefined"?window:Ce).PopperUtils;Ae.placements=ce;Ae.Defaults=Ee;return Ae})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],47:[function(e,t,n){var i=t.exports={};var r;var a;function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(e){r=o}try{if(typeof clearTimeout==="function"){a=clearTimeout}else{a=s}}catch(e){a=s}})();function l(t){if(r===setTimeout){return setTimeout(t,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function c(t){if(a===clearTimeout){return clearTimeout(t)}if((a===s||!a)&&clearTimeout){a=clearTimeout;return clearTimeout(t)}try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}var u=[];var h=false;var f;var d=-1;function p(){if(!h||!f){return}h=false;if(f.length){u=f.concat(u)}else{d=-1}if(u.length){m()}}function m(){if(h){return}var e=l(p);h=true;var t=u.length;while(t){f=u;u=[];while(++d<t){if(f){f[d].run()}}d=-1;t=u.length}f=null;h=false;c(e)}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}u.push(new g(e,t));if(u.length===1&&!h){l(m)}};function g(e,t){this.fun=e;this.array=t}g.prototype.run=function(){this.fun.apply(null,this.array)};i.title="browser";i.browser=true;i.env={};i.argv=[];i.version="";i.versions={};function v(){}i.on=v;i.addListener=v;i.once=v;i.off=v;i.removeListener=v;i.removeAllListeners=v;i.emit=v;i.prependListener=v;i.prependOnceListener=v;i.listeners=function(e){return[]};i.binding=function(e){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(e){throw new Error("process.chdir is not supported")};i.umask=function(){return 0}},{}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var k=e("roslib");if(Number.EPSILON===undefined){Number.EPSILON=Math.pow(2,-52)}if(Number.isInteger===undefined){Number.isInteger=function(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e}}if(Math.sign===undefined){Math.sign=function(e){return e<0?-1:e>0?1:+e}}if("name"in Function.prototype===false){Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}})}if(Object.assign===undefined){(function(){Object.assign=function(e){var t=arguments;if(e===undefined||e===null){throw new TypeError("Cannot convert undefined or null to object")}var n=Object(e);for(var i=1;i<arguments.length;i++){var r=t[i];if(r!==undefined&&r!==null){for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){n[a]=r[a]}}}}return n}})()}function i(){}Object.assign(i.prototype,{addEventListener:function(e,t){if(this._listeners===undefined){this._listeners={}}var n=this._listeners;if(n[e]===undefined){n[e]=[]}if(n[e].indexOf(t)===-1){n[e].push(t)}},hasEventListener:function(e,t){if(this._listeners===undefined){return false}var n=this._listeners;return n[e]!==undefined&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===undefined){return}var n=this._listeners;var i=n[e];if(i!==undefined){var r=i.indexOf(t);if(r!==-1){i.splice(r,1)}}},dispatchEvent:function(e){var t=this;if(this._listeners===undefined){return}var n=this._listeners;var i=n[e.type];if(i!==undefined){e.target=this;var r=i.slice(0);for(var a=0,o=r.length;a<o;a++){r[a].call(t,e)}}}});var He="88";var r={LEFT:0,MIDDLE:1,RIGHT:2};var oe=0;var se=1;var le=2;var a=3;var je=0;var o=1;var s=0;var I=1;var L=2;var N=0;var ce=1;var ue=2;var l=1;var c=2;var $e=0;var d=1;var v=2;var he=0;var fe=1;var de=2;var pe=3;var me=4;var ge=5;var u=100;var h=101;var f=102;var p=103;var m=104;var g=200;var b=201;var y=202;var x=203;var w=204;var _=205;var E=206;var A=207;var C=208;var S=209;var T=210;var ve=0;var be=1;var ye=2;var xe=3;var we=4;var _e=5;var Ee=6;var Ae=7;var R=0;var F=1;var P=2;var O=0;var We=1;var M=2;var D=3;var B=4;var z=300;var U=301;var H=302;var j=303;var $=304;var W=305;var V=306;var G=307;var q=1e3;var X=1001;var Y=1002;var K=1003;var Z=1004;var Q=1005;var J=1006;var ee=1007;var te=1008;var Ve=1009;var ne=1010;var ie=1011;var re=1012;var ae=1013;var Ce=1014;var Ge=1015;var qe=1016;var Se=1017;var Te=1018;var Me=1019;var ke=1020;var De=1021;var Le=1022;var Xe=1023;var Re=1024;var Fe=1025;var Pe=Xe;var Ie=1026;var Ne=1027;var Oe=2001;var Be=2002;var ze=2003;var Ue=2004;var Ye=2100;var Ke=2101;var Ze=2102;var Qe=2103;var Je=2151;var et=2200;var tt=2201;var nt=2202;var it=2300;var rt=2301;var at=2302;var ot=2400;var st=2401;var lt=2402;var ct=0;var ut=1;var ht=2;var ft=3e3;var dt=3001;var pt=3007;var mt=3002;var gt=3003;var vt=3004;var bt=3005;var yt=3006;var xt=3200;var wt=3201;var _t={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var r=0,a;return function e(){var t="";for(var n=0;n<36;n++){if(n===8||n===13||n===18||n===23){t+="-"}else if(n===14){t+="4"}else{if(r<=2){r=33554432+Math.random()*16777216|0}a=r&15;r=r>>4;t+=i[n===19?a&3|8:a]}}return t}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){if(e<=t){return 0}if(e>=n){return 1}e=(e-t)/(n-t);return e*e*(3-2*e)},smootherstep:function(e,t,n){if(e<=t){return 0}if(e>=n){return 1}e=(e-t)/(n-t);return e*e*e*(e*(e*6-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*_t.DEG2RAD},radToDeg:function(e){return e*_t.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Et(e,t){this.x=e||0;this.y=t||0}Object.defineProperties(Et.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(Et.prototype,{isVector2:true,set:function(e,t){this.x=e;this.y=t;return this},setScalar:function(e){this.x=e;this.y=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){this.x=e.x;this.y=e.y;return this},add:function(e,t){if(t!==undefined){console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;return this},addScalar:function(e){this.x+=e;this.y+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;return this},sub:function(e,t){if(t!==undefined){console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;return this},subScalar:function(e){this.x-=e;this.y-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;return this},multiply:function(e){this.x*=e.x;this.y*=e.y;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;return this},divide:function(e){this.x/=e.x;this.y/=e.y;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y;var i=e.elements;this.x=i[0]*t+i[3]*n+i[6];this.y=i[1]*t+i[4]*n+i[7];return this},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));return this},clampScalar:function(){var i=new Et;var r=new Et;return function e(t,n){i.set(t,t);r.set(n,n);return this.clamp(i,r)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);if(e<0){e+=2*Math.PI}return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;return this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){if(t===undefined){t=0}this.x=e[t];this.y=e[t+1];return this},toArray:function(e,t){if(e===undefined){e=[]}if(t===undefined){t=0}e[t]=this.x;e[t+1]=this.y;return e},fromBufferAttribute:function(e,t,n){if(n!==undefined){console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);return this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t);var r=this.x-e.x;var a=this.y-e.y;this.x=r*n-a*i+e.x;this.y=r*i+a*n+e.y;return this}});function At(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(arguments.length>0){console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}}Object.assign(At.prototype,{isMatrix4:true,set:function(e,t,n,i,r,a,o,s,l,c,u,h,f,d,p,m){var g=this.elements;g[0]=e;g[4]=t;g[8]=n;g[12]=i;g[1]=r;g[5]=a;g[9]=o;g[13]=s;g[2]=l;g[6]=c;g[10]=u;g[14]=h;g[3]=f;g[7]=d;g[11]=p;g[15]=m;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new At).fromArray(this.elements)},copy:function(e){var t=this.elements;var n=e.elements;t[0]=n[0];t[1]=n[1];t[2]=n[2];t[3]=n[3];t[4]=n[4];t[5]=n[5];t[6]=n[6];t[7]=n[7];t[8]=n[8];t[9]=n[9];t[10]=n[10];t[11]=n[11];t[12]=n[12];t[13]=n[13];t[14]=n[14];t[15]=n[15];return this},copyPosition:function(e){var t=this.elements,n=e.elements;t[12]=n[12];t[13]=n[13];t[14]=n[14];return this},extractBasis:function(e,t,n){e.setFromMatrixColumn(this,0);t.setFromMatrixColumn(this,1);n.setFromMatrixColumn(this,2);return this},makeBasis:function(e,t,n){this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1);return this},extractRotation:function(){var s=new St;return function e(t){var n=this.elements;var i=t.elements;var r=1/s.setFromMatrixColumn(t,0).length();var a=1/s.setFromMatrixColumn(t,1).length();var o=1/s.setFromMatrixColumn(t,2).length();n[0]=i[0]*r;n[1]=i[1]*r;n[2]=i[2]*r;n[4]=i[4]*a;n[5]=i[5]*a;n[6]=i[6]*a;n[8]=i[8]*o;n[9]=i[9]*o;n[10]=i[10]*o;return this}}(),makeRotationFromEuler:function(e){if(!(e&&e.isEuler)){console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.")}var t=this.elements;var n=e.x,i=e.y,r=e.z;var a=Math.cos(n),o=Math.sin(n);var s=Math.cos(i),l=Math.sin(i);var c=Math.cos(r),u=Math.sin(r);if(e.order==="XYZ"){var h=a*c,f=a*u,d=o*c,p=o*u;t[0]=s*c;t[4]=-s*u;t[8]=l;t[1]=f+d*l;t[5]=h-p*l;t[9]=-o*s;t[2]=p-h*l;t[6]=d+f*l;t[10]=a*s}else if(e.order==="YXZ"){var m=s*c,g=s*u,v=l*c,b=l*u;t[0]=m+b*o;t[4]=v*o-g;t[8]=a*l;t[1]=a*u;t[5]=a*c;t[9]=-o;t[2]=g*o-v;t[6]=b+m*o;t[10]=a*s}else if(e.order==="ZXY"){var m=s*c,g=s*u,v=l*c,b=l*u;t[0]=m-b*o;t[4]=-a*u;t[8]=v+g*o;t[1]=g+v*o;t[5]=a*c;t[9]=b-m*o;t[2]=-a*l;t[6]=o;t[10]=a*s}else if(e.order==="ZYX"){var h=a*c,f=a*u,d=o*c,p=o*u;t[0]=s*c;t[4]=d*l-f;t[8]=h*l+p;t[1]=s*u;t[5]=p*l+h;t[9]=f*l-d;t[2]=-l;t[6]=o*s;t[10]=a*s}else if(e.order==="YZX"){var y=a*s,x=a*l,w=o*s,_=o*l;t[0]=s*c;t[4]=_-y*u;t[8]=w*u+x;t[1]=u;t[5]=a*c;t[9]=-o*c;t[2]=-l*c;t[6]=x*u+w;t[10]=y-_*u}else if(e.order==="XZY"){var y=a*s,x=a*l,w=o*s,_=o*l;t[0]=s*c;t[4]=-u;t[8]=l*c;t[1]=y*u+_;t[5]=a*c;t[9]=x*u-w;t[2]=w*u-x;t[6]=o*c;t[10]=_*u+y}t[3]=0;t[7]=0;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this},makeRotationFromQuaternion:function(e){var t=this.elements;var n=e._x,i=e._y,r=e._z,a=e._w;var o=n+n,s=i+i,l=r+r;var c=n*o,u=n*s,h=n*l;var f=i*s,d=i*l,p=r*l;var m=a*o,g=a*s,v=a*l;t[0]=1-(f+p);t[4]=u-v;t[8]=h+g;t[1]=u+v;t[5]=1-(c+p);t[9]=d-m;t[2]=h-g;t[6]=d+m;t[10]=1-(c+f);t[3]=0;t[7]=0;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this},lookAt:function(){var a=new St;var o=new St;var s=new St;return function e(t,n,i){var r=this.elements;s.subVectors(t,n);if(s.lengthSq()===0){s.z=1}s.normalize();a.crossVectors(i,s);if(a.lengthSq()===0){if(Math.abs(i.z)===1){s.x+=1e-4}else{s.z+=1e-4}s.normalize();a.crossVectors(i,s)}a.normalize();o.crossVectors(s,a);r[0]=a.x;r[4]=o.x;r[8]=s.x;r[1]=a.y;r[5]=o.y;r[9]=s.y;r[2]=a.z;r[6]=o.z;r[10]=s.z;return this}}(),multiply:function(e,t){if(t!==undefined){console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.");return this.multiplyMatrices(e,t)}return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements;var i=t.elements;var r=this.elements;var a=n[0],o=n[4],s=n[8],l=n[12];var c=n[1],u=n[5],h=n[9],f=n[13];var d=n[2],p=n[6],m=n[10],g=n[14];var v=n[3],b=n[7],y=n[11],x=n[15];var w=i[0],_=i[4],E=i[8],A=i[12];var C=i[1],S=i[5],T=i[9],M=i[13];var k=i[2],D=i[6],L=i[10],R=i[14];var F=i[3],P=i[7],I=i[11],N=i[15];r[0]=a*w+o*C+s*k+l*F;r[4]=a*_+o*S+s*D+l*P;r[8]=a*E+o*T+s*L+l*I;r[12]=a*A+o*M+s*R+l*N;r[1]=c*w+u*C+h*k+f*F;r[5]=c*_+u*S+h*D+f*P;r[9]=c*E+u*T+h*L+f*I;r[13]=c*A+u*M+h*R+f*N;r[2]=d*w+p*C+m*k+g*F;r[6]=d*_+p*S+m*D+g*P;r[10]=d*E+p*T+m*L+g*I;r[14]=d*A+p*M+m*R+g*N;r[3]=v*w+b*C+y*k+x*F;r[7]=v*_+b*S+y*D+x*P;r[11]=v*E+b*T+y*L+x*I;r[15]=v*A+b*M+y*R+x*N;return this},multiplyScalar:function(e){var t=this.elements;t[0]*=e;t[4]*=e;t[8]*=e;t[12]*=e;t[1]*=e;t[5]*=e;t[9]*=e;t[13]*=e;t[2]*=e;t[6]*=e;t[10]*=e;t[14]*=e;t[3]*=e;t[7]*=e;t[11]*=e;t[15]*=e;return this},applyToBufferAttribute:function(){var a=new St;return function e(t){var n=this;for(var i=0,r=t.count;i<r;i++){a.x=t.getX(i);a.y=t.getY(i);a.z=t.getZ(i);a.applyMatrix4(n);t.setXYZ(i,a.x,a.y,a.z)}return t}}(),determinant:function(){var e=this.elements;var t=e[0],n=e[4],i=e[8],r=e[12];var a=e[1],o=e[5],s=e[9],l=e[13];var c=e[2],u=e[6],h=e[10],f=e[14];var d=e[3],p=e[7],m=e[11],g=e[15];return d*(+r*s*u-i*l*u-r*o*h+n*l*h+i*o*f-n*s*f)+p*(+t*s*f-t*l*h+r*a*h-i*a*f+i*l*c-r*s*c)+m*(+t*l*u-t*o*f-r*a*u+n*a*f+r*o*c-n*l*c)+g*(-i*o*c-t*s*u+t*o*h+i*a*u-n*a*h+n*s*c)},transpose:function(){var e=this.elements;var t;t=e[1];e[1]=e[4];e[4]=t;t=e[2];e[2]=e[8];e[8]=t;t=e[6];e[6]=e[9];e[9]=t;t=e[3];e[3]=e[12];e[12]=t;t=e[7];e[7]=e[13];e[13]=t;t=e[11];e[11]=e[14];e[14]=t;return this},setPosition:function(e){var t=this.elements;t[12]=e.x;t[13]=e.y;t[14]=e.z;return this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],h=i[7],f=i[8],d=i[9],p=i[10],m=i[11],g=i[12],v=i[13],b=i[14],y=i[15],x=d*b*h-v*p*h+v*u*m-c*b*m-d*u*y+c*p*y,w=g*p*h-f*b*h-g*u*m+l*b*m+f*u*y-l*p*y,_=f*v*h-g*d*h+g*c*m-l*v*m-f*c*y+l*d*y,E=g*d*u-f*v*u-g*c*p+l*v*p+f*c*b-l*d*b;var A=r*x+a*w+o*_+s*E;if(A===0){var C="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(t===true){throw new Error(C)}else{console.warn(C)}return this.identity()}var S=1/A;n[0]=x*S;n[1]=(v*p*s-d*b*s-v*o*m+a*b*m+d*o*y-a*p*y)*S;n[2]=(c*b*s-v*u*s+v*o*h-a*b*h-c*o*y+a*u*y)*S;n[3]=(d*u*s-c*p*s-d*o*h+a*p*h+c*o*m-a*u*m)*S;n[4]=w*S;n[5]=(f*b*s-g*p*s+g*o*m-r*b*m-f*o*y+r*p*y)*S;n[6]=(g*u*s-l*b*s-g*o*h+r*b*h+l*o*y-r*u*y)*S;n[7]=(l*p*s-f*u*s+f*o*h-r*p*h-l*o*m+r*u*m)*S;n[8]=_*S;n[9]=(g*d*s-f*v*s-g*a*m+r*v*m+f*a*y-r*d*y)*S;n[10]=(l*v*s-g*c*s+g*a*h-r*v*h-l*a*y+r*c*y)*S;n[11]=(f*c*s-l*d*s-f*a*h+r*d*h+l*a*m-r*c*m)*S;n[12]=E*S;n[13]=(f*v*o-g*d*o+g*a*p-r*v*p-f*a*b+r*d*b)*S;n[14]=(g*c*o-l*v*o-g*a*u+r*v*u+l*a*b-r*c*b)*S;n[15]=(l*d*o-f*c*o+f*a*u-r*d*u-l*a*p+r*c*p)*S;return this},scale:function(e){var t=this.elements;var n=e.x,i=e.y,r=e.z;t[0]*=n;t[4]*=i;t[8]*=r;t[1]*=n;t[5]*=i;t[9]*=r;t[2]*=n;t[6]*=i;t[10]*=r;t[3]*=n;t[7]*=i;t[11]*=r;return this},getMaxScaleOnAxis:function(){var e=this.elements;var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];var n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6];var i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1);return this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1);return this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1);return this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(e,t){var n=Math.cos(t);var i=Math.sin(t);var r=1-n;var a=e.x,o=e.y,s=e.z;var l=r*a,c=r*o;this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,c*o+n,c*s-i*a,0,l*s-i*o,c*s+i*a,r*s*s+n,0,0,0,0,1);return this},makeScale:function(e,t,n){this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1);return this},makeShear:function(e,t,n){this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1);return this},compose:function(e,t,n){this.makeRotationFromQuaternion(t);this.scale(n);this.setPosition(e);return this},decompose:function(){var f=new St;var d=new At;return function e(t,n,i){var r=this.elements;var a=f.set(r[0],r[1],r[2]).length();var o=f.set(r[4],r[5],r[6]).length();var s=f.set(r[8],r[9],r[10]).length();var l=this.determinant();if(l<0){a=-a}t.x=r[12];t.y=r[13];t.z=r[14];d.copy(this);var c=1/a;var u=1/o;var h=1/s;d.elements[0]*=c;d.elements[1]*=c;d.elements[2]*=c;d.elements[4]*=u;d.elements[5]*=u;d.elements[6]*=u;d.elements[8]*=h;d.elements[9]*=h;d.elements[10]*=h;n.setFromRotationMatrix(d);i.x=a;i.y=o;i.z=s;return this}}(),makePerspective:function(e,t,n,i,r,a){if(a===undefined){console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.")}var o=this.elements;var s=2*r/(t-e);var l=2*r/(n-i);var c=(t+e)/(t-e);var u=(n+i)/(n-i);var h=-(a+r)/(a-r);var f=-2*a*r/(a-r);o[0]=s;o[4]=0;o[8]=c;o[12]=0;o[1]=0;o[5]=l;o[9]=u;o[13]=0;o[2]=0;o[6]=0;o[10]=h;o[14]=f;o[3]=0;o[7]=0;o[11]=-1;o[15]=0;return this},makeOrthographic:function(e,t,n,i,r,a){var o=this.elements;var s=1/(t-e);var l=1/(n-i);var c=1/(a-r);var u=(t+e)*s;var h=(n+i)*l;var f=(a+r)*c;o[0]=2*s;o[4]=0;o[8]=0;o[12]=-u;o[1]=0;o[5]=2*l;o[9]=0;o[13]=-h;o[2]=0;o[6]=0;o[10]=-2*c;o[14]=-f;o[3]=0;o[7]=0;o[11]=0;o[15]=1;return this},equals:function(e){var t=this.elements;var n=e.elements;for(var i=0;i<16;i++){if(t[i]!==n[i]){return false}}return true},fromArray:function(e,t){var n=this;if(t===undefined){t=0}for(var i=0;i<16;i++){n.elements[i]=e[i+t]}return this},toArray:function(e,t){if(e===undefined){e=[]}if(t===undefined){t=0}var n=this.elements;e[t]=n[0];e[t+1]=n[1];e[t+2]=n[2];e[t+3]=n[3];e[t+4]=n[4];e[t+5]=n[5];e[t+6]=n[6];e[t+7]=n[7];e[t+8]=n[8];e[t+9]=n[9];e[t+10]=n[10];e[t+11]=n[11];e[t+12]=n[12];e[t+13]=n[13];e[t+14]=n[14];e[t+15]=n[15];return e}});function Ct(e,t,n,i){this._x=e||0;this._y=t||0;this._z=n||0;this._w=i!==undefined?i:1}Object.assign(Ct,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,a,o){var s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[a+0],f=r[a+1],d=r[a+2],p=r[a+3];if(u!==p||s!==h||l!==f||c!==d){var m=1-o,g=s*h+l*f+c*d+u*p,v=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){var y=Math.sqrt(b),x=Math.atan2(y,g*v);m=Math.sin(m*x)/y;o=Math.sin(o*x)/y}var w=o*v;s=s*m+h*w;l=l*m+f*w;c=c*m+d*w;u=u*m+p*w;if(m===1-o){var _=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=_;l*=_;c*=_;u*=_}}e[t]=s;e[t+1]=l;e[t+2]=c;e[t+3]=u}});Object.defineProperties(Ct.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e;this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e;this.onChangeCallback()}}});Object.assign(Ct.prototype,{set:function(e,t,n,i){this._x=e;this._y=t;this._z=n;this._w=i;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){this._x=e.x;this._y=e.y;this._z=e.z;this._w=e.w;this.onChangeCallback();return this},setFromEuler:function(e,t){if(!(e&&e.isEuler)){throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.")}var n=e._x,i=e._y,r=e._z,a=e.order;var o=Math.cos;var s=Math.sin;var l=o(n/2);var c=o(i/2);var u=o(r/2);var h=s(n/2);var f=s(i/2);var d=s(r/2);if(a==="XYZ"){this._x=h*c*u+l*f*d;this._y=l*f*u-h*c*d;this._z=l*c*d+h*f*u;this._w=l*c*u-h*f*d}else if(a==="YXZ"){this._x=h*c*u+l*f*d;this._y=l*f*u-h*c*d;this._z=l*c*d-h*f*u;this._w=l*c*u+h*f*d}else if(a==="ZXY"){this._x=h*c*u-l*f*d;this._y=l*f*u+h*c*d;this._z=l*c*d+h*f*u;this._w=l*c*u-h*f*d}else if(a==="ZYX"){this._x=h*c*u-l*f*d;this._y=l*f*u+h*c*d;this._z=l*c*d-h*f*u;this._w=l*c*u+h*f*d}else if(a==="YZX"){this._x=h*c*u+l*f*d;this._y=l*f*u+h*c*d;this._z=l*c*d-h*f*u;this._w=l*c*u-h*f*d}else if(a==="XZY"){this._x=h*c*u-l*f*d;this._y=l*f*u-h*c*d;this._z=l*c*d+h*f*u;this._w=l*c*u+h*f*d}if(t!==false){this.onChangeCallback()}return this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);this._x=e.x*i;this._y=e.y*i;this._z=e.z*i;this._w=Math.cos(n);this.onChangeCallback();return this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],h=n+o+u,f;if(h>0){f=.5/Math.sqrt(h+1);this._w=.25/f;this._x=(c-s)*f;this._y=(r-l)*f;this._z=(a-i)*f}else if(n>o&&n>u){f=2*Math.sqrt(1+n-o-u);this._w=(c-s)/f;this._x=.25*f;this._y=(i+a)/f;this._z=(r+l)/f}else if(o>u){f=2*Math.sqrt(1+o-n-u);this._w=(r-l)/f;this._x=(i+a)/f;this._y=.25*f;this._z=(s+c)/f}else{f=2*Math.sqrt(1+u-n-o);this._w=(a-i)/f;this._x=(r+l)/f;this._y=(s+c)/f;this._z=.25*f}this.onChangeCallback();return this},setFromUnitVectors:function(){var i=new St;var r;var a=1e-6;return function e(t,n){if(i===undefined){i=new St}r=t.dot(n)+1;if(r<a){r=0;if(Math.abs(t.x)>Math.abs(t.z)){i.set(-t.y,t.x,0)}else{i.set(0,-t.z,t.y)}}else{i.crossVectors(t,n)}this._x=i.x;this._y=i.y;this._z=i.z;this._w=r;return this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();if(e===0){this._x=0;this._y=0;this._z=0;this._w=1}else{e=1/e;this._x=this._x*e;this._y=this._y*e;this._z=this._z*e;this._w=this._w*e}this.onChangeCallback();return this},multiply:function(e,t){if(t!==undefined){console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.");return this.multiplyQuaternions(e,t)}return this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._w;var o=t._x,s=t._y,l=t._z,c=t._w;this._x=n*c+a*o+i*l-r*s;this._y=i*c+a*s+r*o-n*l;this._z=r*c+a*l+n*s-i*o;this._w=a*c-n*o-i*s-r*l;this.onChangeCallback();return this},slerp:function(e,t){if(t===0){return this}if(t===1){return this.copy(e)}var n=this._x,i=this._y,r=this._z,a=this._w;var o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0){this._w=-e._w;this._x=-e._x;this._y=-e._y;this._z=-e._z;o=-o}else{this.copy(e)}if(o>=1){this._w=a;this._x=n;this._y=i;this._z=r;return this}var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001){this._w=.5*(a+this._w);this._x=.5*(n+this._x);this._y=.5*(i+this._y);this._z=.5*(r+this._z);return this}var l=Math.atan2(s,o);var c=Math.sin((1-t)*l)/s,u=Math.sin(t*l)/s;this._w=a*c+this._w*u;this._x=n*c+this._x*u;this._y=i*c+this._y*u;this._z=r*c+this._z*u;this.onChangeCallback();return this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){if(t===undefined){t=0}this._x=e[t];this._y=e[t+1];this._z=e[t+2];this._w=e[t+3];this.onChangeCallback();return this},toArray:function(e,t){if(e===undefined){e=[]}if(t===undefined){t=0}e[t]=this._x;e[t+1]=this._y;e[t+2]=this._z;e[t+3]=this._w;return e},onChange:function(e){this.onChangeCallback=e;return this},onChangeCallback:function(){}});function St(e,t,n){this.x=e||0;this.y=t||0;this.z=n||0}Object.assign(St.prototype,{isVector3:true,set:function(e,t,n){this.x=e;this.y=t;this.z=n;return this},setScalar:function(e){this.x=e;this.y=e;this.z=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setZ:function(e){this.z=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;return this},add:function(e,t){if(t!==undefined){console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;this.z+=e.z;return this},addScalar:function(e){this.x+=e;this.y+=e;this.z+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;this.z=e.z+t.z;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;this.z+=e.z*t;return this},sub:function(e,t){if(t!==undefined){console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;this.z-=e.z;return this},subScalar:function(e){this.x-=e;this.y-=e;this.z-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;this.z=e.z-t.z;return this},multiply:function(e,t){if(t!==undefined){console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.");return this.multiplyVectors(e,t)}this.x*=e.x;this.y*=e.y;this.z*=e.z;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;this.z*=e;return this},multiplyVectors:function(e,t){this.x=e.x*t.x;this.y=e.y*t.y;this.z=e.z*t.z;return this},applyEuler:function(){var n=new Ct;return function e(t){if(!(t&&t.isEuler)){console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.")}return this.applyQuaternion(n.setFromEuler(t))}}(),applyAxisAngle:function(){var i=new Ct;return function e(t,n){return this.applyQuaternion(i.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z;var r=e.elements;this.x=r[0]*t+r[3]*n+r[6]*i;this.y=r[1]*t+r[4]*n+r[7]*i;this.z=r[2]*t+r[5]*n+r[8]*i;return this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z;var r=e.elements;var a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a;this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a;this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a;return this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z;var r=e.x,a=e.y,o=e.z,s=e.w;var l=s*t+a*i-o*n;var c=s*n+o*t-r*i;var u=s*i+r*n-a*t;var h=-r*t-a*n-o*i;this.x=l*s+h*-r+c*-o-u*-a;this.y=c*s+h*-a+u*-r-l*-o;this.z=u*s+h*-o+l*-a-c*-r;return this},project:function(){var n=new At;return function e(t){n.multiplyMatrices(t.projectionMatrix,n.getInverse(t.matrixWorld));return this.applyMatrix4(n)}}(),unproject:function(){var n=new At;return function e(t){n.multiplyMatrices(t.matrixWorld,n.getInverse(t.projectionMatrix));return this.applyMatrix4(n)}}(),transformDirection:function(e){var t=this.x,n=this.y,i=this.z;var r=e.elements;this.x=r[0]*t+r[4]*n+r[8]*i;this.y=r[1]*t+r[5]*n+r[9]*i;this.z=r[2]*t+r[6]*n+r[10]*i;return this.normalize()},divide:function(e){this.x/=e.x;this.y/=e.y;this.z/=e.z;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);this.z=Math.min(this.z,e.z);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);this.z=Math.max(this.z,e.z);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));this.z=Math.max(e.z,Math.min(t.z,this.z));return this},clampScalar:function(){var i=new St;var r=new St;return function e(t,n){i.set(t,t,t);r.set(n,n,n);return this.clamp(i,r)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;this.z+=(e.z-this.z)*t;return this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){if(t!==undefined){console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.");return this.crossVectors(e,t)}return this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z;var a=t.x,o=t.y,s=t.z;this.x=i*s-r*o;this.y=r*a-n*s;this.z=n*o-i*a;return this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var n=new St;return function e(t){n.copy(this).projectOnVector(t);return this.sub(n)}}(),reflect:function(){var n=new St;return function e(t){return this.sub(n.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(_t.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;this.x=t*Math.sin(e.theta);this.y=Math.cos(e.phi)*e.radius;this.z=t*Math.cos(e.theta);return this},setFromCylindrical:function(e){this.x=e.radius*Math.sin(e.theta);this.y=e.y;this.z=e.radius*Math.cos(e.theta);return this},setFromMatrixPosition:function(e){var t=e.elements;this.x=t[12];this.y=t[13];this.z=t[14];return this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length();var n=this.setFromMatrixColumn(e,1).length();var i=this.setFromMatrixColumn(e,2).length();this.x=t;this.y=n;this.z=i;return this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){if(t===undefined){t=0}this.x=e[t];this.y=e[t+1];this.z=e[t+2];return this},toArray:function(e,t){if(e===undefined){e=[]}if(t===undefined){t=0}e[t]=this.x;e[t+1]=this.y;e[t+2]=this.z;return e},fromBufferAttribute:function(e,t,n){if(n!==undefined){console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);this.z=e.getZ(t);return this}});function Tt(){this.elements=[1,0,0,0,1,0,0,0,1];if(arguments.length>0){console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}}Object.assign(Tt.prototype,{isMatrix3:true,set:function(e,t,n,i,r,a,o,s,l){var c=this.elements;c[0]=e;c[1]=i;c[2]=o;c[3]=t;c[4]=r;c[5]=s;c[6]=n;c[7]=a;c[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements;var n=e.elements;t[0]=n[0];t[1]=n[1];t[2]=n[2];t[3]=n[3];t[4]=n[4];t[5]=n[5];t[6]=n[6];t[7]=n[7];t[8]=n[8];return this},setFromMatrix4:function(e){var t=e.elements;this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]);return this},applyToBufferAttribute:function(){var a=new St;return function e(t){var n=this;for(var i=0,r=t.count;i<r;i++){a.x=t.getX(i);a.y=t.getY(i);a.z=t.getZ(i);a.applyMatrix3(n);t.setXYZ(i,a.x,a.y,a.z)}return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements;var i=t.elements;var r=this.elements;var a=n[0],o=n[3],s=n[6];var l=n[1],c=n[4],u=n[7];var h=n[2],f=n[5],d=n[8];var p=i[0],m=i[3],g=i[6];var v=i[1],b=i[4],y=i[7];var x=i[2],w=i[5],_=i[8];r[0]=a*p+o*v+s*x;r[3]=a*m+o*b+s*w;r[6]=a*g+o*y+s*_;r[1]=l*p+c*v+u*x;r[4]=l*m+c*b+u*w;r[7]=l*g+c*y+u*_;r[2]=h*p+f*v+d*x;r[5]=h*m+f*b+d*w;r[8]=h*g+f*y+d*_;return this},multiplyScalar:function(e){var t=this.elements;t[0]*=e;t[3]*=e;t[6]*=e;t[1]*=e;t[4]*=e;t[7]*=e;t[2]*=e;t[5]*=e;t[8]*=e;return this},determinant:function(){var e=this.elements;var t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*r*c+n*o*s+i*r*l-i*a*s},getInverse:function(e,t){if(e&&e.isMatrix4){console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.")}var n=e.elements,i=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],h=n[7],f=n[8],d=f*l-c*h,p=c*u-f*s,m=h*s-l*u,g=r*d+a*p+o*m;if(g===0){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(t===true){throw new Error(v)}else{console.warn(v)}return this.identity()}var b=1/g;i[0]=d*b;i[1]=(o*h-f*a)*b;i[2]=(c*a-o*l)*b;i[3]=p*b;i[4]=(f*r-o*u)*b;i[5]=(o*s-c*r)*b;i[6]=m*b;i[7]=(a*u-h*r)*b;i[8]=(l*r-a*s)*b;return this},transpose:function(){var e,t=this.elements;e=t[1];t[1]=t[3];t[3]=e;e=t[2];t[2]=t[6];t[6]=e;e=t[5];t[5]=t[7];t[7]=e;return this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;e[0]=t[0];e[1]=t[3];e[2]=t[6];e[3]=t[1];e[4]=t[4];e[5]=t[7];e[6]=t[2];e[7]=t[5];e[8]=t[8];return this},setUvTransform:function(e,t,n,i,r,a,o){var s=Math.cos(r);var l=Math.sin(r);this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;n[0]*=e;n[3]*=e;n[6]*=e;n[1]*=t;n[4]*=t;n[7]*=t;return this},rotate:function(e){var t=Math.cos(e);var n=Math.sin(e);var i=this.elements;var r=i[0],a=i[3],o=i[6];var s=i[1],l=i[4],c=i[7];i[0]=t*r+n*s;i[3]=t*a+n*l;i[6]=t*o+n*c;i[1]=-n*r+t*s;i[4]=-n*a+t*l;i[7]=-n*o+t*c;return this},translate:function(e,t){var n=this.elements;n[0]+=e*n[2];n[3]+=e*n[5];n[6]+=e*n[8];n[1]+=t*n[2];n[4]+=t*n[5];n[7]+=t*n[8];return this},equals:function(e){var t=this.elements;var n=e.elements;for(var i=0;i<9;i++){if(t[i]!==n[i]){return false}}return true},fromArray:function(e,t){var n=this;if(t===undefined){t=0}for(var i=0;i<9;i++){n.elements[i]=e[i+t]}return this},toArray:function(e,t){if(e===undefined){e=[]}if(t===undefined){t=0}var n=this.elements;e[t]=n[0];e[t+1]=n[1];e[t+2]=n[2];e[t+3]=n[3];e[t+4]=n[4];e[t+5]=n[5];e[t+6]=n[6];e[t+7]=n[7];e[t+8]=n[8];return e}});var Mt=0;function kt(e,t,n,i,r,a,o,s,l,c){Object.defineProperty(this,"id",{value:Mt++});this.uuid=_t.generateUUID();this.name="";this.image=e!==undefined?e:kt.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=t!==undefined?t:kt.DEFAULT_MAPPING;this.wrapS=n!==undefined?n:X;this.wrapT=i!==undefined?i:X;this.magFilter=r!==undefined?r:J;this.minFilter=a!==undefined?a:te;this.anisotropy=l!==undefined?l:1;this.format=o!==undefined?o:Xe;this.type=s!==undefined?s:Ve;this.offset=new Et(0,0);this.repeat=new Et(1,1);this.center=new Et(0,0);this.rotation=0;this.matrixAutoUpdate=true;this.matrix=new Tt;this.generateMipmaps=true;this.premultiplyAlpha=false;this.flipY=true;this.unpackAlignment=4;this.encoding=c!==undefined?c:ft;this.version=0;this.onUpdate=null}kt.DEFAULT_IMAGE=undefined;kt.DEFAULT_MAPPING=z;Object.defineProperty(kt.prototype,"needsUpdate",{set:function(e){if(e===true){this.version++}}});Object.assign(kt.prototype,i.prototype,{constructor:kt,isTexture:true,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name;this.image=e.image;this.mipmaps=e.mipmaps.slice(0);this.mapping=e.mapping;this.wrapS=e.wrapS;this.wrapT=e.wrapT;this.magFilter=e.magFilter;this.minFilter=e.minFilter;this.anisotropy=e.anisotropy;this.format=e.format;this.type=e.type;this.offset.copy(e.offset);this.repeat.copy(e.repeat);this.center.copy(e.center);this.rotation=e.rotation;this.matrixAutoUpdate=e.matrixAutoUpdate;this.matrix.copy(e.matrix);this.generateMipmaps=e.generateMipmaps;this.premultiplyAlpha=e.premultiplyAlpha;this.flipY=e.flipY;this.unpackAlignment=e.unpackAlignment;this.encoding=e.encoding;return this},toJSON:function(e){var t=e===undefined||typeof e==="string";if(!t&&e.textures[this.uuid]!==undefined){return e.textures[this.uuid]}function n(e){var t;if(e instanceof HTMLCanvasElement){t=e}else{t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=e.width;t.height=e.height;var n=t.getContext("2d");if(e instanceof ImageData){n.putImageData(e,0,0)}else{n.drawImage(e,0,0,e.width,e.height)}}if(t.width>2048||t.height>2048){return t.toDataURL("image/jpeg",.6)}else{return t.toDataURL("image/png")}}var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(this.image!==undefined){var r=this.image;if(r.uuid===undefined){r.uuid=_t.generateUUID()}if(!t&&e.images[r.uuid]===undefined){e.images[r.uuid]={uuid:r.uuid,url:n(r)}}i.image=r.uuid}if(!t){e.textures[this.uuid]=i}return i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==z){return}e.applyMatrix3(this.matrix);if(e.x<0||e.x>1){switch(this.wrapS){case q:e.x=e.x-Math.floor(e.x);break;case X:e.x=e.x<0?0:1;break;case Y:if(Math.abs(Math.floor(e.x)%2)===1){e.x=Math.ceil(e.x)-e.x}else{e.x=e.x-Math.floor(e.x)}break}}if(e.y<0||e.y>1){switch(this.wrapT){case q:e.y=e.y-Math.floor(e.y);break;case X:e.y=e.y<0?0:1;break;case Y:if(Math.abs(Math.floor(e.y)%2)===1){e.y=Math.ceil(e.y)-e.y}else{e.y=e.y-Math.floor(e.y)}break}}if(this.flipY){e.y=1-e.y}}});function Dt(e,t,n,i){this.x=e||0;this.y=t||0;this.z=n||0;this.w=i!==undefined?i:1}Object.assign(Dt.prototype,{isVector4:true,set:function(e,t,n,i){this.x=e;this.y=t;this.z=n;this.w=i;return this},setScalar:function(e){this.x=e;this.y=e;this.z=e;this.w=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setZ:function(e){this.z=e;return this},setW:function(e){this.w=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;this.w=e.w!==undefined?e.w:1;return this},add:function(e,t){if(t!==undefined){console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;this.z+=e.z;this.w+=e.w;return this},addScalar:function(e){this.x+=e;this.y+=e;this.z+=e;this.w+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;this.z=e.z+t.z;this.w=e.w+t.w;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;this.z+=e.z*t;this.w+=e.w*t;return this},sub:function(e,t){if(t!==undefined){console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;this.z-=e.z;this.w-=e.w;return this},subScalar:function(e){this.x-=e;this.y-=e;this.z-=e;this.w-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;this.z=e.z-t.z;this.w=e.w-t.w;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;this.z*=e;this.w*=e;return this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w;var a=e.elements;this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r;this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r;this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r;this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);if(t<1e-4){this.x=1;this.y=0;this.z=0}else{this.x=e.x/t;this.y=e.y/t;this.z=e.z/t}return this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<a&&Math.abs(u-p)<a&&Math.abs(d-m)<a){if(Math.abs(c+h)<o&&Math.abs(u+p)<o&&Math.abs(d+m)<o&&Math.abs(l+f+g-3)<o){this.set(1,0,0,0);return this}t=Math.PI;var v=(l+1)/2;var b=(f+1)/2;var y=(g+1)/2;var x=(c+h)/4;var w=(u+p)/4;var _=(d+m)/4;if(v>b&&v>y){if(v<a){n=0;i=.707106781;r=.707106781}else{n=Math.sqrt(v);i=x/n;r=w/n}}else if(b>y){if(b<a){n=.707106781;i=0;r=.707106781}else{i=Math.sqrt(b);n=x/i;r=_/i}}else{if(y<a){n=.707106781;i=.707106781;r=0}else{r=Math.sqrt(y);n=w/r;i=_/r}}this.set(n,i,r,t);return this}var E=Math.sqrt((m-d)*(m-d)+(u-p)*(u-p)+(h-c)*(h-c));if(Math.abs(E)<.001){E=1}this.x=(m-d)/E;this.y=(u-p)/E;this.z=(h-c)/E;this.w=Math.acos((l+f+g-1)/2);return this},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);this.z=Math.min(this.z,e.z);this.w=Math.min(this.w,e.w);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);this.z=Math.max(this.z,e.z);this.w=Math.max(this.w,e.w);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));this.z=Math.max(e.z,Math.min(t.z,this.z));this.w=Math.max(e.w,Math.min(t.w,this.w));return this},clampScalar:function(){var i,r;return function e(t,n){if(i===undefined){i=new Dt;r=new Dt}i.set(t,t,t,t);r.set(n,n,n,n);return this.clamp(i,r)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;this.z+=(e.z-this.z)*t;this.w+=(e.w-this.w)*t;return this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){if(t===undefined){t=0}this.x=e[t];this.y=e[t+1];this.z=e[t+2];this.w=e[t+3];return this},toArray:function(e,t){if(e===undefined){e=[]}if(t===undefined){t=0}e[t]=this.x;e[t+1]=this.y;e[t+2]=this.z;e[t+3]=this.w;return e},fromBufferAttribute:function(e,t,n){if(n!==undefined){console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);this.z=e.getZ(t);this.w=e.getW(t);return this}});function Lt(e,t,n){this.uuid=_t.generateUUID();this.width=e;this.height=t;this.scissor=new Dt(0,0,e,t);this.scissorTest=false;this.viewport=new Dt(0,0,e,t);n=n||{};if(n.minFilter===undefined){n.minFilter=J}this.texture=new kt(undefined,undefined,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding);this.depthBuffer=n.depthBuffer!==undefined?n.depthBuffer:true;this.stencilBuffer=n.stencilBuffer!==undefined?n.stencilBuffer:true;this.depthTexture=n.depthTexture!==undefined?n.depthTexture:null}Object.assign(Lt.prototype,i.prototype,{isWebGLRenderTarget:true,setSize:function(e,t){if(this.width!==e||this.height!==t){this.width=e;this.height=t;this.dispose()}this.viewport.set(0,0,e,t);this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.width=e.width;this.height=e.height;this.viewport.copy(e.viewport);this.texture=e.texture.clone();this.depthBuffer=e.depthBuffer;this.stencilBuffer=e.stencilBuffer;this.depthTexture=e.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Rt(e,t,n){Lt.call(this,e,t,n);this.activeCubeFace=0;this.activeMipMapLevel=0}Rt.prototype=Object.create(Lt.prototype);Rt.prototype.constructor=Rt;Rt.prototype.isWebGLRenderTargetCube=true;function Ft(e,t,n,i,r,a,o,s,l,c,u,h){kt.call(this,null,a,o,s,l,c,i,r,u,h);this.image={data:e,width:t,height:n};this.magFilter=l!==undefined?l:K;this.minFilter=c!==undefined?c:K;this.generateMipmaps=false;this.flipY=false;this.unpackAlignment=1}Ft.prototype=Object.create(kt.prototype);Ft.prototype.constructor=Ft;Ft.prototype.isDataTexture=true;function Pt(e,t,n,i,r,a,o,s,l,c){e=e!==undefined?e:[];t=t!==undefined?t:U;kt.call(this,e,t,n,i,r,a,o,s,l,c);this.flipY=false}Pt.prototype=Object.create(kt.prototype);Pt.prototype.constructor=Pt;Pt.prototype.isCubeTexture=true;Object.defineProperty(Pt.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var It=new kt;var Nt=new Pt;function Ot(){this.seq=[];this.map={}}var Bt=[];var zt=[];var Ut=new Float32Array(16);var Ht=new Float32Array(9);function jt(e,t,n){var i=e[0];if(i<=0||i>0){return e}var r=t*n,a=Bt[r];if(a===undefined){a=new Float32Array(r);Bt[r]=a}if(t!==0){i.toArray(a,0);for(var o=1,s=0;o!==t;++o){s+=n;e[o].toArray(a,s)}}return a}function $t(e,t){var n=zt[t];if(n===undefined){n=new Int32Array(t);zt[t]=n}for(var i=0;i!==t;++i){n[i]=e.allocTextureUnit()}return n}function Wt(e,t){e.uniform1f(this.addr,t)}function Vt(e,t){e.uniform1i(this.addr,t)}function Gt(e,t){if(t.x===undefined){e.uniform2fv(this.addr,t)}else{e.uniform2f(this.addr,t.x,t.y)}}function qt(e,t){if(t.x!==undefined){e.uniform3f(this.addr,t.x,t.y,t.z)}else if(t.r!==undefined){e.uniform3f(this.addr,t.r,t.g,t.b)}else{e.uniform3fv(this.addr,t)}}function Xt(e,t){if(t.x===undefined){e.uniform4fv(this.addr,t)}else{e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}}function Yt(e,t){e.uniformMatrix2fv(this.addr,false,t.elements||t)}function Kt(e,t){if(t.elements===undefined){e.uniformMatrix3fv(this.addr,false,t)}else{Ht.set(t.elements);e.uniformMatrix3fv(this.addr,false,Ht)}}function Zt(e,t){if(t.elements===undefined){e.uniformMatrix4fv(this.addr,false,t)}else{Ut.set(t.elements);e.uniformMatrix4fv(this.addr,false,Ut)}}function Qt(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i);n.setTexture2D(t||It,i)}function Jt(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i);n.setTextureCube(t||Nt,i)}function en(e,t){e.uniform2iv(this.addr,t)}function tn(e,t){e.uniform3iv(this.addr,t)}function nn(e,t){e.uniform4iv(this.addr,t)}function rn(e){switch(e){case 5126:return Wt;case 35664:return Gt;case 35665:return qt;case 35666:return Xt;case 35674:return Yt;case 35675:return Kt;case 35676:return Zt;case 35678:case 36198:return Qt;case 35680:return Jt;case 5124:case 35670:return Vt;case 35667:case 35671:return en;case 35668:case 35672:return tn;case 35669:case 35673:return nn}}function an(e,t){e.uniform1fv(this.addr,t)}function on(e,t){e.uniform1iv(this.addr,t)}function sn(e,t){e.uniform2fv(this.addr,jt(t,this.size,2))}function ln(e,t){e.uniform3fv(this.addr,jt(t,this.size,3))}function cn(e,t){e.uniform4fv(this.addr,jt(t,this.size,4))}function un(e,t){e.uniformMatrix2fv(this.addr,false,jt(t,this.size,4))}function hn(e,t){e.uniformMatrix3fv(this.addr,false,jt(t,this.size,9))}function fn(e,t){e.uniformMatrix4fv(this.addr,false,jt(t,this.size,16))}function dn(e,t,n){var i=t.length,r=$t(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a){n.setTexture2D(t[a]||It,r[a])}}function pn(e,t,n){var i=t.length,r=$t(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a){n.setTextureCube(t[a]||Nt,r[a])}}function mn(e){switch(e){case 5126:return an;case 35664:return sn;case 35665:return ln;case 35666:return cn;case 35674:return un;case 35675:return hn;case 35676:return fn;case 35678:return dn;case 35680:return pn;case 5124:case 35670:return on;case 35667:case 35671:return en;case 35668:case 35672:return tn;case 35669:case 35673:return nn}}function gn(e,t,n){this.id=e;this.addr=n;this.setValue=rn(t.type)}function vn(e,t,n){this.id=e;this.addr=n;this.size=t.size;this.setValue=mn(t.type)}function bn(e){this.id=e;Ot.call(this)}bn.prototype.setValue=function(e,t){var n=this.seq;for(var i=0,r=n.length;i!==r;++i){var a=n[i];a.setValue(e,t[a.id])}};var yn=/([\w\d_]+)(\])?(\[|\.)?/g;function xn(e,t){e.seq.push(t);e.map[t.id]=t}function wn(e,t,n){var i=e.name,r=i.length;yn.lastIndex=0;for(;;){var a=yn.exec(i),o=yn.lastIndex,s=a[1],l=a[2]==="]",c=a[3];if(l){s=s|0}if(c===undefined||c==="["&&o+2===r){xn(n,c===undefined?new gn(s,e,t):new vn(s,e,t));break}else{var u=n.map,h=u[s];if(h===undefined){h=new bn(s);xn(n,h)}n=h}}}function _n(e,t,n){var i=this;Ot.call(this);this.renderer=n;var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(var a=0;a<r;++a){var o=e.getActiveUniform(t,a),s=o.name,l=e.getUniformLocation(t,s);wn(o,l,i)}}_n.prototype.setValue=function(e,t,n){var i=this.map[t];if(i!==undefined){i.setValue(e,n,this.renderer)}};_n.prototype.setOptional=function(e,t,n){var i=t[n];if(i!==undefined){this.setValue(e,n,i)}};_n.upload=function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];if(s.needsUpdate!==false){o.setValue(e,s.value,i)}}};_n.seqWithValue=function(e,t){var n=[];for(var i=0,r=e.length;i!==r;++i){var a=e[i];if(a.id in t){n.push(a)}}return n};var En={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function An(e,t,n){if(t===undefined&&n===undefined){return this.set(e)}return this.setRGB(e,t,n)}Object.assign(An.prototype,{isColor:true,r:1,g:1,b:1,set:function(e){if(e&&e.isColor){this.copy(e)}else if(typeof e==="number"){this.setHex(e)}else if(typeof e==="string"){this.setStyle(e)}return this},setScalar:function(e){this.r=e;this.g=e;this.b=e;return this},setHex:function(e){e=Math.floor(e);this.r=(e>>16&255)/255;this.g=(e>>8&255)/255;this.b=(e&255)/255;return this},setRGB:function(e,t,n){this.r=e;this.g=t;this.b=n;return this},setHSL:function(){function o(e,t,n){if(n<0){n+=1}if(n>1){n-=1}if(n<1/6){return e+(t-e)*6*n}if(n<1/2){return t}if(n<2/3){return e+(t-e)*6*(2/3-n)}return e}return function e(t,n,i){t=_t.euclideanModulo(t,1);n=_t.clamp(n,0,1);i=_t.clamp(i,0,1);if(n===0){this.r=this.g=this.b=i}else{var r=i<=.5?i*(1+n):i+n-i*n;var a=2*i-r;this.r=o(a,r,t+1/3);this.g=o(a,r,t);this.b=o(a,r,t-1/3)}return this}}(),setStyle:function(t){function e(e){if(e===undefined){return}if(parseFloat(e)<1){console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i;var r=n[1];var a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){this.r=Math.min(255,parseInt(i[1],10))/255;this.g=Math.min(255,parseInt(i[2],10))/255;this.b=Math.min(255,parseInt(i[3],10))/255;e(i[5]);return this}if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){this.r=Math.min(100,parseInt(i[1],10))/100;this.g=Math.min(100,parseInt(i[2],10))/100;this.b=Math.min(100,parseInt(i[3],10))/100;e(i[5]);return this}break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(i[1])/360;var s=parseInt(i[2],10)/100;var l=parseInt(i[3],10)/100;e(i[5]);return this.setHSL(o,s,l)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=n[1];var u=c.length;if(u===3){this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255;this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255;this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255;return this}else if(u===6){this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255;this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255;this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255;return this}}if(t&&t.length>0){var c=En[t];if(c!==undefined){this.setHex(c)}else{console.warn("THREE.Color: Unknown color "+t)}}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){this.r=e.r;this.g=e.g;this.b=e.b;return this},copyGammaToLinear:function(e,t){if(t===undefined){t=2}this.r=Math.pow(e.r,t);this.g=Math.pow(e.g,t);this.b=Math.pow(e.b,t);return this},copyLinearToGamma:function(e,t){if(t===undefined){t=2}var n=t>0?1/t:1;this.r=Math.pow(e.r,n);this.g=Math.pow(e.g,n);this.b=Math.pow(e.b,n);return this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;this.r=e*e;this.g=t*t;this.b=n*n;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t=e||{h:0,s:0,l:0};var n=this.r,i=this.g,r=this.b;var a=Math.max(n,i,r);var o=Math.min(n,i,r);var s,l;var c=(o+a)/2;if(o===a){s=0;l=0}else{var u=a-o;l=c<=.5?u/(a+o):u/(2-a-o);switch(a){case n:s=(i-r)/u+(i<r?6:0);break;case i:s=(r-n)/u+2;break;case r:s=(n-i)/u+4;break}s/=6}t.h=s;t.s=l;t.l=c;return t},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();i.h+=e;i.s+=t;i.l+=n;this.setHSL(i.h,i.s,i.l);return this},add:function(e){this.r+=e.r;this.g+=e.g;this.b+=e.b;return this},addColors:function(e,t){this.r=e.r+t.r;this.g=e.g+t.g;this.b=e.b+t.b;return this},addScalar:function(e){this.r+=e;this.g+=e;this.b+=e;return this},sub:function(e){this.r=Math.max(0,this.r-e.r);this.g=Math.max(0,this.g-e.g);this.b=Math.max(0,this.b-e.b);return this},multiply:function(e){this.r*=e.r;this.g*=e.g;this.b*=e.b;return this},multiplyScalar:function(e){this.r*=e;this.g*=e;this.b*=e;return this},lerp:function(e,t){this.r+=(e.r-this.r)*t;this.g+=(e.g-this.g)*t;this.b+=(e.b-this.b)*t;return this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){if(t===undefined){t=0}this.r=e[t];this.g=e[t+1];this.b=e[t+2];return this},toArray:function(e,t){if(e===undefined){e=[]}if(t===undefined){t=0}e[t]=this.r;e[t+1]=this.g;e[t+2]=this.b;return e},toJSON:function(){return this.getHex()}});var Cn={common:{diffuse:{value:new An(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Tt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Et(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new An(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new An(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Tt}}};var Sn={merge:function(e){var t=this;var n={};for(var i=0;i<e.length;i++){var r=t.clone(e[i]);for(var a in r){n[a]=r[a]}}return n},clone:function(e){var t={};for(var n in e){t[n]={};for(var i in e[n]){var r=e[n][i];if(r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)){t[n][i]=r.clone()}else if(Array.isArray(r)){t[n][i]=r.slice()}else{t[n][i]=r}}}return t}};var Tn="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";var Mn="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";var kn="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";var Dn="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";var Ln="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";var Rn="\nvec3 transformed = vec3( position );\n";var Fn="\nvec3 objectNormal = vec3( normal );\n";var Pn="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";var In="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";var Nn="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n";var On="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";var Bn="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";var zn="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n";var Un="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";var Hn="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";var jn="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";var $n="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";var Wn="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n";var Vn="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";var Gn="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n";var qn="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";var Xn="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";var Yn="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";var Kn="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";var Zn="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";var Qn="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n";var Jn="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";var ei="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";var ti="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";var ni="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";var ii="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif";var ri="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n";var ai="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";var oi="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n";var si="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n";var li="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";var ci="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";var ui="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";var hi="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";var fi="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";var di="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";var pi="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n";var mi="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";var gi="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n";var vi="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif";var bi="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";var yi="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";var xi="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n";var wi="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n";var _i="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";var Ei="#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";var Ai="#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n";var Ci="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n";var Si="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";var Ti="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";var Mi="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";var ki="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";var Di="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";var Li="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";var Ri="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";var Fi="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";var Pi="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n";var Ii="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n";var Ni="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n";var Oi="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n";var Bi="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";var zi="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";var Ui="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";var Hi="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";var ji="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";var $i="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";var Wi="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";var Vi="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n";var Gi="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";var qi="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";var Xi="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";var Yi="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";var Ki="#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";var Zi="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";var Qi="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n";var Ji="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif";var er="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";var tr="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";var nr="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";var ir="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n";var rr="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n";var ar="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n";var or="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";var sr="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";var lr="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n";var cr="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n";var ur="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n";var hr="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n";var fr="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var dr="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n";var pr="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var mr="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n";var gr="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";var vr="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var br="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";var yr="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var xr="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";var wr="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var _r="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n";var Er="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n";var Ar="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var Cr="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var Sr="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n";var Tr="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var Mr={alphamap_fragment:Tn,alphamap_pars_fragment:Mn,alphatest_fragment:kn,aomap_fragment:Dn,aomap_pars_fragment:Ln,begin_vertex:Rn,beginnormal_vertex:Fn,bsdfs:Pn,bumpmap_pars_fragment:In,clipping_planes_fragment:Nn,clipping_planes_pars_fragment:On,clipping_planes_pars_vertex:Bn,clipping_planes_vertex:zn,color_fragment:Un,color_pars_fragment:Hn,color_pars_vertex:jn,color_vertex:$n,common:Wn,cube_uv_reflection_fragment:Vn,defaultnormal_vertex:Gn,displacementmap_pars_vertex:qn,displacementmap_vertex:Xn,emissivemap_fragment:Yn,emissivemap_pars_fragment:Kn,encodings_fragment:Zn,encodings_pars_fragment:Qn,envmap_fragment:Jn,envmap_pars_fragment:ei,envmap_pars_vertex:ti,envmap_vertex:ni,fog_vertex:ii,fog_pars_vertex:ri,fog_fragment:ai,fog_pars_fragment:oi,gradientmap_pars_fragment:si,lightmap_fragment:li,lightmap_pars_fragment:ci,lights_lambert_vertex:ui,lights_pars:hi,lights_phong_fragment:fi,lights_phong_pars_fragment:di,lights_physical_fragment:pi,lights_physical_pars_fragment:mi,lights_template:gi,logdepthbuf_fragment:vi,logdepthbuf_pars_fragment:bi,logdepthbuf_pars_vertex:yi,logdepthbuf_vertex:xi,map_fragment:wi,map_pars_fragment:_i,map_particle_fragment:Ei,map_particle_pars_fragment:Ai,metalnessmap_fragment:Ci,metalnessmap_pars_fragment:Si,morphnormal_vertex:Ti,morphtarget_pars_vertex:Mi,morphtarget_vertex:ki,normal_fragment:Di,normalmap_pars_fragment:Li,packing:Ri,premultiplied_alpha_fragment:Fi,project_vertex:Pi,dithering_fragment:Ii,dithering_pars_fragment:Ni,roughnessmap_fragment:Oi,roughnessmap_pars_fragment:Bi,shadowmap_pars_fragment:zi,shadowmap_pars_vertex:Ui,shadowmap_vertex:Hi,shadowmask_pars_fragment:ji,skinbase_vertex:$i,skinning_pars_vertex:Wi,skinning_vertex:Vi,skinnormal_vertex:Gi,specularmap_fragment:qi,specularmap_pars_fragment:Xi,tonemapping_fragment:Yi,tonemapping_pars_fragment:Ki,uv_pars_fragment:Zi,uv_pars_vertex:Qi,uv_vertex:Ji,uv2_pars_fragment:er,uv2_pars_vertex:tr,uv2_vertex:nr,worldpos_vertex:ir,cube_frag:rr,cube_vert:ar,depth_frag:or,depth_vert:sr,distanceRGBA_frag:lr,distanceRGBA_vert:cr,equirect_frag:ur,equirect_vert:hr,linedashed_frag:fr,linedashed_vert:dr,meshbasic_frag:pr,meshbasic_vert:mr,meshlambert_frag:gr,meshlambert_vert:vr,meshphong_frag:br,meshphong_vert:yr,meshphysical_frag:xr,meshphysical_vert:wr,normal_frag:_r,normal_vert:Er,points_frag:Ar,points_vert:Cr,shadow_frag:Sr,shadow_vert:Tr};var kr={basic:{uniforms:Sn.merge([Cn.common,Cn.specularmap,Cn.envmap,Cn.aomap,Cn.lightmap,Cn.fog]),vertexShader:Mr.meshbasic_vert,fragmentShader:Mr.meshbasic_frag},lambert:{uniforms:Sn.merge([Cn.common,Cn.specularmap,Cn.envmap,Cn.aomap,Cn.lightmap,Cn.emissivemap,Cn.fog,Cn.lights,{emissive:{value:new An(0)}}]),vertexShader:Mr.meshlambert_vert,fragmentShader:Mr.meshlambert_frag},phong:{uniforms:Sn.merge([Cn.common,Cn.specularmap,Cn.envmap,Cn.aomap,Cn.lightmap,Cn.emissivemap,Cn.bumpmap,Cn.normalmap,Cn.displacementmap,Cn.gradientmap,Cn.fog,Cn.lights,{emissive:{value:new An(0)},specular:{value:new An(1118481)},shininess:{value:30}}]),vertexShader:Mr.meshphong_vert,fragmentShader:Mr.meshphong_frag},standard:{uniforms:Sn.merge([Cn.common,Cn.envmap,Cn.aomap,Cn.lightmap,Cn.emissivemap,Cn.bumpmap,Cn.normalmap,Cn.displacementmap,Cn.roughnessmap,Cn.metalnessmap,Cn.fog,Cn.lights,{emissive:{value:new An(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Mr.meshphysical_vert,fragmentShader:Mr.meshphysical_frag},points:{uniforms:Sn.merge([Cn.points,Cn.fog]),vertexShader:Mr.points_vert,fragmentShader:Mr.points_frag},dashed:{uniforms:Sn.merge([Cn.common,Cn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mr.linedashed_vert,fragmentShader:Mr.linedashed_frag},depth:{uniforms:Sn.merge([Cn.common,Cn.displacementmap]),vertexShader:Mr.depth_vert,fragmentShader:Mr.depth_frag},normal:{uniforms:Sn.merge([Cn.common,Cn.bumpmap,Cn.normalmap,Cn.displacementmap,{opacity:{value:1}}]),vertexShader:Mr.normal_vert,fragmentShader:Mr.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mr.cube_vert,fragmentShader:Mr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mr.equirect_vert,fragmentShader:Mr.equirect_frag},distanceRGBA:{uniforms:Sn.merge([Cn.common,Cn.displacementmap,{referencePosition:{value:new St},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mr.distanceRGBA_vert,fragmentShader:Mr.distanceRGBA_frag},shadow:{uniforms:Sn.merge([Cn.lights,Cn.fog,{color:{value:new An(0)},opacity:{value:1}}]),vertexShader:Mr.shadow_vert,fragmentShader:Mr.shadow_frag}};kr.physical={uniforms:Sn.merge([kr.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Mr.meshphysical_vert,fragmentShader:Mr.meshphysical_frag};function Dr(e,t){this.min=e!==undefined?e:new Et(+Infinity,+Infinity);this.max=t!==undefined?t:new Et(-Infinity,-Infinity)}Object.assign(Dr.prototype,{set:function(e,t){this.min.copy(e);this.max.copy(t);return this},setFromPoints:function(e){var t=this;this.makeEmpty();for(var n=0,i=e.length;n<i;n++){t.expandByPoint(e[n])}return this},setFromCenterAndSize:function(){var r=new Et;return function e(t,n){var i=r.copy(n).multiplyScalar(.5);this.min.copy(t).sub(i);this.max.copy(t).add(i);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.min.copy(e.min);this.max.copy(e.max);return this},makeEmpty:function(){this.min.x=this.min.y=+Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new Et;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new Et;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){this.min.min(e);this.max.max(e);return this},expandByVector:function(e){this.min.sub(e);this.max.add(e);return this},expandByScalar:function(e){this.min.addScalar(-e);this.max.addScalar(e);return this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?false:true},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var n=t||new Et;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?false:true},clampPoint:function(e,t){var n=t||new Et;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var i=new Et;return function e(t){var n=i.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),intersect:function(e){this.min.max(e.min);this.max.min(e.max);return this},union:function(e){this.min.min(e.min);this.max.max(e.max);return this},translate:function(e){this.min.add(e);this.max.add(e);return this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function Lr(e,y,x,w,a){var _,E;var n,A,C,S;var T,M;function k(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var t=new Uint16Array([0,1,2,0,2,3]);_=y.createBuffer();E=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,_);y.bufferData(y.ARRAY_BUFFER,e,y.STATIC_DRAW);y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,E);y.bufferData(y.ELEMENT_ARRAY_BUFFER,t,y.STATIC_DRAW);T=y.createTexture();M=y.createTexture();x.bindTexture(y.TEXTURE_2D,T);y.texImage2D(y.TEXTURE_2D,0,y.RGB,16,16,0,y.RGB,y.UNSIGNED_BYTE,null);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST);x.bindTexture(y.TEXTURE_2D,M);y.texImage2D(y.TEXTURE_2D,0,y.RGBA,16,16,0,y.RGBA,y.UNSIGNED_BYTE,null);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST);n={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position;","\tif ( renderType == 2 ) {","\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\t\tvVisibility =        visibility.r / 9.0;","\t\tvVisibility *= 1.0 - visibility.g / 9.0;","\t\tvVisibility *=       visibility.b / 9.0;","\t\tvVisibility *= 1.0 - visibility.a / 9.0;","\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","\t}","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tif ( renderType == 0 ) {","\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","\t} else if ( renderType == 1 ) {","\t\tgl_FragColor = texture2D( map, vUV );","\t} else {","\t\tvec4 texture = texture2D( map, vUV );","\t\ttexture.a *= opacity * vVisibility;","\t\tgl_FragColor = texture;","\t\tgl_FragColor.rgb *= color;","\t}","}"].join("\n")};A=i(n);C={vertex:y.getAttribLocation(A,"position"),uv:y.getAttribLocation(A,"uv")};S={renderType:y.getUniformLocation(A,"renderType"),map:y.getUniformLocation(A,"map"),occlusionMap:y.getUniformLocation(A,"occlusionMap"),opacity:y.getUniformLocation(A,"opacity"),color:y.getUniformLocation(A,"color"),scale:y.getUniformLocation(A,"scale"),rotation:y.getUniformLocation(A,"rotation"),screenPosition:y.getUniformLocation(A,"screenPosition")}}this.render=function(e,t,n,i){if(e.length===0){return}var r=new St;var a=i.w/i.z,o=i.z*.5,s=i.w*.5;var l=16/i.w,c=new Et(l*a,l);var u=new St(1,1,0),h=new Et(1,1);var f=new Dr;f.min.set(i.x,i.y);f.max.set(i.x+(i.z-16),i.y+(i.w-16));if(A===undefined){k()}x.useProgram(A);x.initAttributes();x.enableAttribute(C.vertex);x.enableAttribute(C.uv);x.disableUnusedAttributes();y.uniform1i(S.occlusionMap,0);y.uniform1i(S.map,1);y.bindBuffer(y.ARRAY_BUFFER,_);y.vertexAttribPointer(C.vertex,2,y.FLOAT,false,2*8,0);y.vertexAttribPointer(C.uv,2,y.FLOAT,false,2*8,8);y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,E);x.disable(y.CULL_FACE);x.buffers.depth.setMask(false);for(var d=0,p=e.length;d<p;d++){l=16/i.w;c.set(l*a,l);var m=e[d];r.set(m.matrixWorld.elements[12],m.matrixWorld.elements[13],m.matrixWorld.elements[14]);r.applyMatrix4(n.matrixWorldInverse);r.applyMatrix4(n.projectionMatrix);u.copy(r);h.x=i.x+u.x*o+o-8;h.y=i.y+u.y*s+s-8;if(f.containsPoint(h)===true){x.activeTexture(y.TEXTURE0);x.bindTexture(y.TEXTURE_2D,null);x.activeTexture(y.TEXTURE1);x.bindTexture(y.TEXTURE_2D,T);y.copyTexImage2D(y.TEXTURE_2D,0,y.RGB,h.x,h.y,16,16,0);y.uniform1i(S.renderType,0);y.uniform2f(S.scale,c.x,c.y);y.uniform3f(S.screenPosition,u.x,u.y,u.z);x.disable(y.BLEND);x.enable(y.DEPTH_TEST);y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0);x.activeTexture(y.TEXTURE0);x.bindTexture(y.TEXTURE_2D,M);y.copyTexImage2D(y.TEXTURE_2D,0,y.RGBA,h.x,h.y,16,16,0);y.uniform1i(S.renderType,1);x.disable(y.DEPTH_TEST);x.activeTexture(y.TEXTURE1);x.bindTexture(y.TEXTURE_2D,T);y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0);m.positionScreen.copy(u);if(m.customUpdateCallback){m.customUpdateCallback(m)}else{m.updateLensFlares()}y.uniform1i(S.renderType,2);x.enable(y.BLEND);for(var g=0,v=m.lensFlares.length;g<v;g++){var b=m.lensFlares[g];if(b.opacity>.001&&b.scale>.001){u.x=b.x;u.y=b.y;u.z=b.z;l=b.size*b.scale/i.w;c.x=l*a;c.y=l;y.uniform3f(S.screenPosition,u.x,u.y,u.z);y.uniform2f(S.scale,c.x,c.y);y.uniform1f(S.rotation,b.rotation);y.uniform1f(S.opacity,b.opacity);y.uniform3f(S.color,b.color.r,b.color.g,b.color.b);x.setBlending(b.blending,b.blendEquation,b.blendSrc,b.blendDst);w.setTexture2D(b.texture,1);y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0)}}}}x.enable(y.CULL_FACE);x.enable(y.DEPTH_TEST);x.buffers.depth.setMask(true);x.reset()};function i(e){var t=y.createProgram();var n=y.createShader(y.FRAGMENT_SHADER);var i=y.createShader(y.VERTEX_SHADER);var r="precision "+a.precision+" float;\n";y.shaderSource(n,r+e.fragmentShader);y.shaderSource(i,r+e.vertexShader);y.compileShader(n);y.compileShader(i);y.attachShader(t,n);y.attachShader(t,i);y.linkProgram(t);return t}}function Rr(e,t,n,i,r,a,o,s,l){kt.call(this,e,t,n,i,r,a,o,s,l);this.needsUpdate=true}Rr.prototype=Object.create(kt.prototype);Rr.prototype.constructor=Rr;function Fr(f,d,p,m,i){var g,v;var b,y,x;var w;var _=new St;var E=new Ct;var A=new St;function C(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]);var t=new Uint16Array([0,1,2,0,2,3]);g=d.createBuffer();v=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,g);d.bufferData(d.ARRAY_BUFFER,e,d.STATIC_DRAW);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,v);d.bufferData(d.ELEMENT_ARRAY_BUFFER,t,d.STATIC_DRAW);b=r();y={position:d.getAttribLocation(b,"position"),uv:d.getAttribLocation(b,"uv")};x={uvOffset:d.getUniformLocation(b,"uvOffset"),uvScale:d.getUniformLocation(b,"uvScale"),rotation:d.getUniformLocation(b,"rotation"),scale:d.getUniformLocation(b,"scale"),color:d.getUniformLocation(b,"color"),map:d.getUniformLocation(b,"map"),opacity:d.getUniformLocation(b,"opacity"),modelViewMatrix:d.getUniformLocation(b,"modelViewMatrix"),projectionMatrix:d.getUniformLocation(b,"projectionMatrix"),fogType:d.getUniformLocation(b,"fogType"),fogDensity:d.getUniformLocation(b,"fogDensity"),fogNear:d.getUniformLocation(b,"fogNear"),fogFar:d.getUniformLocation(b,"fogFar"),fogColor:d.getUniformLocation(b,"fogColor"),fogDepth:d.getUniformLocation(b,"fogDepth"),alphaTest:d.getUniformLocation(b,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8;n.height=8;var i=n.getContext("2d");i.fillStyle="white";i.fillRect(0,0,8,8);w=new Rr(n)}this.render=function(e,t,n){if(e.length===0){return}if(b===undefined){C()}p.useProgram(b);p.initAttributes();p.enableAttribute(y.position);p.enableAttribute(y.uv);p.disableUnusedAttributes();p.disable(d.CULL_FACE);p.enable(d.BLEND);d.bindBuffer(d.ARRAY_BUFFER,g);d.vertexAttribPointer(y.position,2,d.FLOAT,false,2*8,0);d.vertexAttribPointer(y.uv,2,d.FLOAT,false,2*8,8);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,v);d.uniformMatrix4fv(x.projectionMatrix,false,n.projectionMatrix.elements);p.activeTexture(d.TEXTURE0);d.uniform1i(x.map,0);var i=0;var r=0;var a=t.fog;if(a){d.uniform3f(x.fogColor,a.color.r,a.color.g,a.color.b);if(a.isFog){d.uniform1f(x.fogNear,a.near);d.uniform1f(x.fogFar,a.far);d.uniform1i(x.fogType,1);i=1;r=1}else if(a.isFogExp2){d.uniform1f(x.fogDensity,a.density);d.uniform1i(x.fogType,2);i=2;r=2}}else{d.uniform1i(x.fogType,0);i=0;r=0}for(var o=0,s=e.length;o<s;o++){var l=e[o];l.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,l.matrixWorld);l.z=-l.modelViewMatrix.elements[14]}e.sort(S);var c=[];for(var o=0,s=e.length;o<s;o++){var l=e[o];var u=l.material;if(u.visible===false){continue}l.onBeforeRender(f,t,n,undefined,u,undefined);d.uniform1f(x.alphaTest,u.alphaTest);d.uniformMatrix4fv(x.modelViewMatrix,false,l.modelViewMatrix.elements);l.matrixWorld.decompose(_,E,A);c[0]=A.x;c[1]=A.y;var h=0;if(t.fog&&u.fog){h=r}if(i!==h){d.uniform1i(x.fogType,h);i=h}if(u.map!==null){d.uniform2f(x.uvOffset,u.map.offset.x,u.map.offset.y);d.uniform2f(x.uvScale,u.map.repeat.x,u.map.repeat.y)}else{d.uniform2f(x.uvOffset,0,0);d.uniform2f(x.uvScale,1,1)}d.uniform1f(x.opacity,u.opacity);d.uniform3f(x.color,u.color.r,u.color.g,u.color.b);d.uniform1f(x.rotation,u.rotation);d.uniform2fv(x.scale,c);p.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst,u.blendEquationAlpha,u.blendSrcAlpha,u.blendDstAlpha,u.premultipliedAlpha);p.buffers.depth.setTest(u.depthTest);p.buffers.depth.setMask(u.depthWrite);p.buffers.color.setMask(u.colorWrite);m.setTexture2D(u.map||w,0);d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0);l.onAfterRender(f,t,n,undefined,u,undefined)}p.enable(d.CULL_FACE);p.reset()};function r(){var e=d.createProgram();var t=d.createShader(d.VERTEX_SHADER);var n=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(t,["precision "+i.precision+" float;","#define SHADER_NAME "+"SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n"));d.shaderSource(n,["precision "+i.precision+" float;","#define SHADER_NAME "+"SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n"));d.compileShader(t);d.compileShader(n);d.attachShader(e,t);d.attachShader(e,n);d.linkProgram(e);return e}function S(e,t){if(e.renderOrder!==t.renderOrder){return e.renderOrder-t.renderOrder}else if(e.z!==t.z){return t.z-e.z}else{return t.id-e.id}}}var Pr=0;function Ir(){Object.defineProperty(this,"id",{value:Pr++});this.uuid=_t.generateUUID();this.name="";this.type="Material";this.fog=true;this.lights=true;this.blending=fe;this.side=N;this.flatShading=false;this.vertexColors=$e;this.opacity=1;this.transparent=false;this.blendSrc=w;this.blendDst=_;this.blendEquation=u;this.blendSrcAlpha=null;this.blendDstAlpha=null;this.blendEquationAlpha=null;this.depthFunc=xe;this.depthTest=true;this.depthWrite=true;this.clippingPlanes=null;this.clipIntersection=false;this.clipShadows=false;this.colorWrite=true;this.precision=null;this.polygonOffset=false;this.polygonOffsetFactor=0;this.polygonOffsetUnits=0;this.dithering=false;this.alphaTest=0;this.premultipliedAlpha=false;this.overdraw=0;this.visible=true;this.userData={};this.needsUpdate=true}Object.assign(Ir.prototype,i.prototype,{isMaterial:true,onBeforeCompile:function(){},setValues:function(e){var t=this;if(e===undefined){return}for(var n in e){var i=e[n];if(i===undefined){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+t.type+": .shading has been removed. Use the boolean .flatShading instead.");t.flatShading=i===l?true:false;continue}var r=t[n];if(r===undefined){console.warn("THREE."+t.type+": '"+n+"' is not a property of this material.");continue}if(r&&r.isColor){r.set(i)}else if(r&&r.isVector3&&(i&&i.isVector3)){r.copy(i)}else if(n==="overdraw"){t[n]=Number(i)}else{t[n]=i}}},toJSON:function(e){var t=e===undefined||typeof e==="string";if(t){e={textures:{},images:{}}}var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid;n.type=this.type;if(this.name!==""){n.name=this.name}if(this.color&&this.color.isColor){n.color=this.color.getHex()}if(this.roughness!==undefined){n.roughness=this.roughness}if(this.metalness!==undefined){n.metalness=this.metalness}if(this.emissive&&this.emissive.isColor){n.emissive=this.emissive.getHex()}if(this.emissiveIntensity!==1){n.emissiveIntensity=this.emissiveIntensity}if(this.specular&&this.specular.isColor){n.specular=this.specular.getHex()}if(this.shininess!==undefined){n.shininess=this.shininess}if(this.clearCoat!==undefined){n.clearCoat=this.clearCoat}if(this.clearCoatRoughness!==undefined){n.clearCoatRoughness=this.clearCoatRoughness}if(this.map&&this.map.isTexture){n.map=this.map.toJSON(e).uuid}if(this.alphaMap&&this.alphaMap.isTexture){n.alphaMap=this.alphaMap.toJSON(e).uuid}if(this.lightMap&&this.lightMap.isTexture){n.lightMap=this.lightMap.toJSON(e).uuid}if(this.bumpMap&&this.bumpMap.isTexture){n.bumpMap=this.bumpMap.toJSON(e).uuid;n.bumpScale=this.bumpScale}if(this.normalMap&&this.normalMap.isTexture){n.normalMap=this.normalMap.toJSON(e).uuid;n.normalScale=this.normalScale.toArray()}if(this.displacementMap&&this.displacementMap.isTexture){n.displacementMap=this.displacementMap.toJSON(e).uuid;n.displacementScale=this.displacementScale;n.displacementBias=this.displacementBias}if(this.roughnessMap&&this.roughnessMap.isTexture){n.roughnessMap=this.roughnessMap.toJSON(e).uuid}if(this.metalnessMap&&this.metalnessMap.isTexture){n.metalnessMap=this.metalnessMap.toJSON(e).uuid}if(this.emissiveMap&&this.emissiveMap.isTexture){n.emissiveMap=this.emissiveMap.toJSON(e).uuid}if(this.specularMap&&this.specularMap.isTexture){n.specularMap=this.specularMap.toJSON(e).uuid}if(this.envMap&&this.envMap.isTexture){n.envMap=this.envMap.toJSON(e).uuid;n.reflectivity=this.reflectivity}if(this.gradientMap&&this.gradientMap.isTexture){n.gradientMap=this.gradientMap.toJSON(e).uuid}if(this.size!==undefined){n.size=this.size}if(this.sizeAttenuation!==undefined){n.sizeAttenuation=this.sizeAttenuation}if(this.blending!==fe){n.blending=this.blending}if(this.flatShading===true){n.flatShading=this.flatShading}if(this.side!==N){n.side=this.side}if(this.vertexColors!==$e){n.vertexColors=this.vertexColors}if(this.opacity<1){n.opacity=this.opacity}if(this.transparent===true){n.transparent=this.transparent}n.depthFunc=this.depthFunc;n.depthTest=this.depthTest;n.depthWrite=this.depthWrite;if(this.rotation!==0){n.rotation=this.rotation}if(this.linewidth!==1){n.linewidth=this.linewidth}if(this.dashSize!==undefined){n.dashSize=this.dashSize}if(this.gapSize!==undefined){n.gapSize=this.gapSize}if(this.scale!==undefined){n.scale=this.scale}if(this.dithering===true){n.dithering=true}if(this.alphaTest>0){n.alphaTest=this.alphaTest}if(this.premultipliedAlpha===true){n.premultipliedAlpha=this.premultipliedAlpha}if(this.wireframe===true){n.wireframe=this.wireframe}if(this.wireframeLinewidth>1){n.wireframeLinewidth=this.wireframeLinewidth}if(this.wireframeLinecap!=="round"){n.wireframeLinecap=this.wireframeLinecap}if(this.wireframeLinejoin!=="round"){n.wireframeLinejoin=this.wireframeLinejoin}if(this.morphTargets===true){n.morphTargets=true}if(this.skinning===true){n.skinning=true}if(this.visible===false){n.visible=false}if(JSON.stringify(this.userData)!=="{}"){n.userData=this.userData}function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata;t.push(i)}return t}if(t){var r=i(e.textures);var a=i(e.images);if(r.length>0){n.textures=r}if(a.length>0){n.images=a}}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name;this.fog=e.fog;this.lights=e.lights;this.blending=e.blending;this.side=e.side;this.flatShading=e.flatShading;this.vertexColors=e.vertexColors;this.opacity=e.opacity;this.transparent=e.transparent;this.blendSrc=e.blendSrc;this.blendDst=e.blendDst;this.blendEquation=e.blendEquation;this.blendSrcAlpha=e.blendSrcAlpha;this.blendDstAlpha=e.blendDstAlpha;this.blendEquationAlpha=e.blendEquationAlpha;this.depthFunc=e.depthFunc;this.depthTest=e.depthTest;this.depthWrite=e.depthWrite;this.colorWrite=e.colorWrite;this.precision=e.precision;this.polygonOffset=e.polygonOffset;this.polygonOffsetFactor=e.polygonOffsetFactor;this.polygonOffsetUnits=e.polygonOffsetUnits;this.dithering=e.dithering;this.alphaTest=e.alphaTest;this.premultipliedAlpha=e.premultipliedAlpha;this.overdraw=e.overdraw;this.visible=e.visible;this.userData=JSON.parse(JSON.stringify(e.userData));this.clipShadows=e.clipShadows;this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(t!==null){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r){n[r]=t[r].clone()}}this.clippingPlanes=n;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Nr(e){Ir.call(this);this.type="MeshDepthMaterial";this.depthPacking=xt;this.skinning=false;this.morphTargets=false;this.map=null;this.alphaMap=null;this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.setValues(e)}Nr.prototype=Object.create(Ir.prototype);Nr.prototype.constructor=Nr;Nr.prototype.isMeshDepthMaterial=true;Nr.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.depthPacking=e.depthPacking;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.map=e.map;this.alphaMap=e.alphaMap;this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;return this};function Or(e){Ir.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new St;this.nearDistance=1;this.farDistance=1e3;this.skinning=false;this.morphTargets=false;this.map=null;this.alphaMap=null;this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.fog=false;this.lights=false;this.setValues(e)}Or.prototype=Object.create(Ir.prototype);Or.prototype.constructor=Or;Or.prototype.isMeshDistanceMaterial=true;Or.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.referencePosition.copy(e.referencePosition);this.nearDistance=e.nearDistance;this.farDistance=e.farDistance;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.map=e.map;this.alphaMap=e.alphaMap;this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;return this};function Br(e,t){this.min=e!==undefined?e:new St(+Infinity,+Infinity,+Infinity);this.max=t!==undefined?t:new St(-Infinity,-Infinity,-Infinity)}Object.assign(Br.prototype,{isBox3:true,set:function(e,t){this.min.copy(e);this.max.copy(t);return this},setFromArray:function(e){var t=+Infinity;var n=+Infinity;var i=+Infinity;var r=-Infinity;var a=-Infinity;var o=-Infinity;for(var s=0,l=e.length;s<l;s+=3){var c=e[s];var u=e[s+1];var h=e[s+2];if(c<t){t=c}if(u<n){n=u}if(h<i){i=h}if(c>r){r=c}if(u>a){a=u}if(h>o){o=h}}this.min.set(t,n,i);this.max.set(r,a,o);return this},setFromBufferAttribute:function(e){var t=+Infinity;var n=+Infinity;var i=+Infinity;var r=-Infinity;var a=-Infinity;var o=-Infinity;for(var s=0,l=e.count;s<l;s++){var c=e.getX(s);var u=e.getY(s);var h=e.getZ(s);if(c<t){t=c}if(u<n){n=u}if(h<i){i=h}if(c>r){r=c}if(u>a){a=u}if(h>o){o=h}}this.min.set(t,n,i);this.max.set(r,a,o);return this},setFromPoints:function(e){var t=this;this.makeEmpty();for(var n=0,i=e.length;n<i;n++){t.expandByPoint(e[n])}return this},setFromCenterAndSize:function(){var r=new St;return function e(t,n){var i=r.copy(n).multiplyScalar(.5);this.min.copy(t).sub(i);this.max.copy(t).add(i);return this}}(),setFromObject:function(e){this.makeEmpty();return this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.min.copy(e.min);this.max.copy(e.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=+Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new St;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new St;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){this.min.min(e);this.max.max(e);return this},expandByVector:function(e){this.min.sub(e);this.max.add(e);return this},expandByScalar:function(e){this.min.addScalar(-e);this.max.addScalar(e);return this},expandByObject:function(){var r,a,o;var s=new St;function n(e){var t=e.geometry;if(t!==undefined){if(t.isGeometry){var n=t.vertices;for(a=0,o=n.length;a<o;a++){s.copy(n[a]);s.applyMatrix4(e.matrixWorld);r.expandByPoint(s)}}else if(t.isBufferGeometry){var i=t.attributes.position;if(i!==undefined){for(a=0,o=i.count;a<o;a++){s.fromBufferAttribute(i,a).applyMatrix4(e.matrixWorld);r.expandByPoint(s)}}}}}return function e(t){r=this;t.updateMatrixWorld(true);t.traverse(n);return this}}(),containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?false:true},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var n=t||new St;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?false:true},intersectsSphere:function(){var n=new St;return function e(t){this.clampPoint(t.center,n);return n.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;if(e.normal.x>0){t=e.normal.x*this.min.x;n=e.normal.x*this.max.x}else{t=e.normal.x*this.max.x;n=e.normal.x*this.min.x}if(e.normal.y>0){t+=e.normal.y*this.min.y;n+=e.normal.y*this.max.y}else{t+=e.normal.y*this.max.y;n+=e.normal.y*this.min.y}if(e.normal.z>0){t+=e.normal.z*this.min.z;n+=e.normal.z*this.max.z}else{t+=e.normal.z*this.max.z;n+=e.normal.z*this.min.z}return t<=e.constant&&n>=e.constant},clampPoint:function(e,t){var n=t||new St;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var i=new St;return function e(t){var n=i.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),getBoundingSphere:function(){var i=new St;return function e(t){var n=t||new zr;this.getCenter(n.center);n.radius=this.getSize(i).length()*.5;return n}}(),intersect:function(e){this.min.max(e.min);this.max.min(e.max);if(this.isEmpty()){this.makeEmpty()}return this},union:function(e){this.min.min(e.min);this.max.max(e.max);return this},applyMatrix4:function(){var n=[new St,new St,new St,new St,new St,new St,new St,new St];return function e(t){if(this.isEmpty()){return this}n[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t);n[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t);n[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t);n[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t);n[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t);n[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t);n[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t);n[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t);this.setFromPoints(n);return this}}(),translate:function(e){this.min.add(e);this.max.add(e);return this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function zr(e,t){this.center=e!==undefined?e:new St;this.radius=t!==undefined?t:0}Object.assign(zr.prototype,{set:function(e,t){this.center.copy(e);this.radius=t;return this},setFromPoints:function(){var s=new Br;return function e(t,n){var i=this.center;if(n!==undefined){i.copy(n)}else{s.setFromPoints(t).getCenter(i)}var r=0;for(var a=0,o=t.length;a<o;a++){r=Math.max(r,i.distanceToSquared(t[a]))}this.radius=Math.sqrt(r);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.center.copy(e.center);this.radius=e.radius;return this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);var i=t||new St;i.copy(e);if(n>this.radius*this.radius){i.sub(this.center).normalize();i.multiplyScalar(this.radius).add(this.center)}return i},getBoundingBox:function(e){var t=e||new Br;t.set(this.center,this.center);t.expandByScalar(this.radius);return t},applyMatrix4:function(e){this.center.applyMatrix4(e);this.radius=this.radius*e.getMaxScaleOnAxis();return this},translate:function(e){this.center.add(e);return this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});function Ur(e,t){this.normal=e!==undefined?e:new St(1,0,0);this.constant=t!==undefined?t:0}Object.assign(Ur.prototype,{set:function(e,t){this.normal.copy(e);this.constant=t;return this},setComponents:function(e,t,n,i){this.normal.set(e,t,n);this.constant=i;return this},setFromNormalAndCoplanarPoint:function(e,t){this.normal.copy(e);this.constant=-t.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new St;var o=new St;return function e(t,n,i){var r=a.subVectors(i,n).cross(o.subVectors(t,n)).normalize();this.setFromNormalAndCoplanarPoint(r,t);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.normal.copy(e.normal);this.constant=e.constant;return this},normalize:function(){var e=1/this.normal.length();this.normal.multiplyScalar(e);this.constant*=e;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){var n=t||new St;return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var s=new St;return function e(t,n){var i=n||new St;var r=t.delta(s);var a=this.normal.dot(r);if(a===0){if(this.distanceToPoint(t.start)===0){return i.copy(t.start)}return undefined}var o=-(t.start.dot(this.normal)+this.constant)/a;if(o<0||o>1){return undefined}return i.copy(r).multiplyScalar(o).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start);var n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var t=e||new St;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var o=new St;var s=new Tt;return function e(t,n){var i=n||s.getNormalMatrix(t);var r=this.coplanarPoint(o).applyMatrix4(t);var a=this.normal.applyMatrix3(i).normalize();this.constant=-r.dot(a);return this}}(),translate:function(e){this.constant-=e.dot(this.normal);return this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});function Hr(e,t,n,i,r,a){this.planes=[e!==undefined?e:new Ur,t!==undefined?t:new Ur,n!==undefined?n:new Ur,i!==undefined?i:new Ur,r!==undefined?r:new Ur,a!==undefined?a:new Ur]}Object.assign(Hr.prototype,{set:function(e,t,n,i,r,a){var o=this.planes;o[0].copy(e);o[1].copy(t);o[2].copy(n);o[3].copy(i);o[4].copy(r);o[5].copy(a);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){var t=this.planes;for(var n=0;n<6;n++){t[n].copy(e.planes[n])}return this},setFromMatrix:function(e){var t=this.planes;var n=e.elements;var i=n[0],r=n[1],a=n[2],o=n[3];var s=n[4],l=n[5],c=n[6],u=n[7];var h=n[8],f=n[9],d=n[10],p=n[11];var m=n[12],g=n[13],v=n[14],b=n[15];t[0].setComponents(o-i,u-s,p-h,b-m).normalize();t[1].setComponents(o+i,u+s,p+h,b+m).normalize();t[2].setComponents(o+r,u+l,p+f,b+g).normalize();t[3].setComponents(o-r,u-l,p-f,b-g).normalize();t[4].setComponents(o-a,u-c,p-d,b-v).normalize();t[5].setComponents(o+a,u+c,p+d,b+v).normalize();return this},intersectsObject:function(){var i=new zr;return function e(t){var n=t.geometry;if(n.boundingSphere===null){n.computeBoundingSphere()}i.copy(n.boundingSphere).applyMatrix4(t.matrixWorld);return this.intersectsSphere(i)}}(),intersectsSprite:function(){var n=new zr;return function e(t){n.center.set(0,0,0);n.radius=.7071067811865476;n.applyMatrix4(t.matrixWorld);return this.intersectsSphere(n)}}(),intersectsSphere:function(e){var t=this.planes;var n=e.center;var i=-e.radius;for(var r=0;r<6;r++){var a=t[r].distanceToPoint(n);if(a<i){return false}}return true},intersectsBox:function(){var s=new St,l=new St;return function e(t){var n=this.planes;for(var i=0;i<6;i++){var r=n[i];s.x=r.normal.x>0?t.min.x:t.max.x;l.x=r.normal.x>0?t.max.x:t.min.x;s.y=r.normal.y>0?t.min.y:t.max.y;l.y=r.normal.y>0?t.max.y:t.min.y;s.z=r.normal.z>0?t.min.z:t.max.z;l.z=r.normal.z>0?t.max.z:t.min.z;var a=r.distanceToPoint(s);var o=r.distanceToPoint(l);if(a<0&&o<0){return false}}return true}}(),containsPoint:function(e){var t=this.planes;for(var n=0;n<6;n++){if(t[n].distanceToPoint(e)<0){return false}}return true}});function jr(y,g,e){var x=new Hr,w=new At,_=new Et,E=new Et(e,e),A=new St,C=new St,b=1,S=2,t=(b|S)+1,T=new Array(t),M=new Array(t),k={};var D=[new St(1,0,0),new St(-1,0,0),new St(0,0,1),new St(0,0,-1),new St(0,1,0),new St(0,-1,0)];var L=[new St(0,1,0),new St(0,1,0),new St(0,1,0),new St(0,1,0),new St(0,0,1),new St(0,0,-1)];var R=[new Dt,new Dt,new Dt,new Dt,new Dt,new Dt];for(var n=0;n!==t;++n){var i=(n&b)!==0;var r=(n&S)!==0;var a=new Nr({depthPacking:wt,morphTargets:i,skinning:r});T[n]=a;var o=new Or({morphTargets:i,skinning:r});M[n]=o}var F=this;this.enabled=false;this.autoUpdate=true;this.needsUpdate=false;this.type=I;this.renderReverseSided=true;this.renderSingleSided=true;this.render=function(e,t,n){if(F.enabled===false){return}if(F.autoUpdate===false&&F.needsUpdate===false){return}if(e.length===0){return}var i=y.context;var r=y.state;r.disable(i.BLEND);r.buffers.color.setClear(1,1,1,1);r.buffers.depth.setTest(true);r.setScissorTest(false);var a;for(var o=0,s=e.length;o<s;o++){var l=e[o];var c=l.shadow;var u=l&&l.isPointLight;if(c===undefined){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}var h=c.camera;_.copy(c.mapSize);_.min(E);if(u){var f=_.x;var d=_.y;R[0].set(f*2,d,f,d);R[1].set(0,d,f,d);R[2].set(f*3,d,f,d);R[3].set(f,d,f,d);R[4].set(f*3,0,f,d);R[5].set(f,0,f,d);_.x*=4;_.y*=2}if(c.map===null){var p={minFilter:K,magFilter:K,format:Xe};c.map=new Lt(_.x,_.y,p);c.map.texture.name=l.name+".shadowMap";h.updateProjectionMatrix()}if(c.isSpotLightShadow){c.update(l)}var m=c.map;var g=c.matrix;C.setFromMatrixPosition(l.matrixWorld);h.position.copy(C);if(u){a=6;g.makeTranslation(-C.x,-C.y,-C.z)}else{a=1;A.setFromMatrixPosition(l.target.matrixWorld);h.lookAt(A);h.updateMatrixWorld();g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);g.multiply(h.projectionMatrix);g.multiply(h.matrixWorldInverse)}y.setRenderTarget(m);y.clear();for(var v=0;v<a;v++){if(u){A.copy(h.position);A.add(D[v]);h.up.copy(L[v]);h.lookAt(A);h.updateMatrixWorld();var b=R[v];r.viewport(b)}w.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse);x.setFromMatrix(w);P(t,n,h,u)}}F.needsUpdate=false};function v(e,t,n,i,r,a){var o=e.geometry;var s=null;var l=T;var c=e.customDepthMaterial;if(n){l=M;c=e.customDistanceMaterial}if(!c){var u=false;if(t.morphTargets){if(o&&o.isBufferGeometry){u=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0}else if(o&&o.isGeometry){u=o.morphTargets&&o.morphTargets.length>0}}if(e.isSkinnedMesh&&t.skinning===false){console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)}var h=e.isSkinnedMesh&&t.skinning;var f=0;if(u){f|=b}if(h){f|=S}s=l[f]}else{s=c}if(y.localClippingEnabled&&t.clipShadows===true&&t.clippingPlanes.length!==0){var d=s.uuid,p=t.uuid;var m=k[d];if(m===undefined){m={};k[d]=m}var g=m[p];if(g===undefined){g=s.clone();m[p]=g}s=g}s.visible=t.visible;s.wireframe=t.wireframe;var v=t.side;if(F.renderSingleSided&&v==ue){v=N}if(F.renderReverseSided){if(v===N){v=ce}else if(v===ce){v=N}}s.side=v;s.clipShadows=t.clipShadows;s.clippingPlanes=t.clippingPlanes;s.clipIntersection=t.clipIntersection;s.wireframeLinewidth=t.wireframeLinewidth;s.linewidth=t.linewidth;if(n&&s.isMeshDistanceMaterial){s.referencePosition.copy(i);s.nearDistance=r;s.farDistance=a}return s}function P(e,t,n,i){if(e.visible===false){return}var r=e.layers.test(t.layers);if(r&&(e.isMesh||e.isLine||e.isPoints)){if(e.castShadow&&(!e.frustumCulled||x.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld);var a=g.update(e);var o=e.material;if(Array.isArray(o)){var s=a.groups;for(var l=0,c=s.length;l<c;l++){var u=s[l];var h=o[u.materialIndex];if(h&&h.visible){var f=v(e,h,i,C,n.near,n.far);y.renderBufferDirect(n,null,a,f,e,u)}}}else if(o.visible){var f=v(e,o,i,C,n.near,n.far);y.renderBufferDirect(n,null,a,f,e,null)}}}var d=e.children;for(var p=0,m=d.length;p<m;p++){P(d[p],t,n,i)}}}function $r(o){var i={};function r(e,t){var n=e.array;var i=e.dynamic?o.DYNAMIC_DRAW:o.STATIC_DRAW;var r=o.createBuffer();o.bindBuffer(t,r);o.bufferData(t,n,i);e.onUploadCallback();var a=o.FLOAT;if(n instanceof Float32Array){a=o.FLOAT}else if(n instanceof Float64Array){console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.")}else if(n instanceof Uint16Array){a=o.UNSIGNED_SHORT}else if(n instanceof Int16Array){a=o.SHORT}else if(n instanceof Uint32Array){a=o.UNSIGNED_INT}else if(n instanceof Int32Array){a=o.INT}else if(n instanceof Int8Array){a=o.BYTE}else if(n instanceof Uint8Array){a=o.UNSIGNED_BYTE}return{buffer:r,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}function a(e,t,n){var i=t.array;var r=t.updateRange;o.bindBuffer(n,e);if(t.dynamic===false){o.bufferData(n,i,o.STATIC_DRAW)}else if(r.count===-1){o.bufferSubData(n,0,i)}else if(r.count===0){console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.")}else{o.bufferSubData(n,r.offset*i.BYTES_PER_ELEMENT,i.subarray(r.offset,r.offset+r.count));r.count=-1}}function e(e){if(e.isInterleavedBufferAttribute){e=e.data}return i[e.uuid]}function t(e){if(e.isInterleavedBufferAttribute){e=e.data}var t=i[e.uuid];if(t){o.deleteBuffer(t.buffer);delete i[e.uuid]}}function n(e,t){if(e.isInterleavedBufferAttribute){e=e.data}var n=i[e.uuid];if(n===undefined){i[e.uuid]=r(e,t)}else if(n.version<e.version){a(n.buffer,e,t);n.version=e.version}}return{get:e,remove:t,update:n}}function Wr(e,t,n,i){this._x=e||0;this._y=t||0;this._z=n||0;this._order=i||Wr.DefaultOrder}Wr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];Wr.DefaultOrder="XYZ";Object.defineProperties(Wr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e;this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e;this.onChangeCallback()}}});Object.assign(Wr.prototype,{isEuler:true,set:function(e,t,n,i){this._x=e;this._y=t;this._z=n;this._order=i||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){this._x=e._x;this._y=e._y;this._z=e._z;this._order=e._order;this.onChangeCallback();return this},setFromRotationMatrix:function(e,t,n){var i=_t.clamp;var r=e.elements;var a=r[0],o=r[4],s=r[8];var l=r[1],c=r[5],u=r[9];var h=r[2],f=r[6],d=r[10];t=t||this._order;if(t==="XYZ"){this._y=Math.asin(i(s,-1,1));if(Math.abs(s)<.99999){this._x=Math.atan2(-u,d);this._z=Math.atan2(-o,a)}else{this._x=Math.atan2(f,c);this._z=0}}else if(t==="YXZ"){this._x=Math.asin(-i(u,-1,1));if(Math.abs(u)<.99999){this._y=Math.atan2(s,d);this._z=Math.atan2(l,c)}else{this._y=Math.atan2(-h,a);this._z=0}}else if(t==="ZXY"){this._x=Math.asin(i(f,-1,1));if(Math.abs(f)<.99999){this._y=Math.atan2(-h,d);this._z=Math.atan2(-o,c)}else{this._y=0;this._z=Math.atan2(l,a)}}else if(t==="ZYX"){this._y=Math.asin(-i(h,-1,1));if(Math.abs(h)<.99999){this._x=Math.atan2(f,d);this._z=Math.atan2(l,a)}else{this._x=0;this._z=Math.atan2(-o,c)}}else if(t==="YZX"){this._z=Math.asin(i(l,-1,1));if(Math.abs(l)<.99999){this._x=Math.atan2(-u,c);this._y=Math.atan2(-h,a)}else{this._x=0;this._y=Math.atan2(s,d)}}else if(t==="XZY"){this._z=Math.asin(-i(o,-1,1));if(Math.abs(o)<.99999){this._x=Math.atan2(f,c);this._y=Math.atan2(s,a)}else{this._x=Math.atan2(-u,d);this._y=0}}else{console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t)}this._order=t;if(n!==false){this.onChangeCallback()}return this},setFromQuaternion:function(){var r=new At;return function e(t,n,i){r.makeRotationFromQuaternion(t);return this.setFromRotationMatrix(r,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var n=new Ct;return function e(t){n.setFromEuler(this);return this.setFromQuaternion(n,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){this._x=e[0];this._y=e[1];this._z=e[2];if(e[3]!==undefined){this._order=e[3]}this.onChangeCallback();return this},toArray:function(e,t){if(e===undefined){e=[]}if(t===undefined){t=0}e[t]=this._x;e[t+1]=this._y;e[t+2]=this._z;e[t+3]=this._order;return e},toVector3:function(e){if(e){return e.set(this._x,this._y,this._z)}else{return new St(this._x,this._y,this._z)}},onChange:function(e){this.onChangeCallback=e;return this},onChangeCallback:function(){}});function Vr(){this.mask=1|0}Object.assign(Vr.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return(this.mask&e.mask)!==0}});var Gr=0;function qr(){Object.defineProperty(this,"id",{value:Gr++});this.uuid=_t.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=qr.DefaultUp.clone();var e=new St;var t=new Wr;var n=new Ct;var i=new St(1,1,1);function r(){n.setFromEuler(t,false)}function a(){t.setFromQuaternion(n,undefined,false)}t.onChange(r);n.onChange(a);Object.defineProperties(this,{position:{enumerable:true,value:e},rotation:{enumerable:true,value:t},quaternion:{enumerable:true,value:n},scale:{enumerable:true,value:i},modelViewMatrix:{value:new At},normalMatrix:{value:new Tt}});this.matrix=new At;this.matrixWorld=new At;this.matrixAutoUpdate=qr.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=false;this.layers=new Vr;this.visible=true;this.castShadow=false;this.receiveShadow=false;this.frustumCulled=true;this.renderOrder=0;this.userData={}}qr.DefaultUp=new St(0,1,0);qr.DefaultMatrixAutoUpdate=true;Object.assign(qr.prototype,i.prototype,{isObject3D:true,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){this.quaternion.premultiply(e);return this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,true)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var i=new Ct;return function e(t,n){i.setFromAxisAngle(t,n);this.quaternion.multiply(i);return this}}(),rotateOnWorldAxis:function(){var i=new Ct;return function e(t,n){i.setFromAxisAngle(t,n);this.quaternion.premultiply(i);return this}}(),rotateX:function(){var n=new St(1,0,0);return function e(t){return this.rotateOnAxis(n,t)}}(),rotateY:function(){var n=new St(0,1,0);return function e(t){return this.rotateOnAxis(n,t)}}(),rotateZ:function(){var n=new St(0,0,1);return function e(t){return this.rotateOnAxis(n,t)}}(),translateOnAxis:function(){var i=new St;return function e(t,n){i.copy(t).applyQuaternion(this.quaternion);this.position.add(i.multiplyScalar(n));return this}}(),translateX:function(){var n=new St(1,0,0);return function e(t){return this.translateOnAxis(n,t)}}(),translateY:function(){var n=new St(0,1,0);return function e(t){return this.translateOnAxis(n,t)}}(),translateZ:function(){var n=new St(0,0,1);return function e(t){return this.translateOnAxis(n,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var n=new At;return function e(t){return t.applyMatrix4(n.getInverse(this.matrixWorld))}}(),lookAt:function(){var r=new At;var a=new St;return function e(t,n,i){if(t.isVector3){a.copy(t)}else{a.set(t,n,i)}if(this.isCamera){r.lookAt(this.position,a,this.up)}else{r.lookAt(a,this.position,this.up)}this.quaternion.setFromRotationMatrix(r)}}(),add:function(e){var t=arguments;var n=this;if(arguments.length>1){for(var i=0;i<arguments.length;i++){n.add(t[i])}return this}if(e===this){console.error("THREE.Object3D.add: object can't be added as a child of itself.",e);return this}if(e&&e.isObject3D){if(e.parent!==null){e.parent.remove(e)}e.parent=this;e.dispatchEvent({type:"added"});this.children.push(e)}else{console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e)}return this},remove:function(e){var t=arguments;var n=this;if(arguments.length>1){for(var i=0;i<arguments.length;i++){n.remove(t[i])}return this}var r=this.children.indexOf(e);if(r!==-1){e.parent=null;e.dispatchEvent({type:"removed"});this.children.splice(r,1)}return this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){var n=this;if(this[e]===t){return this}for(var i=0,r=this.children.length;i<r;i++){var a=n.children[i];var o=a.getObjectByProperty(e,t);if(o!==undefined){return o}}return undefined},getWorldPosition:function(e){var t=e||new St;this.updateMatrixWorld(true);return t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var i=new St;var r=new St;return function e(t){var n=t||new Ct;this.updateMatrixWorld(true);this.matrixWorld.decompose(i,n,r);return n}}(),getWorldRotation:function(){var i=new Ct;return function e(t){var n=t||new Wr;this.getWorldQuaternion(i);return n.setFromQuaternion(i,this.rotation.order,false)}}(),getWorldScale:function(){var i=new St;var r=new Ct;return function e(t){var n=t||new St;this.updateMatrixWorld(true);this.matrixWorld.decompose(i,r,n);return n}}(),getWorldDirection:function(){var i=new Ct;return function e(t){var n=t||new St;this.getWorldQuaternion(i);return n.set(0,0,1).applyQuaternion(i)}}(),raycast:function(){},traverse:function(e){e(this);var t=this.children;for(var n=0,i=t.length;n<i;n++){t[n].traverse(e)}},traverseVisible:function(e){if(this.visible===false){return}e(this);var t=this.children;for(var n=0,i=t.length;n<i;n++){t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;if(t!==null){e(t);t.traverseAncestors(e)}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=true},updateMatrixWorld:function(e){if(this.matrixAutoUpdate){this.updateMatrix()}if(this.matrixWorldNeedsUpdate||e){if(this.parent===null){this.matrixWorld.copy(this.matrix)}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)}this.matrixWorldNeedsUpdate=false;e=true}var t=this.children;for(var n=0,i=t.length;n<i;n++){t[n].updateMatrixWorld(e)}},toJSON:function(n){var e=this;var t=n===undefined||typeof n==="string";var i={};if(t){n={geometries:{},materials:{},textures:{},images:{}};i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"}}var r={};r.uuid=this.uuid;r.type=this.type;if(this.name!==""){r.name=this.name}if(this.castShadow===true){r.castShadow=true}if(this.receiveShadow===true){r.receiveShadow=true}if(this.visible===false){r.visible=false}if(JSON.stringify(this.userData)!=="{}"){r.userData=this.userData}r.matrix=this.matrix.toArray();function a(e,t){if(e[t.uuid]===undefined){e[t.uuid]=t.toJSON(n)}return t.uuid}if(this.geometry!==undefined){r.geometry=a(n.geometries,this.geometry)}if(this.material!==undefined){if(Array.isArray(this.material)){var o=[];for(var s=0,l=this.material.length;s<l;s++){o.push(a(n.materials,e.material[s]))}r.material=o}else{r.material=a(n.materials,this.material)}}if(this.children.length>0){r.children=[];for(var s=0;s<this.children.length;s++){r.children.push(e.children[s].toJSON(n).object)}}if(t){var c=d(n.geometries);var u=d(n.materials);var h=d(n.textures);var f=d(n.images);if(c.length>0){i.geometries=c}if(u.length>0){i.materials=u}if(h.length>0){i.textures=h}if(f.length>0){i.images=f}}i.object=r;return i;function d(e){var t=[];for(var n in e){var i=e[n];delete i.metadata;t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){var n=this;if(t===undefined){t=true}this.name=e.name;this.up.copy(e.up);this.position.copy(e.position);this.quaternion.copy(e.quaternion);this.scale.copy(e.scale);this.matrix.copy(e.matrix);this.matrixWorld.copy(e.matrixWorld);this.matrixAutoUpdate=e.matrixAutoUpdate;this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate;this.layers.mask=e.layers.mask;this.visible=e.visible;this.castShadow=e.castShadow;this.receiveShadow=e.receiveShadow;this.frustumCulled=e.frustumCulled;this.renderOrder=e.renderOrder;this.userData=JSON.parse(JSON.stringify(e.userData));if(t===true){for(var i=0;i<e.children.length;i++){var r=e.children[i];n.add(r.clone())}}return this}});function Xr(){qr.call(this);this.type="Camera";this.matrixWorldInverse=new At;this.projectionMatrix=new At}Xr.prototype=Object.assign(Object.create(qr.prototype),{constructor:Xr,isCamera:true,copy:function(e,t){qr.prototype.copy.call(this,e,t);this.matrixWorldInverse.copy(e.matrixWorldInverse);this.projectionMatrix.copy(e.projectionMatrix);return this},getWorldDirection:function(){var i=new Ct;return function e(t){var n=t||new St;this.getWorldQuaternion(i);return n.set(0,0,-1).applyQuaternion(i)}}(),updateMatrixWorld:function(e){qr.prototype.updateMatrixWorld.call(this,e);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}});function Yr(e,t,n,i,r,a){Xr.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=e;this.right=t;this.top=n;this.bottom=i;this.near=r!==undefined?r:.1;this.far=a!==undefined?a:2e3;this.updateProjectionMatrix()}Yr.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Yr,isOrthographicCamera:true,copy:function(e,t){Xr.prototype.copy.call(this,e,t);this.left=e.left;this.right=e.right;this.top=e.top;this.bottom=e.bottom;this.near=e.near;this.far=e.far;this.zoom=e.zoom;this.view=e.view===null?null:Object.assign({},e.view);return this},setViewOffset:function(e,t,n,i,r,a){if(this.view===null){this.view={enabled:true,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}}this.view.enabled=true;this.view.fullWidth=e;this.view.fullHeight=t;this.view.offsetX=n;this.view.offsetY=i;this.view.width=r;this.view.height=a;this.updateProjectionMatrix()},clearViewOffset:function(){if(this.view!==null){this.view.enabled=false}this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom);var t=(this.top-this.bottom)/(2*this.zoom);var n=(this.right+this.left)/2;var i=(this.top+this.bottom)/2;var r=n-e;var a=n+e;var o=i+t;var s=i-t;if(this.view!==null&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth);var c=this.zoom/(this.view.height/this.view.fullHeight);var u=(this.right-this.left)/this.view.width;var h=(this.top-this.bottom)/this.view.height;r+=u*(this.view.offsetX/l);a=r+u*(this.view.width/l);o-=h*(this.view.offsetY/c);s=o-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(e){var t=qr.prototype.toJSON.call(this,e);t.object.zoom=this.zoom;t.object.left=this.left;t.object.right=this.right;t.object.top=this.top;t.object.bottom=this.bottom;t.object.near=this.near;t.object.far=this.far;if(this.view!==null){t.object.view=Object.assign({},this.view)}return t}});function Kr(e,t,n,i,r,a){this.a=e;this.b=t;this.c=n;this.normal=i&&i.isVector3?i:new St;this.vertexNormals=Array.isArray(i)?i:[];this.color=r&&r.isColor?r:new An;this.vertexColors=Array.isArray(r)?r:[];this.materialIndex=a!==undefined?a:0}Object.assign(Kr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){var t=this;this.a=e.a;this.b=e.b;this.c=e.c;this.normal.copy(e.normal);this.color.copy(e.color);this.materialIndex=e.materialIndex;for(var n=0,i=e.vertexNormals.length;n<i;n++){t.vertexNormals[n]=e.vertexNormals[n].clone()}for(var n=0,i=e.vertexColors.length;n<i;n++){t.vertexColors[n]=e.vertexColors[n].clone()}return this}});var Zr=0;function Qr(){Object.defineProperty(this,"id",{value:Zr+=2});this.uuid=_t.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;this.elementsNeedUpdate=false;this.verticesNeedUpdate=false;this.uvsNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.lineDistancesNeedUpdate=false;this.groupsNeedUpdate=false}Object.assign(Qr.prototype,i.prototype,{isGeometry:true,applyMatrix:function(e){var t=this;var n=(new Tt).getNormalMatrix(e);for(var i=0,r=this.vertices.length;i<r;i++){var a=t.vertices[i];a.applyMatrix4(e)}for(var i=0,r=this.faces.length;i<r;i++){var o=t.faces[i];o.normal.applyMatrix3(n).normalize();for(var s=0,l=o.vertexNormals.length;s<l;s++){o.vertexNormals[s].applyMatrix3(n).normalize()}}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}this.verticesNeedUpdate=true;this.normalsNeedUpdate=true;return this},rotateX:function(){var n=new At;return function e(t){n.makeRotationX(t);this.applyMatrix(n);return this}}(),rotateY:function(){var n=new At;return function e(t){n.makeRotationY(t);this.applyMatrix(n);return this}}(),rotateZ:function(){var n=new At;return function e(t){n.makeRotationZ(t);this.applyMatrix(n);return this}}(),translate:function(){var r=new At;return function e(t,n,i){r.makeTranslation(t,n,i);this.applyMatrix(r);return this}}(),scale:function(){var r=new At;return function e(t,n,i){r.makeScale(t,n,i);this.applyMatrix(r);return this}}(),lookAt:function(){var n=new qr;return function e(t){n.lookAt(t);n.updateMatrix();this.applyMatrix(n.matrix)}}(),fromBufferGeometry:function(e){var s=this;var t=e.index!==null?e.index.array:undefined;var n=e.attributes;var i=n.position.array;var l=n.normal!==undefined?n.normal.array:undefined;var c=n.color!==undefined?n.color.array:undefined;var u=n.uv!==undefined?n.uv.array:undefined;var h=n.uv2!==undefined?n.uv2.array:undefined;if(h!==undefined){this.faceVertexUvs[1]=[]}var f=[];var d=[];var p=[];for(var r=0,a=0;r<i.length;r+=3,a+=2){s.vertices.push(new St(i[r],i[r+1],i[r+2]));if(l!==undefined){f.push(new St(l[r],l[r+1],l[r+2]))}if(c!==undefined){s.colors.push(new An(c[r],c[r+1],c[r+2]))}if(u!==undefined){d.push(new Et(u[a],u[a+1]))}if(h!==undefined){p.push(new Et(h[a],h[a+1]))}}function o(e,t,n,i){var r=l!==undefined?[f[e].clone(),f[t].clone(),f[n].clone()]:[];var a=c!==undefined?[s.colors[e].clone(),s.colors[t].clone(),s.colors[n].clone()]:[];var o=new Kr(e,t,n,r,a,i);s.faces.push(o);if(u!==undefined){s.faceVertexUvs[0].push([d[e].clone(),d[t].clone(),d[n].clone()])}if(h!==undefined){s.faceVertexUvs[1].push([p[e].clone(),p[t].clone(),p[n].clone()])}}var m=e.groups;if(m.length>0){for(var r=0;r<m.length;r++){var g=m[r];var v=g.start;var b=g.count;for(var a=v,y=v+b;a<y;a+=3){if(t!==undefined){o(t[a],t[a+1],t[a+2],g.materialIndex)}else{o(a,a+1,a+2,g.materialIndex)}}}}else{if(t!==undefined){for(var r=0;r<t.length;r+=3){o(t[r],t[r+1],t[r+2])}}else{for(var r=0;r<i.length/3;r+=3){o(r,r+1,r+2)}}}this.computeFaceNormals();if(e.boundingBox!==null){this.boundingBox=e.boundingBox.clone()}if(e.boundingSphere!==null){this.boundingSphere=e.boundingSphere.clone()}return this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();this.translate(e.x,e.y,e.z);return e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center;var t=this.boundingSphere.radius;var n=t===0?1:1/t;var i=new At;i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1);this.applyMatrix(i);return this},computeFaceNormals:function(){var e=this;var t=new St,n=new St;for(var i=0,r=this.faces.length;i<r;i++){var a=e.faces[i];var o=e.vertices[a.a];var s=e.vertices[a.b];var l=e.vertices[a.c];t.subVectors(l,s);n.subVectors(o,s);t.cross(n);t.normalize();a.normal.copy(t)}},computeVertexNormals:function(e){var t=this;if(e===undefined){e=true}var n,i,r,a,o,s;s=new Array(this.vertices.length);for(n=0,i=this.vertices.length;n<i;n++){s[n]=new St}if(e){var l,c,u;var h=new St,f=new St;for(r=0,a=this.faces.length;r<a;r++){o=t.faces[r];l=t.vertices[o.a];c=t.vertices[o.b];u=t.vertices[o.c];h.subVectors(u,c);f.subVectors(l,c);h.cross(f);s[o.a].add(h);s[o.b].add(h);s[o.c].add(h)}}else{this.computeFaceNormals();for(r=0,a=this.faces.length;r<a;r++){o=t.faces[r];s[o.a].add(o.normal);s[o.b].add(o.normal);s[o.c].add(o.normal)}}for(n=0,i=this.vertices.length;n<i;n++){s[n].normalize()}for(r=0,a=this.faces.length;r<a;r++){o=t.faces[r];var d=o.vertexNormals;if(d.length===3){d[0].copy(s[o.a]);d[1].copy(s[o.b]);d[2].copy(s[o.c])}else{d[0]=s[o.a].clone();d[1]=s[o.b].clone();d[2]=s[o.c].clone()}}if(this.faces.length>0){this.normalsNeedUpdate=true}},computeFlatVertexNormals:function(){var e=this;var t,n,i;this.computeFaceNormals();for(t=0,n=this.faces.length;t<n;t++){i=e.faces[t];var r=i.vertexNormals;if(r.length===3){r[0].copy(i.normal);r[1].copy(i.normal);r[2].copy(i.normal)}else{r[0]=i.normal.clone();r[1]=i.normal.clone();r[2]=i.normal.clone()}}if(this.faces.length>0){this.normalsNeedUpdate=true}},computeMorphNormals:function(){var e=this;var t,n,i,r,a;for(i=0,r=this.faces.length;i<r;i++){a=e.faces[i];if(!a.__originalFaceNormal){a.__originalFaceNormal=a.normal.clone()}else{a.__originalFaceNormal.copy(a.normal)}if(!a.__originalVertexNormals){a.__originalVertexNormals=[]}for(t=0,n=a.vertexNormals.length;t<n;t++){if(!a.__originalVertexNormals[t]){a.__originalVertexNormals[t]=a.vertexNormals[t].clone()}else{a.__originalVertexNormals[t].copy(a.vertexNormals[t])}}}var o=new Qr;o.faces=this.faces;for(t=0,n=this.morphTargets.length;t<n;t++){if(!e.morphNormals[t]){e.morphNormals[t]={};e.morphNormals[t].faceNormals=[];e.morphNormals[t].vertexNormals=[];var s=e.morphNormals[t].faceNormals;var l=e.morphNormals[t].vertexNormals;var c,u;for(i=0,r=this.faces.length;i<r;i++){c=new St;u={a:new St,b:new St,c:new St};s.push(c);l.push(u)}}var h=e.morphNormals[t];o.vertices=e.morphTargets[t].vertices;o.computeFaceNormals();o.computeVertexNormals();var c,u;for(i=0,r=this.faces.length;i<r;i++){a=e.faces[i];c=h.faceNormals[i];u=h.vertexNormals[i];c.copy(a.normal);u.a.copy(a.vertexNormals[0]);u.b.copy(a.vertexNormals[1]);u.c.copy(a.vertexNormals[2])}}for(i=0,r=this.faces.length;i<r;i++){a=e.faces[i];a.normal=a.__originalFaceNormal;a.vertexNormals=a.__originalVertexNormals}},computeLineDistances:function(){var e=this;var t=0;var n=this.vertices;for(var i=0,r=n.length;i<r;i++){if(i>0){t+=n[i].distanceTo(n[i-1])}e.lineDistances[i]=t}},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new Br}this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){if(this.boundingSphere===null){this.boundingSphere=new zr}this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}var i,r=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.faceVertexUvs[0],u=e.faceVertexUvs[0],h=this.colors,f=e.colors;if(n===undefined){n=0}if(t!==undefined){i=(new Tt).getNormalMatrix(t)}for(var d=0,p=o.length;d<p;d++){var m=o[d];var g=m.clone();if(t!==undefined){g.applyMatrix4(t)}a.push(g)}for(var d=0,p=f.length;d<p;d++){h.push(f[d].clone())}for(d=0,p=l.length;d<p;d++){var v=l[d],b,y,x,w=v.vertexNormals,_=v.vertexColors;b=new Kr(v.a+r,v.b+r,v.c+r);b.normal.copy(v.normal);if(i!==undefined){b.normal.applyMatrix3(i).normalize()}for(var E=0,A=w.length;E<A;E++){y=w[E].clone();if(i!==undefined){y.applyMatrix3(i).normalize()}b.vertexNormals.push(y)}b.color.copy(v.color);for(var E=0,A=_.length;E<A;E++){x=_[E];b.vertexColors.push(x.clone())}b.materialIndex=v.materialIndex+n;s.push(b)}for(d=0,p=u.length;d<p;d++){var C=u[d],S=[];if(C===undefined){continue}for(var E=0,A=C.length;E<A;E++){S.push(C[E].clone())}c.push(S)}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix();this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e=this;var t={};var n=[],i=[];var r,a;var o=4;var s=Math.pow(10,o);var l,c,u;var h,f,d;for(l=0,c=this.vertices.length;l<c;l++){r=e.vertices[l];a=Math.round(r.x*s)+"_"+Math.round(r.y*s)+"_"+Math.round(r.z*s);if(t[a]===undefined){t[a]=l;n.push(e.vertices[l]);i[l]=n.length-1}else{i[l]=i[t[a]]}}var p=[];for(l=0,c=this.faces.length;l<c;l++){u=e.faces[l];u.a=i[u.a];u.b=i[u.b];u.c=i[u.c];h=[u.a,u.b,u.c];for(var m=0;m<3;m++){if(h[m]===h[(m+1)%3]){p.push(l);break}}}for(l=p.length-1;l>=0;l--){var g=p[l];e.faces.splice(g,1);for(f=0,d=this.faceVertexUvs.length;f<d;f++){e.faceVertexUvs[f].splice(g,1)}}var v=this.vertices.length-n.length;this.vertices=n;return v},setFromPoints:function(e){var t=this;this.vertices=[];for(var n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new St(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){var e=this.faces;var t=e.length;for(var n=0;n<t;n++){e[n]._id=n}function i(e,t){return e.materialIndex-t.materialIndex}e.sort(i);var r=this.faceVertexUvs[0];var a=this.faceVertexUvs[1];var o,s;if(r&&r.length===t){o=[]}if(a&&a.length===t){s=[]}for(var n=0;n<t;n++){var l=e[n]._id;if(o){o.push(r[l])}if(s){s.push(a[l])}}if(o){this.faceVertexUvs[0]=o}if(s){this.faceVertexUvs[1]=s}},toJSON:function(){var e=this;var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};t.uuid=this.uuid;t.type=this.type;if(this.name!==""){t.name=this.name}if(this.parameters!==undefined){var n=this.parameters;for(var i in n){if(n[i]!==undefined){t[i]=n[i]}}return t}var r=[];for(var a=0;a<this.vertices.length;a++){var o=e.vertices[a];r.push(o.x,o.y,o.z)}var s=[];var l=[];var c={};var u=[];var h={};var f=[];var d={};for(var a=0;a<this.faces.length;a++){var p=e.faces[a];var m=true;var g=false;var v=e.faceVertexUvs[0][a]!==undefined;var b=p.normal.length()>0;var y=p.vertexNormals.length>0;var x=p.color.r!==1||p.color.g!==1||p.color.b!==1;var w=p.vertexColors.length>0;var _=0;_=S(_,0,0);_=S(_,1,m);_=S(_,2,g);_=S(_,3,v);_=S(_,4,b);_=S(_,5,y);_=S(_,6,x);_=S(_,7,w);s.push(_);s.push(p.a,p.b,p.c);s.push(p.materialIndex);if(v){var E=e.faceVertexUvs[0][a];s.push(k(E[0]),k(E[1]),k(E[2]))}if(b){s.push(T(p.normal))}if(y){var A=p.vertexNormals;s.push(T(A[0]),T(A[1]),T(A[2]))}if(x){s.push(M(p.color))}if(w){var C=p.vertexColors;s.push(M(C[0]),M(C[1]),M(C[2]))}}function S(e,t,n){return n?e|1<<t:e&~(1<<t)}function T(e){var t=e.x.toString()+e.y.toString()+e.z.toString();if(c[t]!==undefined){return c[t]}c[t]=l.length/3;l.push(e.x,e.y,e.z);return c[t]}function M(e){var t=e.r.toString()+e.g.toString()+e.b.toString();if(h[t]!==undefined){return h[t]}h[t]=u.length;u.push(e.getHex());return h[t]}function k(e){var t=e.x.toString()+e.y.toString();if(d[t]!==undefined){return d[t]}d[t]=f.length/2;f.push(e.x,e.y);return d[t]}t.data={};t.data.vertices=r;t.data.normals=l;if(u.length>0){t.data.colors=u}if(f.length>0){t.data.uvs=[f]}t.data.faces=s;return t},clone:function(){return(new Qr).copy(this)},copy:function(e){var t=this;var n,i,r,a,o,s;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;this.name=e.name;var l=e.vertices;for(n=0,i=l.length;n<i;n++){t.vertices.push(l[n].clone())}var c=e.colors;for(n=0,i=c.length;n<i;n++){t.colors.push(c[n].clone())}var u=e.faces;for(n=0,i=u.length;n<i;n++){t.faces.push(u[n].clone())}for(n=0,i=e.faceVertexUvs.length;n<i;n++){var h=e.faceVertexUvs[n];if(t.faceVertexUvs[n]===undefined){t.faceVertexUvs[n]=[]}for(r=0,a=h.length;r<a;r++){var f=h[r],d=[];for(o=0,s=f.length;o<s;o++){var p=f[o];d.push(p.clone())}t.faceVertexUvs[n].push(d)}}var m=e.morphTargets;for(n=0,i=m.length;n<i;n++){var g={};g.name=m[n].name;if(m[n].vertices!==undefined){g.vertices=[];for(r=0,a=m[n].vertices.length;r<a;r++){g.vertices.push(m[n].vertices[r].clone())}}if(m[n].normals!==undefined){g.normals=[];for(r=0,a=m[n].normals.length;r<a;r++){g.normals.push(m[n].normals[r].clone())}}t.morphTargets.push(g)}var v=e.morphNormals;for(n=0,i=v.length;n<i;n++){var b={};if(v[n].vertexNormals!==undefined){b.vertexNormals=[];for(r=0,a=v[n].vertexNormals.length;r<a;r++){var y=v[n].vertexNormals[r];var x={};x.a=y.a.clone();x.b=y.b.clone();x.c=y.c.clone();b.vertexNormals.push(x)}}if(v[n].faceNormals!==undefined){b.faceNormals=[];for(r=0,a=v[n].faceNormals.length;r<a;r++){b.faceNormals.push(v[n].faceNormals[r].clone())}}t.morphNormals.push(b)}var w=e.skinWeights;for(n=0,i=w.length;n<i;n++){t.skinWeights.push(w[n].clone())}var _=e.skinIndices;for(n=0,i=_.length;n<i;n++){t.skinIndices.push(_[n].clone())}var E=e.lineDistances;for(n=0,i=E.length;n<i;n++){t.lineDistances.push(E[n])}var A=e.boundingBox;if(A!==null){this.boundingBox=A.clone()}var C=e.boundingSphere;if(C!==null){this.boundingSphere=C.clone()}this.elementsNeedUpdate=e.elementsNeedUpdate;this.verticesNeedUpdate=e.verticesNeedUpdate;this.uvsNeedUpdate=e.uvsNeedUpdate;this.normalsNeedUpdate=e.normalsNeedUpdate;this.colorsNeedUpdate=e.colorsNeedUpdate;this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate;this.groupsNeedUpdate=e.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Jr(e,t,n){if(Array.isArray(e)){throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.")}this.uuid=_t.generateUUID();this.name="";this.array=e;this.itemSize=t;this.count=e!==undefined?e.length/t:0;this.normalized=n===true;this.dynamic=false;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}Object.defineProperty(Jr.prototype,"needsUpdate",{set:function(e){if(e===true){this.version++}}});Object.assign(Jr.prototype,{isBufferAttribute:true,setArray:function(e){if(Array.isArray(e)){throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.")}this.count=e!==undefined?e.length/this.itemSize:0;this.array=e},setDynamic:function(e){this.dynamic=e;return this},copy:function(e){this.array=new e.array.constructor(e.array);this.itemSize=e.itemSize;this.count=e.count;this.normalized=e.normalized;this.dynamic=e.dynamic;return this},copyAt:function(e,t,n){var i=this;e*=this.itemSize;n*=t.itemSize;for(var r=0,a=this.itemSize;r<a;r++){i.array[e+r]=t.array[n+r]}return this},copyArray:function(e){this.array.set(e);return this},copyColorsArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(a===undefined){console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i);a=new An}t[n++]=a.r;t[n++]=a.g;t[n++]=a.b}return this},copyIndicesArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];t[n++]=a.a;t[n++]=a.b;t[n++]=a.c}return this},copyVector2sArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(a===undefined){console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i);a=new Et}t[n++]=a.x;t[n++]=a.y}return this},copyVector3sArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(a===undefined){console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i);a=new St}t[n++]=a.x;t[n++]=a.y;t[n++]=a.z}return this},copyVector4sArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(a===undefined){console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i);a=new Dt}t[n++]=a.x;t[n++]=a.y;t[n++]=a.z;t[n++]=a.w}return this},set:function(e,t){if(t===undefined){t=0}this.array.set(e,t);return this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){this.array[e*this.itemSize]=t;return this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){this.array[e*this.itemSize+1]=t;return this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){this.array[e*this.itemSize+2]=t;return this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){this.array[e*this.itemSize+3]=t;return this},setXY:function(e,t,n){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=n;return this},setXYZ:function(e,t,n,i){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=n;this.array[e+2]=i;return this},setXYZW:function(e,t,n,i,r){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=n;this.array[e+2]=i;this.array[e+3]=r;return this},onUpload:function(e){this.onUploadCallback=e;return this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}});function ea(e,t,n){Jr.call(this,new Int8Array(e),t,n)}ea.prototype=Object.create(Jr.prototype);ea.prototype.constructor=ea;function ta(e,t,n){Jr.call(this,new Uint8Array(e),t,n)}ta.prototype=Object.create(Jr.prototype);ta.prototype.constructor=ta;function na(e,t,n){Jr.call(this,new Uint8ClampedArray(e),t,n)}na.prototype=Object.create(Jr.prototype);na.prototype.constructor=na;function ia(e,t,n){Jr.call(this,new Int16Array(e),t,n)}ia.prototype=Object.create(Jr.prototype);ia.prototype.constructor=ia;function ra(e,t,n){Jr.call(this,new Uint16Array(e),t,n)}ra.prototype=Object.create(Jr.prototype);ra.prototype.constructor=ra;function aa(e,t,n){Jr.call(this,new Int32Array(e),t,n)}aa.prototype=Object.create(Jr.prototype);aa.prototype.constructor=aa;function oa(e,t,n){Jr.call(this,new Uint32Array(e),t,n)}oa.prototype=Object.create(Jr.prototype);oa.prototype.constructor=oa;function sa(e,t,n){Jr.call(this,new Float32Array(e),t,n)}sa.prototype=Object.create(Jr.prototype);sa.prototype.constructor=sa;function la(e,t,n){Jr.call(this,new Float64Array(e),t,n)}la.prototype=Object.create(Jr.prototype);la.prototype.constructor=la;function ca(){this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingBox=null;this.boundingSphere=null;this.verticesNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.uvsNeedUpdate=false;this.groupsNeedUpdate=false}Object.assign(ca.prototype,{computeGroups:function(e){var t;var n=[];var i=undefined;var r=e.faces;for(var a=0;a<r.length;a++){var o=r[a];if(o.materialIndex!==i){i=o.materialIndex;if(t!==undefined){t.count=a*3-t.start;n.push(t)}t={start:a*3,materialIndex:i}}}if(t!==undefined){t.count=a*3-t.start;n.push(t)}this.groups=n},fromGeometry:function(e){var t=this;var n=e.faces;var i=e.vertices;var r=e.faceVertexUvs;var a=r[0]&&r[0].length>0;var o=r[1]&&r[1].length>0;var s=e.morphTargets;var l=s.length;var c;if(l>0){c=[];for(var u=0;u<l;u++){c[u]=[]}this.morphTargets.position=c}var h=e.morphNormals;var f=h.length;var d;if(f>0){d=[];for(var u=0;u<f;u++){d[u]=[]}this.morphTargets.normal=d}var p=e.skinIndices;var m=e.skinWeights;var g=p.length===i.length;var v=m.length===i.length;for(var u=0;u<n.length;u++){var b=n[u];t.vertices.push(i[b.a],i[b.b],i[b.c]);var y=b.vertexNormals;if(y.length===3){t.normals.push(y[0],y[1],y[2])}else{var x=b.normal;t.normals.push(x,x,x)}var w=b.vertexColors;if(w.length===3){t.colors.push(w[0],w[1],w[2])}else{var _=b.color;t.colors.push(_,_,_)}if(a===true){var E=r[0][u];if(E!==undefined){t.uvs.push(E[0],E[1],E[2])}else{console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u);t.uvs.push(new Et,new Et,new Et)}}if(o===true){var E=r[1][u];if(E!==undefined){t.uvs2.push(E[0],E[1],E[2])}else{console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u);t.uvs2.push(new Et,new Et,new Et)}}for(var A=0;A<l;A++){var C=s[A].vertices;c[A].push(C[b.a],C[b.b],C[b.c])}for(var A=0;A<f;A++){var S=h[A].vertexNormals[u];d[A].push(S.a,S.b,S.c)}if(g){t.skinIndices.push(p[b.a],p[b.b],p[b.c])}if(v){t.skinWeights.push(m[b.a],m[b.b],m[b.c])}}this.computeGroups(e);this.verticesNeedUpdate=e.verticesNeedUpdate;this.normalsNeedUpdate=e.normalsNeedUpdate;this.colorsNeedUpdate=e.colorsNeedUpdate;this.uvsNeedUpdate=e.uvsNeedUpdate;this.groupsNeedUpdate=e.groupsNeedUpdate;return this}});function ua(e){if(e.length===0){return-Infinity}var t=e[0];for(var n=1,i=e.length;n<i;++n){if(e[n]>t){t=e[n]}}return t}var ha=1;function fa(){Object.defineProperty(this,"id",{value:ha+=2});this.uuid=_t.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;this.drawRange={start:0,count:Infinity}}Object.assign(fa.prototype,i.prototype,{isBufferGeometry:true,getIndex:function(){return this.index},setIndex:function(e){if(Array.isArray(e)){this.index=new(ua(e)>65535?oa:ra)(e,1)}else{this.index=e}},addAttribute:function(e,t){if(!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)){console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).");this.addAttribute(e,new Jr(arguments[1],arguments[2]));return}if(e==="index"){console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.");this.setIndex(t);return}this.attributes[e]=t;return this},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){delete this.attributes[e];return this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==undefined?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e;this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;if(t!==undefined){e.applyToBufferAttribute(t);t.needsUpdate=true}var n=this.attributes.normal;if(n!==undefined){var i=(new Tt).getNormalMatrix(e);i.applyToBufferAttribute(n);n.needsUpdate=true}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}return this},rotateX:function(){var n=new At;return function e(t){n.makeRotationX(t);this.applyMatrix(n);return this}}(),rotateY:function(){var n=new At;return function e(t){n.makeRotationY(t);this.applyMatrix(n);return this}}(),rotateZ:function(){var n=new At;return function e(t){n.makeRotationZ(t);this.applyMatrix(n);return this}}(),translate:function(){var r=new At;return function e(t,n,i){r.makeTranslation(t,n,i);this.applyMatrix(r);return this}}(),scale:function(){var r=new At;return function e(t,n,i){r.makeScale(t,n,i);this.applyMatrix(r);return this}}(),lookAt:function(){var n=new qr;return function e(t){n.lookAt(t);n.updateMatrix();this.applyMatrix(n.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();this.translate(e.x,e.y,e.z);return e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new sa(t.vertices.length*3,3);var i=new sa(t.colors.length*3,3);this.addAttribute("position",n.copyVector3sArray(t.vertices));this.addAttribute("color",i.copyColorsArray(t.colors));if(t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new sa(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}if(t.boundingSphere!==null){this.boundingSphere=t.boundingSphere.clone()}if(t.boundingBox!==null){this.boundingBox=t.boundingBox.clone()}}else if(e.isMesh){if(t&&t.isGeometry){this.fromGeometry(t)}}return this},setFromPoints:function(e){var t=[];for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}this.addAttribute("position",new sa(t,3));return this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(t.elementsNeedUpdate===true){n=undefined;t.elementsNeedUpdate=false}if(n===undefined){return this.fromGeometry(t)}n.verticesNeedUpdate=t.verticesNeedUpdate;n.normalsNeedUpdate=t.normalsNeedUpdate;n.colorsNeedUpdate=t.colorsNeedUpdate;n.uvsNeedUpdate=t.uvsNeedUpdate;n.groupsNeedUpdate=t.groupsNeedUpdate;t.verticesNeedUpdate=false;t.normalsNeedUpdate=false;t.colorsNeedUpdate=false;t.uvsNeedUpdate=false;t.groupsNeedUpdate=false;t=n}var i;if(t.verticesNeedUpdate===true){i=this.attributes.position;if(i!==undefined){i.copyVector3sArray(t.vertices);i.needsUpdate=true}t.verticesNeedUpdate=false}if(t.normalsNeedUpdate===true){i=this.attributes.normal;if(i!==undefined){i.copyVector3sArray(t.normals);i.needsUpdate=true}t.normalsNeedUpdate=false}if(t.colorsNeedUpdate===true){i=this.attributes.color;if(i!==undefined){i.copyColorsArray(t.colors);i.needsUpdate=true}t.colorsNeedUpdate=false}if(t.uvsNeedUpdate){i=this.attributes.uv;if(i!==undefined){i.copyVector2sArray(t.uvs);i.needsUpdate=true}t.uvsNeedUpdate=false}if(t.lineDistancesNeedUpdate){i=this.attributes.lineDistance;if(i!==undefined){i.copyArray(t.lineDistances);i.needsUpdate=true}t.lineDistancesNeedUpdate=false}if(t.groupsNeedUpdate){t.computeGroups(e.geometry);this.groups=t.groups;t.groupsNeedUpdate=false}return this},fromGeometry:function(e){e.__directGeometry=(new ca).fromGeometry(e);return this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=this;var n=new Float32Array(e.vertices.length*3);this.addAttribute("position",new Jr(n,3).copyVector3sArray(e.vertices));if(e.normals.length>0){var i=new Float32Array(e.normals.length*3);this.addAttribute("normal",new Jr(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(e.colors.length*3);this.addAttribute("color",new Jr(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var a=new Float32Array(e.uvs.length*2);this.addAttribute("uv",new Jr(a,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(e.uvs2.length*2);this.addAttribute("uv2",new Jr(o,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var s=ua(e.indices)>65535?Uint32Array:Uint16Array;var l=new s(e.indices.length*3);this.setIndex(new Jr(l,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var c in e.morphTargets){var u=[];var h=e.morphTargets[c];for(var f=0,d=h.length;f<d;f++){var p=h[f];var m=new sa(p.length*3,3);u.push(m.copyVector3sArray(p))}t.morphAttributes[c]=u}if(e.skinIndices.length>0){var g=new sa(e.skinIndices.length*4,4);this.addAttribute("skinIndex",g.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var v=new sa(e.skinWeights.length*4,4);this.addAttribute("skinWeight",v.copyVector4sArray(e.skinWeights))}if(e.boundingSphere!==null){this.boundingSphere=e.boundingSphere.clone()}if(e.boundingBox!==null){this.boundingBox=e.boundingBox.clone()}return this},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new Br}var e=this.attributes.position;if(e!==undefined){this.boundingBox.setFromBufferAttribute(e)}else{this.boundingBox.makeEmpty()}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},computeBoundingSphere:function(){var o=new Br;var s=new St;return function e(){if(this.boundingSphere===null){this.boundingSphere=new zr}var t=this.attributes.position;if(t){var n=this.boundingSphere.center;o.setFromBufferAttribute(t);o.getCenter(n);var i=0;for(var r=0,a=t.count;r<a;r++){s.x=t.getX(r);s.y=t.getY(r);s.z=t.getZ(r);i=Math.max(i,n.distanceToSquared(s))}this.boundingSphere.radius=Math.sqrt(i);if(isNaN(this.boundingSphere.radius)){console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index;var t=this.attributes;var n=this.groups;if(t.position){var i=t.position.array;if(t.normal===undefined){this.addAttribute("normal",new Jr(new Float32Array(i.length),3))}else{var r=t.normal.array;for(var a=0,o=r.length;a<o;a++){r[a]=0}}var s=t.normal.array;var l,c,u;var h=new St,f=new St,d=new St;var p=new St,m=new St;if(e){var g=e.array;if(n.length===0){this.addGroup(0,g.length)}for(var v=0,b=n.length;v<b;++v){var y=n[v];var x=y.start;var w=y.count;for(var a=x,o=x+w;a<o;a+=3){l=g[a+0]*3;c=g[a+1]*3;u=g[a+2]*3;h.fromArray(i,l);f.fromArray(i,c);d.fromArray(i,u);p.subVectors(d,f);m.subVectors(h,f);p.cross(m);s[l]+=p.x;s[l+1]+=p.y;s[l+2]+=p.z;s[c]+=p.x;s[c+1]+=p.y;s[c+2]+=p.z;s[u]+=p.x;s[u+1]+=p.y;s[u+2]+=p.z}}}else{for(var a=0,o=i.length;a<o;a+=9){h.fromArray(i,a);f.fromArray(i,a+3);d.fromArray(i,a+6);p.subVectors(d,f);m.subVectors(h,f);p.cross(m);s[a]=p.x;s[a+1]=p.y;s[a+2]=p.z;s[a+3]=p.x;s[a+4]=p.y;s[a+5]=p.z;s[a+6]=p.x;s[a+7]=p.y;s[a+8]=p.z}}this.normalizeNormals();t.normal.needsUpdate=true}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}if(t===undefined){t=0}var n=this.attributes;for(var i in n){if(e.attributes[i]===undefined){continue}var r=n[i];var a=r.array;var o=e.attributes[i];var s=o.array;var l=o.itemSize;for(var c=0,u=l*t;c<s.length;c++,u++){a[u]=s[c]}}return this},normalizeNormals:function(){var r=new St;return function e(){var t=this.attributes.normal;for(var n=0,i=t.count;n<i;n++){r.x=t.getX(n);r.y=t.getY(n);r.z=t.getZ(n);r.normalize();t.setXYZ(n,r.x,r.y,r.z)}}}(),toNonIndexed:function(){if(this.index===null){console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.");return this}var e=new fa;var t=this.index.array;var n=this.attributes;for(var i in n){var r=n[i];var a=r.array;var o=r.itemSize;var s=new a.constructor(t.length*o);var l=0,c=0;for(var u=0,h=t.length;u<h;u++){l=t[u]*o;for(var f=0;f<o;f++){s[c++]=a[l++]}}e.addAttribute(i,new Jr(s,o))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;if(this.name!==""){e.name=this.name}if(this.parameters!==undefined){var t=this.parameters;for(var n in t){if(t[n]!==undefined){e[n]=t[n]}}return e}e.data={attributes:{}};var i=this.index;if(i!==null){var r=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:r}}var a=this.attributes;for(var n in a){var o=a[n];var r=Array.prototype.slice.call(o.array);e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;if(s.length>0){e.data.groups=JSON.parse(JSON.stringify(s))}var l=this.boundingSphere;if(l!==null){e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}}return e},clone:function(){return(new fa).copy(this)},copy:function(e){var t=this;var n,i,r;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;this.name=e.name;var a=e.index;if(a!==null){this.setIndex(a.clone())}var o=e.attributes;for(n in o){var s=o[n];t.addAttribute(n,s.clone())}var l=e.morphAttributes;for(n in l){var c=[];var u=l[n];for(i=0,r=u.length;i<r;i++){c.push(u[i].clone())}t.morphAttributes[n]=c}var h=e.groups;for(i=0,r=h.length;i<r;i++){var f=h[i];t.addGroup(f.start,f.count,f.materialIndex)}var d=e.boundingBox;if(d!==null){this.boundingBox=d.clone()}var p=e.boundingSphere;if(p!==null){this.boundingSphere=p.clone()}this.drawRange.start=e.drawRange.start;this.drawRange.count=e.drawRange.count;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function da(e,t,n,i,r,a){Qr.call(this);this.type="BoxGeometry";this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};this.fromBufferGeometry(new pa(e,t,n,i,r,a));this.mergeVertices()}da.prototype=Object.create(Qr.prototype);da.prototype.constructor=da;function pa(e,t,n,i,r,a){fa.call(this);this.type="BoxBufferGeometry";this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};var k=this;e=e||1;t=t||1;n=n||1;i=Math.floor(i)||1;r=Math.floor(r)||1;a=Math.floor(a)||1;var D=[];var L=[];var R=[];var F=[];var P=0;var I=0;o("z","y","x",-1,-1,n,t,e,a,r,0);o("z","y","x",1,-1,n,t,-e,a,r,1);o("x","z","y",1,1,e,n,t,i,a,2);o("x","z","y",1,-1,e,n,-t,i,a,3);o("x","y","z",1,-1,e,t,n,i,r,4);o("x","y","z",-1,-1,e,t,-n,i,r,5);this.setIndex(D);this.addAttribute("position",new sa(L,3));this.addAttribute("normal",new sa(R,3));this.addAttribute("uv",new sa(F,2));function o(e,t,n,i,r,a,o,s,l,c,u){var h=a/l;var f=o/c;var d=a/2;var p=o/2;var m=s/2;var g=l+1;var v=c+1;var b=0;var y=0;var x,w;var _=new St;for(w=0;w<v;w++){var E=w*f-p;for(x=0;x<g;x++){var A=x*h-d;_[e]=A*i;_[t]=E*r;_[n]=m;L.push(_.x,_.y,_.z);_[e]=0;_[t]=0;_[n]=s>0?1:-1;R.push(_.x,_.y,_.z);F.push(x/l);F.push(1-w/c);b+=1}}for(w=0;w<c;w++){for(x=0;x<l;x++){var C=P+x+g*w;var S=P+x+g*(w+1);var T=P+(x+1)+g*(w+1);var M=P+(x+1)+g*w;D.push(C,S,M);D.push(S,T,M);y+=6}}k.addGroup(I,y,u);I+=y;P+=b}}pa.prototype=Object.create(fa.prototype);pa.prototype.constructor=pa;function ma(e,t,n,i){Qr.call(this);this.type="PlaneGeometry";this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};this.fromBufferGeometry(new ga(e,t,n,i));this.mergeVertices()}ma.prototype=Object.create(Qr.prototype);ma.prototype.constructor=ma;function ga(e,t,n,i){fa.call(this);this.type="PlaneBufferGeometry";this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};e=e||1;t=t||1;var r=e/2;var a=t/2;var o=Math.floor(n)||1;var s=Math.floor(i)||1;var l=o+1;var c=s+1;var u=e/o;var h=t/s;var f,d;var p=[];var m=[];var g=[];var v=[];for(d=0;d<c;d++){var b=d*h-a;for(f=0;f<l;f++){var y=f*u-r;m.push(y,-b,0);g.push(0,0,1);v.push(f/o);v.push(1-d/s)}}for(d=0;d<s;d++){for(f=0;f<o;f++){var x=f+l*d;var w=f+l*(d+1);var _=f+1+l*(d+1);var E=f+1+l*d;p.push(x,w,E);p.push(w,_,E)}}this.setIndex(p);this.addAttribute("position",new sa(m,3));this.addAttribute("normal",new sa(g,3));this.addAttribute("uv",new sa(v,2))}ga.prototype=Object.create(fa.prototype);ga.prototype.constructor=ga;function va(e){Ir.call(this);this.type="MeshBasicMaterial";this.color=new An(16777215);this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=R;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.lights=false;this.setValues(e)}va.prototype=Object.create(Ir.prototype);va.prototype.constructor=va;va.prototype.isMeshBasicMaterial=true;va.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;return this};function ba(e){Ir.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.clipping=false;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.extensions={derivatives:false,fragDepth:false,drawBuffers:false,shaderTextureLOD:false};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=undefined;if(e!==undefined){if(e.attributes!==undefined){console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.")}this.setValues(e)}}ba.prototype=Object.create(Ir.prototype);ba.prototype.constructor=ba;ba.prototype.isShaderMaterial=true;ba.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.fragmentShader=e.fragmentShader;this.vertexShader=e.vertexShader;this.uniforms=Sn.clone(e.uniforms);this.defines=e.defines;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.lights=e.lights;this.clipping=e.clipping;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;this.extensions=e.extensions;return this};ba.prototype.toJSON=function(e){var t=Ir.prototype.toJSON.call(this,e);t.uniforms=this.uniforms;t.vertexShader=this.vertexShader;t.fragmentShader=this.fragmentShader;return t};function ya(e,t){this.origin=e!==undefined?e:new St;this.direction=t!==undefined?t:new St}Object.assign(ya.prototype,{set:function(e,t){this.origin.copy(e);this.direction.copy(t);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.origin.copy(e.origin);this.direction.copy(e.direction);return this},at:function(e,t){var n=t||new St;return n.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){this.direction.copy(e).sub(this.origin).normalize();return this},recast:function(){var n=new St;return function e(t){this.origin.copy(this.at(t,n));return this}}(),closestPointToPoint:function(e,t){var n=t||new St;n.subVectors(e,this.origin);var i=n.dot(this.direction);if(i<0){return n.copy(this.origin)}return n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var i=new St;return function e(t){var n=i.subVectors(t,this.origin).dot(this.direction);if(n<0){return this.origin.distanceToSquared(t)}i.copy(this.direction).multiplyScalar(n).add(this.origin);return i.distanceToSquared(t)}}(),distanceSqToSegment:function(){var g=new St;var v=new St;var b=new St;return function e(t,n,i,r){g.copy(t).add(n).multiplyScalar(.5);v.copy(n).sub(t).normalize();b.copy(this.origin).sub(g);var a=t.distanceTo(n)*.5;var o=-this.direction.dot(v);var s=b.dot(this.direction);var l=-b.dot(v);var c=b.lengthSq();var u=Math.abs(1-o*o);var h,f,d,p;if(u>0){h=o*l-s;f=o*s-l;p=a*u;if(h>=0){if(f>=-p){if(f<=p){var m=1/u;h*=m;f*=m;d=h*(h+o*f+2*s)+f*(o*h+f+2*l)+c}else{f=a;h=Math.max(0,-(o*f+s));d=-h*h+f*(f+2*l)+c}}else{f=-a;h=Math.max(0,-(o*f+s));d=-h*h+f*(f+2*l)+c}}else{if(f<=-p){h=Math.max(0,-(-o*a+s));f=h>0?-a:Math.min(Math.max(-a,-l),a);d=-h*h+f*(f+2*l)+c}else if(f<=p){h=0;f=Math.min(Math.max(-a,-l),a);d=f*(f+2*l)+c}else{h=Math.max(0,-(o*a+s));f=h>0?a:Math.min(Math.max(-a,-l),a);d=-h*h+f*(f+2*l)+c}}}else{f=o>0?-a:a;h=Math.max(0,-(o*f+s));d=-h*h+f*(f+2*l)+c}if(i){i.copy(this.direction).multiplyScalar(h).add(this.origin)}if(r){r.copy(v).multiplyScalar(f).add(g)}return d}}(),intersectSphere:function(){var c=new St;return function e(t,n){c.subVectors(t.center,this.origin);var i=c.dot(this.direction);var r=c.dot(c)-i*i;var a=t.radius*t.radius;if(r>a){return null}var o=Math.sqrt(a-r);var s=i-o;var l=i+o;if(s<0&&l<0){return null}if(s<0){return this.at(l,n)}return this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(t===0){if(e.distanceToPoint(this.origin)===0){return 0}return null}var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);if(n===null){return null}return this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(t===0){return true}var n=e.normal.dot(this.direction);if(n*t<0){return true}return false},intersectBox:function(e,t){var n,i,r,a,o,s;var l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z;var h=this.origin;if(l>=0){n=(e.min.x-h.x)*l;i=(e.max.x-h.x)*l}else{n=(e.max.x-h.x)*l;i=(e.min.x-h.x)*l}if(c>=0){r=(e.min.y-h.y)*c;a=(e.max.y-h.y)*c}else{r=(e.max.y-h.y)*c;a=(e.min.y-h.y)*c}if(n>a||r>i){return null}if(r>n||n!==n){n=r}if(a<i||i!==i){i=a}if(u>=0){o=(e.min.z-h.z)*u;s=(e.max.z-h.z)*u}else{o=(e.max.z-h.z)*u;s=(e.min.z-h.z)*u}if(n>s||o>i){return null}if(o>n||n!==n){n=o}if(s<i||i!==i){i=s}if(i<0){return null}return this.at(n>=0?n:i,t)},intersectsBox:function(){var n=new St;return function e(t){return this.intersectBox(t,n)!==null}}(),intersectTriangle:function(){var h=new St;var f=new St;var d=new St;var p=new St;return function e(t,n,i,r,a){f.subVectors(n,t);d.subVectors(i,t);p.crossVectors(f,d);var o=this.direction.dot(p);var s;if(o>0){if(r){return null}s=1}else if(o<0){s=-1;o=-o}else{return null}h.subVectors(this.origin,t);var l=s*this.direction.dot(d.crossVectors(h,d));if(l<0){return null}var c=s*this.direction.dot(f.cross(h));if(c<0){return null}if(l+c>o){return null}var u=-s*h.dot(p);if(u<0){return null}return this.at(u/o,a)}}(),applyMatrix4:function(e){this.origin.applyMatrix4(e);this.direction.transformDirection(e);return this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});function xa(e,t){this.start=e!==undefined?e:new St;this.end=t!==undefined?t:new St}Object.assign(xa.prototype,{set:function(e,t){this.start.copy(e);this.end.copy(t);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.start.copy(e.start);this.end.copy(e.end);return this},getCenter:function(e){var t=e||new St;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new St;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new St;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var o=new St;var s=new St;return function e(t,n){o.subVectors(t,this.start);s.subVectors(this.end,this.start);var i=s.dot(s);var r=s.dot(o);var a=r/i;if(n){a=_t.clamp(a,0,1)}return a}}(),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t);var r=n||new St;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){this.start.applyMatrix4(e);this.end.applyMatrix4(e);return this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function wa(e,t,n){this.a=e!==undefined?e:new St;this.b=t!==undefined?t:new St;this.c=n!==undefined?n:new St}Object.assign(wa,{normal:function(){var s=new St;return function e(t,n,i,r){var a=r||new St;a.subVectors(i,n);s.subVectors(t,n);a.cross(s);var o=a.lengthSq();if(o>0){return a.multiplyScalar(1/Math.sqrt(o))}return a.set(0,0,0)}}(),barycoordFromPoint:function(){var g=new St;var v=new St;var b=new St;return function e(t,n,i,r,a){g.subVectors(r,n);v.subVectors(i,n);b.subVectors(t,n);var o=g.dot(g);var s=g.dot(v);var l=g.dot(b);var c=v.dot(v);var u=v.dot(b);var h=o*c-s*s;var f=a||new St;if(h===0){return f.set(-2,-1,-1)}var d=1/h;var p=(c*l-s*u)*d;var m=(o*u-s*l)*d;return f.set(1-p-m,m,p)}}(),containsPoint:function(){var o=new St;return function e(t,n,i,r){var a=wa.barycoordFromPoint(t,n,i,r,o);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}()});Object.assign(wa.prototype,{set:function(e,t,n){this.a.copy(e);this.b.copy(t);this.c.copy(n);return this},setFromPointsAndIndices:function(e,t,n,i){this.a.copy(e[t]);this.b.copy(e[n]);this.c.copy(e[i]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a.copy(e.a);this.b.copy(e.b);this.c.copy(e.c);return this},area:function(){var t=new St;var n=new St;return function e(){t.subVectors(this.c,this.b);n.subVectors(this.a,this.b);return t.cross(n).length()*.5}}(),midpoint:function(e){var t=e||new St;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return wa.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new Ur;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return wa.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return wa.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var s=new Ur;var l=[new xa,new xa,new xa];var c=new St;var u=new St;return function e(t,n){var i=n||new St;var r=Infinity;s.setFromCoplanarPoints(this.a,this.b,this.c);s.projectPoint(t,c);if(this.containsPoint(c)===true){i.copy(c)}else{l[0].set(this.a,this.b);l[1].set(this.b,this.c);l[2].set(this.c,this.a);for(var a=0;a<l.length;a++){l[a].closestPointToPoint(c,true,u);var o=c.distanceToSquared(u);if(o<r){r=o;i.copy(u)}}}return i}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});function _a(e,t){qr.call(this);this.type="Mesh";this.geometry=e!==undefined?e:new fa;this.material=t!==undefined?t:new va({color:Math.random()*16777215});this.drawMode=ct;this.updateMorphTargets()}_a.prototype=Object.assign(Object.create(qr.prototype),{constructor:_a,isMesh:true,setDrawMode:function(e){this.drawMode=e},copy:function(e){qr.prototype.copy.call(this,e);this.drawMode=e.drawMode;if(e.morphTargetInfluences!==undefined){this.morphTargetInfluences=e.morphTargetInfluences.slice()}if(e.morphTargetDictionary!==undefined){this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)}return this},updateMorphTargets:function(){var e=this;var t=this.geometry;var n,i,r;if(t.isBufferGeometry){var a=t.morphAttributes;var o=Object.keys(a);if(o.length>0){var s=a[o[0]];if(s!==undefined){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(n=0,i=s.length;n<i;n++){r=s[n].name||String(n);e.morphTargetInfluences.push(0);e.morphTargetDictionary[r]=n}}}}else{var l=t.morphTargets;if(l!==undefined&&l.length>0){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(n=0,i=l.length;n<i;n++){r=l[n].name||String(n);e.morphTargetInfluences.push(0);e.morphTargetDictionary[r]=n}}}},raycast:function(){var I=new At;var N=new ya;var O=new zr;var B=new St;var z=new St;var U=new St;var H=new St;var j=new St;var $=new St;var W=new Et;var V=new Et;var G=new Et;var s=new St;var q=new St;var u=new St;function X(e,t,n,i,r,a,o){wa.barycoordFromPoint(e,t,n,i,s);r.multiplyScalar(s.x);a.multiplyScalar(s.y);o.multiplyScalar(s.z);r.add(a).add(o);return r.clone()}function Y(e,t,n,i,r,a,o,s){var l;if(t.side===ce){l=i.intersectTriangle(o,a,r,true,s)}else{l=i.intersectTriangle(r,a,o,t.side!==ue,s)}if(l===null){return null}u.copy(s);u.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(u);if(c<n.near||c>n.far){return null}return{distance:c,point:u.clone(),object:e}}function K(e,t,n,i,r,a,o,s){B.fromBufferAttribute(i,a);z.fromBufferAttribute(i,o);U.fromBufferAttribute(i,s);var l=Y(e,e.material,t,n,B,z,U,q);if(l){if(r){W.fromBufferAttribute(r,a);V.fromBufferAttribute(r,o);G.fromBufferAttribute(r,s);l.uv=X(q,B,z,U,W,V,G)}l.face=new Kr(a,o,s,wa.normal(B,z,U));l.faceIndex=a}return l}return function e(t,n){var i=this;var r=this.geometry;var a=this.material;var o=this.matrixWorld;if(a===undefined){return}if(r.boundingSphere===null){r.computeBoundingSphere()}O.copy(r.boundingSphere);O.applyMatrix4(o);if(t.ray.intersectsSphere(O)===false){return}I.getInverse(o);N.copy(t.ray).applyMatrix4(I);if(r.boundingBox!==null){if(N.intersectsBox(r.boundingBox)===false){return}}var s;if(r.isBufferGeometry){var l,c,u;var h=r.index;var f=r.attributes.position;var d=r.attributes.uv;var p,m;if(h!==null){for(p=0,m=h.count;p<m;p+=3){l=h.getX(p);c=h.getX(p+1);u=h.getX(p+2);s=K(i,t,N,f,d,l,c,u);if(s){s.faceIndex=Math.floor(p/3);n.push(s)}}}else if(f!==undefined){for(p=0,m=f.count;p<m;p+=3){l=p;c=p+1;u=p+2;s=K(i,t,N,f,d,l,c,u);if(s){s.index=l;n.push(s)}}}}else if(r.isGeometry){var g,v,b;var y=Array.isArray(a);var x=r.vertices;var w=r.faces;var _;var E=r.faceVertexUvs[0];if(E.length>0){_=E}for(var A=0,C=w.length;A<C;A++){var S=w[A];var T=y?a[S.materialIndex]:a;if(T===undefined){continue}g=x[S.a];v=x[S.b];b=x[S.c];if(T.morphTargets===true){var M=r.morphTargets;var k=i.morphTargetInfluences;B.set(0,0,0);z.set(0,0,0);U.set(0,0,0);for(var D=0,L=M.length;D<L;D++){var R=k[D];if(R===0){continue}var F=M[D].vertices;B.addScaledVector(H.subVectors(F[S.a],g),R);z.addScaledVector(j.subVectors(F[S.b],v),R);U.addScaledVector($.subVectors(F[S.c],b),R)}B.add(g);z.add(v);U.add(b);g=B;v=z;b=U}s=Y(i,T,t,N,g,v,b,q);if(s){if(_&&_[A]){var P=_[A];W.copy(P[0]);V.copy(P[1]);G.copy(P[2]);s.uv=X(q,g,v,b,W,V,G)}s.face=S;s.faceIndex=A;n.push(s)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Ea(a,n,o,i){var s=new An(0);var l=0;var c,u;var h;function e(e,t,n,i){var r=t.background;if(r===null){f(s,l)}else if(r&&r.isColor){f(r,1);i=true}if(a.autoClear||i){a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil)}if(r&&r.isCubeTexture){if(h===undefined){h=new _a(new pa(1,1,1),new ba({uniforms:kr.cube.uniforms,vertexShader:kr.cube.vertexShader,fragmentShader:kr.cube.fragmentShader,side:ce,depthTest:true,depthWrite:false,fog:false}));h.geometry.removeAttribute("normal");h.geometry.removeAttribute("uv");h.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)};o.update(h.geometry)}h.material.uniforms.tCube.value=r;e.push(h,h.geometry,h.material,0,null)}else if(r&&r.isTexture){if(c===undefined){c=new Yr(-1,1,1,-1,0,1);u=new _a(new ga(2,2),new va({depthTest:false,depthWrite:false,fog:false}));o.update(u.geometry)}u.material.map=r;a.renderBufferDirect(c,null,u.geometry,u.material,u,null)}}function f(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e);l=t!==undefined?t:1;f(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e;f(s,l)},render:e}}function Aa(e,t){if(e.renderOrder!==t.renderOrder){return e.renderOrder-t.renderOrder}else if(e.program&&t.program&&e.program!==t.program){return e.program.id-t.program.id}else if(e.material.id!==t.material.id){return e.material.id-t.material.id}else if(e.z!==t.z){return e.z-t.z}else{return e.id-t.id}}function Ca(e,t){if(e.renderOrder!==t.renderOrder){return e.renderOrder-t.renderOrder}if(e.z!==t.z){return t.z-e.z}else{return e.id-t.id}}function Sa(){var o=[];var s=0;var l=[];var c=[];function e(){s=0;l.length=0;c.length=0}function t(e,t,n,i,r){var a=o[s];if(a===undefined){a={id:e.id,object:e,geometry:t,material:n,program:n.program,renderOrder:e.renderOrder,z:i,group:r};o[s]=a}else{a.id=e.id;a.object=e;a.geometry=t;a.material=n;a.program=n.program;a.renderOrder=e.renderOrder;a.z=i;a.group=r}(n.transparent===true?c:l).push(a);s++}function n(){if(l.length>1){l.sort(Aa)}if(c.length>1){c.sort(Ca)}}return{opaque:l,transparent:c,init:e,push:t,sort:n}}function Ta(){var r={};function e(e,t){var n=e.id+","+t.id;var i=r[n];if(i===undefined){i=new Sa;r[n]=i}return i}function t(){r={}}return{get:e,dispose:t}}function Ma(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ka(d){var p={};var m=new Float32Array(8);function e(e,t,n,i){var r=e.morphTargetInfluences;var a=r.length;var o=p[t.id];if(o===undefined){o=[];for(var s=0;s<a;s++){o[s]=[s,0]}p[t.id]=o}var l=n.morphTargets&&t.morphAttributes.position;var c=n.morphNormals&&t.morphAttributes.normal;for(var s=0;s<a;s++){var u=o[s];if(u[1]!==0){if(l){t.removeAttribute("morphTarget"+s)}if(c){t.removeAttribute("morphNormal"+s)}}}for(var s=0;s<a;s++){var u=o[s];u[0]=s;u[1]=r[s]}o.sort(Ma);for(var s=0;s<8;s++){var u=o[s];if(u){var h=u[0];var f=u[1];if(f){if(l){t.addAttribute("morphTarget"+s,l[h])}if(c){t.addAttribute("morphNormal"+s,c[h])}m[s]=f;continue}}m[s]=0}i.getUniforms().setValue(d,"morphTargetInfluences",m)}return{update:e}}function Da(r,a,o){var s;function e(e){s=e}var l,c;function t(e){l=e.type;c=e.bytesPerElement}function n(e,t){r.drawElements(s,t,l,e*c);o.calls++;o.vertices+=t;if(s===r.TRIANGLES){o.faces+=t/3}else if(s===r.POINTS){o.points+=t}}function i(e,t,n){var i=a.get("ANGLE_instanced_arrays");if(i===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}i.drawElementsInstancedANGLE(s,n,l,t*c,e.maxInstancedCount);o.calls++;o.vertices+=n*e.maxInstancedCount;if(s===r.TRIANGLES){o.faces+=e.maxInstancedCount*n/3}else if(s===r.POINTS){o.points+=e.maxInstancedCount*n}}this.setMode=e;this.setIndex=t;this.render=n;this.renderInstances=i}function La(a,o,s){var l;function e(e){l=e}function t(e,t){a.drawArrays(l,e,t);s.calls++;s.vertices+=t;if(l===a.TRIANGLES){s.faces+=t/3}else if(l===a.POINTS){s.points+=t}}function n(e,t,n){var i=o.get("ANGLE_instanced_arrays");if(i===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}var r=e.attributes.position;if(r.isInterleavedBufferAttribute){n=r.data.count;i.drawArraysInstancedANGLE(l,0,n,e.maxInstancedCount)}else{i.drawArraysInstancedANGLE(l,t,n,e.maxInstancedCount)}s.calls++;s.vertices+=n*e.maxInstancedCount;if(l===a.TRIANGLES){s.faces+=e.maxInstancedCount*n/3}else if(l===a.POINTS){s.points+=e.maxInstancedCount*n}}this.setMode=e;this.render=t;this.renderInstances=n}function Ra(h,f,a){var o={};var d={};function s(e){var t=e.target;var n=o[t.id];if(n.index!==null){f.remove(n.index)}for(var i in n.attributes){f.remove(n.attributes[i])}t.removeEventListener("dispose",s);delete o[t.id];var r=d[t.id];if(r){f.remove(r);delete d[t.id]}r=d[n.id];if(r){f.remove(r);delete d[n.id]}a.geometries--}function e(e,t){var n=o[t.id];if(n){return n}t.addEventListener("dispose",s);if(t.isBufferGeometry){n=t}else if(t.isGeometry){if(t._bufferGeometry===undefined){t._bufferGeometry=(new fa).setFromObject(e)}n=t._bufferGeometry}o[t.id]=n;a.geometries++;return n}function t(e){var t=e.index;var n=e.attributes;if(t!==null){f.update(t,h.ELEMENT_ARRAY_BUFFER)}for(var i in n){f.update(n[i],h.ARRAY_BUFFER)}var r=e.morphAttributes;for(var i in r){var a=r[i];for(var o=0,s=a.length;o<s;o++){f.update(a[o],h.ARRAY_BUFFER)}}}function n(e){var t=d[e.id];if(t){return t}var n=[];var i=e.index;var r=e.attributes;if(i!==null){var a=i.array;for(var o=0,s=a.length;o<s;o+=3){var l=a[o+0];var c=a[o+1];var u=a[o+2];n.push(l,c,c,u,u,l)}}else{var a=r.position.array;for(var o=0,s=a.length/3-1;o<s;o+=3){var l=o+0;var c=o+1;var u=o+2;n.push(l,c,c,u,u,l)}}t=new(ua(n)>65535?oa:ra)(n,1);f.update(t,h.ELEMENT_ARRAY_BUFFER);d[e.id]=t;return t}return{get:e,update:t,getWireframeAttribute:n}}function Fa(){var n={};return{get:function(e){if(n[e.id]!==undefined){return n[e.id]}var t;switch(e.type){case"DirectionalLight":t={direction:new St,color:new An,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Et};break;case"SpotLight":t={position:new St,direction:new St,color:new An,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Et};break;case"PointLight":t={position:new St,color:new An,distance:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Et,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":t={direction:new St,skyColor:new An,groundColor:new An};break;case"RectAreaLight":t={color:new An,position:new St,halfWidth:new St,halfHeight:new St};break}n[e.id]=t;return t}}}function Pa(){var w=new Fa;var _={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};var E=new St;var A=new At;var C=new At;function e(e,t,n){var i=0,r=0,a=0;var o=0;var s=0;var l=0;var c=0;var u=0;var h=n.matrixWorldInverse;for(var f=0,d=e.length;f<d;f++){var p=e[f];var m=p.color;var g=p.intensity;var v=p.distance;var b=p.shadow&&p.shadow.map?p.shadow.map.texture:null;if(p.isAmbientLight){i+=m.r*g;r+=m.g*g;a+=m.b*g}else if(p.isDirectionalLight){var y=w.get(p);y.color.copy(p.color).multiplyScalar(p.intensity);y.direction.setFromMatrixPosition(p.matrixWorld);E.setFromMatrixPosition(p.target.matrixWorld);y.direction.sub(E);y.direction.transformDirection(h);y.shadow=p.castShadow;if(p.castShadow){var x=p.shadow;y.shadowBias=x.bias;y.shadowRadius=x.radius;y.shadowMapSize=x.mapSize}_.directionalShadowMap[o]=b;_.directionalShadowMatrix[o]=p.shadow.matrix;_.directional[o]=y;o++}else if(p.isSpotLight){var y=w.get(p);y.position.setFromMatrixPosition(p.matrixWorld);y.position.applyMatrix4(h);y.color.copy(m).multiplyScalar(g);y.distance=v;y.direction.setFromMatrixPosition(p.matrixWorld);E.setFromMatrixPosition(p.target.matrixWorld);y.direction.sub(E);y.direction.transformDirection(h);y.coneCos=Math.cos(p.angle);y.penumbraCos=Math.cos(p.angle*(1-p.penumbra));y.decay=p.distance===0?0:p.decay;y.shadow=p.castShadow;if(p.castShadow){var x=p.shadow;y.shadowBias=x.bias;y.shadowRadius=x.radius;y.shadowMapSize=x.mapSize}_.spotShadowMap[l]=b;_.spotShadowMatrix[l]=p.shadow.matrix;_.spot[l]=y;l++}else if(p.isRectAreaLight){var y=w.get(p);y.color.copy(m).multiplyScalar(g/(p.width*p.height));y.position.setFromMatrixPosition(p.matrixWorld);y.position.applyMatrix4(h);C.identity();A.copy(p.matrixWorld);A.premultiply(h);C.extractRotation(A);y.halfWidth.set(p.width*.5,0,0);y.halfHeight.set(0,p.height*.5,0);y.halfWidth.applyMatrix4(C);y.halfHeight.applyMatrix4(C);_.rectArea[c]=y;c++}else if(p.isPointLight){var y=w.get(p);y.position.setFromMatrixPosition(p.matrixWorld);y.position.applyMatrix4(h);y.color.copy(p.color).multiplyScalar(p.intensity);y.distance=p.distance;y.decay=p.distance===0?0:p.decay;y.shadow=p.castShadow;if(p.castShadow){var x=p.shadow;y.shadowBias=x.bias;y.shadowRadius=x.radius;y.shadowMapSize=x.mapSize;y.shadowCameraNear=x.camera.near;y.shadowCameraFar=x.camera.far}_.pointShadowMap[s]=b;_.pointShadowMatrix[s]=p.shadow.matrix;_.point[s]=y;s++}else if(p.isHemisphereLight){var y=w.get(p);y.direction.setFromMatrixPosition(p.matrixWorld);y.direction.transformDirection(h);y.direction.normalize();y.skyColor.copy(p.color).multiplyScalar(g);y.groundColor.copy(p.groundColor).multiplyScalar(g);_.hemi[u]=y;u++}}_.ambient[0]=i;_.ambient[1]=r;_.ambient[2]=a;_.directional.length=o;_.spot.length=l;_.rectArea.length=c;_.point.length=s;_.hemi.length=u;_.hash=o+","+s+","+l+","+c+","+u+","+t.length}return{setup:e,state:_}}function Ia(r,a){var o={};function e(e){var t=a.frame;var n=e.geometry;var i=r.get(e,n);if(o[i.id]!==t){if(n.isGeometry){i.updateFromObject(e)}r.update(i);o[i.id]=t}return i}function t(){o={}}return{update:e,clear:t}}function Na(e){var t=e.split("\n");for(var n=0;n<t.length;n++){t[n]=n+1+": "+t[n]}return t.join("\n")}function Oa(e,t,n){var i=e.createShader(t);e.shaderSource(i,n);e.compileShader(i);if(e.getShaderParameter(i,e.COMPILE_STATUS)===false){console.error("THREE.WebGLShader: Shader couldn't compile.")}if(e.getShaderInfoLog(i)!==""){console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),Na(n))}return i}var Ba=0;function za(e){switch(e){case ft:return["Linear","( value )"];case dt:return["sRGB","( value )"];case mt:return["RGBE","( value )"];case vt:return["RGBM","( value, 7.0 )"];case bt:return["RGBM","( value, 16.0 )"];case yt:return["RGBD","( value, 256.0 )"];case pt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Ua(e,t){var n=za(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ha(e,t){var n=za(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ja(e,t){var n;switch(t){case We:n="Linear";break;case M:n="Reinhard";break;case D:n="Uncharted2";break;case B:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function $a(e,t,n){e=e||{};var i=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return i.filter(Ga).join("\n")}function Wa(e){var t=[];for(var n in e){var i=e[n];if(i===false){continue}t.push("#define "+n+" "+i)}return t.join("\n")}function Va(e,t){var n={};var i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(var r=0;r<i;r++){var a=e.getActiveAttrib(t,r);var o=a.name;n[o]=e.getAttribLocation(t,o)}return n}function Ga(e){return e!==""}function qa(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Xa(e){var t=/^[ \t]*#include +<([\w\d.]+)>/gm;function n(e,t){var n=Mr[t];if(n===undefined){throw new Error("Can not resolve #include <"+t+">")}return Xa(n)}return e.replace(t,n)}function Ya(e){var t=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function n(e,t,n,i){var r="";for(var a=parseInt(t);a<parseInt(n);a++){r+=i.replace(/\[ i \]/g,"[ "+a+" ]")}return r}return e.replace(t,n)}function Ka(e,t,n,i,r,a){var o=e.context;var s=i.defines;var l=r.vertexShader;var c=r.fragmentShader;var u="SHADOWMAP_TYPE_BASIC";if(a.shadowMapType===I){u="SHADOWMAP_TYPE_PCF"}else if(a.shadowMapType===L){u="SHADOWMAP_TYPE_PCF_SOFT"}var h="ENVMAP_TYPE_CUBE";var f="ENVMAP_MODE_REFLECTION";var d="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(i.envMap.mapping){case U:case H:h="ENVMAP_TYPE_CUBE";break;case V:case G:h="ENVMAP_TYPE_CUBE_UV";break;case j:case $:h="ENVMAP_TYPE_EQUIREC";break;case W:h="ENVMAP_TYPE_SPHERE";break}switch(i.envMap.mapping){case H:case $:f="ENVMAP_MODE_REFRACTION";break}switch(i.combine){case R:d="ENVMAP_BLENDING_MULTIPLY";break;case F:d="ENVMAP_BLENDING_MIX";break;case P:d="ENVMAP_BLENDING_ADD";break}}var p=e.gammaFactor>0?e.gammaFactor:1;var m=$a(i.extensions,a,t);var g=Wa(s);var v=o.createProgram();var b,y;if(i.isRawShaderMaterial){b=[g].filter(Ga).join("\n");if(b.length>0){b+="\n"}y=[m,g].filter(Ga).join("\n");if(y.length>0){y+="\n"}}else{b=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,g,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===false?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+a.numClippingPlanes,a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+u:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ga).join("\n");y=[m,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,g,a.alphaTest?"#define ALPHATEST "+a.alphaTest:"","#define GAMMA_FACTOR "+p,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+h:"",a.envMap?"#define "+f:"",a.envMap?"#define "+d:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+a.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(a.numClippingPlanes-a.numClipIntersection),a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+u:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==O?"#define TONE_MAPPING":"",a.toneMapping!==O?Mr["tonemapping_pars_fragment"]:"",a.toneMapping!==O?ja("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Mr["encodings_pars_fragment"]:"",a.mapEncoding?Ua("mapTexelToLinear",a.mapEncoding):"",a.envMapEncoding?Ua("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Ua("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?Ha("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Ga).join("\n")}l=Xa(l);l=qa(l,a);c=Xa(c);c=qa(c,a);if(!i.isShaderMaterial){l=Ya(l);c=Ya(c)}var x=b+l;var w=y+c;var _=Oa(o,o.VERTEX_SHADER,x);var E=Oa(o,o.FRAGMENT_SHADER,w);o.attachShader(v,_);o.attachShader(v,E);if(i.index0AttributeName!==undefined){o.bindAttribLocation(v,0,i.index0AttributeName)}else if(a.morphTargets===true){o.bindAttribLocation(v,0,"position")}o.linkProgram(v);var A=o.getProgramInfoLog(v);var C=o.getShaderInfoLog(_);var S=o.getShaderInfoLog(E);var T=true;var M=true;if(o.getProgramParameter(v,o.LINK_STATUS)===false){T=false;console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(v,o.VALIDATE_STATUS),"gl.getProgramInfoLog",A,C,S)}else if(A!==""){console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A)}else if(C===""||S===""){M=false}if(M){this.diagnostics={runnable:T,material:i,programLog:A,vertexShader:{log:C,prefix:b},fragmentShader:{log:S,prefix:y}}}o.deleteShader(_);o.deleteShader(E);var k;this.getUniforms=function(){if(k===undefined){k=new _n(o,v,e)}return k};var D;this.getAttributes=function(){if(D===undefined){D=Va(o,v)}return D};this.destroy=function(){o.deleteProgram(v);this.program=undefined};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.id=Ba++;this.code=n;this.usedTimes=1;this.program=v;this.vertexShader=_;this.fragmentShader=E;return this}function Za(f,l,d){var c=[];var p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"};var a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function m(e){var t=e.skeleton;var n=t.bones;if(d.floatVertexTextures){return 1024}else{var i=d.maxVertexUniforms;var r=Math.floor((i-20)/4);var a=Math.min(r,n.length);if(a<n.length){console.warn("THREE.WebGLRenderer: Skeleton has "+n.length+" bones. This GPU supports "+a+".");return 0}return a}}function g(e,t){var n;if(!e){n=ft}else if(e.isTexture){n=e.encoding}else if(e.isWebGLRenderTarget){console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.");n=e.texture.encoding}if(n===ft&&t){n=pt}return n}this.getParameters=function(e,t,n,i,r,a,o){var s=p[e.type];var l=o.isSkinnedMesh?m(o):0;var c=d.precision;if(e.precision!==null){c=d.getMaxPrecision(e.precision);if(c!==e.precision){console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",c,"instead.")}}var u=f.getRenderTarget();var h={shaderID:s,precision:c,supportsVertexTextures:d.vertexTextures,outputEncoding:g(!u?null:u.texture,f.gammaOutput),map:!!e.map,mapEncoding:g(e.map,f.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:g(e.envMap,f.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===V||e.envMap.mapping===G),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:g(e.emissiveMap,f.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!i,useFog:e.fog,fogExp:i&&i.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:d.logarithmicDepthBuffer,skinning:e.skinning&&l>0,maxBones:l,useVertexTexture:d.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:f.maxMorphTargets,maxMorphNormals:f.maxMorphNormals,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numRectAreaLights:t.rectArea.length,numHemiLights:t.hemi.length,numClippingPlanes:r,numClipIntersection:a,dithering:e.dithering,shadowMapEnabled:f.shadowMap.enabled&&o.receiveShadow&&n.length>0,shadowMapType:f.shadowMap.type,toneMapping:f.toneMapping,physicallyCorrectLights:f.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===ue,flipSided:e.side===ce,depthPacking:e.depthPacking!==undefined?e.depthPacking:false};return h};this.getProgramCode=function(e,t){var n=[];if(t.shaderID){n.push(t.shaderID)}else{n.push(e.fragmentShader);n.push(e.vertexShader)}if(e.defines!==undefined){for(var i in e.defines){n.push(i);n.push(e.defines[i])}}for(var r=0;r<a.length;r++){n.push(t[a[r]])}n.push(e.onBeforeCompile.toString());n.push(f.gammaOutput);return n.join()};this.acquireProgram=function(e,t,n,i){var r;for(var a=0,o=c.length;a<o;a++){var s=c[a];if(s.code===i){r=s;++r.usedTimes;break}}if(r===undefined){r=new Ka(f,l,i,e,t,n);c.push(r)}return r};this.releaseProgram=function(e){if(--e.usedTimes===0){var t=c.indexOf(e);c[t]=c[c.length-1];c.pop();e.destroy()}};this.programs=c}function Qa(m,r,g,v,b,y,x){var f=typeof WebGL2RenderingContext!=="undefined"&&m instanceof window.WebGL2RenderingContext;function w(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height);var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(e.width*n);i.height=Math.floor(e.height*n);var r=i.getContext("2d");r.drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height);console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height,e);return i}return e}function _(e){return _t.isPowerOfTwo(e.width)&&_t.isPowerOfTwo(e.height)}function d(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=_t.floorPowerOfTwo(e.width);t.height=_t.floorPowerOfTwo(e.height);var n=t.getContext("2d");n.drawImage(e,0,0,t.width,t.height);console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e);return t}return e}function p(e){return e.wrapS!==X||e.wrapT!==X||e.minFilter!==K&&e.minFilter!==J}function E(e,t){return e.generateMipmaps&&t&&e.minFilter!==K&&e.minFilter!==J}function a(e){if(e===K||e===Z||e===Q){return m.NEAREST}return m.LINEAR}function A(e){var t=e.target;t.removeEventListener("dispose",A);n(t);x.textures--}function o(e){var t=e.target;t.removeEventListener("dispose",o);i(t);x.textures--}function n(e){var t=v.get(e);if(e.image&&t.__image__webglTextureCube){m.deleteTexture(t.__image__webglTextureCube)}else{if(t.__webglInit===undefined){return}m.deleteTexture(t.__webglTexture)}v.remove(e)}function i(e){var t=v.get(e);var n=v.get(e.texture);if(!e){return}if(n.__webglTexture!==undefined){m.deleteTexture(n.__webglTexture)}if(e.depthTexture){e.depthTexture.dispose()}if(e.isWebGLRenderTargetCube){for(var i=0;i<6;i++){m.deleteFramebuffer(t.__webglFramebuffer[i]);if(t.__webglDepthbuffer){m.deleteRenderbuffer(t.__webglDepthbuffer[i])}}}else{m.deleteFramebuffer(t.__webglFramebuffer);if(t.__webglDepthbuffer){m.deleteRenderbuffer(t.__webglDepthbuffer)}}v.remove(e.texture);v.remove(e)}function s(e,t){var n=v.get(e);if(e.version>0&&n.__version!==e.version){var i=e.image;if(i===undefined){console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e)}else if(i.complete===false){console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}else{l(n,e,t);return}}g.activeTexture(m.TEXTURE0+t);g.bindTexture(m.TEXTURE_2D,n.__webglTexture)}function e(e,t){var n=v.get(e);if(e.image.length===6){if(e.version>0&&n.__version!==e.version){if(!n.__image__webglTextureCube){e.addEventListener("dispose",A);n.__image__webglTextureCube=m.createTexture();x.textures++}g.activeTexture(m.TEXTURE0+t);g.bindTexture(m.TEXTURE_CUBE_MAP,n.__image__webglTextureCube);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,e.flipY);var i=e&&e.isCompressedTexture;var r=e.image[0]&&e.image[0].isDataTexture;var a=[];for(var o=0;o<6;o++){if(!i&&!r){a[o]=w(e.image[o],b.maxCubemapSize)}else{a[o]=r?e.image[o].image:e.image[o]}}var s=a[0],l=_(s),c=y.convert(e.format),u=y.convert(e.type);C(m.TEXTURE_CUBE_MAP,e,l);for(var o=0;o<6;o++){if(!i){if(r){g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,c,a[o].width,a[o].height,0,c,u,a[o].data)}else{g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,c,c,u,a[o])}}else{var h,f=a[o].mipmaps;for(var d=0,p=f.length;d<p;d++){h=f[d];if(e.format!==Xe&&e.format!==Le){if(g.getCompressedTextureFormats().indexOf(c)>-1){g.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,d,c,h.width,h.height,0,h.data)}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()")}}else{g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,d,c,h.width,h.height,0,c,u,h.data)}}}}if(E(e,l)){m.generateMipmap(m.TEXTURE_CUBE_MAP)}n.__version=e.version;if(e.onUpdate){e.onUpdate(e)}}else{g.activeTexture(m.TEXTURE0+t);g.bindTexture(m.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)}}}function t(e,t){g.activeTexture(m.TEXTURE0+t);g.bindTexture(m.TEXTURE_CUBE_MAP,v.get(e).__webglTexture)}function C(e,t,n){var i;if(n){m.texParameteri(e,m.TEXTURE_WRAP_S,y.convert(t.wrapS));m.texParameteri(e,m.TEXTURE_WRAP_T,y.convert(t.wrapT));m.texParameteri(e,m.TEXTURE_MAG_FILTER,y.convert(t.magFilter));m.texParameteri(e,m.TEXTURE_MIN_FILTER,y.convert(t.minFilter))}else{m.texParameteri(e,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(e,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);if(t.wrapS!==X||t.wrapT!==X){console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",t)}m.texParameteri(e,m.TEXTURE_MAG_FILTER,a(t.magFilter));m.texParameteri(e,m.TEXTURE_MIN_FILTER,a(t.minFilter));if(t.minFilter!==K&&t.minFilter!==J){console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",t)}}i=r.get("EXT_texture_filter_anisotropic");if(i){if(t.type===Ge&&r.get("OES_texture_float_linear")===null){return}if(t.type===qe&&r.get("OES_texture_half_float_linear")===null){return}if(t.anisotropy>1||v.get(t).__currentAnisotropy){m.texParameterf(e,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,b.getMaxAnisotropy()));v.get(t).__currentAnisotropy=t.anisotropy}}}function l(e,t,n){if(e.__webglInit===undefined){e.__webglInit=true;t.addEventListener("dispose",A);e.__webglTexture=m.createTexture();x.textures++}g.activeTexture(m.TEXTURE0+n);g.bindTexture(m.TEXTURE_2D,e.__webglTexture);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,t.flipY);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha);m.pixelStorei(m.UNPACK_ALIGNMENT,t.unpackAlignment);var i=w(t.image,b.maxTextureSize);if(p(t)&&_(i)===false){i=d(i)}var r=_(i),a=y.convert(t.format),o=y.convert(t.type);C(m.TEXTURE_2D,t,r);var s,l=t.mipmaps;if(t.isDepthTexture){var c=m.DEPTH_COMPONENT;if(t.type===Ge){if(!f){throw new Error("Float Depth Texture only supported in WebGL2.0")}c=m.DEPTH_COMPONENT32F}else if(f){c=m.DEPTH_COMPONENT16}if(t.format===Ie&&c===m.DEPTH_COMPONENT){if(t.type!==re&&t.type!==Ce){console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.");t.type=re;o=y.convert(t.type)}}if(t.format===Ne){c=m.DEPTH_STENCIL;if(t.type!==ke){console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.");t.type=ke;o=y.convert(t.type)}}g.texImage2D(m.TEXTURE_2D,0,c,i.width,i.height,0,a,o,null)}else if(t.isDataTexture){if(l.length>0&&r){for(var u=0,h=l.length;u<h;u++){s=l[u];g.texImage2D(m.TEXTURE_2D,u,a,s.width,s.height,0,a,o,s.data)}t.generateMipmaps=false}else{g.texImage2D(m.TEXTURE_2D,0,a,i.width,i.height,0,a,o,i.data)}}else if(t.isCompressedTexture){for(var u=0,h=l.length;u<h;u++){s=l[u];if(t.format!==Xe&&t.format!==Le){if(g.getCompressedTextureFormats().indexOf(a)>-1){g.compressedTexImage2D(m.TEXTURE_2D,u,a,s.width,s.height,0,s.data)}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()")}}else{g.texImage2D(m.TEXTURE_2D,u,a,s.width,s.height,0,a,o,s.data)}}}else{if(l.length>0&&r){for(var u=0,h=l.length;u<h;u++){s=l[u];g.texImage2D(m.TEXTURE_2D,u,a,a,o,s)}t.generateMipmaps=false}else{g.texImage2D(m.TEXTURE_2D,0,a,a,o,i)}}if(E(t,r)){m.generateMipmap(m.TEXTURE_2D)}e.__version=t.version;if(t.onUpdate){t.onUpdate(t)}}function c(e,t,n,i){var r=y.convert(t.texture.format);var a=y.convert(t.texture.type);g.texImage2D(i,0,r,t.width,t.height,0,r,a,null);m.bindFramebuffer(m.FRAMEBUFFER,e);m.framebufferTexture2D(m.FRAMEBUFFER,n,i,v.get(t.texture).__webglTexture,0);m.bindFramebuffer(m.FRAMEBUFFER,null)}function u(e,t){m.bindRenderbuffer(m.RENDERBUFFER,e);if(t.depthBuffer&&!t.stencilBuffer){m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,t.width,t.height);m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,e)}else if(t.depthBuffer&&t.stencilBuffer){m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,t.width,t.height);m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,e)}else{m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,t.width,t.height)}m.bindRenderbuffer(m.RENDERBUFFER,null)}function h(e,t){var n=t&&t.isWebGLRenderTargetCube;if(n){throw new Error("Depth Texture with cube render targets is not supported")}m.bindFramebuffer(m.FRAMEBUFFER,e);if(!(t.depthTexture&&t.depthTexture.isDepthTexture)){throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture")}if(!v.get(t.depthTexture).__webglTexture||t.depthTexture.image.width!==t.width||t.depthTexture.image.height!==t.height){t.depthTexture.image.width=t.width;t.depthTexture.image.height=t.height;t.depthTexture.needsUpdate=true}s(t.depthTexture,0);var i=v.get(t.depthTexture).__webglTexture;if(t.depthTexture.format===Ie){m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,i,0)}else if(t.depthTexture.format===Ne){m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,i,0)}else{throw new Error("Unknown depthTexture format")}}function S(e){var t=v.get(e);var n=e.isWebGLRenderTargetCube===true;if(e.depthTexture){if(n){throw new Error("target.depthTexture not supported in Cube render targets")}h(t.__webglFramebuffer,e)}else{if(n){t.__webglDepthbuffer=[];for(var i=0;i<6;i++){m.bindFramebuffer(m.FRAMEBUFFER,t.__webglFramebuffer[i]);t.__webglDepthbuffer[i]=m.createRenderbuffer();u(t.__webglDepthbuffer[i],e)}}else{m.bindFramebuffer(m.FRAMEBUFFER,t.__webglFramebuffer);t.__webglDepthbuffer=m.createRenderbuffer();u(t.__webglDepthbuffer,e)}}m.bindFramebuffer(m.FRAMEBUFFER,null)}function T(e){var t=v.get(e);var n=v.get(e.texture);e.addEventListener("dispose",o);n.__webglTexture=m.createTexture();x.textures++;var i=e.isWebGLRenderTargetCube===true;var r=_(e);if(i){t.__webglFramebuffer=[];for(var a=0;a<6;a++){t.__webglFramebuffer[a]=m.createFramebuffer()}}else{t.__webglFramebuffer=m.createFramebuffer()}if(i){g.bindTexture(m.TEXTURE_CUBE_MAP,n.__webglTexture);C(m.TEXTURE_CUBE_MAP,e.texture,r);for(var a=0;a<6;a++){c(t.__webglFramebuffer[a],e,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+a)}if(E(e.texture,r)){m.generateMipmap(m.TEXTURE_CUBE_MAP)}g.bindTexture(m.TEXTURE_CUBE_MAP,null)}else{g.bindTexture(m.TEXTURE_2D,n.__webglTexture);C(m.TEXTURE_2D,e.texture,r);c(t.__webglFramebuffer,e,m.COLOR_ATTACHMENT0,m.TEXTURE_2D);if(E(e.texture,r)){m.generateMipmap(m.TEXTURE_2D)}g.bindTexture(m.TEXTURE_2D,null)}if(e.depthBuffer){S(e)}}function M(e){var t=e.texture;var n=_(e);if(E(t,n)){var i=e.isWebGLRenderTargetCube?m.TEXTURE_CUBE_MAP:m.TEXTURE_2D;var r=v.get(t).__webglTexture;g.bindTexture(i,r);m.generateMipmap(i);g.bindTexture(i,null)}}this.setTexture2D=s;this.setTextureCube=e;this.setTextureCubeDynamic=t;this.setupRenderTarget=T;this.updateRenderTargetMipmap=M}function Ja(){var i={};function e(e){var t=e.uuid;var n=i[t];if(n===undefined){n={};i[t]=n}return n}function t(e){delete i[e.uuid]}function n(){i={}}return{get:e,remove:t,clear:n}}function eo(u,i,l){function e(){var t=false;var a=new Dt;var n=null;var o=new Dt(0,0,0,0);return{setMask:function(e){if(n!==e&&!t){u.colorMask(e,e,e,e);n=e}},setLocked:function(e){t=e},setClear:function(e,t,n,i,r){if(r===true){e*=i;t*=i;n*=i}a.set(e,t,n,i);if(o.equals(a)===false){u.clearColor(e,t,n,i);o.copy(a)}},reset:function(){t=false;n=null;o.set(-1,0,0,0)}}}function t(){var t=false;var n=null;var i=null;var r=null;return{setTest:function(e){if(e){j(u.DEPTH_TEST)}else{$(u.DEPTH_TEST)}},setMask:function(e){if(n!==e&&!t){u.depthMask(e);n=e}},setFunc:function(e){if(i!==e){if(e){switch(e){case ve:u.depthFunc(u.NEVER);break;case be:u.depthFunc(u.ALWAYS);break;case ye:u.depthFunc(u.LESS);break;case xe:u.depthFunc(u.LEQUAL);break;case we:u.depthFunc(u.EQUAL);break;case _e:u.depthFunc(u.GEQUAL);break;case Ee:u.depthFunc(u.GREATER);break;case Ae:u.depthFunc(u.NOTEQUAL);break;default:u.depthFunc(u.LEQUAL)}}else{u.depthFunc(u.LEQUAL)}i=e}},setLocked:function(e){t=e},setClear:function(e){if(r!==e){u.clearDepth(e);r=e}},reset:function(){t=false;n=null;i=null;r=null}}}function n(){var t=false;var n=null;var i=null;var r=null;var a=null;var o=null;var s=null;var l=null;var c=null;return{setTest:function(e){if(e){j(u.STENCIL_TEST)}else{$(u.STENCIL_TEST)}},setMask:function(e){if(n!==e&&!t){u.stencilMask(e);n=e}},setFunc:function(e,t,n){if(i!==e||r!==t||a!==n){u.stencilFunc(e,t,n);i=e;r=t;a=n}},setOp:function(e,t,n){if(o!==e||s!==t||l!==n){u.stencilOp(e,t,n);o=e;s=t;l=n}},setLocked:function(e){t=e},setClear:function(e){if(c!==e){u.clearStencil(e);c=e}},reset:function(){t=false;n=null;i=null;r=null;a=null;o=null;s=null;l=null;c=null}}}var r=new e;var a=new t;var o=new n;var s=u.getParameter(u.MAX_VERTEX_ATTRIBS);var c=new Uint8Array(s);var h=new Uint8Array(s);var f=new Uint8Array(s);var d={};var p=null;var m=null;var g=null;var v=null;var b=null;var y=null;var x=null;var w=null;var _=null;var E=false;var A=null;var C=null;var S=null;var T=null;var M=null;var k=u.getParameter(u.MAX_COMBINED_TEXTURE_IMAGE_UNITS);var D=parseFloat(/^WebGL\ ([0-9])/.exec(u.getParameter(u.VERSION))[1]);var L=parseFloat(D)>=1;var R=null;var F={};var P=new Dt;var I=new Dt;function N(e,t,n){var i=new Uint8Array(4);var r=u.createTexture();u.bindTexture(e,r);u.texParameteri(e,u.TEXTURE_MIN_FILTER,u.NEAREST);u.texParameteri(e,u.TEXTURE_MAG_FILTER,u.NEAREST);for(var a=0;a<n;a++){u.texImage2D(t+a,0,u.RGBA,1,1,0,u.RGBA,u.UNSIGNED_BYTE,i)}return r}var O={};O[u.TEXTURE_2D]=N(u.TEXTURE_2D,u.TEXTURE_2D,1);O[u.TEXTURE_CUBE_MAP]=N(u.TEXTURE_CUBE_MAP,u.TEXTURE_CUBE_MAP_POSITIVE_X,6);r.setClear(0,0,0,1);a.setClear(1);o.setClear(0);j(u.DEPTH_TEST);a.setFunc(xe);X(false);Y(se);j(u.CULL_FACE);j(u.BLEND);G(fe);function B(){for(var e=0,t=c.length;e<t;e++){c[e]=0}}function z(e){c[e]=1;if(h[e]===0){u.enableVertexAttribArray(e);h[e]=1}if(f[e]!==0){var t=i.get("ANGLE_instanced_arrays");t.vertexAttribDivisorANGLE(e,0);f[e]=0}}function U(e,t){c[e]=1;if(h[e]===0){u.enableVertexAttribArray(e);h[e]=1}if(f[e]!==t){var n=i.get("ANGLE_instanced_arrays");n.vertexAttribDivisorANGLE(e,t);f[e]=t}}function H(){for(var e=0,t=h.length;e!==t;++e){if(h[e]!==c[e]){u.disableVertexAttribArray(e);h[e]=0}}}function j(e){if(d[e]!==true){u.enable(e);d[e]=true}}function $(e){if(d[e]!==false){u.disable(e);d[e]=false}}function W(){if(p===null){p=[];if(i.get("WEBGL_compressed_texture_pvrtc")||i.get("WEBGL_compressed_texture_s3tc")||i.get("WEBGL_compressed_texture_etc1")){var e=u.getParameter(u.COMPRESSED_TEXTURE_FORMATS);for(var t=0;t<e.length;t++){p.push(e[t])}}}return p}function V(e){if(m!==e){u.useProgram(e);m=e;return true}return false}function G(e,t,n,i,r,a,o,s){if(e!==he){j(u.BLEND)}else{$(u.BLEND)}if(e!==ge){if(e!==g||s!==E){switch(e){case de:if(s){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE)}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.SRC_ALPHA,u.ONE)}break;case pe:if(s){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ZERO,u.ZERO,u.ONE_MINUS_SRC_COLOR,u.ONE_MINUS_SRC_ALPHA)}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.ZERO,u.ONE_MINUS_SRC_COLOR)}break;case me:if(s){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ZERO,u.SRC_COLOR,u.ZERO,u.SRC_ALPHA)}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.ZERO,u.SRC_COLOR)}break;default:if(s){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA)}else{u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA)}}}v=null;b=null;y=null;x=null;w=null;_=null}else{r=r||t;a=a||n;o=o||i;if(t!==v||r!==x){u.blendEquationSeparate(l.convert(t),l.convert(r));v=t;x=r}if(n!==b||i!==y||a!==w||o!==_){u.blendFuncSeparate(l.convert(n),l.convert(i),l.convert(a),l.convert(o));b=n;y=i;w=a;_=o}}g=e;E=s}function q(e){e.side===ue?$(u.CULL_FACE):j(u.CULL_FACE);X(e.side===ce);e.transparent===true?G(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):G(he);a.setFunc(e.depthFunc);a.setTest(e.depthTest);a.setMask(e.depthWrite);r.setMask(e.colorWrite);Z(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function X(e){if(A!==e){if(e){u.frontFace(u.CW)}else{u.frontFace(u.CCW)}A=e}}function Y(e){if(e!==oe){j(u.CULL_FACE);if(e!==C){if(e===se){u.cullFace(u.BACK)}else if(e===le){u.cullFace(u.FRONT)}else{u.cullFace(u.FRONT_AND_BACK)}}}else{$(u.CULL_FACE)}C=e}function K(e){if(e!==S){if(L){u.lineWidth(e)}S=e}}function Z(e,t,n){if(e){j(u.POLYGON_OFFSET_FILL);if(T!==t||M!==n){u.polygonOffset(t,n);T=t;M=n}}else{$(u.POLYGON_OFFSET_FILL)}}function Q(e){if(e){j(u.SCISSOR_TEST)}else{$(u.SCISSOR_TEST)}}function J(e){if(e===undefined){e=u.TEXTURE0+k-1}if(R!==e){u.activeTexture(e);R=e}}function ee(e,t){if(R===null){J()}var n=F[R];if(n===undefined){n={type:undefined,texture:undefined};F[R]=n}if(n.type!==e||n.texture!==t){u.bindTexture(e,t||O[e]);n.type=e;n.texture=t}}function te(){try{u.compressedTexImage2D.apply(u,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function ne(){try{u.texImage2D.apply(u,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function ie(e){if(P.equals(e)===false){u.scissor(e.x,e.y,e.z,e.w);P.copy(e)}}function re(e){if(I.equals(e)===false){u.viewport(e.x,e.y,e.z,e.w);I.copy(e)}}function ae(){for(var e=0;e<h.length;e++){if(h[e]===1){u.disableVertexAttribArray(e);h[e]=0}}d={};p=null;R=null;F={};m=null;g=null;A=null;C=null;r.reset();a.reset();o.reset()}return{buffers:{color:r,depth:a,stencil:o},initAttributes:B,enableAttribute:z,enableAttributeAndDivisor:U,disableUnusedAttributes:H,enable:j,disable:$,getCompressedTextureFormats:W,useProgram:V,setBlending:G,setMaterial:q,setFlipSided:X,setCullFace:Y,setLineWidth:K,setPolygonOffset:Z,setScissorTest:Q,activeTexture:J,bindTexture:ee,compressedTexImage2D:te,texImage2D:ne,scissor:ie,viewport:re,reset:ae}}function to(t,n,e){var i;function r(){if(i!==undefined){return i}var e=n.get("EXT_texture_filter_anisotropic");if(e!==null){i=t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else{i=0}return i}function a(e){if(e==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0){return"highp"}e="mediump"}if(e==="mediump"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0){return"mediump"}}return"lowp"}var o=e.precision!==undefined?e.precision:"highp";var s=a(o);if(s!==o){console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead.");o=s}var l=e.logarithmicDepthBuffer===true;var c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);var u=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS);var h=t.getParameter(t.MAX_TEXTURE_SIZE);var f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE);var d=t.getParameter(t.MAX_VERTEX_ATTRIBS);var p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS);var m=t.getParameter(t.MAX_VARYING_VECTORS);var g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS);var v=u>0;var b=!!n.get("OES_texture_float");var y=v&&b;return{getMaxAnisotropy:r,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:y}}function no(e,t,n,i){Xr.call(this);this.type="PerspectiveCamera";this.fov=e!==undefined?e:50;this.zoom=1;this.near=n!==undefined?n:.1;this.far=i!==undefined?i:2e3;this.focus=10;this.aspect=t!==undefined?t:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}no.prototype=Object.assign(Object.create(Xr.prototype),{constructor:no,isPerspectiveCamera:true,copy:function(e,t){Xr.prototype.copy.call(this,e,t);this.fov=e.fov;this.zoom=e.zoom;this.near=e.near;this.far=e.far;this.focus=e.focus;this.aspect=e.aspect;this.view=e.view===null?null:Object.assign({},e.view);this.filmGauge=e.filmGauge;this.filmOffset=e.filmOffset;return this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=_t.RAD2DEG*2*Math.atan(t);this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(_t.DEG2RAD*.5*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return _t.RAD2DEG*2*Math.atan(Math.tan(_t.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t;if(this.view===null){this.view={enabled:true,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}}this.view.enabled=true;this.view.fullWidth=e;this.view.fullHeight=t;this.view.offsetX=n;this.view.offsetY=i;this.view.width=r;this.view.height=a;this.updateProjectionMatrix()},clearViewOffset:function(){if(this.view!==null){this.view.enabled=false}this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(_t.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(this.view!==null&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o;t-=a.offsetY*n/s;i*=a.width/o;n*=a.height/s}var l=this.filmOffset;if(l!==0){r+=e*l/this.getFilmWidth()}this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far)},toJSON:function(e){var t=qr.prototype.toJSON.call(this,e);t.object.fov=this.fov;t.object.zoom=this.zoom;t.object.near=this.near;t.object.far=this.far;t.object.focus=this.focus;t.object.aspect=this.aspect;if(this.view!==null){t.object.view=Object.assign({},this.view)}t.object.filmGauge=this.filmGauge;t.object.filmOffset=this.filmOffset;return t}});function io(e){no.call(this);this.cameras=e||[]}io.prototype=Object.assign(Object.create(no.prototype),{constructor:io,isArrayCamera:true});function ro(i){var r=this;var o=null;var s=null;if(typeof window!=="undefined"&&"VRFrameData"in window){s=new window.VRFrameData}var l=new At;var c=new At;var u=new At;var h=new no;h.bounds=new Dt(0,0,.5,1);h.layers.enable(1);var f=new no;f.bounds=new Dt(.5,0,.5,1);f.layers.enable(2);var d=new io([h,f]);d.layers.enable(1);d.layers.enable(2);var a,p;function e(){if(o!==null&&o.isPresenting){var e=o.getEyeParameters("left");var t=e.renderWidth;var n=e.renderHeight;p=i.getPixelRatio();a=i.getSize();i.setDrawingBufferSize(t*2,n,1)}else if(r.enabled){i.setDrawingBufferSize(a.width,a.height,p)}}if(typeof window!=="undefined"){window.addEventListener("vrdisplaypresentchange",e,false)}this.enabled=false;this.standing=false;this.getDevice=function(){return o};this.setDevice=function(e){if(e!==undefined){o=e}};this.getCamera=function(e){if(o===null){return e}o.depthNear=e.near;o.depthFar=e.far;o.getFrameData(s);var t=s.pose;if(t.position!==null){e.position.fromArray(t.position)}else{e.position.set(0,0,0)}if(t.orientation!==null){e.quaternion.fromArray(t.orientation)}e.updateMatrixWorld();var n=o.stageParameters;if(this.standing&&n){c.fromArray(n.sittingToStandingTransform);u.getInverse(c);e.matrixWorld.multiply(c);e.matrixWorldInverse.multiply(u)}if(o.isPresenting===false){return e}h.near=e.near;f.near=e.near;h.far=e.far;f.far=e.far;d.matrixWorld.copy(e.matrixWorld);d.matrixWorldInverse.copy(e.matrixWorldInverse);h.matrixWorldInverse.fromArray(s.leftViewMatrix);f.matrixWorldInverse.fromArray(s.rightViewMatrix);if(this.standing&&n){h.matrixWorldInverse.multiply(u);f.matrixWorldInverse.multiply(u)}var i=e.parent;if(i!==null){l.getInverse(i.matrixWorld);h.matrixWorldInverse.multiply(l);f.matrixWorldInverse.multiply(l)}h.matrixWorld.getInverse(h.matrixWorldInverse);f.matrixWorld.getInverse(f.matrixWorldInverse);h.projectionMatrix.fromArray(s.leftProjectionMatrix);f.projectionMatrix.fromArray(s.rightProjectionMatrix);d.projectionMatrix.copy(h.projectionMatrix);var r=o.getLayers();if(r.length){var a=r[0];if(a.leftBounds!==null&&a.leftBounds.length===4){h.bounds.fromArray(a.leftBounds)}if(a.rightBounds!==null&&a.rightBounds.length===4){f.bounds.fromArray(a.rightBounds)}}return d};this.getStandingMatrix=function(){return c};this.submitFrame=function(){if(o&&o.isPresenting){o.submitFrame()}};this.dispose=function(){if(typeof window!=="undefined"){window.removeEventListener("vrdisplaypresentchange",e)}}}function ao(n){var i={};return{get:function(e){if(i[e]!==undefined){return i[e]}var t;switch(e){case"WEBGL_depth_texture":t=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":t=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":t=n.getExtension("WEBGL_compressed_texture_etc1");break;default:t=n.getExtension(e)}if(t===null){console.warn("THREE.WebGLRenderer: "+e+" extension not supported.")}i[e]=t;return t}}}function oo(){var u=this,h=null,f=0,d=false,p=false,m=new Ur,g=new Tt,v={value:null,needsUpdate:false};this.uniform=v;this.numPlanes=0;this.numIntersection=0;this.init=function(e,t,n){var i=e.length!==0||t||f!==0||d;d=t;h=y(e,n,0);f=e.length;return i};this.beginShadows=function(){p=true;y(null)};this.endShadows=function(){p=false;b()};this.setState=function(e,t,n,i,r,a){if(!d||e===null||e.length===0||p&&!n){if(p){y(null)}else{b()}}else{var o=p?0:f,s=o*4,l=r.clippingState||null;v.value=l;l=y(e,i,s,a);for(var c=0;c!==s;++c){l[c]=h[c]}r.clippingState=l;this.numIntersection=t?this.numPlanes:0;this.numPlanes+=o}};function b(){if(v.value!==h){v.value=h;v.needsUpdate=f>0}u.numPlanes=f;u.numIntersection=0}function y(e,t,n,i){var r=e!==null?e.length:0,a=null;if(r!==0){a=v.value;if(i!==true||a===null){var o=n+r*4,s=t.matrixWorldInverse;g.getNormalMatrix(s);if(a===null||a.length<o){a=new Float32Array(o)}for(var l=0,c=n;l!==r;++l,c+=4){m.copy(e[l]).applyMatrix4(s,g);m.normal.toArray(a,c);a[c+3]=m.constant}}v.value=a;v.needsUpdate=true}u.numPlanes=r;return a}}function so(n,i){function e(e){var t;if(e===q){return n.REPEAT}if(e===X){return n.CLAMP_TO_EDGE}if(e===Y){return n.MIRRORED_REPEAT}if(e===K){return n.NEAREST}if(e===Z){return n.NEAREST_MIPMAP_NEAREST}if(e===Q){return n.NEAREST_MIPMAP_LINEAR}if(e===J){return n.LINEAR}if(e===ee){return n.LINEAR_MIPMAP_NEAREST}if(e===te){return n.LINEAR_MIPMAP_LINEAR}if(e===Ve){return n.UNSIGNED_BYTE}if(e===Se){return n.UNSIGNED_SHORT_4_4_4_4}if(e===Te){return n.UNSIGNED_SHORT_5_5_5_1}if(e===Me){return n.UNSIGNED_SHORT_5_6_5}if(e===ne){return n.BYTE}if(e===ie){return n.SHORT}if(e===re){return n.UNSIGNED_SHORT}if(e===ae){return n.INT}if(e===Ce){return n.UNSIGNED_INT}if(e===Ge){return n.FLOAT}if(e===qe){t=i.get("OES_texture_half_float");if(t!==null){return t.HALF_FLOAT_OES}}if(e===De){return n.ALPHA}if(e===Le){return n.RGB}if(e===Xe){return n.RGBA}if(e===Re){return n.LUMINANCE}if(e===Fe){return n.LUMINANCE_ALPHA}if(e===Ie){return n.DEPTH_COMPONENT}if(e===Ne){return n.DEPTH_STENCIL}if(e===u){return n.FUNC_ADD}if(e===h){return n.FUNC_SUBTRACT}if(e===f){return n.FUNC_REVERSE_SUBTRACT}if(e===g){return n.ZERO}if(e===b){return n.ONE}if(e===y){return n.SRC_COLOR}if(e===x){return n.ONE_MINUS_SRC_COLOR}if(e===w){return n.SRC_ALPHA}if(e===_){return n.ONE_MINUS_SRC_ALPHA}if(e===E){return n.DST_ALPHA}if(e===A){return n.ONE_MINUS_DST_ALPHA}if(e===C){return n.DST_COLOR}if(e===S){return n.ONE_MINUS_DST_COLOR}if(e===T){return n.SRC_ALPHA_SATURATE}if(e===Oe||e===Be||e===ze||e===Ue){t=i.get("WEBGL_compressed_texture_s3tc");if(t!==null){if(e===Oe){return t.COMPRESSED_RGB_S3TC_DXT1_EXT}if(e===Be){return t.COMPRESSED_RGBA_S3TC_DXT1_EXT}if(e===ze){return t.COMPRESSED_RGBA_S3TC_DXT3_EXT}if(e===Ue){return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}}}if(e===Ye||e===Ke||e===Ze||e===Qe){t=i.get("WEBGL_compressed_texture_pvrtc");if(t!==null){if(e===Ye){return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG}if(e===Ke){return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG}if(e===Ze){return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG}if(e===Qe){return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}}}if(e===Je){t=i.get("WEBGL_compressed_texture_etc1");if(t!==null){return t.COMPRESSED_RGB_ETC1_WEBGL}}if(e===p||e===m){t=i.get("EXT_blend_minmax");if(t!==null){if(e===p){return t.MIN_EXT}if(e===m){return t.MAX_EXT}}}if(e===ke){t=i.get("WEBGL_depth_texture");if(t!==null){return t.UNSIGNED_INT_24_8_WEBGL}}return 0}return{convert:e}}function lo(e){console.log("THREE.WebGLRenderer",He);e=e||{};var r=e.canvas!==undefined?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t=e.context!==undefined?e.context:null,n=e.alpha!==undefined?e.alpha:false,i=e.depth!==undefined?e.depth:true,a=e.stencil!==undefined?e.stencil:true,o=e.antialias!==undefined?e.antialias:false,s=e.premultipliedAlpha!==undefined?e.premultipliedAlpha:true,l=e.preserveDrawingBuffer!==undefined?e.preserveDrawingBuffer:false;var f=[];var p=[];var d=null;var m=[];var g=[];this.domElement=r;this.context=null;this.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;this.sortObjects=true;this.clippingPlanes=[];this.localClippingEnabled=false;this.gammaFactor=2;this.gammaInput=false;this.gammaOutput=false;this.physicallyCorrectLights=false;this.toneMapping=We;this.toneMappingExposure=1;this.toneMappingWhitePoint=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var b=this,c=false,u=null,h=null,y=-1,E="",x=null,w=null,_=new Dt,v=new Dt,A=null,C=0,S=r.width,T=r.height,M=1,k=new Dt(0,0,S,T),D=new Dt(0,0,S,T),L=false,R=new Hr,F=new oo,P=false,I=false,N=new At,O=new St,B={geometries:0,textures:0},z={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:z,memory:B,programs:null};function U(){return u===null?M:1}var H;try{var j={alpha:n,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l};H=t||r.getContext("webgl",j)||r.getContext("experimental-webgl",j);if(H===null){if(r.getContext("webgl")!==null){throw"Error creating WebGL context with your selected attributes."}else{throw"Error creating WebGL context."}}if(H.getShaderPrecisionFormat===undefined){H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}}r.addEventListener("webglcontextlost",ue,false);r.addEventListener("webglcontextrestored",he,false)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var $,W,V;var G,q,X,Y,K,Z;var Q,J;var ee,te,ne,ie;var re,ae;var oe;function se(){$=new ao(H);$.get("WEBGL_depth_texture");$.get("OES_texture_float");$.get("OES_texture_float_linear");$.get("OES_texture_half_float");$.get("OES_texture_half_float_linear");$.get("OES_standard_derivatives");$.get("OES_element_index_uint");$.get("ANGLE_instanced_arrays");oe=new so(H,$);W=new to(H,$,e);V=new eo(H,$,oe);V.scissor(v.copy(D).multiplyScalar(M));V.viewport(_.copy(k).multiplyScalar(M));G=new Ja;q=new Qa(H,$,V,G,W,oe,B);X=new $r(H);Y=new Ra(H,X,B);K=new Ia(Y,z);te=new ka(H);Q=new Za(b,$,W);Z=new Pa;J=new Ta;ee=new Ea(b,V,Y,s);ne=new La(H,$,z);ie=new Da(H,$,z);re=new Lr(b,H,V,q,W);ae=new Fr(b,H,V,q,W);b.info.programs=Q.programs;b.context=H;b.capabilities=W;b.extensions=$;b.properties=G;b.renderLists=J;b.state=V}se();var le=new ro(b);this.vr=le;var ce=new jr(b,K,W.maxTextureSize);this.shadowMap=ce;this.getContext=function(){return H};this.getContextAttributes=function(){return H.getContextAttributes()};this.forceContextLoss=function(){var e=$.get("WEBGL_lose_context");if(e){e.loseContext()}};this.forceContextRestore=function(){var e=$.get("WEBGL_lose_context");if(e){e.restoreContext()}};this.getPixelRatio=function(){return M};this.setPixelRatio=function(e){if(e===undefined){return}M=e;this.setSize(S,T,false)};this.getSize=function(){return{width:S,height:T}};this.setSize=function(e,t,n){var i=le.getDevice();if(i&&i.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}S=e;T=t;r.width=e*M;r.height=t*M;if(n!==false){r.style.width=e+"px";r.style.height=t+"px"}this.setViewport(0,0,e,t)};this.getDrawingBufferSize=function(){return{width:S*M,height:T*M}};this.setDrawingBufferSize=function(e,t,n){S=e;T=t;M=n;r.width=e*n;r.height=t*n;this.setViewport(0,0,e,t)};this.setViewport=function(e,t,n,i){k.set(e,T-t-i,n,i);V.viewport(_.copy(k).multiplyScalar(M))};this.setScissor=function(e,t,n,i){D.set(e,T-t-i,n,i);V.scissor(v.copy(D).multiplyScalar(M))};this.setScissorTest=function(e){V.setScissorTest(L=e)};this.getClearColor=function(){return ee.getClearColor()};this.setClearColor=function(){ee.setClearColor.apply(ee,arguments)};this.getClearAlpha=function(){return ee.getClearAlpha()};this.setClearAlpha=function(){ee.setClearAlpha.apply(ee,arguments)};this.clear=function(e,t,n){var i=0;if(e===undefined||e){i|=H.COLOR_BUFFER_BIT}if(t===undefined||t){i|=H.DEPTH_BUFFER_BIT}if(n===undefined||n){i|=H.STENCIL_BUFFER_BIT}H.clear(i)};this.clearColor=function(){this.clear(true,false,false)};this.clearDepth=function(){this.clear(false,true,false)};this.clearStencil=function(){this.clear(false,false,true)};this.clearTarget=function(e,t,n,i){this.setRenderTarget(e);this.clear(t,n,i)};this.dispose=function(){r.removeEventListener("webglcontextlost",ue,false);r.removeEventListener("webglcontextrestored",he,false);J.dispose();le.dispose()};function ue(e){e.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");c=true}function he(){console.log("THREE.WebGLRenderer: Context Restored.");c=false;se()}function fe(e){var t=e.target;t.removeEventListener("dispose",fe);de(t)}function de(e){pe(e);G.remove(e)}function pe(e){var t=G.get(e).program;e.program=undefined;if(t!==undefined){Q.releaseProgram(t)}}function me(e,t,n){e.render(function(e){b.renderBufferImmediate(e,t,n)})}this.renderBufferImmediate=function(e,t,n){V.initAttributes();var i=G.get(e);if(e.hasPositions&&!i.position){i.position=H.createBuffer()}if(e.hasNormals&&!i.normal){i.normal=H.createBuffer()}if(e.hasUvs&&!i.uv){i.uv=H.createBuffer()}if(e.hasColors&&!i.color){i.color=H.createBuffer()}var r=t.getAttributes();if(e.hasPositions){H.bindBuffer(H.ARRAY_BUFFER,i.position);H.bufferData(H.ARRAY_BUFFER,e.positionArray,H.DYNAMIC_DRAW);V.enableAttribute(r.position);H.vertexAttribPointer(r.position,3,H.FLOAT,false,0,0)}if(e.hasNormals){H.bindBuffer(H.ARRAY_BUFFER,i.normal);if(!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.flatShading===true){for(var a=0,o=e.count*3;a<o;a+=9){var s=e.normalArray;var l=(s[a+0]+s[a+3]+s[a+6])/3;var c=(s[a+1]+s[a+4]+s[a+7])/3;var u=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=l;s[a+1]=c;s[a+2]=u;s[a+3]=l;s[a+4]=c;s[a+5]=u;s[a+6]=l;s[a+7]=c;s[a+8]=u}}H.bufferData(H.ARRAY_BUFFER,e.normalArray,H.DYNAMIC_DRAW);V.enableAttribute(r.normal);H.vertexAttribPointer(r.normal,3,H.FLOAT,false,0,0)}if(e.hasUvs&&n.map){H.bindBuffer(H.ARRAY_BUFFER,i.uv);H.bufferData(H.ARRAY_BUFFER,e.uvArray,H.DYNAMIC_DRAW);V.enableAttribute(r.uv);H.vertexAttribPointer(r.uv,2,H.FLOAT,false,0,0)}if(e.hasColors&&n.vertexColors!==$e){H.bindBuffer(H.ARRAY_BUFFER,i.color);H.bufferData(H.ARRAY_BUFFER,e.colorArray,H.DYNAMIC_DRAW);V.enableAttribute(r.color);H.vertexAttribPointer(r.color,3,H.FLOAT,false,0,0)}V.disableUnusedAttributes();H.drawArrays(H.TRIANGLES,0,e.count);e.count=0};this.renderBufferDirect=function(e,t,n,i,r,a){V.setMaterial(i);var o=Ce(e,t,i,r);var s=n.id+"_"+o.id+"_"+(i.wireframe===true);var l=false;if(s!==E){E=s;l=true}if(r.morphTargetInfluences){te.update(r,n,i,o);l=true}var c=n.index;var u=n.attributes.position;var h=1;if(i.wireframe===true){c=Y.getWireframeAttribute(n);h=2}var f;var d=ne;if(c!==null){f=X.get(c);d=ie;d.setIndex(f)}if(l){ge(i,o,n);if(c!==null){H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,f.buffer)}}var p=0;if(c!==null){p=c.count}else if(u!==undefined){p=u.count}var m=n.drawRange.start*h;var g=n.drawRange.count*h;var v=a!==null?a.start*h:0;var b=a!==null?a.count*h:Infinity;var y=Math.max(m,v);var x=Math.min(p,m+g,v+b)-1;var w=Math.max(0,x-y+1);if(w===0){return}if(r.isMesh){if(i.wireframe===true){V.setLineWidth(i.wireframeLinewidth*U());d.setMode(H.LINES)}else{switch(r.drawMode){case ct:d.setMode(H.TRIANGLES);break;case ut:d.setMode(H.TRIANGLE_STRIP);break;case ht:d.setMode(H.TRIANGLE_FAN);break}}}else if(r.isLine){var _=i.linewidth;if(_===undefined){_=1}V.setLineWidth(_*U());if(r.isLineSegments){d.setMode(H.LINES)}else if(r.isLineLoop){d.setMode(H.LINE_LOOP)}else{d.setMode(H.LINE_STRIP)}}else if(r.isPoints){d.setMode(H.POINTS)}if(n&&n.isInstancedBufferGeometry){if(n.maxInstancedCount>0){d.renderInstances(n,y,w)}}else{d.render(y,w)}};function ge(e,t,n,i){if(n&&n.isInstancedBufferGeometry){if($.get("ANGLE_instanced_arrays")===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}if(i===undefined){i=0}V.initAttributes();var r=n.attributes;var a=t.getAttributes();var o=e.defaultAttributeValues;for(var s in a){var l=a[s];if(l>=0){var c=r[s];if(c!==undefined){var u=c.normalized;var h=c.itemSize;var f=X.get(c);if(f===undefined){continue}var d=f.buffer;var p=f.type;var m=f.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data;var v=g.stride;var b=c.offset;if(g&&g.isInstancedInterleavedBuffer){V.enableAttributeAndDivisor(l,g.meshPerAttribute);if(n.maxInstancedCount===undefined){n.maxInstancedCount=g.meshPerAttribute*g.count}}else{V.enableAttribute(l)}H.bindBuffer(H.ARRAY_BUFFER,d);H.vertexAttribPointer(l,h,p,u,v*m,(i*v+b)*m)}else{if(c.isInstancedBufferAttribute){V.enableAttributeAndDivisor(l,c.meshPerAttribute);if(n.maxInstancedCount===undefined){n.maxInstancedCount=c.meshPerAttribute*c.count}}else{V.enableAttribute(l)}H.bindBuffer(H.ARRAY_BUFFER,d);H.vertexAttribPointer(l,h,p,u,0,i*h*m)}}else if(o!==undefined){var y=o[s];if(y!==undefined){switch(y.length){case 2:H.vertexAttrib2fv(l,y);break;case 3:H.vertexAttrib3fv(l,y);break;case 4:H.vertexAttrib4fv(l,y);break;default:H.vertexAttrib1fv(l,y)}}}}}V.disableUnusedAttributes()}this.compile=function(n,e){f.length=0;p.length=0;n.traverse(function(e){if(e.isLight){f.push(e);if(e.castShadow){p.push(e)}}});Z.setup(f,p,e);n.traverse(function(e){if(e.material){if(Array.isArray(e.material)){for(var t=0;t<e.material.length;t++){Ae(e.material[t],n.fog,e)}}else{Ae(e.material,n.fog,e)}}})};var ve=false;var be=null;function ye(){if(ve){return}var e=le.getDevice();if(e&&e.isPresenting){e.requestAnimationFrame(xe)}else{window.requestAnimationFrame(xe)}ve=true}function xe(e){if(be!==null){be(e)}var t=le.getDevice();if(t&&t.isPresenting){t.requestAnimationFrame(xe)}else{window.requestAnimationFrame(xe)}}this.animate=function(e){be=e;ye()};this.render=function(e,t,n,i){if(!(t&&t.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(c){return}E="";y=-1;x=null;if(e.autoUpdate===true){e.updateMatrixWorld()}if(t.parent===null){t.updateMatrixWorld()}if(le.enabled){t=le.getCamera(t)}N.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse);R.setFromMatrix(N);f.length=0;p.length=0;m.length=0;g.length=0;I=this.localClippingEnabled;P=F.init(this.clippingPlanes,I,t);d=J.get(e,t);d.init();we(e,t,b.sortObjects);if(b.sortObjects===true){d.sort()}if(P){F.beginShadows()}ce.render(p,e,t);Z.setup(f,p,t);if(P){F.endShadows()}z.frame++;z.calls=0;z.vertices=0;z.faces=0;z.points=0;if(n===undefined){n=null}this.setRenderTarget(n);ee.render(d,e,t,i);var r=d.opaque;var a=d.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;if(r.length){_e(r,e,t,o)}if(a.length){_e(a,e,t,o)}}else{if(r.length){_e(r,e,t)}if(a.length){_e(a,e,t)}}ae.render(m,e,t);re.render(g,e,t,_);if(n){q.updateRenderTargetMipmap(n)}V.buffers.depth.setTest(true);V.buffers.depth.setMask(true);V.buffers.color.setMask(true);V.setPolygonOffset(false);if(le.enabled){le.submitFrame()}};function we(e,t,n){if(e.visible===false){return}var i=e.layers.test(t.layers);if(i){if(e.isLight){f.push(e);if(e.castShadow){p.push(e)}}else if(e.isSprite){if(!e.frustumCulled||R.intersectsSprite(e)){m.push(e)}}else if(e.isLensFlare){g.push(e)}else if(e.isImmediateRenderObject){if(n){O.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N)}d.push(e,null,e.material,O.z,null)}else if(e.isMesh||e.isLine||e.isPoints){if(e.isSkinnedMesh){e.skeleton.update()}if(!e.frustumCulled||R.intersectsObject(e)){if(n){O.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N)}var r=K.update(e);var a=e.material;if(Array.isArray(a)){var o=r.groups;for(var s=0,l=o.length;s<l;s++){var c=o[s];var u=a[c.materialIndex];if(u&&u.visible){d.push(e,r,u,O.z,c)}}}else if(a.visible){d.push(e,r,a,O.z,null)}}}}var h=e.children;for(var s=0,l=h.length;s<l;s++){we(h[s],t,n)}}function _e(e,t,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r];var s=o.object;var l=o.geometry;var c=i===undefined?o.material:i;var u=o.group;if(n.isArrayCamera){w=n;var h=n.cameras;for(var f=0,d=h.length;f<d;f++){var p=h[f];if(s.layers.test(p.layers)){var m=p.bounds;var g=m.x*S;var v=m.y*T;var b=m.z*S;var y=m.w*T;V.viewport(_.set(g,v,b,y).multiplyScalar(M));Ee(s,t,p,l,c,u)}}}else{w=null;Ee(s,t,n,l,c,u)}}}function Ee(e,t,n,i,r,a){e.onBeforeRender(b,t,n,i,r,a);e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld);e.normalMatrix.getNormalMatrix(e.modelViewMatrix);if(e.isImmediateRenderObject){V.setMaterial(r);var o=Ce(n,t.fog,r,e);E="";me(e,o,r)}else{b.renderBufferDirect(n,t.fog,i,r,e,a)}e.onAfterRender(b,t,n,i,r,a)}function Ae(e,t,n){var i=G.get(e);var r=Q.getParameters(e,Z.state,p,t,F.numPlanes,F.numIntersection,n);var a=Q.getProgramCode(e,r);var o=i.program;var s=true;if(o===undefined){e.addEventListener("dispose",fe)}else if(o.code!==a){pe(e)}else if(r.shaderID!==undefined){return}else{s=false}if(s){if(r.shaderID){var l=kr[r.shaderID];i.shader={name:e.type,uniforms:Sn.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else{i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}}e.onBeforeCompile(i.shader);o=Q.acquireProgram(e,i.shader,r,a);i.program=o;e.program=o}var c=o.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var u=0;u<b.maxMorphTargets;u++){if(c["morphTarget"+u]>=0){e.numSupportedMorphTargets++}}}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var u=0;u<b.maxMorphNormals;u++){if(c["morphNormal"+u]>=0){e.numSupportedMorphNormals++}}}var h=i.shader.uniforms;if(!e.isShaderMaterial&&!e.isRawShaderMaterial||e.clipping===true){i.numClippingPlanes=F.numPlanes;i.numIntersection=F.numIntersection;h.clippingPlanes=F.uniform}i.fog=t;i.lightsHash=Z.state.hash;if(e.lights){h.ambientLightColor.value=Z.state.ambient;h.directionalLights.value=Z.state.directional;h.spotLights.value=Z.state.spot;h.rectAreaLights.value=Z.state.rectArea;h.pointLights.value=Z.state.point;h.hemisphereLights.value=Z.state.hemi;h.directionalShadowMap.value=Z.state.directionalShadowMap;h.directionalShadowMatrix.value=Z.state.directionalShadowMatrix;h.spotShadowMap.value=Z.state.spotShadowMap;h.spotShadowMatrix.value=Z.state.spotShadowMatrix;h.pointShadowMap.value=Z.state.pointShadowMap;h.pointShadowMatrix.value=Z.state.pointShadowMatrix}var f=i.program.getUniforms(),d=_n.seqWithValue(f.seq,h);i.uniformsList=d}function Ce(e,t,n,i){C=0;var r=G.get(n);if(P){if(I||e!==x){var a=e===x&&n.id===y;F.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,a)}}if(n.needsUpdate===false){if(r.program===undefined){n.needsUpdate=true}else if(n.fog&&r.fog!==t){n.needsUpdate=true}else if(n.lights&&r.lightsHash!==Z.state.hash){n.needsUpdate=true}else if(r.numClippingPlanes!==undefined&&(r.numClippingPlanes!==F.numPlanes||r.numIntersection!==F.numIntersection)){n.needsUpdate=true}}if(n.needsUpdate){Ae(n,t,i);n.needsUpdate=false}var o=false;var s=false;var l=false;var c=r.program,u=c.getUniforms(),h=r.shader.uniforms;if(V.useProgram(c.program)){o=true;s=true;l=true}if(n.id!==y){y=n.id;s=true}if(o||e!==x){u.setValue(H,"projectionMatrix",e.projectionMatrix);if(W.logarithmicDepthBuffer){u.setValue(H,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2))}if(x!==(w||e)){x=w||e;s=true;l=true}if(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=u.map.cameraPosition;if(f!==undefined){f.setValue(H,O.setFromMatrixPosition(e.matrixWorld))}}if(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning){u.setValue(H,"viewMatrix",e.matrixWorldInverse)}}if(n.skinning){u.setOptional(H,i,"bindMatrix");u.setOptional(H,i,"bindMatrixInverse");var d=i.skeleton;if(d){var p=d.bones;if(W.floatVertexTextures){if(d.boneTexture===undefined){var m=Math.sqrt(p.length*4);m=_t.ceilPowerOfTwo(m);m=Math.max(m,4);var g=new Float32Array(m*m*4);g.set(d.boneMatrices);var v=new Ft(g,m,m,Xe,Ge);d.boneMatrices=g;d.boneTexture=v;d.boneTextureSize=m}u.setValue(H,"boneTexture",d.boneTexture);u.setValue(H,"boneTextureSize",d.boneTextureSize)}else{u.setOptional(H,d,"boneMatrices")}}}if(s){u.setValue(H,"toneMappingExposure",b.toneMappingExposure);u.setValue(H,"toneMappingWhitePoint",b.toneMappingWhitePoint);if(n.lights){ze(h,l)}if(t&&n.fog){De(h,t)}if(n.isMeshBasicMaterial){Se(h,n)}else if(n.isMeshLambertMaterial){Se(h,n);Le(h,n)}else if(n.isMeshPhongMaterial){Se(h,n);if(n.isMeshToonMaterial){Fe(h,n)}else{Re(h,n)}}else if(n.isMeshStandardMaterial){Se(h,n);if(n.isMeshPhysicalMaterial){Ie(h,n)}else{Pe(h,n)}}else if(n.isMeshDepthMaterial){Se(h,n);Ne(h,n)}else if(n.isMeshDistanceMaterial){Se(h,n);Oe(h,n)}else if(n.isMeshNormalMaterial){Se(h,n);Be(h,n)}else if(n.isLineBasicMaterial){Te(h,n);if(n.isLineDashedMaterial){Me(h,n)}}else if(n.isPointsMaterial){ke(h,n)}else if(n.isShadowMaterial){h.color.value=n.color;h.opacity.value=n.opacity}if(h.ltcMat!==undefined){h.ltcMat.value=Cn.LTC_MAT_TEXTURE}if(h.ltcMag!==undefined){h.ltcMag.value=Cn.LTC_MAG_TEXTURE}_n.upload(H,r.uniformsList,h,b)}u.setValue(H,"modelViewMatrix",i.modelViewMatrix);u.setValue(H,"normalMatrix",i.normalMatrix);u.setValue(H,"modelMatrix",i.matrixWorld);return c}function Se(e,t){e.opacity.value=t.opacity;if(t.color){e.diffuse.value=t.color}if(t.emissive){e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity)}if(t.map){e.map.value=t.map}if(t.alphaMap){e.alphaMap.value=t.alphaMap}if(t.specularMap){e.specularMap.value=t.specularMap}if(t.envMap){e.envMap.value=t.envMap;e.flipEnvMap.value=!(t.envMap&&t.envMap.isCubeTexture)?1:-1;e.reflectivity.value=t.reflectivity;e.refractionRatio.value=t.refractionRatio}if(t.lightMap){e.lightMap.value=t.lightMap;e.lightMapIntensity.value=t.lightMapIntensity}if(t.aoMap){e.aoMap.value=t.aoMap;e.aoMapIntensity.value=t.aoMapIntensity}var n;if(t.map){n=t.map}else if(t.specularMap){n=t.specularMap}else if(t.displacementMap){n=t.displacementMap}else if(t.normalMap){n=t.normalMap}else if(t.bumpMap){n=t.bumpMap}else if(t.roughnessMap){n=t.roughnessMap}else if(t.metalnessMap){n=t.metalnessMap}else if(t.alphaMap){n=t.alphaMap}else if(t.emissiveMap){n=t.emissiveMap}if(n!==undefined){if(n.isWebGLRenderTarget){n=n.texture}if(n.matrixAutoUpdate===true){var i=n.offset;var r=n.repeat;var a=n.rotation;var o=n.center;n.matrix.setUvTransform(i.x,i.y,r.x,r.y,a,o.x,o.y)}e.uvTransform.value.copy(n.matrix)}}function Te(e,t){e.diffuse.value=t.color;e.opacity.value=t.opacity}function Me(e,t){e.dashSize.value=t.dashSize;e.totalSize.value=t.dashSize+t.gapSize;e.scale.value=t.scale}function ke(e,t){e.diffuse.value=t.color;e.opacity.value=t.opacity;e.size.value=t.size*M;e.scale.value=T*.5;e.map.value=t.map;if(t.map!==null){if(t.map.matrixAutoUpdate===true){var n=t.map.offset;var i=t.map.repeat;var r=t.map.rotation;var a=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,i.x,i.y,r,a.x,a.y)}e.uvTransform.value.copy(t.map.matrix)}}function De(e,t){e.fogColor.value=t.color;if(t.isFog){e.fogNear.value=t.near;e.fogFar.value=t.far}else if(t.isFogExp2){e.fogDensity.value=t.density}}function Le(e,t){if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}}function Re(e,t){e.specular.value=t.specular;e.shininess.value=Math.max(t.shininess,1e-4);if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}}function Fe(e,t){Re(e,t);if(t.gradientMap){e.gradientMap.value=t.gradientMap}}function Pe(e,t){e.roughness.value=t.roughness;e.metalness.value=t.metalness;if(t.roughnessMap){e.roughnessMap.value=t.roughnessMap}if(t.metalnessMap){e.metalnessMap.value=t.metalnessMap}if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}if(t.envMap){e.envMapIntensity.value=t.envMapIntensity}}function Ie(e,t){e.clearCoat.value=t.clearCoat;e.clearCoatRoughness.value=t.clearCoatRoughness;Pe(e,t)}function Ne(e,t){if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}}function Oe(e,t){if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}e.referencePosition.value.copy(t.referencePosition);e.nearDistance.value=t.nearDistance;e.farDistance.value=t.farDistance}function Be(e,t){if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}}function ze(e,t){e.ambientLightColor.needsUpdate=t;e.directionalLights.needsUpdate=t;e.pointLights.needsUpdate=t;e.spotLights.needsUpdate=t;e.rectAreaLights.needsUpdate=t;e.hemisphereLights.needsUpdate=t}this.setFaceCulling=function(e,t){V.setCullFace(e);V.setFlipSided(t===je)};function Ue(){var e=C;if(e>=W.maxTextures){console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+W.maxTextures)}C+=1;return e}this.allocTextureUnit=Ue;this.setTexture2D=function(){var i=false;return function e(t,n){if(t&&t.isWebGLRenderTarget){if(!i){console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.");i=true}t=t.texture}q.setTexture2D(t,n)}}();this.setTexture=function(){var i=false;return function e(t,n){if(!i){console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.");i=true}q.setTexture2D(t,n)}}();this.setTextureCube=function(){var i=false;return function e(t,n){if(t&&t.isWebGLRenderTargetCube){if(!i){console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.");i=true}t=t.texture}if(t&&t.isCubeTexture||Array.isArray(t.image)&&t.image.length===6){q.setTextureCube(t,n)}else{q.setTextureCubeDynamic(t,n)}}}();this.getRenderTarget=function(){return u};this.setRenderTarget=function(e){u=e;if(e&&G.get(e).__webglFramebuffer===undefined){q.setupRenderTarget(e)}var t=null;var n=false;if(e){var i=G.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube){t=i[e.activeCubeFace];n=true}else{t=i}_.copy(e.viewport);v.copy(e.scissor);A=e.scissorTest}else{_.copy(k).multiplyScalar(M);v.copy(D).multiplyScalar(M);A=L}if(h!==t){H.bindFramebuffer(H.FRAMEBUFFER,t);h=t}V.viewport(_);V.scissor(v);V.setScissorTest(A);if(n){var r=G.get(e.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}};this.readRenderTargetPixels=function(e,t,n,i,r,a){if(!(e&&e.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var o=G.get(e).__webglFramebuffer;if(o){var s=false;if(o!==h){H.bindFramebuffer(H.FRAMEBUFFER,o);s=true}try{var l=e.texture;var c=l.format;var u=l.type;if(c!==Xe&&oe.convert(c)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(u!==Ve&&oe.convert(u)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)&&!(u===Ge&&($.get("OES_texture_float")||$.get("WEBGL_color_buffer_float")))&&!(u===qe&&$.get("EXT_color_buffer_half_float"))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}if(H.checkFramebufferStatus(H.FRAMEBUFFER)===H.FRAMEBUFFER_COMPLETE){if(t>=0&&t<=e.width-i&&(n>=0&&n<=e.height-r)){H.readPixels(t,n,i,r,oe.convert(c),oe.convert(u),a)}}else{console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}}finally{if(s){H.bindFramebuffer(H.FRAMEBUFFER,h)}}}}}function co(e,t){this.name="";this.color=new An(e);this.density=t!==undefined?t:25e-5}co.prototype.isFogExp2=true;co.prototype.clone=function(){return new co(this.color.getHex(),this.density)};co.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};function uo(e,t,n){this.name="";this.color=new An(e);this.near=t!==undefined?t:1;this.far=n!==undefined?n:1e3}uo.prototype.isFog=true;uo.prototype.clone=function(){return new uo(this.color.getHex(),this.near,this.far)};uo.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};function ho(){qr.call(this);this.type="Scene";this.background=null;this.fog=null;this.overrideMaterial=null;this.autoUpdate=true}ho.prototype=Object.assign(Object.create(qr.prototype),{constructor:ho,copy:function(e,t){qr.prototype.copy.call(this,e,t);if(e.background!==null){this.background=e.background.clone()}if(e.fog!==null){this.fog=e.fog.clone()}if(e.overrideMaterial!==null){this.overrideMaterial=e.overrideMaterial.clone()}this.autoUpdate=e.autoUpdate;this.matrixAutoUpdate=e.matrixAutoUpdate;return this},toJSON:function(e){var t=qr.prototype.toJSON.call(this,e);if(this.background!==null){t.object.background=this.background.toJSON(e)}if(this.fog!==null){t.object.fog=this.fog.toJSON()}return t}});function fo(e,t,n,i,r){qr.call(this);this.lensFlares=[];this.positionScreen=new St;this.customUpdateCallback=undefined;if(e!==undefined){this.add(e,t,n,i,r)}}fo.prototype=Object.assign(Object.create(qr.prototype),{constructor:fo,isLensFlare:true,copy:function(e){var t=this;qr.prototype.copy.call(this,e);this.positionScreen.copy(e.positionScreen);this.customUpdateCallback=e.customUpdateCallback;for(var n=0,i=e.lensFlares.length;n<i;n++){t.lensFlares.push(e.lensFlares[n])}return this},add:function(e,t,n,i,r,a){if(t===undefined){t=-1}if(n===undefined){n=0}if(a===undefined){a=1}if(r===undefined){r=new An(16777215)}if(i===undefined){i=fe}n=Math.min(n,Math.max(0,n));this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:r,blending:i})},updateLensFlares:function(){var e=this;var t,n=this.lensFlares.length;var i;var r=-this.positionScreen.x*2;var a=-this.positionScreen.y*2;for(t=0;t<n;t++){i=e.lensFlares[t];i.x=e.positionScreen.x+r*i.distance;i.y=e.positionScreen.y+a*i.distance;i.wantedRotation=i.x*Math.PI*.25;i.rotation+=(i.wantedRotation-i.rotation)*.25}}});function po(e){Ir.call(this);this.type="SpriteMaterial";this.color=new An(16777215);this.map=null;this.rotation=0;this.fog=false;this.lights=false;this.setValues(e)}po.prototype=Object.create(Ir.prototype);po.prototype.constructor=po;po.prototype.isSpriteMaterial=true;po.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.rotation=e.rotation;return this};function mo(e){qr.call(this);this.type="Sprite";this.material=e!==undefined?e:new po}mo.prototype=Object.assign(Object.create(qr.prototype),{constructor:mo,isSprite:true,raycast:function(){var a=new St;var o=new St;var s=new St;return function e(t,n){o.setFromMatrixPosition(this.matrixWorld);t.ray.closestPointToPoint(o,a);s.setFromMatrixScale(this.matrixWorld);var i=s.x*s.y/4;if(o.distanceToSquared(a)>i){return}var r=t.ray.origin.distanceTo(a);if(r<t.near||r>t.far){return}n.push({distance:r,point:a.clone(),face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}});function go(){qr.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:true,value:[]}})}go.prototype=Object.assign(Object.create(qr.prototype),{constructor:go,copy:function(e){var t=this;qr.prototype.copy.call(this,e,false);var n=e.levels;for(var i=0,r=n.length;i<r;i++){var a=n[i];t.addLevel(a.object.clone(),a.distance)}return this},addLevel:function(e,t){if(t===undefined){t=0}t=Math.abs(t);var n=this.levels;for(var i=0;i<n.length;i++){if(t<n[i].distance){break}}n.splice(i,0,{distance:t,object:e});this.add(e)},getObjectForDistance:function(e){var t=this.levels;for(var n=1,i=t.length;n<i;n++){if(e<t[n].distance){break}}return t[n-1].object},raycast:function(){var r=new St;return function e(t,n){r.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(r);this.getObjectForDistance(i).raycast(t,n)}}(),update:function(){var o=new St;var s=new St;return function e(t){var n=this.levels;if(n.length>1){o.setFromMatrixPosition(t.matrixWorld);s.setFromMatrixPosition(this.matrixWorld);var i=o.distanceTo(s);n[0].object.visible=true;for(var r=1,a=n.length;r<a;r++){if(i>=n[r].distance){n[r-1].object.visible=false;n[r].object.visible=true}else{break}}for(;r<a;r++){n[r].object.visible=false}}}}(),toJSON:function(e){var t=qr.prototype.toJSON.call(this,e);t.object.levels=[];var n=this.levels;for(var i=0,r=n.length;i<r;i++){var a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}});function vo(e,t){var n=this;e=e||[];this.bones=e.slice(0);this.boneMatrices=new Float32Array(this.bones.length*16);if(t===undefined){this.calculateInverses()}else{if(this.bones.length===t.length){this.boneInverses=t.slice(0)}else{console.warn("THREE.Skeleton boneInverses is the wrong length.");this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++){n.boneInverses.push(new At)}}}}Object.assign(vo.prototype,{calculateInverses:function(){var e=this;this.boneInverses=[];for(var t=0,n=this.bones.length;t<n;t++){var i=new At;if(e.bones[t]){i.getInverse(e.bones[t].matrixWorld)}e.boneInverses.push(i)}},pose:function(){var e=this;var t,n,i;for(n=0,i=this.bones.length;n<i;n++){t=e.bones[n];if(t){t.matrixWorld.getInverse(e.boneInverses[n])}}for(n=0,i=this.bones.length;n<i;n++){t=e.bones[n];if(t){if(t.parent&&t.parent.isBone){t.matrix.getInverse(t.parent.matrixWorld);t.matrix.multiply(t.matrixWorld)}else{t.matrix.copy(t.matrixWorld)}t.matrix.decompose(t.position,t.quaternion,t.scale)}}},update:function(){var l=new At;var c=new At;return function e(){var t=this.bones;var n=this.boneInverses;var i=this.boneMatrices;var r=this.boneTexture;for(var a=0,o=t.length;a<o;a++){var s=t[a]?t[a].matrixWorld:c;l.multiplyMatrices(s,n[a]);l.toArray(i,a*16)}if(r!==undefined){r.needsUpdate=true}}}(),clone:function(){return new vo(this.bones,this.boneInverses)}});function bo(){qr.call(this);this.type="Bone"}bo.prototype=Object.assign(Object.create(qr.prototype),{constructor:bo,isBone:true});function yo(e,t){_a.call(this,e,t);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new At;this.bindMatrixInverse=new At;var n=this.initBones();var i=new vo(n);this.bind(i,this.matrixWorld);this.normalizeSkinWeights()}yo.prototype=Object.assign(Object.create(_a.prototype),{constructor:yo,isSkinnedMesh:true,initBones:function(){var e=this;var t=[],n,i;var r,a;if(this.geometry&&this.geometry.bones!==undefined){for(r=0,a=this.geometry.bones.length;r<a;r++){i=e.geometry.bones[r];n=new bo;t.push(n);n.name=i.name;n.position.fromArray(i.pos);n.quaternion.fromArray(i.rotq);if(i.scl!==undefined){n.scale.fromArray(i.scl)}}for(r=0,a=this.geometry.bones.length;r<a;r++){i=e.geometry.bones[r];if(i.parent!==-1&&i.parent!==null&&t[i.parent]!==undefined){t[i.parent].add(t[r])}else{e.add(t[r])}}}this.updateMatrixWorld(true);return t},bind:function(e,t){this.skeleton=e;if(t===undefined){this.updateMatrixWorld(true);this.skeleton.calculateInverses();t=this.matrixWorld}this.bindMatrix.copy(t);this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e=this;var t,n;if(this.geometry&&this.geometry.isGeometry){for(n=0;n<this.geometry.skinWeights.length;n++){var i=e.geometry.skinWeights[n];t=1/i.manhattanLength();if(t!==Infinity){i.multiplyScalar(t)}else{i.set(1,0,0,0)}}}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new Dt;var a=this.geometry.attributes.skinWeight;for(n=0;n<a.count;n++){r.x=a.getX(n);r.y=a.getY(n);r.z=a.getZ(n);r.w=a.getW(n);t=1/r.manhattanLength();if(t!==Infinity){r.multiplyScalar(t)}else{r.set(1,0,0,0)}a.setXYZW(n,r.x,r.y,r.z,r.w)}}},updateMatrixWorld:function(e){_a.prototype.updateMatrixWorld.call(this,e);if(this.bindMode==="attached"){this.bindMatrixInverse.getInverse(this.matrixWorld)}else if(this.bindMode==="detached"){this.bindMatrixInverse.getInverse(this.bindMatrix)}else{console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function xo(e){Ir.call(this);this.type="LineBasicMaterial";this.color=new An(16777215);this.linewidth=1;this.linecap="round";this.linejoin="round";this.lights=false;this.setValues(e)}xo.prototype=Object.create(Ir.prototype);xo.prototype.constructor=xo;xo.prototype.isLineBasicMaterial=true;xo.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.color.copy(e.color);this.linewidth=e.linewidth;this.linecap=e.linecap;this.linejoin=e.linejoin;return this};function wo(e,t,n){if(n===1){console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.");return new _o(e,t)}qr.call(this);this.type="Line";this.geometry=e!==undefined?e:new fa;this.material=t!==undefined?t:new xo({color:Math.random()*16777215})}wo.prototype=Object.assign(Object.create(qr.prototype),{constructor:wo,isLine:true,raycast:function(){var C=new At;var S=new ya;var T=new zr;return function e(t,n){var i=this;var r=t.linePrecision;var a=r*r;var o=this.geometry;var s=this.matrixWorld;if(o.boundingSphere===null){o.computeBoundingSphere()}T.copy(o.boundingSphere);T.applyMatrix4(s);if(t.ray.intersectsSphere(T)===false){return}C.getInverse(s);S.copy(t.ray).applyMatrix4(C);var l=new St;var c=new St;var u=new St;var h=new St;var f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var d=o.index;var p=o.attributes;var m=p.position.array;if(d!==null){var g=d.array;for(var v=0,b=g.length-1;v<b;v+=f){var y=g[v];var x=g[v+1];l.fromArray(m,y*3);c.fromArray(m,x*3);var w=S.distanceSqToSegment(l,c,h,u);if(w>a){continue}h.applyMatrix4(i.matrixWorld);var _=t.ray.origin.distanceTo(h);if(_<t.near||_>t.far){continue}n.push({distance:_,point:u.clone().applyMatrix4(i.matrixWorld),index:v,face:null,faceIndex:null,object:i})}}else{for(var v=0,b=m.length/3-1;v<b;v+=f){l.fromArray(m,3*v);c.fromArray(m,3*v+3);var w=S.distanceSqToSegment(l,c,h,u);if(w>a){continue}h.applyMatrix4(i.matrixWorld);var _=t.ray.origin.distanceTo(h);if(_<t.near||_>t.far){continue}n.push({distance:_,point:u.clone().applyMatrix4(i.matrixWorld),index:v,face:null,faceIndex:null,object:i})}}}else if(o.isGeometry){var E=o.vertices;var A=E.length;for(var v=0;v<A-1;v+=f){var w=S.distanceSqToSegment(E[v],E[v+1],h,u);if(w>a){continue}h.applyMatrix4(i.matrixWorld);var _=t.ray.origin.distanceTo(h);if(_<t.near||_>t.far){continue}n.push({distance:_,point:u.clone().applyMatrix4(i.matrixWorld),index:v,face:null,faceIndex:null,object:i})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function _o(e,t){wo.call(this,e,t);this.type="LineSegments"}_o.prototype=Object.assign(Object.create(wo.prototype),{constructor:_o,isLineSegments:true});function Eo(e,t){wo.call(this,e,t);this.type="LineLoop"}Eo.prototype=Object.assign(Object.create(wo.prototype),{constructor:Eo,isLineLoop:true});function Ao(e){Ir.call(this);this.type="PointsMaterial";this.color=new An(16777215);this.map=null;this.size=1;this.sizeAttenuation=true;this.lights=false;this.setValues(e)}Ao.prototype=Object.create(Ir.prototype);Ao.prototype.constructor=Ao;Ao.prototype.isPointsMaterial=true;Ao.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.size=e.size;this.sizeAttenuation=e.sizeAttenuation;return this};function Co(e,t){qr.call(this);this.type="Points";this.geometry=e!==undefined?e:new fa;this.material=t!==undefined?t:new Ao({color:Math.random()*16777215})}Co.prototype=Object.assign(Object.create(qr.prototype),{constructor:Co,isPoints:true,raycast:function(){var x=new At;var w=new ya;var _=new zr;return function e(a,o){var s=this;var t=this.geometry;var l=this.matrixWorld;var n=a.params.Points.threshold;if(t.boundingSphere===null){t.computeBoundingSphere()}_.copy(t.boundingSphere);_.applyMatrix4(l);_.radius+=n;if(a.ray.intersectsSphere(_)===false){return}x.getInverse(l);w.copy(a.ray).applyMatrix4(x);var i=n/((this.scale.x+this.scale.y+this.scale.z)/3);var c=i*i;var r=new St;function u(e,t){var n=w.distanceSqToPoint(e);if(n<c){var i=w.closestPointToPoint(e);i.applyMatrix4(l);var r=a.ray.origin.distanceTo(i);if(r<a.near||r>a.far){return}o.push({distance:r,distanceToRay:Math.sqrt(n),point:i.clone(),index:t,face:null,object:s})}}if(t.isBufferGeometry){var h=t.index;var f=t.attributes;var d=f.position.array;if(h!==null){var p=h.array;for(var m=0,g=p.length;m<g;m++){var v=p[m];r.fromArray(d,v*3);u(r,v)}}else{for(var m=0,b=d.length/3;m<b;m++){r.fromArray(d,m*3);u(r,m)}}}else{var y=t.vertices;for(var m=0,b=y.length;m<b;m++){u(y[m],m)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function So(){qr.call(this);this.type="Group"}So.prototype=Object.assign(Object.create(qr.prototype),{constructor:So});function To(e,t,n,i,r,a,o,s,l){kt.call(this,e,t,n,i,r,a,o,s,l);this.generateMipmaps=false;var c=this;function u(){var e=c.image;if(e.readyState>=e.HAVE_CURRENT_DATA){c.needsUpdate=true}requestAnimationFrame(u)}requestAnimationFrame(u)}To.prototype=Object.create(kt.prototype);To.prototype.constructor=To;function Mo(e,t,n,i,r,a,o,s,l,c,u,h){kt.call(this,null,a,o,s,l,c,i,r,u,h);this.image={width:t,height:n};this.mipmaps=e;this.flipY=false;this.generateMipmaps=false}Mo.prototype=Object.create(kt.prototype);Mo.prototype.constructor=Mo;Mo.prototype.isCompressedTexture=true;function ko(e,t,n,i,r,a,o,s,l,c){c=c!==undefined?c:Ie;if(c!==Ie&&c!==Ne){throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat")}if(n===undefined&&c===Ie){n=re}if(n===undefined&&c===Ne){n=ke}kt.call(this,null,i,r,a,o,s,c,n,l);this.image={width:e,height:t};this.magFilter=o!==undefined?o:K;this.minFilter=s!==undefined?s:K;this.flipY=false;this.generateMipmaps=false}ko.prototype=Object.create(kt.prototype);ko.prototype.constructor=ko;ko.prototype.isDepthTexture=true;function Do(e){fa.call(this);this.type="WireframeGeometry";var t=[];var n,i,r,a,o;var s=[0,0],l={},c,u,h;var f,d=["a","b","c"];var p;if(e&&e.isGeometry){var m=e.faces;for(n=0,r=m.length;n<r;n++){var g=m[n];for(i=0;i<3;i++){u=g[d[i]];h=g[d[(i+1)%3]];s[0]=Math.min(u,h);s[1]=Math.max(u,h);f=s[0]+","+s[1];if(l[f]===undefined){l[f]={index1:s[0],index2:s[1]}}}}for(f in l){c=l[f];p=e.vertices[c.index1];t.push(p.x,p.y,p.z);p=e.vertices[c.index2];t.push(p.x,p.y,p.z)}}else if(e&&e.isBufferGeometry){var v,b,y;var x,w,_;var E,A;p=new St;if(e.index!==null){v=e.attributes.position;b=e.index;y=e.groups;if(y.length===0){y=[{start:0,count:b.count,materialIndex:0}]}for(a=0,o=y.length;a<o;++a){x=y[a];w=x.start;_=x.count;for(n=w,r=w+_;n<r;n+=3){for(i=0;i<3;i++){u=b.getX(n+i);h=b.getX(n+(i+1)%3);s[0]=Math.min(u,h);s[1]=Math.max(u,h);f=s[0]+","+s[1];if(l[f]===undefined){l[f]={index1:s[0],index2:s[1]}}}}}for(f in l){c=l[f];p.fromBufferAttribute(v,c.index1);t.push(p.x,p.y,p.z);p.fromBufferAttribute(v,c.index2);t.push(p.x,p.y,p.z)}}else{v=e.attributes.position;for(n=0,r=v.count/3;n<r;n++){for(i=0;i<3;i++){E=3*n+i;p.fromBufferAttribute(v,E);t.push(p.x,p.y,p.z);A=3*n+(i+1)%3;p.fromBufferAttribute(v,A);t.push(p.x,p.y,p.z)}}}}this.addAttribute("position",new sa(t,3))}Do.prototype=Object.create(fa.prototype);Do.prototype.constructor=Do;function Lo(e,t,n){Qr.call(this);this.type="ParametricGeometry";this.parameters={func:e,slices:t,stacks:n};this.fromBufferGeometry(new Ro(e,t,n));this.mergeVertices()}Lo.prototype=Object.create(Qr.prototype);Lo.prototype.constructor=Lo;function Ro(e,t,n){fa.call(this);this.type="ParametricBufferGeometry";this.parameters={func:e,slices:t,stacks:n};var i=[];var r=[];var a=[];var o=[];var s=1e-5;var l=new St;var c=new St,u=new St;var h=new St,f=new St;var d,p;var m=t+1;for(d=0;d<=n;d++){var g=d/n;for(p=0;p<=t;p++){var v=p/t;c=e(v,g,c);r.push(c.x,c.y,c.z);if(v-s>=0){u=e(v-s,g,u);h.subVectors(c,u)}else{u=e(v+s,g,u);h.subVectors(u,c)}if(g-s>=0){u=e(v,g-s,u);f.subVectors(c,u)}else{u=e(v,g+s,u);f.subVectors(u,c)}l.crossVectors(h,f).normalize();a.push(l.x,l.y,l.z);o.push(v,g)}}for(d=0;d<n;d++){for(p=0;p<t;p++){var b=d*m+p;var y=d*m+p+1;var x=(d+1)*m+p+1;var w=(d+1)*m+p;i.push(b,y,w);i.push(y,x,w)}}this.setIndex(i);this.addAttribute("position",new sa(r,3));this.addAttribute("normal",new sa(a,3));this.addAttribute("uv",new sa(o,2))}Ro.prototype=Object.create(fa.prototype);Ro.prototype.constructor=Ro;function Fo(e,t,n,i){Qr.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:e,indices:t,radius:n,detail:i};this.fromBufferGeometry(new Po(e,t,n,i));this.mergeVertices()}Fo.prototype=Object.create(Qr.prototype);Fo.prototype.constructor=Fo;function Po(i,a,e,t){fa.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:i,indices:a,radius:e,detail:t};e=e||1;t=t||0;var u=[];var h=[];n(t);r(e);s();this.addAttribute("position",new sa(u,3));this.addAttribute("normal",new sa(u.slice(),3));this.addAttribute("uv",new sa(h,2));if(t===0){this.computeVertexNormals()}else{this.normalizeNormals()}function n(e){var t=new St;var n=new St;var i=new St;for(var r=0;r<a.length;r+=3){c(a[r+0],t);c(a[r+1],n);c(a[r+2],i);o(t,n,i,e)}}function o(e,t,n,i){var r=Math.pow(2,i);var a=[];var o,s;for(o=0;o<=r;o++){a[o]=[];var l=e.clone().lerp(n,o/r);var c=t.clone().lerp(n,o/r);var u=r-o;for(s=0;s<=u;s++){if(s===0&&o===r){a[o][s]=l}else{a[o][s]=l.clone().lerp(c,s/u)}}}for(o=0;o<r;o++){for(s=0;s<2*(r-o)-1;s++){var h=Math.floor(s/2);if(s%2===0){f(a[o][h+1]);f(a[o+1][h]);f(a[o][h])}else{f(a[o][h+1]);f(a[o+1][h+1]);f(a[o+1][h])}}}}function r(e){var t=new St;for(var n=0;n<u.length;n+=3){t.x=u[n+0];t.y=u[n+1];t.z=u[n+2];t.normalize().multiplyScalar(e);u[n+0]=t.x;u[n+1]=t.y;u[n+2]=t.z}}function s(){var e=new St;for(var t=0;t<u.length;t+=3){e.x=u[t+0];e.y=u[t+1];e.z=u[t+2];var n=m(e)/2/Math.PI+.5;var i=g(e)/Math.PI+.5;h.push(n,1-i)}d();l()}function l(){for(var e=0;e<h.length;e+=6){var t=h[e+0];var n=h[e+2];var i=h[e+4];var r=Math.max(t,n,i);var a=Math.min(t,n,i);if(r>.9&&a<.1){if(t<.2){h[e+0]+=1}if(n<.2){h[e+2]+=1}if(i<.2){h[e+4]+=1}}}}function f(e){u.push(e.x,e.y,e.z)}function c(e,t){var n=e*3;t.x=i[n+0];t.y=i[n+1];t.z=i[n+2]}function d(){var e=new St;var t=new St;var n=new St;var i=new St;var r=new Et;var a=new Et;var o=new Et;for(var s=0,l=0;s<u.length;s+=9,l+=6){e.set(u[s+0],u[s+1],u[s+2]);t.set(u[s+3],u[s+4],u[s+5]);n.set(u[s+6],u[s+7],u[s+8]);r.set(h[l+0],h[l+1]);a.set(h[l+2],h[l+3]);o.set(h[l+4],h[l+5]);i.copy(e).add(t).add(n).divideScalar(3);var c=m(i);p(r,l+0,e,c);p(a,l+2,t,c);p(o,l+4,n,c)}}function p(e,t,n,i){if(i<0&&e.x===1){h[t]=e.x-1}if(n.x===0&&n.z===0){h[t]=i/2/Math.PI+.5}}function m(e){return Math.atan2(e.z,-e.x)}function g(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}}Po.prototype=Object.create(fa.prototype);Po.prototype.constructor=Po;function Io(e,t){Qr.call(this);this.type="TetrahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new No(e,t));this.mergeVertices()}Io.prototype=Object.create(Qr.prototype);Io.prototype.constructor=Io;function No(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1];var i=[2,1,0,0,3,2,1,3,0,2,3,1];Po.call(this,n,i,e,t);this.type="TetrahedronBufferGeometry";this.parameters={radius:e,detail:t}}No.prototype=Object.create(Po.prototype);No.prototype.constructor=No;function Oo(e,t){Qr.call(this);this.type="OctahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new Bo(e,t));this.mergeVertices()}Oo.prototype=Object.create(Qr.prototype);Oo.prototype.constructor=Oo;function Bo(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1];var i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Po.call(this,n,i,e,t);this.type="OctahedronBufferGeometry";this.parameters={radius:e,detail:t}}Bo.prototype=Object.create(Po.prototype);Bo.prototype.constructor=Bo;function zo(e,t){Qr.call(this);this.type="IcosahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new Uo(e,t));this.mergeVertices()}zo.prototype=Object.create(Qr.prototype);zo.prototype.constructor=zo;function Uo(e,t){var n=(1+Math.sqrt(5))/2;var i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];var r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Po.call(this,i,r,e,t);this.type="IcosahedronBufferGeometry";this.parameters={radius:e,detail:t}}Uo.prototype=Object.create(Po.prototype);Uo.prototype.constructor=Uo;function Ho(e,t){Qr.call(this);this.type="DodecahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new jo(e,t));this.mergeVertices()}Ho.prototype=Object.create(Qr.prototype);Ho.prototype.constructor=Ho;function jo(e,t){var n=(1+Math.sqrt(5))/2;var i=1/n;var r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i];var a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Po.call(this,r,a,e,t);this.type="DodecahedronBufferGeometry";this.parameters={radius:e,detail:t}}jo.prototype=Object.create(Po.prototype);jo.prototype.constructor=jo;function $o(e,t,n,i,r,a){Qr.call(this);this.type="TubeGeometry";this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};if(a!==undefined){console.warn("THREE.TubeGeometry: taper has been removed.")}var o=new Wo(e,t,n,i,r);this.tangents=o.tangents;this.normals=o.normals;this.binormals=o.binormals;this.fromBufferGeometry(o);this.mergeVertices()}$o.prototype=Object.create(Qr.prototype);$o.prototype.constructor=$o;function Wo(o,s,l,c,e){fa.call(this);this.type="TubeBufferGeometry";this.parameters={path:o,tubularSegments:s,radius:l,radialSegments:c,closed:e};s=s||64;l=l||1;c=c||8;e=e||false;var u=o.computeFrenetFrames(s,e);this.tangents=u.tangents;this.normals=u.normals;this.binormals=u.binormals;var h=new St;var f=new St;var t=new Et;var d=new St;var r,p;var m=[];var g=[];var n=[];var a=[];i();this.setIndex(a);this.addAttribute("position",new sa(m,3));this.addAttribute("normal",new sa(g,3));this.addAttribute("uv",new sa(n,2));function i(){for(r=0;r<s;r++){v(r)}v(e===false?s:0);y();b()}function v(e){d=o.getPointAt(e/s,d);var t=u.normals[e];var n=u.binormals[e];for(p=0;p<=c;p++){var i=p/c*Math.PI*2;var r=Math.sin(i);var a=-Math.cos(i);f.x=a*t.x+r*n.x;f.y=a*t.y+r*n.y;f.z=a*t.z+r*n.z;f.normalize();g.push(f.x,f.y,f.z);h.x=d.x+l*f.x;h.y=d.y+l*f.y;h.z=d.z+l*f.z;m.push(h.x,h.y,h.z)}}function b(){for(p=1;p<=s;p++){for(r=1;r<=c;r++){var e=(c+1)*(p-1)+(r-1);var t=(c+1)*p+(r-1);var n=(c+1)*p+r;var i=(c+1)*(p-1)+r;a.push(e,t,i);a.push(t,n,i)}}}function y(){for(r=0;r<=s;r++){for(p=0;p<=c;p++){t.x=r/s;t.y=p/c;n.push(t.x,t.y)}}}}Wo.prototype=Object.create(fa.prototype);Wo.prototype.constructor=Wo;function Vo(e,t,n,i,r,a,o){Qr.call(this);this.type="TorusKnotGeometry";this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a};if(o!==undefined){console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.")}this.fromBufferGeometry(new Go(e,t,n,i,r,a));this.mergeVertices()}Vo.prototype=Object.create(Qr.prototype);Vo.prototype.constructor=Vo;function Go(e,t,n,i,r,a){fa.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a};e=e||1;t=t||.4;n=Math.floor(n)||64;i=Math.floor(i)||8;r=r||2;a=a||3;var o=[];var s=[];var l=[];var c=[];var u,h;var f=new St;var d=new St;var p=new St;var m=new St;var g=new St;var v=new St;var b=new St;for(u=0;u<=n;++u){var y=u/n*r*Math.PI*2;T(y,r,a,e,p);T(y+.01,r,a,e,m);v.subVectors(m,p);b.addVectors(m,p);g.crossVectors(v,b);b.crossVectors(g,v);g.normalize();b.normalize();for(h=0;h<=i;++h){var x=h/i*Math.PI*2;var w=-t*Math.cos(x);var _=t*Math.sin(x);f.x=p.x+(w*b.x+_*g.x);f.y=p.y+(w*b.y+_*g.y);f.z=p.z+(w*b.z+_*g.z);s.push(f.x,f.y,f.z);d.subVectors(f,p).normalize();l.push(d.x,d.y,d.z);c.push(u/n);c.push(h/i)}}for(h=1;h<=n;h++){for(u=1;u<=i;u++){var E=(i+1)*(h-1)+(u-1);var A=(i+1)*h+(u-1);var C=(i+1)*h+u;var S=(i+1)*(h-1)+u;o.push(E,A,S);o.push(A,C,S)}}this.setIndex(o);this.addAttribute("position",new sa(s,3));this.addAttribute("normal",new sa(l,3));this.addAttribute("uv",new sa(c,2));function T(e,t,n,i,r){var a=Math.cos(e);var o=Math.sin(e);var s=n/t*e;var l=Math.cos(s);r.x=i*(2+l)*.5*a;r.y=i*(2+l)*o*.5;r.z=i*Math.sin(s)*.5}}Go.prototype=Object.create(fa.prototype);Go.prototype.constructor=Go;function qo(e,t,n,i,r){Qr.call(this);this.type="TorusGeometry";this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r};this.fromBufferGeometry(new Xo(e,t,n,i,r));this.mergeVertices()}qo.prototype=Object.create(Qr.prototype);qo.prototype.constructor=qo;function Xo(e,t,n,i,r){fa.call(this);this.type="TorusBufferGeometry";this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r};e=e||1;t=t||.4;n=Math.floor(n)||8;i=Math.floor(i)||6;r=r||Math.PI*2;var a=[];var o=[];var s=[];var l=[];var c=new St;var u=new St;var h=new St;var f,d;for(f=0;f<=n;f++){for(d=0;d<=i;d++){var p=d/i*r;var m=f/n*Math.PI*2;u.x=(e+t*Math.cos(m))*Math.cos(p);u.y=(e+t*Math.cos(m))*Math.sin(p);u.z=t*Math.sin(m);o.push(u.x,u.y,u.z);c.x=e*Math.cos(p);c.y=e*Math.sin(p);h.subVectors(u,c).normalize();s.push(h.x,h.y,h.z);l.push(d/i);l.push(f/n)}}for(f=1;f<=n;f++){for(d=1;d<=i;d++){var g=(i+1)*f+d-1;var v=(i+1)*(f-1)+d-1;var b=(i+1)*(f-1)+d;var y=(i+1)*f+d;a.push(g,v,y);a.push(v,b,y)}}this.setIndex(a);this.addAttribute("position",new sa(o,3));this.addAttribute("normal",new sa(s,3));this.addAttribute("uv",new sa(l,2))}Xo.prototype=Object.create(fa.prototype);Xo.prototype.constructor=Xo;var Yo={area:function(e){var t=e.length;var n=0;for(var i=t-1,r=0;r<t;i=r++){n+=e[i].x*e[r].y-e[r].x*e[i].y}return n*.5},triangulate:function(){function v(e,t,n,i,r,a){var o;var s,l,c,u;var h,f,d,p;s=e[a[t]].x;l=e[a[t]].y;c=e[a[n]].x;u=e[a[n]].y;h=e[a[i]].x;f=e[a[i]].y;if((c-s)*(f-l)-(u-l)*(h-s)<=0){return false}var m,g,v,b,y,x;var w,_,E,A,C,S;var T,M,k;m=h-c;g=f-u;v=s-h;b=l-f;y=c-s;x=u-l;for(o=0;o<r;o++){d=e[a[o]].x;p=e[a[o]].y;if(d===s&&p===l||d===c&&p===u||d===h&&p===f){continue}w=d-s;_=p-l;E=d-c;A=p-u;C=d-h;S=p-f;k=m*A-g*E;T=y*_-x*w;M=v*S-b*C;if(k>=-Number.EPSILON&&M>=-Number.EPSILON&&T>=-Number.EPSILON){return false}}return true}return function e(t,n){var i=t.length;if(i<3){return null}var r=[],a=[],o=[];var s,l,c;if(Yo.area(t)>0){for(l=0;l<i;l++){a[l]=l}}else{for(l=0;l<i;l++){a[l]=i-1-l}}var u=i;var h=2*u;for(l=u-1;u>2;){if(h--<=0){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");if(n){return o}return r}s=l;if(u<=s){s=0}l=s+1;if(u<=l){l=0}c=l+1;if(u<=c){c=0}if(v(t,s,l,c,u,a)){var f,d,p,m,g;f=a[s];d=a[l];p=a[c];r.push([t[f],t[d],t[p]]);o.push([a[s],a[l],a[c]]);for(m=l,g=l+1;g<u;m++,g++){a[m]=a[g]}u--;h=2*u}}if(n){return o}return r}}(),triangulateShape:function(e,t){function n(e){var t=e.length;if(t>2&&e[t-1].equals(e[0])){e.pop()}}n(e);t.forEach(n);function C(e,t,n){if(e.x!==t.x){if(e.x<t.x){return e.x<=n.x&&n.x<=t.x}else{return t.x<=n.x&&n.x<=e.x}}else{if(e.y<t.y){return e.y<=n.y&&n.y<=t.y}else{return t.y<=n.y&&n.y<=e.y}}}function A(e,t,n,i,r){var a=t.x-e.x,o=t.y-e.y;var s=i.x-n.x,l=i.y-n.y;var c=e.x-n.x;var u=e.y-n.y;var h=o*s-a*l;var f=o*c-a*u;if(Math.abs(h)>Number.EPSILON){var d;if(h>0){if(f<0||f>h){return[]}d=l*c-s*u;if(d<0||d>h){return[]}}else{if(f>0||f<h){return[]}d=l*c-s*u;if(d>0||d<h){return[]}}if(d===0){if(r&&(f===0||f===h)){return[]}return[e]}if(d===h){if(r&&(f===0||f===h)){return[]}return[t]}if(f===0){return[n]}if(f===h){return[i]}var p=d/h;return[{x:e.x+p*a,y:e.y+p*o}]}else{if(f!==0||l*c!==s*u){return[]}var m=a===0&&o===0;var g=s===0&&l===0;if(m&&g){if(e.x!==n.x||e.y!==n.y){return[]}return[e]}if(m){if(!C(n,i,e)){return[]}return[e]}if(g){if(!C(e,t,n)){return[]}return[n]}var v,b,y,x;var w,_,E,A;if(a!==0){if(e.x<t.x){v=e;y=e.x;b=t;x=t.x}else{v=t;y=t.x;b=e;x=e.x}if(n.x<i.x){w=n;E=n.x;_=i;A=i.x}else{w=i;E=i.x;_=n;A=n.x}}else{if(e.y<t.y){v=e;y=e.y;b=t;x=t.y}else{v=t;y=t.y;b=e;x=e.y}if(n.y<i.y){w=n;E=n.y;_=i;A=i.y}else{w=i;E=i.y;_=n;A=n.y}}if(y<=E){if(x<E){return[]}if(x===E){if(r){return[]}return[w]}if(x<=A){return[w,b]}return[w,_]}else{if(y>A){return[]}if(y===A){if(r){return[]}return[v]}if(x<=A){return[v,b]}return[v,_]}}}function S(e,t,n,i){var r=t.x-e.x,a=t.y-e.y;var o=n.x-e.x,s=n.y-e.y;var l=i.x-e.x,c=i.y-e.y;var u=r*s-a*o;var h=r*c-a*l;if(Math.abs(u)>Number.EPSILON){var f=l*s-c*o;if(u>0){return h>=0&&f>=0}else{return h>=0||f>=0}}else{return h>0}}function i(e,s){var c=e.concat();var u;function t(e,t){var n=c.length-1;var i=e-1;if(i<0){i=n}var r=e+1;if(r>n){r=0}var a=S(c[e],c[i],c[r],u[t]);if(!a){return false}var o=u.length-1;var s=t-1;if(s<0){s=o}var l=t+1;if(l>o){l=0}a=S(u[t],u[s],u[l],c[e]);if(!a){return false}return true}function n(e,t){var n,i,r;for(n=0;n<c.length;n++){i=n+1;i%=c.length;r=A(e,t,c[n],c[i],true);if(r.length>0){return true}}return false}var l=[];function i(e,t){var n,i,r,a,o;for(n=0;n<l.length;n++){i=s[l[n]];for(r=0;r<i.length;r++){a=r+1;a%=i.length;o=A(e,t,i[r],i[a],true);if(o.length>0){return true}}}return false}var r,a,o,h,f,d,p=[],m,g,v,b;for(var y=0,x=s.length;y<x;y++){l.push(y)}var w=0;var _=l.length*2;while(l.length>0){_--;if(_<0){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(a=w;a<c.length;a++){o=c[a];r=-1;for(var y=0;y<l.length;y++){f=l[y];d=o.x+":"+o.y+":"+f;if(p[d]!==undefined){continue}u=s[f];for(var E=0;E<u.length;E++){h=u[E];if(!t(a,E)){continue}if(n(o,h)){continue}if(i(o,h)){continue}r=E;l.splice(y,1);m=c.slice(0,a+1);g=c.slice(a);v=u.slice(r);b=u.slice(0,r+1);c=m.concat(v).concat(b).concat(g);w=a;break}if(r>=0){break}p[d]=true}if(r>=0){break}}}return c}var r,a,o,s,l,c,u={};var h=e.concat();for(var f=0,d=t.length;f<d;f++){Array.prototype.push.apply(h,t[f])}for(r=0,a=h.length;r<a;r++){l=h[r].x+":"+h[r].y;if(u[l]!==undefined){console.warn("THREE.ShapeUtils: Duplicate point",l,r)}u[l]=r}var p=i(e,t);var m=Yo.triangulate(p,false);for(r=0,a=m.length;r<a;r++){s=m[r];for(o=0;o<3;o++){l=s[o].x+":"+s[o].y;c=u[l];if(c!==undefined){s[o]=c}}}return m.concat()},isClockWise:function(e){return Yo.area(e)<0}};function Ko(e,t){Qr.call(this);this.type="ExtrudeGeometry";this.parameters={shapes:e,options:t};this.fromBufferGeometry(new Zo(e,t));this.mergeVertices()}Ko.prototype=Object.create(Qr.prototype);Ko.prototype.constructor=Ko;function Zo(e,t){if(typeof e==="undefined"){return}fa.call(this);this.type="ExtrudeBufferGeometry";e=Array.isArray(e)?e:[e];this.addShapeList(e,t);this.computeVertexNormals()}Zo.prototype=Object.create(fa.prototype);Zo.prototype.constructor=Zo;Zo.prototype.getArrays=function(){var e=this.getAttribute("position");var t=e?Array.prototype.slice.call(e.array):[];var n=this.getAttribute("uv");var i=n?Array.prototype.slice.call(n.array):[];var r=this.index;var a=r?Array.prototype.slice.call(r.array):[];return{position:t,uv:i,index:a}};Zo.prototype.addShapeList=function(e,t){var n=this;var i=e.length;t.arrays=this.getArrays();for(var r=0;r<i;r++){var a=e[r];n.addShape(a,t)}this.setIndex(t.arrays.index);this.addAttribute("position",new sa(t.arrays.position,3));this.addAttribute("uv",new sa(t.arrays.uv,2))};Zo.prototype.addShape=function(e,i){var t=i.arrays?i.arrays:this.getArrays();var o=t.position;var n=t.index;var r=t.uv;var a=[];var s=i.amount!==undefined?i.amount:100;var l=i.bevelThickness!==undefined?i.bevelThickness:6;var c=i.bevelSize!==undefined?i.bevelSize:l-2;var f=i.bevelSegments!==undefined?i.bevelSegments:3;var u=i.bevelEnabled!==undefined?i.bevelEnabled:true;var h=i.curveSegments!==undefined?i.curveSegments:12;var d=i.steps!==undefined?i.steps:1;var p=i.extrudePath;var m,g=false;var v=i.UVGenerator!==undefined?i.UVGenerator:Ko.WorldUVGenerator;var b,y,x,w;if(p){m=p.getSpacedPoints(d);g=true;u=false;b=i.frames!==undefined?i.frames:p.computeFrenetFrames(d,false);y=new St;x=new St;w=new St}if(!u){f=0;l=0;c=0}var _,E,A;var C=this;var S=e.extractPoints(h);var T=S.shape;var M=S.holes;var k=!Yo.isClockWise(T);if(k){T=T.reverse();for(E=0,A=M.length;E<A;E++){_=M[E];if(Yo.isClockWise(_)){M[E]=_.reverse()}}}var D=Yo.triangulateShape(T,M);var L=T;for(E=0,A=M.length;E<A;E++){_=M[E];T=T.concat(_)}function R(e,t,n){if(!t){console.error("THREE.ExtrudeGeometry: vec does not exist")}return t.clone().multiplyScalar(n).add(e)}var F,P,I,N,O,B=T.length,z,U=D.length;function H(e,t,n){var i,r,a;var o=e.x-t.x,s=e.y-t.y;var l=n.x-e.x,c=n.y-e.y;var u=o*o+s*s;var h=o*c-s*l;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(u);var d=Math.sqrt(l*l+c*c);var p=t.x-s/f;var m=t.y+o/f;var g=n.x-c/d;var v=n.y+l/d;var b=((g-p)*c-(v-m)*l)/(o*c-s*l);i=p+o*b-e.x;r=m+s*b-e.y;var y=i*i+r*r;if(y<=2){return new Et(i,r)}else{a=Math.sqrt(y/2)}}else{var x=false;if(o>Number.EPSILON){if(l>Number.EPSILON){x=true}}else{if(o<-Number.EPSILON){if(l<-Number.EPSILON){x=true}}else{if(Math.sign(s)===Math.sign(c)){x=true}}}if(x){i=-s;r=o;a=Math.sqrt(u)}else{i=o;r=s;a=Math.sqrt(u/2)}}return new Et(i/a,r/a)}var j=[];for(var $=0,W=L.length,V=W-1,G=$+1;$<W;$++,V++,G++){if(V===W){V=0}if(G===W){G=0}j[$]=H(L[$],L[V],L[G])}var q=[],X,Y=j.concat();for(E=0,A=M.length;E<A;E++){_=M[E];X=[];for($=0,W=_.length,V=W-1,G=$+1;$<W;$++,V++,G++){if(V===W){V=0}if(G===W){G=0}X[$]=H(_[$],_[V],_[G])}q.push(X);Y=Y.concat(X)}for(F=0;F<f;F++){I=F/f;N=l*Math.cos(I*Math.PI/2);P=c*Math.sin(I*Math.PI/2);for($=0,W=L.length;$<W;$++){O=R(L[$],j[$],P);ee(O.x,O.y,-N)}for(E=0,A=M.length;E<A;E++){_=M[E];X=q[E];for($=0,W=_.length;$<W;$++){O=R(_[$],X[$],P);ee(O.x,O.y,-N)}}}P=c;for($=0;$<B;$++){O=u?R(T[$],Y[$],P):T[$];if(!g){ee(O.x,O.y,0)}else{x.copy(b.normals[0]).multiplyScalar(O.x);y.copy(b.binormals[0]).multiplyScalar(O.y);w.copy(m[0]).add(x).add(y);ee(w.x,w.y,w.z)}}var K;for(K=1;K<=d;K++){for($=0;$<B;$++){O=u?R(T[$],Y[$],P):T[$];if(!g){ee(O.x,O.y,s/d*K)}else{x.copy(b.normals[K]).multiplyScalar(O.x);y.copy(b.binormals[K]).multiplyScalar(O.y);w.copy(m[K]).add(x).add(y);ee(w.x,w.y,w.z)}}}for(F=f-1;F>=0;F--){I=F/f;N=l*Math.cos(I*Math.PI/2);P=c*Math.sin(I*Math.PI/2);for($=0,W=L.length;$<W;$++){O=R(L[$],j[$],P);ee(O.x,O.y,s+N)}for(E=0,A=M.length;E<A;E++){_=M[E];X=q[E];for($=0,W=_.length;$<W;$++){O=R(_[$],X[$],P);if(!g){ee(O.x,O.y,s+N)}else{ee(O.x,O.y+m[d-1].y,m[d-1].x+N)}}}}Z();Q();function Z(){var e=o.length/3;if(u){var t=0;var n=B*t;for($=0;$<U;$++){z=D[$];te(z[2]+n,z[1]+n,z[0]+n)}t=d+f*2;n=B*t;for($=0;$<U;$++){z=D[$];te(z[0]+n,z[1]+n,z[2]+n)}}else{for($=0;$<U;$++){z=D[$];te(z[2],z[1],z[0])}for($=0;$<U;$++){z=D[$];te(z[0]+B*d,z[1]+B*d,z[2]+B*d)}}C.addGroup(e,o.length/3-e,i.material!==undefined?i.material:0)}function Q(){var e=o.length/3;var t=0;J(L,t);t+=L.length;for(E=0,A=M.length;E<A;E++){_=M[E];J(_,t);t+=_.length}C.addGroup(e,o.length/3-e,i.extrudeMaterial!==undefined?i.extrudeMaterial:1)}function J(e,t){var n,i;$=e.length;while(--$>=0){n=$;i=$-1;if(i<0){i=e.length-1}var r=0,a=d+f*2;for(r=0;r<a;r++){var o=B*r;var s=B*(r+1);var l=t+n+o,c=t+i+o,u=t+i+s,h=t+n+s;ne(l,c,u,h)}}}function ee(e,t,n){a.push(e);a.push(t);a.push(n)}function te(e,t,n){ie(e);ie(t);ie(n);var i=o.length/3;var r=v.generateTopUV(C,o,i-3,i-2,i-1);re(r[0]);re(r[1]);re(r[2])}function ne(e,t,n,i){ie(e);ie(t);ie(i);ie(t);ie(n);ie(i);var r=o.length/3;var a=v.generateSideWallUV(C,o,r-6,r-3,r-2,r-1);re(a[0]);re(a[1]);re(a[3]);re(a[1]);re(a[2]);re(a[3])}function ie(e){n.push(o.length/3);o.push(a[e*3+0]);o.push(a[e*3+1]);o.push(a[e*3+2])}function re(e){r.push(e.x);r.push(e.y)}if(!i.arrays){this.setIndex(n);this.addAttribute("position",new sa(o,3));this.addAttribute("uv",new sa(i.arrays.uv,2))}};Ko.WorldUVGenerator={generateTopUV:function(e,t,n,i,r){var a=t[n*3];var o=t[n*3+1];var s=t[i*3];var l=t[i*3+1];var c=t[r*3];var u=t[r*3+1];return[new Et(a,o),new Et(s,l),new Et(c,u)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[n*3];var s=t[n*3+1];var l=t[n*3+2];var c=t[i*3];var u=t[i*3+1];var h=t[i*3+2];var f=t[r*3];var d=t[r*3+1];var p=t[r*3+2];var m=t[a*3];var g=t[a*3+1];var v=t[a*3+2];if(Math.abs(s-u)<.01){return[new Et(o,1-l),new Et(c,1-h),new Et(f,1-p),new Et(m,1-v)]}else{return[new Et(s,1-l),new Et(u,1-h),new Et(d,1-p),new Et(g,1-v)]}}};function Qo(e,t){Qr.call(this);this.type="TextGeometry";this.parameters={text:e,parameters:t};this.fromBufferGeometry(new Jo(e,t));this.mergeVertices()}Qo.prototype=Object.create(Qr.prototype);Qo.prototype.constructor=Qo;function Jo(e,t){t=t||{};var n=t.font;if(!(n&&n.isFont)){console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font.");return new Qr}var i=n.generateShapes(e,t.size,t.curveSegments);t.amount=t.height!==undefined?t.height:50;if(t.bevelThickness===undefined){t.bevelThickness=10}if(t.bevelSize===undefined){t.bevelSize=8}if(t.bevelEnabled===undefined){t.bevelEnabled=false}Zo.call(this,i,t);this.type="TextBufferGeometry"}Jo.prototype=Object.create(Zo.prototype);Jo.prototype.constructor=Jo;function es(e,t,n,i,r,a,o){Qr.call(this);this.type="SphereGeometry";this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o};this.fromBufferGeometry(new ts(e,t,n,i,r,a,o));this.mergeVertices()}es.prototype=Object.create(Qr.prototype);es.prototype.constructor=es;function ts(e,t,n,i,r,a,o){fa.call(this);this.type="SphereBufferGeometry";this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o};e=e||1;t=Math.max(3,Math.floor(t)||8);n=Math.max(2,Math.floor(n)||6);i=i!==undefined?i:0;r=r!==undefined?r:Math.PI*2;a=a!==undefined?a:0;o=o!==undefined?o:Math.PI;var s=a+o;var l,c;var u=0;var h=[];var f=new St;var d=new St;var p=[];var m=[];var g=[];var v=[];for(c=0;c<=n;c++){var b=[];var y=c/n;for(l=0;l<=t;l++){var x=l/t;f.x=-e*Math.cos(i+x*r)*Math.sin(a+y*o);f.y=e*Math.cos(a+y*o);f.z=e*Math.sin(i+x*r)*Math.sin(a+y*o);m.push(f.x,f.y,f.z);d.set(f.x,f.y,f.z).normalize();g.push(d.x,d.y,d.z);v.push(x,1-y);b.push(u++)}h.push(b)}for(c=0;c<n;c++){for(l=0;l<t;l++){var w=h[c][l+1];var _=h[c][l];var E=h[c+1][l];var A=h[c+1][l+1];if(c!==0||a>0){p.push(w,_,A)}if(c!==n-1||s<Math.PI){p.push(_,E,A)}}}this.setIndex(p);this.addAttribute("position",new sa(m,3));this.addAttribute("normal",new sa(g,3));this.addAttribute("uv",new sa(v,2))}ts.prototype=Object.create(fa.prototype);ts.prototype.constructor=ts;function ns(e,t,n,i,r,a){Qr.call(this);this.type="RingGeometry";this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a};this.fromBufferGeometry(new is(e,t,n,i,r,a));this.mergeVertices()}ns.prototype=Object.create(Qr.prototype);ns.prototype.constructor=ns;function is(e,t,n,i,r,a){fa.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a};e=e||.5;t=t||1;r=r!==undefined?r:0;a=a!==undefined?a:Math.PI*2;n=n!==undefined?Math.max(3,n):8;i=i!==undefined?Math.max(1,i):1;var o=[];var s=[];var l=[];var c=[];var u;var h=e;var f=(t-e)/i;var d=new St;var p=new Et;var m,g;for(m=0;m<=i;m++){for(g=0;g<=n;g++){u=r+g/n*a;d.x=h*Math.cos(u);d.y=h*Math.sin(u);s.push(d.x,d.y,d.z);l.push(0,0,1);p.x=(d.x/t+1)/2;p.y=(d.y/t+1)/2;c.push(p.x,p.y)}h+=f}for(m=0;m<i;m++){var v=m*(n+1);for(g=0;g<n;g++){u=g+v;var b=u;var y=u+n+1;var x=u+n+2;var w=u+1;o.push(b,y,w);o.push(y,x,w)}}this.setIndex(o);this.addAttribute("position",new sa(s,3));this.addAttribute("normal",new sa(l,3));this.addAttribute("uv",new sa(c,2))}is.prototype=Object.create(fa.prototype);is.prototype.constructor=is;function rs(e,t,n,i){Qr.call(this);this.type="LatheGeometry";this.parameters={points:e,segments:t,phiStart:n,phiLength:i};this.fromBufferGeometry(new as(e,t,n,i));this.mergeVertices()}rs.prototype=Object.create(Qr.prototype);rs.prototype.constructor=rs;function as(e,t,n,i){fa.call(this);this.type="LatheBufferGeometry";this.parameters={points:e,segments:t,phiStart:n,phiLength:i};t=Math.floor(t)||12;n=n||0;i=i||Math.PI*2;i=_t.clamp(i,0,Math.PI*2);var r=[];var a=[];var o=[];var s;var l=1/t;var c=new St;var u=new Et;var h,f;for(h=0;h<=t;h++){var d=n+h*l*i;var p=Math.sin(d);var m=Math.cos(d);for(f=0;f<=e.length-1;f++){c.x=e[f].x*p;c.y=e[f].y;c.z=e[f].x*m;a.push(c.x,c.y,c.z);u.x=h/t;u.y=f/(e.length-1);o.push(u.x,u.y)}}for(h=0;h<t;h++){for(f=0;f<e.length-1;f++){s=f+h*e.length;var g=s;var v=s+e.length;var b=s+e.length+1;var y=s+1;r.push(g,v,y);r.push(v,b,y)}}this.setIndex(r);this.addAttribute("position",new sa(a,3));this.addAttribute("uv",new sa(o,2));this.computeVertexNormals();if(i===Math.PI*2){var x=this.attributes.normal.array;var w=new St;var _=new St;var E=new St;s=t*e.length*3;for(h=0,f=0;h<e.length;h++,f+=3){w.x=x[f+0];w.y=x[f+1];w.z=x[f+2];_.x=x[s+f+0];_.y=x[s+f+1];_.z=x[s+f+2];E.addVectors(w,_).normalize();x[f+0]=x[s+f+0]=E.x;x[f+1]=x[s+f+1]=E.y;x[f+2]=x[s+f+2]=E.z}}}as.prototype=Object.create(fa.prototype);as.prototype.constructor=as;function os(e,t){Qr.call(this);this.type="ShapeGeometry";if(typeof t==="object"){console.warn("THREE.ShapeGeometry: Options parameter has been removed.");t=t.curveSegments}this.parameters={shapes:e,curveSegments:t};this.fromBufferGeometry(new ss(e,t));this.mergeVertices()}os.prototype=Object.create(Qr.prototype);os.prototype.constructor=os;function ss(e,p){var t=this;fa.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:e,curveSegments:p};p=p||12;var m=[];var g=[];var v=[];var b=[];var n=0;var y=0;if(Array.isArray(e)===false){r(e)}else{for(var i=0;i<e.length;i++){r(e[i]);t.addGroup(n,y,i);n+=y;y=0}}this.setIndex(m);this.addAttribute("position",new sa(g,3));this.addAttribute("normal",new sa(v,3));this.addAttribute("uv",new sa(b,2));function r(e){var t,n,i;var r=g.length/3;var a=e.extractPoints(p);var o=a.shape;var s=a.holes;if(Yo.isClockWise(o)===false){o=o.reverse();for(t=0,n=s.length;t<n;t++){i=s[t];if(Yo.isClockWise(i)===true){s[t]=i.reverse()}}}var l=Yo.triangulateShape(o,s);for(t=0,n=s.length;t<n;t++){i=s[t];o=o.concat(i)}for(t=0,n=o.length;t<n;t++){var c=o[t];g.push(c.x,c.y,0);v.push(0,0,1);b.push(c.x,c.y)}for(t=0,n=l.length;t<n;t++){var u=l[t];var h=u[0]+r;var f=u[1]+r;var d=u[2]+r;m.push(h,f,d);y+=3}}}ss.prototype=Object.create(fa.prototype);ss.prototype.constructor=ss;function ls(e,t){fa.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:t};t=t!==undefined?t:1;var n=[];var i=Math.cos(_t.DEG2RAD*t);var r=[0,0],a={},o,s;var l,c=["a","b","c"];var u;if(e.isBufferGeometry){u=new Qr;u.fromBufferGeometry(e)}else{u=e.clone()}u.mergeVertices();u.computeFaceNormals();var h=u.vertices;var f=u.faces;for(var d=0,p=f.length;d<p;d++){var m=f[d];for(var g=0;g<3;g++){o=m[c[g]];s=m[c[(g+1)%3]];r[0]=Math.min(o,s);r[1]=Math.max(o,s);l=r[0]+","+r[1];if(a[l]===undefined){a[l]={index1:r[0],index2:r[1],face1:d,face2:undefined}}else{a[l].face2=d}}}for(l in a){var v=a[l];if(v.face2===undefined||f[v.face1].normal.dot(f[v.face2].normal)<=i){var b=h[v.index1];n.push(b.x,b.y,b.z);b=h[v.index2];n.push(b.x,b.y,b.z)}}this.addAttribute("position",new sa(n,3))}ls.prototype=Object.create(fa.prototype);ls.prototype.constructor=ls;function cs(e,t,n,i,r,a,o,s){Qr.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};this.fromBufferGeometry(new us(e,t,n,i,r,a,o,s));this.mergeVertices()}cs.prototype=Object.create(Qr.prototype);cs.prototype.constructor=cs;function us(v,b,y,x,w,e,_,E){fa.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:v,radiusBottom:b,height:y,radialSegments:x,heightSegments:w,openEnded:e,thetaStart:_,thetaLength:E};var A=this;v=v!==undefined?v:1;b=b!==undefined?b:1;y=y||1;x=Math.floor(x)||8;w=Math.floor(w)||1;e=e!==undefined?e:false;_=_!==undefined?_:0;E=E!==undefined?E:Math.PI*2;var C=[];var S=[];var T=[];var M=[];var k=0;var D=[];var L=y/2;var R=0;t();if(e===false){if(v>0){n(true)}if(b>0){n(false)}}this.setIndex(C);this.addAttribute("position",new sa(S,3));this.addAttribute("normal",new sa(T,3));this.addAttribute("uv",new sa(M,2));function t(){var e,t;var n=new St;var i=new St;var r=0;var a=(b-v)/y;for(t=0;t<=w;t++){var o=[];var s=t/w;var l=s*(b-v)+v;for(e=0;e<=x;e++){var c=e/x;var u=c*E+_;var h=Math.sin(u);var f=Math.cos(u);i.x=l*h;i.y=-s*y+L;i.z=l*f;S.push(i.x,i.y,i.z);n.set(h,a,f).normalize();T.push(n.x,n.y,n.z);M.push(c,1-s);o.push(k++)}D.push(o)}for(e=0;e<x;e++){for(t=0;t<w;t++){var d=D[t][e];var p=D[t+1][e];var m=D[t+1][e+1];var g=D[t][e+1];C.push(d,p,g);C.push(p,m,g);r+=6}}A.addGroup(R,r,0);R+=r}function n(e){var t,n,i;var r=new Et;var a=new St;var o=0;var s=e===true?v:b;var l=e===true?1:-1;n=k;for(t=1;t<=x;t++){S.push(0,L*l,0);T.push(0,l,0);M.push(.5,.5);k++}i=k;for(t=0;t<=x;t++){var c=t/x;var u=c*E+_;var h=Math.cos(u);var f=Math.sin(u);a.x=s*f;a.y=L*l;a.z=s*h;S.push(a.x,a.y,a.z);T.push(0,l,0);r.x=h*.5+.5;r.y=f*.5*l+.5;M.push(r.x,r.y);k++}for(t=0;t<x;t++){var d=n+t;var p=i+t;if(e===true){C.push(p,p+1,d)}else{C.push(p+1,p,d)}o+=3}A.addGroup(R,o,e===true?1:2);R+=o}}us.prototype=Object.create(fa.prototype);us.prototype.constructor=us;function hs(e,t,n,i,r,a,o){cs.call(this,0,e,t,n,i,r,a,o);this.type="ConeGeometry";this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}hs.prototype=Object.create(cs.prototype);hs.prototype.constructor=hs;function fs(e,t,n,i,r,a,o){us.call(this,0,e,t,n,i,r,a,o);this.type="ConeBufferGeometry";this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}fs.prototype=Object.create(us.prototype);fs.prototype.constructor=fs;function ds(e,t,n,i){Qr.call(this);this.type="CircleGeometry";this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i};this.fromBufferGeometry(new ps(e,t,n,i));this.mergeVertices()}ds.prototype=Object.create(Qr.prototype);ds.prototype.constructor=ds;function ps(e,t,n,i){fa.call(this);this.type="CircleBufferGeometry";this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i};e=e||1;t=t!==undefined?Math.max(3,t):8;n=n!==undefined?n:0;i=i!==undefined?i:Math.PI*2;var r=[];var a=[];var o=[];var s=[];var l,c;var u=new St;var h=new Et;a.push(0,0,0);o.push(0,0,1);s.push(.5,.5);for(c=0,l=3;c<=t;c++,l+=3){var f=n+c/t*i;u.x=e*Math.cos(f);u.y=e*Math.sin(f);a.push(u.x,u.y,u.z);o.push(0,0,1);h.x=(a[l]/e+1)/2;h.y=(a[l+1]/e+1)/2;s.push(h.x,h.y)}for(l=1;l<=t;l++){r.push(l,l+1,0)}this.setIndex(r);this.addAttribute("position",new sa(a,3));this.addAttribute("normal",new sa(o,3));this.addAttribute("uv",new sa(s,2))}ps.prototype=Object.create(fa.prototype);ps.prototype.constructor=ps;var ms=Object.freeze({WireframeGeometry:Do,ParametricGeometry:Lo,ParametricBufferGeometry:Ro,TetrahedronGeometry:Io,TetrahedronBufferGeometry:No,OctahedronGeometry:Oo,OctahedronBufferGeometry:Bo,IcosahedronGeometry:zo,IcosahedronBufferGeometry:Uo,DodecahedronGeometry:Ho,DodecahedronBufferGeometry:jo,PolyhedronGeometry:Fo,PolyhedronBufferGeometry:Po,TubeGeometry:$o,TubeBufferGeometry:Wo,TorusKnotGeometry:Vo,TorusKnotBufferGeometry:Go,TorusGeometry:qo,TorusBufferGeometry:Xo,TextGeometry:Qo,TextBufferGeometry:Jo,SphereGeometry:es,SphereBufferGeometry:ts,RingGeometry:ns,RingBufferGeometry:is,PlaneGeometry:ma,PlaneBufferGeometry:ga,LatheGeometry:rs,LatheBufferGeometry:as,ShapeGeometry:os,ShapeBufferGeometry:ss,ExtrudeGeometry:Ko,ExtrudeBufferGeometry:Zo,EdgesGeometry:ls,ConeGeometry:hs,ConeBufferGeometry:fs,CylinderGeometry:cs,CylinderBufferGeometry:us,CircleGeometry:ds,CircleBufferGeometry:ps,BoxGeometry:da,BoxBufferGeometry:pa});function gs(e){Ir.call(this);this.type="ShadowMaterial";this.color=new An(0);this.opacity=1;this.lights=true;this.transparent=true;this.setValues(e)}gs.prototype=Object.create(Ir.prototype);gs.prototype.constructor=gs;gs.prototype.isShadowMaterial=true;function vs(e){ba.call(this,e);this.type="RawShaderMaterial"}vs.prototype=Object.create(ba.prototype);vs.prototype.constructor=vs;vs.prototype.isRawShaderMaterial=true;function bs(e){Ir.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new An(16777215);this.roughness=.5;this.metalness=.5;this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new An(0);this.emissiveIntensity=1;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Et(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.roughnessMap=null;this.metalnessMap=null;this.alphaMap=null;this.envMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}bs.prototype=Object.create(Ir.prototype);bs.prototype.constructor=bs;bs.prototype.isMeshStandardMaterial=true;bs.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.defines={STANDARD:""};this.color.copy(e.color);this.roughness=e.roughness;this.metalness=e.metalness;this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.roughnessMap=e.roughnessMap;this.metalnessMap=e.metalnessMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.envMapIntensity=e.envMapIntensity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function ys(e){bs.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoat=0;this.clearCoatRoughness=0;this.setValues(e)}ys.prototype=Object.create(bs.prototype);ys.prototype.constructor=ys;ys.prototype.isMeshPhysicalMaterial=true;ys.prototype.copy=function(e){bs.prototype.copy.call(this,e);this.defines={PHYSICAL:""};this.reflectivity=e.reflectivity;this.clearCoat=e.clearCoat;this.clearCoatRoughness=e.clearCoatRoughness;return this};function xs(e){Ir.call(this);this.type="MeshPhongMaterial";this.color=new An(16777215);this.specular=new An(1118481);this.shininess=30;this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new An(0);this.emissiveIntensity=1;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Et(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=R;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}xs.prototype=Object.create(Ir.prototype);xs.prototype.constructor=xs;xs.prototype.isMeshPhongMaterial=true;xs.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.color.copy(e.color);this.specular.copy(e.specular);this.shininess=e.shininess;this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function ws(e){xs.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(e)}ws.prototype=Object.create(xs.prototype);ws.prototype.constructor=ws;ws.prototype.isMeshToonMaterial=true;ws.prototype.copy=function(e){xs.prototype.copy.call(this,e);this.gradientMap=e.gradientMap;return this};function _s(e){Ir.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Et(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}_s.prototype=Object.create(Ir.prototype);_s.prototype.constructor=_s;_s.prototype.isMeshNormalMaterial=true;_s.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function Es(e){Ir.call(this);this.type="MeshLambertMaterial";this.color=new An(16777215);this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new An(0);this.emissiveIntensity=1;this.emissiveMap=null;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=R;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}Es.prototype=Object.create(Ir.prototype);Es.prototype.constructor=Es;Es.prototype.isMeshLambertMaterial=true;Es.prototype.copy=function(e){Ir.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function As(e){xo.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(e)}As.prototype=Object.create(xo.prototype);As.prototype.constructor=As;As.prototype.isLineDashedMaterial=true;As.prototype.copy=function(e){xo.prototype.copy.call(this,e);this.scale=e.scale;this.dashSize=e.dashSize;this.gapSize=e.gapSize;return this};var Cs=Object.freeze({ShadowMaterial:gs,SpriteMaterial:po,RawShaderMaterial:vs,ShaderMaterial:ba,PointsMaterial:Ao,MeshPhysicalMaterial:ys,MeshStandardMaterial:bs,MeshPhongMaterial:xs,MeshToonMaterial:ws,MeshNormalMaterial:_s,MeshLambertMaterial:Es,MeshDepthMaterial:Nr,MeshDistanceMaterial:Or,MeshBasicMaterial:va,LineDashedMaterial:As,LineBasicMaterial:xo,Material:Ir});var Ss={enabled:false,files:{},add:function(e,t){if(this.enabled===false){return}this.files[e]=t},get:function(e){if(this.enabled===false){return}return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Ts(e,t,n){var i=this;var r=false;var a=0;var o=0;var s=undefined;this.onStart=undefined;this.onLoad=e;this.onProgress=t;this.onError=n;this.itemStart=function(e){o++;if(r===false){if(i.onStart!==undefined){i.onStart(e,a,o)}}r=true};this.itemEnd=function(e){a++;if(i.onProgress!==undefined){i.onProgress(e,a,o)}if(a===o){r=false;if(i.onLoad!==undefined){i.onLoad()}}};this.itemError=function(e){if(i.onError!==undefined){i.onError(e)}};this.resolveURL=function(e){if(s){return s(e)}return e};this.setURLModifier=function(e){s=e}}var Ms=new Ts;var ks={};function Ds(e){this.manager=e!==undefined?e:Ms}Object.assign(Ds.prototype,{load:function(o,e,t,n){var i=this;if(o===undefined){o=""}if(this.path!==undefined){o=this.path+o}o=this.manager.resolveURL(o);var s=this;var r=Ss.get(o);if(r!==undefined){s.manager.itemStart(o);setTimeout(function(){if(e){e(r)}s.manager.itemEnd(o)},0);return r}if(ks[o]!==undefined){ks[o].push({onLoad:e,onProgress:t,onError:n});return}var a=/^data:(.*?)(;base64)?,(.*)$/;var l=o.match(a);if(l){var c=l[1];var u=!!l[2];var h=l[3];h=window.decodeURIComponent(h);if(u){h=window.atob(h)}try{var f;var d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":var p=new Uint8Array(h.length);for(var m=0;m<h.length;m++){p[m]=h.charCodeAt(m)}if(d==="blob"){f=new Blob([p.buffer],{type:c})}else{f=p.buffer}break;case"document":var g=new DOMParser;f=g.parseFromString(h,c);break;case"json":f=JSON.parse(h);break;default:f=h;break}window.setTimeout(function(){if(e){e(f)}s.manager.itemEnd(o)},0)}catch(e){window.setTimeout(function(){if(n){n(e)}s.manager.itemEnd(o);s.manager.itemError(o)},0)}}else{ks[o]=[];ks[o].push({onLoad:e,onProgress:t,onError:n});var v=new XMLHttpRequest;v.open("GET",o,true);v.addEventListener("load",function(e){var t=e.target.response;Ss.add(o,t);var n=ks[o];delete ks[o];if(this.status===200){for(var i=0,r=n.length;i<r;i++){var a=n[i];if(a.onLoad){a.onLoad(t)}}s.manager.itemEnd(o)}else if(this.status===0){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var i=0,r=n.length;i<r;i++){var a=n[i];if(a.onLoad){a.onLoad(t)}}s.manager.itemEnd(o)}else{for(var i=0,r=n.length;i<r;i++){var a=n[i];if(a.onError){a.onError(e)}}s.manager.itemEnd(o);s.manager.itemError(o)}},false);v.addEventListener("progress",function(e){var t=ks[o];for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r.onProgress){r.onProgress(e)}}},false);v.addEventListener("error",function(e){var t=ks[o];delete ks[o];for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r.onError){r.onError(e)}}s.manager.itemEnd(o);s.manager.itemError(o)},false);if(this.responseType!==undefined){v.responseType=this.responseType}if(this.withCredentials!==undefined){v.withCredentials=this.withCredentials}if(v.overrideMimeType){v.overrideMimeType(this.mimeType!==undefined?this.mimeType:"text/plain")}for(var b in i.requestHeader){v.setRequestHeader(b,i.requestHeader[b])}v.send(null)}s.manager.itemStart(o);return v},setPath:function(e){this.path=e;return this},setResponseType:function(e){this.responseType=e;return this},setWithCredentials:function(e){this.withCredentials=e;return this},setMimeType:function(e){this.mimeType=e;return this},setRequestHeader:function(e){this.requestHeader=e;return this}});function Ls(e){this.manager=e!==undefined?e:Ms;this._parser=null}Object.assign(Ls.prototype,{load:function(e,a,t,i){var o=this;var s=[];var l=new Mo;l.image=s;var r=new Ds(this.manager);r.setPath(this.path);r.setResponseType("arraybuffer");function n(n){r.load(e[n],function(e){var t=o._parser(e,true);s[n]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps};c+=1;if(c===6){if(t.mipmapCount===1){l.minFilter=J}l.format=t.format;l.needsUpdate=true;if(a){a(l)}}},t,i)}if(Array.isArray(e)){var c=0;for(var u=0,h=e.length;u<h;++u){n(u)}}else{r.load(e,function(e){var t=o._parser(e,true);if(t.isCubemap){var n=t.mipmaps.length/t.mipmapCount;for(var i=0;i<n;i++){s[i]={mipmaps:[]};for(var r=0;r<t.mipmapCount;r++){s[i].mipmaps.push(t.mipmaps[i*t.mipmapCount+r]);s[i].format=t.format;s[i].width=t.width;s[i].height=t.height}}}else{l.image.width=t.width;l.image.height=t.height;l.mipmaps=t.mipmaps}if(t.mipmapCount===1){l.minFilter=J}l.format=t.format;l.needsUpdate=true;if(a){a(l)}},t,i)}return l},setPath:function(e){this.path=e;return this}});function Rs(e){this.manager=e!==undefined?e:Ms;this._parser=null}Object.assign(Rs.prototype,{load:function(e,n,t,i){var r=this;var a=new Ft;var o=new Ds(this.manager);o.setResponseType("arraybuffer");o.load(e,function(e){var t=r._parser(e);if(!t){return}if(undefined!==t.image){a.image=t.image}else if(undefined!==t.data){a.image.width=t.width;a.image.height=t.height;a.image.data=t.data}a.wrapS=undefined!==t.wrapS?t.wrapS:X;a.wrapT=undefined!==t.wrapT?t.wrapT:X;a.magFilter=undefined!==t.magFilter?t.magFilter:J;a.minFilter=undefined!==t.minFilter?t.minFilter:te;a.anisotropy=undefined!==t.anisotropy?t.anisotropy:1;if(undefined!==t.format){a.format=t.format}if(undefined!==t.type){a.type=t.type}if(undefined!==t.mipmaps){a.mipmaps=t.mipmaps}if(1===t.mipmapCount){a.minFilter=J}a.needsUpdate=true;if(n){n(a,t)}},t,i);return a}});function Fs(e){this.manager=e!==undefined?e:Ms}Object.assign(Fs.prototype,{crossOrigin:"Anonymous",load:function(t,e,n,i){if(t===undefined){t=""}if(this.path!==undefined){t=this.path+t}t=this.manager.resolveURL(t);var r=this;var a=Ss.get(t);if(a!==undefined){r.manager.itemStart(t);setTimeout(function(){if(e){e(a)}r.manager.itemEnd(t)},0);return a}var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");o.addEventListener("load",function(){Ss.add(t,this);if(e){e(this)}r.manager.itemEnd(t)},false);o.addEventListener("error",function(e){if(i){i(e)}r.manager.itemEnd(t);r.manager.itemError(t)},false);if(t.substr(0,5)!=="data:"){if(this.crossOrigin!==undefined){o.crossOrigin=this.crossOrigin}}r.manager.itemStart(t);o.src=t;return o},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function Ps(e){this.manager=e!==undefined?e:Ms}Object.assign(Ps.prototype,{crossOrigin:"Anonymous",load:function(e,n,t,i){var r=new Pt;var a=new Fs(this.manager);a.setCrossOrigin(this.crossOrigin);a.setPath(this.path);var o=0;function s(t){a.load(e[t],function(e){r.images[t]=e;o++;if(o===6){r.needsUpdate=true;if(n){n(r)}}},undefined,i)}for(var l=0;l<e.length;++l){s(l)}return r},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function Is(e){this.manager=e!==undefined?e:Ms}Object.assign(Is.prototype,{crossOrigin:"Anonymous",load:function(t,n,e,i){var r=new Fs(this.manager);r.setCrossOrigin(this.crossOrigin);r.setPath(this.path);var a=new kt;a.image=r.load(t,function(){var e=t.search(/\.(jpg|jpeg)$/)>0||t.search(/^data\:image\/jpeg/)===0;a.format=e?Le:Xe;a.needsUpdate=true;if(n!==undefined){n(a)}},e,i);return a},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function Ns(e,t){qr.call(this);this.type="Light";this.color=new An(e);this.intensity=t!==undefined?t:1;this.receiveShadow=undefined}Ns.prototype=Object.assign(Object.create(qr.prototype),{constructor:Ns,isLight:true,copy:function(e){qr.prototype.copy.call(this,e);this.color.copy(e.color);this.intensity=e.intensity;return this},toJSON:function(e){var t=qr.prototype.toJSON.call(this,e);t.object.color=this.color.getHex();t.object.intensity=this.intensity;if(this.groundColor!==undefined){t.object.groundColor=this.groundColor.getHex()}if(this.distance!==undefined){t.object.distance=this.distance}if(this.angle!==undefined){t.object.angle=this.angle}if(this.decay!==undefined){t.object.decay=this.decay}if(this.penumbra!==undefined){t.object.penumbra=this.penumbra}if(this.shadow!==undefined){t.object.shadow=this.shadow.toJSON()}return t}});function Os(e,t,n){Ns.call(this,e,n);this.type="HemisphereLight";this.castShadow=undefined;this.position.copy(qr.DefaultUp);this.updateMatrix();this.groundColor=new An(t)}Os.prototype=Object.assign(Object.create(Ns.prototype),{constructor:Os,isHemisphereLight:true,copy:function(e){Ns.prototype.copy.call(this,e);this.groundColor.copy(e.groundColor);return this}});function Bs(e){this.camera=e;this.bias=0;this.radius=1;this.mapSize=new Et(512,512);this.map=null;this.matrix=new At}Object.assign(Bs.prototype,{copy:function(e){this.camera=e.camera.clone();this.bias=e.bias;this.radius=e.radius;this.mapSize.copy(e.mapSize);return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};if(this.bias!==0){e.bias=this.bias}if(this.radius!==1){e.radius=this.radius}if(this.mapSize.x!==512||this.mapSize.y!==512){e.mapSize=this.mapSize.toArray()}e.camera=this.camera.toJSON(false).object;delete e.camera.matrix;return e}});function zs(){Bs.call(this,new no(50,1,.5,500))}zs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:zs,isSpotLightShadow:true,update:function(e){var t=this.camera;var n=_t.RAD2DEG*2*e.angle;var i=this.mapSize.width/this.mapSize.height;var r=e.distance||t.far;if(n!==t.fov||i!==t.aspect||r!==t.far){t.fov=n;t.aspect=i;t.far=r;t.updateProjectionMatrix()}}});function Us(e,t,n,i,r,a){Ns.call(this,e,t);this.type="SpotLight";this.position.copy(qr.DefaultUp);this.updateMatrix();this.target=new qr;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}});this.distance=n!==undefined?n:0;this.angle=i!==undefined?i:Math.PI/3;this.penumbra=r!==undefined?r:0;this.decay=a!==undefined?a:1;this.shadow=new zs}Us.prototype=Object.assign(Object.create(Ns.prototype),{constructor:Us,isSpotLight:true,copy:function(e){Ns.prototype.copy.call(this,e);this.distance=e.distance;this.angle=e.angle;this.penumbra=e.penumbra;this.decay=e.decay;this.target=e.target.clone();this.shadow=e.shadow.clone();return this}});function Hs(e,t,n,i){Ns.call(this,e,t);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}});this.distance=n!==undefined?n:0;this.decay=i!==undefined?i:1;this.shadow=new Bs(new no(90,1,.5,500))}Hs.prototype=Object.assign(Object.create(Ns.prototype),{constructor:Hs,isPointLight:true,copy:function(e){Ns.prototype.copy.call(this,e);this.distance=e.distance;this.decay=e.decay;this.shadow=e.shadow.clone();return this}});function js(){Bs.call(this,new Yr(-5,5,5,-5,.5,500))}js.prototype=Object.assign(Object.create(Bs.prototype),{constructor:js});function $s(e,t){Ns.call(this,e,t);this.type="DirectionalLight";this.position.copy(qr.DefaultUp);this.updateMatrix();this.target=new qr;this.shadow=new js}$s.prototype=Object.assign(Object.create(Ns.prototype),{constructor:$s,isDirectionalLight:true,copy:function(e){Ns.prototype.copy.call(this,e);this.target=e.target.clone();this.shadow=e.shadow.clone();return this}});function Ws(e,t){Ns.call(this,e,t);this.type="AmbientLight";this.castShadow=undefined}Ws.prototype=Object.assign(Object.create(Ns.prototype),{constructor:Ws,isAmbientLight:true});function Vs(e,t,n,i){Ns.call(this,e,t);this.type="RectAreaLight";this.position.set(0,1,0);this.updateMatrix();this.width=n!==undefined?n:10;this.height=i!==undefined?i:10}Vs.prototype=Object.assign(Object.create(Ns.prototype),{constructor:Vs,isRectAreaLight:true,copy:function(e){Ns.prototype.copy.call(this,e);this.width=e.width;this.height=e.height;return this},toJSON:function(e){var t=Ns.prototype.toJSON.call(this,e);t.object.width=this.width;t.object.height=this.height;return t}});var Gs={arraySlice:function(e,t,n){if(Gs.isTypedArray(e)){return new e.constructor(e.subarray(t,n!==undefined?n:e.length))}return e.slice(t,n)},convertArray:function(e,t,n){if(!e||!n&&e.constructor===t){return e}if(typeof t.BYTES_PER_ELEMENT==="number"){return new t(e)}return Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(n){function e(e,t){return n[e]-n[t]}var t=n.length;var i=new Array(t);for(var r=0;r!==t;++r){i[r]=r}i.sort(e);return i},sortedArray:function(e,t,n){var i=e.length;var r=new e.constructor(i);for(var a=0,o=0;o!==i;++a){var s=n[a]*t;for(var l=0;l!==t;++l){r[o++]=e[s+l]}}return r},flattenJSON:function(e,t,n,i){var r=1,a=e[0];while(a!==undefined&&a[i]===undefined){a=e[r++]}if(a===undefined){return}var o=a[i];if(o===undefined){return}if(Array.isArray(o)){do{o=a[i];if(o!==undefined){t.push(a.time);n.push.apply(n,o)}a=e[r++]}while(a!==undefined)}else if(o.toArray!==undefined){do{o=a[i];if(o!==undefined){t.push(a.time);o.toArray(n,n.length)}a=e[r++]}while(a!==undefined)}else{do{o=a[i];if(o!==undefined){t.push(a.time);n.push(o)}a=e[r++]}while(a!==undefined)}}};function qs(e,t,n,i){this.parameterPositions=e;this._cachedIndex=0;this.resultBuffer=i!==undefined?i:new t.constructor(n);this.sampleValues=t;this.valueSize=n}Object.assign(qs.prototype,{evaluate:function(e){var t=this;var n=this.parameterPositions,i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{var o;n:{i:if(!(e<r)){for(var s=i+2;;){if(r===undefined){if(e<a){break i}i=n.length;t._cachedIndex=i;return t.afterEnd_(i-1,e,a)}if(i===s){break}a=r;r=n[++i];if(e<r){break t}}o=n.length;break n}if(!(e>=a)){var l=n[1];if(e<l){i=2;a=l}for(var s=i-2;;){if(a===undefined){t._cachedIndex=0;return t.beforeStart_(0,e,r)}if(i===s){break}r=a;a=n[--i-1];if(e>=a){break t}}o=i;i=0;break n}break e}while(i<o){var c=i+o>>>1;if(e<n[c]){o=c}else{i=c+1}}r=n[i];a=n[i-1];if(a===undefined){this._cachedIndex=0;return this.beforeStart_(0,e,r)}if(r===undefined){i=n.length;this._cachedIndex=i;return this.afterEnd_(i-1,a,e)}}this._cachedIndex=i;this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(var a=0;a!==i;++a){t[a]=n[r+a]}return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(qs.prototype,{beforeStart_:qs.prototype.copySampleValue_,afterEnd_:qs.prototype.copySampleValue_});function Xs(e,t,n,i){qs.call(this,e,t,n,i);this._weightPrev=-0;this._offsetPrev=-0;this._weightNext=-0;this._offsetNext=-0}Xs.prototype=Object.assign(Object.create(qs.prototype),{constructor:Xs,DefaultSettings_:{endingStart:ot,endingEnd:ot},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(o===undefined){switch(this.getSettings_().endingStart){case st:r=e;o=2*t-n;break;case lt:r=i.length-2;o=t+i[r]-i[r+1];break;default:r=e;o=n}}if(s===undefined){switch(this.getSettings_().endingEnd){case st:a=e;s=2*n-t;break;case lt:a=1;s=n+i[1]-i[0];break;default:a=e-1;s=t}}var l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-o);this._weightNext=l/(s-n);this._offsetPrev=r*c;this._offsetNext=a*c},interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(i-t),p=d*d,m=p*d;var g=-h*m+2*h*p-h*d;var v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1;var b=(-1-f)*m+(1.5+f)*p+.5*d;var y=f*m-f*p;for(var x=0;x!==o;++x){r[x]=g*a[c+x]+v*a[l+x]+b*a[s+x]+y*a[u+x]}return r}});function Ys(e,t,n,i){qs.call(this,e,t,n,i)}Ys.prototype=Object.assign(Object.create(qs.prototype),{constructor:Ys,interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(i-t),u=1-c;for(var h=0;h!==o;++h){r[h]=a[l+h]*u+a[s+h]*c}return r}});function Ks(e,t,n,i){qs.call(this,e,t,n,i)}Ks.prototype=Object.assign(Object.create(qs.prototype),{constructor:Ks,interpolate_:function(e){return this.copySampleValue_(e-1)}});var Zs;Zs={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:rt,InterpolantFactoryMethodDiscrete:function(e){return new Ks(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Ys(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Xs(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case it:t=this.InterpolantFactoryMethodDiscrete;break;case rt:t=this.InterpolantFactoryMethodLinear;break;case at:t=this.InterpolantFactoryMethodSmooth;break}if(t===undefined){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===undefined){if(e!==this.DefaultInterpolation){this.setInterpolation(this.DefaultInterpolation)}else{throw new Error(n)}}console.warn("THREE.KeyframeTrackPrototype:",n);return}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return it;case this.InterpolantFactoryMethodLinear:return rt;case this.InterpolantFactoryMethodSmooth:return at}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){var t=this.times;for(var n=0,i=t.length;n!==i;++n){t[n]+=e}}return this},scale:function(e){if(e!==1){var t=this.times;for(var n=0,i=t.length;n!==i;++n){t[n]*=e}}return this},trim:function(e,t){var n=this.times,i=n.length,r=0,a=i-1;while(r!==i&&n[r]<e){++r}while(a!==-1&&n[a]>t){--a}++a;if(r!==0||a!==i){if(r>=a){a=Math.max(a,1),r=a-1}var o=this.getValueSize();this.times=Gs.arraySlice(n,r,a);this.values=Gs.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var e=this;var t=true;var n=this.getValueSize();if(n-Math.floor(n)!==0){console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this);t=false}var i=this.times,r=this.values,a=i.length;if(a===0){console.error("THREE.KeyframeTrackPrototype: Track is empty.",this);t=false}var o=null;for(var s=0;s!==a;s++){var l=i[s];if(typeof l==="number"&&isNaN(l)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",e,s,l);t=false;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",e,s,l,o);t=false;break}o=l}if(r!==undefined){if(Gs.isTypedArray(r)){for(var s=0,c=r.length;s!==c;++s){var u=r[s];if(isNaN(u)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",e,s,u);t=false;break}}}}return t},optimize:function(){var e=this.times,t=this.values,n=this.getValueSize(),i=this.getInterpolation()===at,r=1,a=e.length-1;for(var o=1;o<a;++o){var s=false;var l=e[o];var c=e[o+1];if(l!==c&&(o!==1||l!==l[0])){if(!i){var u=o*n,h=u-n,f=u+n;for(var d=0;d!==n;++d){var p=t[u+d];if(p!==t[h+d]||p!==t[f+d]){s=true;break}}}else{s=true}}if(s){if(o!==r){e[r]=e[o];var m=o*n,g=r*n;for(var d=0;d!==n;++d){t[g+d]=t[m+d]}}++r}}if(a>0){e[r]=e[a];for(var m=a*n,g=r*n,d=0;d!==n;++d){t[g+d]=t[m+d]}++r}if(r!==e.length){this.times=Gs.arraySlice(e,0,r);this.values=Gs.arraySlice(t,0,r*n)}return this}};function Qs(e,t,n,i){if(e===undefined){throw new Error("track name is undefined")}if(t===undefined||t.length===0){throw new Error("no keyframes in track named "+e)}this.name=e;this.times=Gs.convertArray(t,this.TimeBufferType);this.values=Gs.convertArray(n,this.ValueBufferType);this.setInterpolation(i||this.DefaultInterpolation);this.validate();this.optimize()}function Js(e,t,n,i){Qs.call(this,e,t,n,i)}Js.prototype=Object.assign(Object.create(Zs),{constructor:Js,ValueTypeName:"vector"});function el(e,t,n,i){qs.call(this,e,t,n,i)}el.prototype=Object.assign(Object.create(qs.prototype),{constructor:el,interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=(n-t)/(i-t);for(var c=s+o;s!==c;s+=4){Ct.slerpFlat(r,0,a,s-o,a,s,l)}return r}});function tl(e,t,n,i){Qs.call(this,e,t,n,i)}tl.prototype=Object.assign(Object.create(Zs),{constructor:tl,ValueTypeName:"quaternion",DefaultInterpolation:rt,InterpolantFactoryMethodLinear:function(e){return new el(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:undefined});function nl(e,t,n,i){Qs.call(this,e,t,n,i)}nl.prototype=Object.assign(Object.create(Zs),{constructor:nl,ValueTypeName:"number"});function il(e,t,n,i){Qs.call(this,e,t,n,i)}il.prototype=Object.assign(Object.create(Zs),{constructor:il,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:it,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});function rl(e,t,n){Qs.call(this,e,t,n)}rl.prototype=Object.assign(Object.create(Zs),{constructor:rl,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:it,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});function al(e,t,n,i){Qs.call(this,e,t,n,i)}al.prototype=Object.assign(Object.create(Zs),{constructor:al,ValueTypeName:"color"});function ol(e,t,n,i){Qs.apply(this,e,t,n,i)}ol.prototype=Zs;Zs.constructor=ol;Object.assign(ol,{parse:function(e){if(e.type===undefined){throw new Error("track type undefined, can not parse")}var t=ol._getTrackTypeForValueTypeName(e.type);if(e.times===undefined){var n=[],i=[];Gs.flattenJSON(e.keys,n,i,"value");e.times=n;e.values=i}if(t.parse!==undefined){return t.parse(e)}else{return new t(e.name,e.times,e.values,e.interpolation)}},toJSON:function(e){var t=e.constructor;var n;if(t.toJSON!==undefined){n=t.toJSON(e)}else{n={name:e.name,times:Gs.convertArray(e.times,Array),values:Gs.convertArray(e.values,Array)};var i=e.getInterpolation();if(i!==e.DefaultInterpolation){n.interpolation=i}}n.type=e.ValueTypeName;return n},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nl;case"vector":case"vector2":case"vector3":case"vector4":return Js;case"color":return al;case"quaternion":return tl;case"bool":case"boolean":return rl;case"string":return il}throw new Error("Unsupported typeName: "+e)}});function sl(e,t,n){this.name=e;this.tracks=n;this.duration=t!==undefined?t:-1;this.uuid=_t.generateUUID();if(this.duration<0){this.resetDuration()}this.optimize()}Object.assign(sl,{parse:function(e){var t=[],n=e.tracks,i=1/(e.fps||1);for(var r=0,a=n.length;r!==a;++r){t.push(ol.parse(n[r]).scale(i))}return new sl(e.name,e.duration,t)},toJSON:function(e){var t=[],n=e.tracks;var i={name:e.name,duration:e.duration,tracks:t};for(var r=0,a=n.length;r!==a;++r){t.push(ol.toJSON(n[r]))}return i},CreateFromMorphTargetSequence:function(e,t,n,i){var r=t.length;var a=[];for(var o=0;o<r;o++){var s=[];var l=[];s.push((o+r-1)%r,o,(o+1)%r);l.push(0,1,0);var c=Gs.getKeyframeOrder(s);s=Gs.sortedArray(s,1,c);l=Gs.sortedArray(l,1,c);if(!i&&s[0]===0){s.push(r);l.push(l[0])}a.push(new nl(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new sl(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++){if(n[r].name===t){return n[r]}}return null},CreateClipsFromMorphTargetSequences:function(e,t,n){var i={};var r=/^([\w-]*?)([\d]+)$/;for(var a=0,o=e.length;a<o;a++){var s=e[a];var l=s.name.match(r);if(l&&l.length>1){var c=l[1];var u=i[c];if(!u){i[c]=u=[]}u.push(s)}}var h=[];for(var c in i){h.push(sl.CreateFromMorphTargetSequence(c,i[c],t,n))}return h},parseAnimation:function(e,t){if(!e){console.error("THREE.AnimationClip: No animation in JSONLoader data.");return null}var n=function(e,t,n,i,r){if(n.length!==0){var a=[];var o=[];Gs.flattenJSON(n,a,o,i);if(a.length!==0){r.push(new e(t,a,o))}}};var i=[];var r=e.name||"default";var a=e.length||-1;var o=e.fps||30;var s=e.hierarchy||[];for(var l=0;l<s.length;l++){var c=s[l].keys;if(!c||c.length===0){continue}if(c[0].morphTargets){var u={};for(var h=0;h<c.length;h++){if(c[h].morphTargets){for(var f=0;f<c[h].morphTargets.length;f++){u[c[h].morphTargets[f]]=-1}}}for(var d in u){var p=[];var m=[];for(var f=0;f!==c[h].morphTargets.length;++f){var g=c[h];p.push(g.time);m.push(g.morphTarget===d?1:0)}i.push(new nl(".morphTargetInfluence["+d+"]",p,m))}a=u.length*(o||1)}else{var v=".bones["+t[l].name+"]";n(Js,v+".position",c,"pos",i);n(tl,v+".quaternion",c,"rot",i);n(Js,v+".scale",c,"scl",i)}}if(i.length===0){return null}var b=new sl(r,a,i);return b}});Object.assign(sl.prototype,{resetDuration:function(){var e=this;var t=this.tracks,n=0;for(var i=0,r=t.length;i!==r;++i){var a=e.tracks[i];n=Math.max(n,a.times[a.times.length-1])}this.duration=n},trim:function(){var e=this;for(var t=0;t<this.tracks.length;t++){e.tracks[t].trim(0,e.duration)}return this},optimize:function(){var e=this;for(var t=0;t<this.tracks.length;t++){e.tracks[t].optimize()}return this}});function ll(e){this.manager=e!==undefined?e:Ms;this.textures={}}Object.assign(ll.prototype,{load:function(e,t,n,i){var r=this;var a=new Ds(r.manager);a.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){var t=this.textures;function n(e){if(t[e]===undefined){console.warn("THREE.MaterialLoader: Undefined texture",e)}return t[e]}var i=new Cs[e.type];if(e.uuid!==undefined){i.uuid=e.uuid}if(e.name!==undefined){i.name=e.name}if(e.color!==undefined){i.color.setHex(e.color)}if(e.roughness!==undefined){i.roughness=e.roughness}if(e.metalness!==undefined){i.metalness=e.metalness}if(e.emissive!==undefined){i.emissive.setHex(e.emissive)}if(e.specular!==undefined){i.specular.setHex(e.specular)}if(e.shininess!==undefined){i.shininess=e.shininess}if(e.clearCoat!==undefined){i.clearCoat=e.clearCoat}if(e.clearCoatRoughness!==undefined){i.clearCoatRoughness=e.clearCoatRoughness}if(e.uniforms!==undefined){i.uniforms=e.uniforms}if(e.vertexShader!==undefined){i.vertexShader=e.vertexShader}if(e.fragmentShader!==undefined){i.fragmentShader=e.fragmentShader}if(e.vertexColors!==undefined){i.vertexColors=e.vertexColors}if(e.fog!==undefined){i.fog=e.fog}if(e.flatShading!==undefined){i.flatShading=e.flatShading}if(e.blending!==undefined){i.blending=e.blending}if(e.side!==undefined){i.side=e.side}if(e.opacity!==undefined){i.opacity=e.opacity}if(e.transparent!==undefined){i.transparent=e.transparent}if(e.alphaTest!==undefined){i.alphaTest=e.alphaTest}if(e.depthTest!==undefined){i.depthTest=e.depthTest}if(e.depthWrite!==undefined){i.depthWrite=e.depthWrite}if(e.colorWrite!==undefined){i.colorWrite=e.colorWrite}if(e.wireframe!==undefined){i.wireframe=e.wireframe}if(e.wireframeLinewidth!==undefined){i.wireframeLinewidth=e.wireframeLinewidth}if(e.wireframeLinecap!==undefined){i.wireframeLinecap=e.wireframeLinecap}if(e.wireframeLinejoin!==undefined){i.wireframeLinejoin=e.wireframeLinejoin}if(e.rotation!==undefined){i.rotation=e.rotation}if(e.linewidth!==1){i.linewidth=e.linewidth}if(e.dashSize!==undefined){i.dashSize=e.dashSize}if(e.gapSize!==undefined){i.gapSize=e.gapSize}if(e.scale!==undefined){i.scale=e.scale}if(e.skinning!==undefined){i.skinning=e.skinning}if(e.morphTargets!==undefined){i.morphTargets=e.morphTargets}if(e.dithering!==undefined){i.dithering=e.dithering}if(e.visible!==undefined){i.visible=e.visible}if(e.userData!==undefined){i.userData=e.userData}if(e.shading!==undefined){i.flatShading=e.shading===1}if(e.size!==undefined){i.size=e.size}if(e.sizeAttenuation!==undefined){i.sizeAttenuation=e.sizeAttenuation}if(e.map!==undefined){i.map=n(e.map)}if(e.alphaMap!==undefined){i.alphaMap=n(e.alphaMap);i.transparent=true}if(e.bumpMap!==undefined){i.bumpMap=n(e.bumpMap)}if(e.bumpScale!==undefined){i.bumpScale=e.bumpScale}if(e.normalMap!==undefined){i.normalMap=n(e.normalMap)}if(e.normalScale!==undefined){var r=e.normalScale;if(Array.isArray(r)===false){r=[r,r]}i.normalScale=(new Et).fromArray(r)}if(e.displacementMap!==undefined){i.displacementMap=n(e.displacementMap)}if(e.displacementScale!==undefined){i.displacementScale=e.displacementScale}if(e.displacementBias!==undefined){i.displacementBias=e.displacementBias}if(e.roughnessMap!==undefined){i.roughnessMap=n(e.roughnessMap)}if(e.metalnessMap!==undefined){i.metalnessMap=n(e.metalnessMap)}if(e.emissiveMap!==undefined){i.emissiveMap=n(e.emissiveMap)}if(e.emissiveIntensity!==undefined){i.emissiveIntensity=e.emissiveIntensity}if(e.specularMap!==undefined){i.specularMap=n(e.specularMap)}if(e.envMap!==undefined){i.envMap=n(e.envMap)}if(e.reflectivity!==undefined){i.reflectivity=e.reflectivity}if(e.lightMap!==undefined){i.lightMap=n(e.lightMap)}if(e.lightMapIntensity!==undefined){i.lightMapIntensity=e.lightMapIntensity}if(e.aoMap!==undefined){i.aoMap=n(e.aoMap)}if(e.aoMapIntensity!==undefined){i.aoMapIntensity=e.aoMapIntensity}if(e.gradientMap!==undefined){i.gradientMap=n(e.gradientMap)}return i}});function cl(e){this.manager=e!==undefined?e:Ms}Object.assign(cl.prototype,{load:function(e,t,n,i){var r=this;var a=new Ds(r.manager);a.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new fa;var n=e.data.index;if(n!==undefined){var i=new ul[n.type](n.array);t.setIndex(new Jr(i,1))}var r=e.data.attributes;for(var a in r){var o=r[a];var i=new ul[o.type](o.array);t.addAttribute(a,new Jr(i,o.itemSize,o.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(s!==undefined){for(var l=0,c=s.length;l!==c;++l){var u=s[l];t.addGroup(u.start,u.count,u.materialIndex)}}var h=e.data.boundingSphere;if(h!==undefined){var f=new St;if(h.center!==undefined){f.fromArray(h.center)}t.boundingSphere=new zr(f,h.radius)}return t}});var ul={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!=="undefined"?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function hl(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}}hl.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){var t=this.handlers;for(var n=0,i=t.length;n<i;n+=2){var r=t[n];var a=t[n+1];if(r.test(e)){return a}}return null}};Object.assign(hl.prototype,{crossOrigin:undefined,extractUrlBase:function(e){var t=e.split("/");if(t.length===1){return"./"}t.pop();return t.join("/")+"/"},initMaterials:function(e,t,n){var i=this;var r=[];for(var a=0;a<e.length;++a){r[a]=i.createMaterial(e[a],t,n)}return r},createMaterial:function(){var o={NoBlending:he,NormalBlending:fe,AdditiveBlending:de,SubtractiveBlending:pe,MultiplyBlending:me,CustomBlending:ge};var s=new An;var f=new Is;var l=new ll;return function e(t,c,u){var h={};function n(e,t,n,i,r){var a=c+e;var o=hl.Handlers.get(a);var s;if(o!==null){s=o.load(a)}else{f.setCrossOrigin(u);s=f.load(a)}if(t!==undefined){s.repeat.fromArray(t);if(t[0]!==1){s.wrapS=q}if(t[1]!==1){s.wrapT=q}}if(n!==undefined){s.offset.fromArray(n)}if(i!==undefined){if(i[0]==="repeat"){s.wrapS=q}if(i[0]==="mirror"){s.wrapS=Y}if(i[1]==="repeat"){s.wrapT=q}if(i[1]==="mirror"){s.wrapT=Y}}if(r!==undefined){s.anisotropy=r}var l=_t.generateUUID();h[l]=s;return l}var i={uuid:_t.generateUUID(),type:"MeshLambertMaterial"};for(var r in t){var a=t[r];switch(r){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":i.name=a;break;case"blending":i.blending=o[a];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",r,"is no longer supported.");break;case"colorDiffuse":i.color=s.fromArray(a).getHex();break;case"colorSpecular":i.specular=s.fromArray(a).getHex();break;case"colorEmissive":i.emissive=s.fromArray(a).getHex();break;case"specularCoef":i.shininess=a;break;case"shading":if(a.toLowerCase()==="basic"){i.type="MeshBasicMaterial"}if(a.toLowerCase()==="phong"){i.type="MeshPhongMaterial"}if(a.toLowerCase()==="standard"){i.type="MeshStandardMaterial"}break;case"mapDiffuse":i.map=n(a,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":i.emissiveMap=n(a,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":i.lightMap=n(a,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":i.aoMap=n(a,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":i.bumpMap=n(a,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":i.bumpScale=a;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":i.normalMap=n(a,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":i.normalScale=[a,a];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":i.specularMap=n(a,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":i.metalnessMap=n(a,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":i.roughnessMap=n(a,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":i.alphaMap=n(a,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":i.side=ce;break;case"doubleSided":i.side=ue;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");i.opacity=a;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":i[r]=a;break;case"vertexColors":if(a===true){i.vertexColors=v}if(a==="face"){i.vertexColors=d}break;default:console.error("THREE.Loader.createMaterial: Unsupported",r,a);break}}if(i.type==="MeshBasicMaterial"){delete i.emissive}if(i.type!=="MeshPhongMaterial"){delete i.specular}if(i.opacity<1){i.transparent=true}l.setTextures(h);return l.parse(i)}}()});function fl(e){if(typeof e==="boolean"){console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor.");e=undefined}this.manager=e!==undefined?e:Ms;this.withCredentials=false}Object.assign(fl.prototype,{load:function(a,o,e,t){var s=this;var l=this.texturePath&&typeof this.texturePath==="string"?this.texturePath:hl.prototype.extractUrlBase(a);var n=new Ds(this.manager);n.setWithCredentials(this.withCredentials);n.load(a,function(e){var t=JSON.parse(e);var n=t.metadata;if(n!==undefined){var i=n.type;if(i!==undefined){if(i.toLowerCase()==="object"){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if(i.toLowerCase()==="scene"){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}}var r=s.parse(t,l);o(r.geometry,r.materials)},e,t)},setTexturePath:function(e){this.texturePath=e},parse:function(){function r(e,t){function n(e,t){return e&1<<t}var i,r,a,o,s,l,c,u,h,f,d,p,m,g,v,b,y,x,w,_,E,A,C,S,T,M,k,D=e.faces,L=e.vertices,R=e.normals,F=e.colors,P=e.scale,I=0;if(e.uvs!==undefined){for(i=0;i<e.uvs.length;i++){if(e.uvs[i].length){I++}}for(i=0;i<I;i++){t.faceVertexUvs[i]=[]}}o=0;s=L.length;while(o<s){x=new St;x.x=L[o++]*P;x.y=L[o++]*P;x.z=L[o++]*P;t.vertices.push(x)}o=0;s=D.length;while(o<s){f=D[o++];d=n(f,0);p=n(f,1);m=n(f,3);g=n(f,4);v=n(f,5);b=n(f,6);y=n(f,7);if(d){_=new Kr;_.a=D[o];_.b=D[o+1];_.c=D[o+3];E=new Kr;E.a=D[o+1];E.b=D[o+2];E.c=D[o+3];o+=4;if(p){h=D[o++];_.materialIndex=h;E.materialIndex=h}a=t.faces.length;if(m){for(i=0;i<I;i++){S=e.uvs[i];t.faceVertexUvs[i][a]=[];t.faceVertexUvs[i][a+1]=[];for(r=0;r<4;r++){u=D[o++];M=S[u*2];k=S[u*2+1];T=new Et(M,k);if(r!==2){t.faceVertexUvs[i][a].push(T)}if(r!==0){t.faceVertexUvs[i][a+1].push(T)}}}}if(g){c=D[o++]*3;_.normal.set(R[c++],R[c++],R[c]);E.normal.copy(_.normal)}if(v){for(i=0;i<4;i++){c=D[o++]*3;C=new St(R[c++],R[c++],R[c]);if(i!==2){_.vertexNormals.push(C)}if(i!==0){E.vertexNormals.push(C)}}}if(b){l=D[o++];A=F[l];_.color.setHex(A);E.color.setHex(A)}if(y){for(i=0;i<4;i++){l=D[o++];A=F[l];if(i!==2){_.vertexColors.push(new An(A))}if(i!==0){E.vertexColors.push(new An(A))}}}t.faces.push(_);t.faces.push(E)}else{w=new Kr;w.a=D[o++];w.b=D[o++];w.c=D[o++];if(p){h=D[o++];w.materialIndex=h}a=t.faces.length;if(m){for(i=0;i<I;i++){S=e.uvs[i];t.faceVertexUvs[i][a]=[];for(r=0;r<3;r++){u=D[o++];M=S[u*2];k=S[u*2+1];T=new Et(M,k);t.faceVertexUvs[i][a].push(T)}}}if(g){c=D[o++]*3;w.normal.set(R[c++],R[c++],R[c])}if(v){for(i=0;i<3;i++){c=D[o++]*3;C=new St(R[c++],R[c++],R[c]);w.vertexNormals.push(C)}}if(b){l=D[o++];w.color.setHex(F[l])}if(y){for(i=0;i<3;i++){l=D[o++];w.vertexColors.push(new An(F[l]))}}t.faces.push(w)}}}function a(e,t){var n=e.influencesPerVertex!==undefined?e.influencesPerVertex:2;if(e.skinWeights){for(var i=0,r=e.skinWeights.length;i<r;i+=n){var a=e.skinWeights[i];var o=n>1?e.skinWeights[i+1]:0;var s=n>2?e.skinWeights[i+2]:0;var l=n>3?e.skinWeights[i+3]:0;t.skinWeights.push(new Dt(a,o,s,l))}}if(e.skinIndices){for(var i=0,r=e.skinIndices.length;i<r;i+=n){var c=e.skinIndices[i];var u=n>1?e.skinIndices[i+1]:0;var h=n>2?e.skinIndices[i+2]:0;var f=n>3?e.skinIndices[i+3]:0;t.skinIndices.push(new Dt(c,u,h,f))}}t.bones=e.bones;if(t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)){console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}}function o(e,t){var n=e.scale;if(e.morphTargets!==undefined){for(var i=0,r=e.morphTargets.length;i<r;i++){t.morphTargets[i]={};t.morphTargets[i].name=e.morphTargets[i].name;t.morphTargets[i].vertices=[];var a=t.morphTargets[i].vertices;var o=e.morphTargets[i].vertices;for(var s=0,l=o.length;s<l;s+=3){var c=new St;c.x=o[s]*n;c.y=o[s+1]*n;c.z=o[s+2]*n;a.push(c)}}}if(e.morphColors!==undefined&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=t.faces;var h=e.morphColors[0].colors;for(var i=0,r=u.length;i<r;i++){u[i].color.fromArray(h,i*3)}}}function s(e,t){var n=[];var i=[];if(e.animation!==undefined){i.push(e.animation)}if(e.animations!==undefined){if(e.animations.length){i=i.concat(e.animations)}else{i.push(e.animations)}}for(var r=0;r<i.length;r++){var a=sl.parseAnimation(i[r],t.bones);if(a){n.push(a)}}if(t.morphTargets){var o=sl.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(o)}if(n.length>0){t.animations=n}}return function(e,t){if(e.data!==undefined){e=e.data}if(e.scale!==undefined){e.scale=1/e.scale}else{e.scale=1}var n=new Qr;r(e,n);a(e,n);o(e,n);s(e,n);n.computeFaceNormals();n.computeBoundingSphere();if(e.materials===undefined||e.materials.length===0){return{geometry:n}}else{var i=hl.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:n,materials:i}}}}()});function dl(e){this.manager=e!==undefined?e:Ms;this.texturePath=""}Object.assign(dl.prototype,{load:function(i,r,e,a){if(this.texturePath===""){this.texturePath=i.substring(0,i.lastIndexOf("/")+1)}var o=this;var t=new Ds(o.manager);t.load(i,function(e){var t=null;try{t=JSON.parse(e)}catch(e){if(a!==undefined){a(e)}console.error("THREE:ObjectLoader: Can't parse "+i+".",e.message);return}var n=t.metadata;if(n===undefined||n.type===undefined||n.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+i+". Use THREE.JSONLoader instead.");return}o.parse(t,r)},e,a)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries);var i=this.parseImages(e.images,function(){if(t!==undefined){t(o)}});var r=this.parseTextures(e.textures,i);var a=this.parseMaterials(e.materials,r);var o=this.parseObject(e.object,n,a);if(e.animations){o.animations=this.parseAnimations(e.animations)}if(e.images===undefined||e.images.length===0){if(t!==undefined){t(o)}}return o},parseGeometries:function(e){var t=this;var n={};if(e!==undefined){var i=new fl;var r=new cl;for(var a=0,o=e.length;a<o;a++){var s;var l=e[a];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new ms[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new ms[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new ms[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new ms[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new ms[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new ms[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new ms[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new ms[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new ms[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new ms[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new ms[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new ms[l.type](l.vertices,l.indices,l.radius,l.details);break;case"BufferGeometry":s=r.parse(l);break;case"Geometry":s=i.parse(l,t.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid;if(l.name!==undefined){s.name=l.name}n[l.uuid]=s}}return n},parseMaterials:function(e,t){var n={};if(e!==undefined){var i=new ll;i.setTextures(t);for(var r=0,a=e.length;r<a;r++){var o=e[r];if(o.type==="MultiMaterial"){var s=[];for(var l=0;l<o.materials.length;l++){s.push(i.parse(o.materials[l]))}n[o.uuid]=s}else{n[o.uuid]=i.parse(o)}}}return n},parseAnimations:function(e){var t=[];for(var n=0;n<e.length;n++){var i=sl.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){var n=this;var i={};function r(e){n.manager.itemStart(e);return o.load(e,function(){n.manager.itemEnd(e)},undefined,function(){n.manager.itemEnd(e);n.manager.itemError(e)})}if(e!==undefined&&e.length>0){var a=new Ts(t);var o=new Fs(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var c=e[s];var u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.texturePath+c.url;i[c.uuid]=r(u)}}return i},parseTextures:function(e,t){function n(e,t){if(typeof e==="number"){return e}console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e);return t[e]}var i={};if(e!==undefined){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(o.image===undefined){console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid)}if(t[o.image]===undefined){console.warn("THREE.ObjectLoader: Undefined image",o.image)}var s=new kt(t[o.image]);s.needsUpdate=true;s.uuid=o.uuid;if(o.name!==undefined){s.name=o.name}if(o.mapping!==undefined){s.mapping=n(o.mapping,pl)}if(o.offset!==undefined){s.offset.fromArray(o.offset)}if(o.repeat!==undefined){s.repeat.fromArray(o.repeat)}if(o.center!==undefined){s.center.fromArray(o.center)}if(o.rotation!==undefined){s.rotation=o.rotation}if(o.wrap!==undefined){s.wrapS=n(o.wrap[0],ml);s.wrapT=n(o.wrap[1],ml)}if(o.minFilter!==undefined){s.minFilter=n(o.minFilter,gl)}if(o.magFilter!==undefined){s.magFilter=n(o.magFilter,gl)}if(o.anisotropy!==undefined){s.anisotropy=o.anisotropy}if(o.flipY!==undefined){s.flipY=o.flipY}i[o.uuid]=s}}return i},parseObject:function(){var g=new At;return function e(t,n,a){var i=this;var r;function o(e){if(n[e]===undefined){console.warn("THREE.ObjectLoader: Undefined geometry",e)}return n[e]}function s(e){if(e===undefined){return undefined}if(Array.isArray(e)){var t=[];for(var n=0,i=e.length;n<i;n++){var r=e[n];if(a[r]===undefined){console.warn("THREE.ObjectLoader: Undefined material",r)}t.push(a[r])}return t}if(a[e]===undefined){console.warn("THREE.ObjectLoader: Undefined material",e)}return a[e]}switch(t.type){case"Scene":r=new ho;if(t.background!==undefined){if(Number.isInteger(t.background)){r.background=new An(t.background)}}if(t.fog!==undefined){if(t.fog.type==="Fog"){r.fog=new uo(t.fog.color,t.fog.near,t.fog.far)}else if(t.fog.type==="FogExp2"){r.fog=new co(t.fog.color,t.fog.density)}}break;case"PerspectiveCamera":r=new no(t.fov,t.aspect,t.near,t.far);if(t.focus!==undefined){r.focus=t.focus}if(t.zoom!==undefined){r.zoom=t.zoom}if(t.filmGauge!==undefined){r.filmGauge=t.filmGauge}if(t.filmOffset!==undefined){r.filmOffset=t.filmOffset}if(t.view!==undefined){r.view=Object.assign({},t.view)}break;case"OrthographicCamera":r=new Yr(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":r=new Ws(t.color,t.intensity);break;case"DirectionalLight":r=new $s(t.color,t.intensity);break;case"PointLight":r=new Hs(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new Vs(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new Us(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new Os(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var l=o(t.geometry);var c=s(t.material);if(l.bones&&l.bones.length>0){r=new yo(l,c)}else{r=new _a(l,c)}break;case"LOD":r=new go;break;case"Line":r=new wo(o(t.geometry),s(t.material),t.mode);break;case"LineLoop":r=new Eo(o(t.geometry),s(t.material));break;case"LineSegments":r=new _o(o(t.geometry),s(t.material));break;case"PointCloud":case"Points":r=new Co(o(t.geometry),s(t.material));break;case"Sprite":r=new mo(s(t.material));break;case"Group":r=new So;break;default:r=new qr}r.uuid=t.uuid;if(t.name!==undefined){r.name=t.name}if(t.matrix!==undefined){g.fromArray(t.matrix);g.decompose(r.position,r.quaternion,r.scale)}else{if(t.position!==undefined){r.position.fromArray(t.position)}if(t.rotation!==undefined){r.rotation.fromArray(t.rotation)}if(t.quaternion!==undefined){r.quaternion.fromArray(t.quaternion)}if(t.scale!==undefined){r.scale.fromArray(t.scale)}}if(t.castShadow!==undefined){r.castShadow=t.castShadow}if(t.receiveShadow!==undefined){r.receiveShadow=t.receiveShadow}if(t.shadow){if(t.shadow.bias!==undefined){r.shadow.bias=t.shadow.bias}if(t.shadow.radius!==undefined){r.shadow.radius=t.shadow.radius}if(t.shadow.mapSize!==undefined){r.shadow.mapSize.fromArray(t.shadow.mapSize)}if(t.shadow.camera!==undefined){r.shadow.camera=this.parseObject(t.shadow.camera)}}if(t.visible!==undefined){r.visible=t.visible}if(t.userData!==undefined){r.userData=t.userData}if(t.children!==undefined){var u=t.children;for(var h=0;h<u.length;h++){r.add(i.parseObject(u[h],n,a))}}if(t.type==="LOD"){var f=t.levels;for(var d=0;d<f.length;d++){var p=f[d];var m=r.getObjectByProperty("uuid",p.object);if(m!==undefined){r.addLevel(m,p.distance)}}}return r}}()});var pl={UVMapping:z,CubeReflectionMapping:U,CubeRefractionMapping:H,EquirectangularReflectionMapping:j,EquirectangularRefractionMapping:$,SphericalReflectionMapping:W,CubeUVReflectionMapping:V,CubeUVRefractionMapping:G};var ml={RepeatWrapping:q,ClampToEdgeWrapping:X,MirroredRepeatWrapping:Y};var gl={NearestFilter:K,NearestMipMapNearestFilter:Z,NearestMipMapLinearFilter:Q,LinearFilter:J,LinearMipMapNearestFilter:ee,LinearMipMapLinearFilter:te};function vl(e,t,n,i,r){var a=(i-t)*.5;var o=(r-n)*.5;var s=e*e;var l=e*s;return(2*n-2*i+a+o)*l+(-3*n+3*i-2*a-o)*s+a*e+n}function bl(e,t){var n=1-e;return n*n*t}function yl(e,t){return 2*(1-e)*e*t}function xl(e,t){return e*e*t}function wl(e,t,n,i){return bl(e,t)+yl(e,n)+xl(e,i)}function _l(e,t){var n=1-e;return n*n*n*t}function El(e,t){var n=1-e;return 3*n*n*e*t}function Al(e,t){return 3*(1-e)*e*e*t}function Cl(e,t){return e*e*e*t}function Sl(e,t,n,i,r){return _l(e,t)+El(e,n)+Al(e,i)+Cl(e,r)}function Tl(){this.type="Curve";this.arcLengthDivisions=200}Object.assign(Tl.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){var t=this;if(e===undefined){e=5}var n=[];for(var i=0;i<=e;i++){n.push(t.getPoint(i/e))}return n},getSpacedPoints:function(e){var t=this;if(e===undefined){e=5}var n=[];for(var i=0;i<=e;i++){n.push(t.getPointAt(i/e))}return n},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){var t=this;if(e===undefined){e=this.arcLengthDivisions}if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate){return this.cacheArcLengths}this.needsUpdate=false;var n=[];var i,r=this.getPoint(0);var a,o=0;n.push(0);for(a=1;a<=e;a++){i=t.getPoint(a/e);o+=i.distanceTo(r);n.push(o);r=i}this.cacheArcLengths=n;return n},updateArcLengths:function(){this.needsUpdate=true;this.getLengths()},getUtoTmapping:function(e,t){var n=this.getLengths();var i=0,r=n.length;var a;if(t){a=t}else{a=e*n[r-1]}var o=0,s=r-1,l;while(o<=s){i=Math.floor(o+(s-o)/2);l=n[i]-a;if(l<0){o=i+1}else if(l>0){s=i-1}else{s=i;break}}i=s;if(n[i]===a){return i/(r-1)}var c=n[i];var u=n[i+1];var h=u-c;var f=(a-c)/h;var d=(i+f)/(r-1);return d},getTangent:function(e){var t=1e-4;var n=e-t;var i=e+t;if(n<0){n=0}if(i>1){i=1}var r=this.getPoint(n);var a=this.getPoint(i);var o=a.clone().sub(r);return o.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n=this;var i=new St;var r=[];var a=[];var o=[];var s=new St;var l=new At;var c,u,h;for(c=0;c<=e;c++){u=c/e;r[c]=n.getTangentAt(u);r[c].normalize()}a[0]=new St;o[0]=new St;var f=Number.MAX_VALUE;var d=Math.abs(r[0].x);var p=Math.abs(r[0].y);var m=Math.abs(r[0].z);if(d<=f){f=d;i.set(1,0,0)}if(p<=f){f=p;i.set(0,1,0)}if(m<=f){i.set(0,0,1)}s.crossVectors(r[0],i).normalize();a[0].crossVectors(r[0],s);o[0].crossVectors(r[0],a[0]);for(c=1;c<=e;c++){a[c]=a[c-1].clone();o[c]=o[c-1].clone();s.crossVectors(r[c-1],r[c]);if(s.length()>Number.EPSILON){s.normalize();h=Math.acos(_t.clamp(r[c-1].dot(r[c]),-1,1));a[c].applyMatrix4(l.makeRotationAxis(s,h))}o[c].crossVectors(r[c],a[c])}if(t===true){h=Math.acos(_t.clamp(a[0].dot(a[e]),-1,1));h/=e;if(r[0].dot(s.crossVectors(a[0],a[e]))>0){h=-h}for(c=1;c<=e;c++){a[c].applyMatrix4(l.makeRotationAxis(r[c],h*c));o[c].crossVectors(r[c],a[c])}}return{tangents:r,normals:a,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.arcLengthDivisions=e.arcLengthDivisions;return this}});function Ml(e,t){Tl.call(this);this.type="LineCurve";this.v1=e||new Et;this.v2=t||new Et}Ml.prototype=Object.create(Tl.prototype);Ml.prototype.constructor=Ml;Ml.prototype.isLineCurve=true;Ml.prototype.getPoint=function(e,t){var n=t||new Et;if(e===1){n.copy(this.v2)}else{n.copy(this.v2).sub(this.v1);n.multiplyScalar(e).add(this.v1)}return n};Ml.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Ml.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()};Ml.prototype.copy=function(e){Tl.prototype.copy.call(this,e);this.v1.copy(e.v1);this.v2.copy(e.v2);return this};function kl(){Tl.call(this);this.type="CurvePath";this.curves=[];this.autoClose=false}kl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:kl,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0);var t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){this.curves.push(new Ml(t,e))}},getPoint:function(e){var t=this;var n=e*this.getLength();var i=this.getCurveLengths();var r=0;while(r<i.length){if(i[r]>=n){var a=i[r]-n;var o=t.curves[r];var s=o.getLength();var l=s===0?0:1-a/s;return o.getPointAt(l)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=true;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function(){var e=this;if(this.cacheLengths&&this.cacheLengths.length===this.curves.length){return this.cacheLengths}var t=[],n=0;for(var i=0,r=this.curves.length;i<r;i++){n+=e.curves[i].getLength();t.push(n)}this.cacheLengths=t;return t},getSpacedPoints:function(e){var t=this;if(e===undefined){e=40}var n=[];for(var i=0;i<=e;i++){n.push(t.getPoint(i/e))}if(this.autoClose){n.push(n[0])}return n},getPoints:function(e){e=e||12;var t=[],n;for(var i=0,r=this.curves;i<r.length;i++){var a=r[i];var o=a&&a.isEllipseCurve?e*2:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e;var s=a.getPoints(o);for(var l=0;l<s.length;l++){var c=s[l];if(n&&n.equals(c)){continue}t.push(c);n=c}}if(this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])){t.push(t[0])}return t},copy:function(e){var t=this;Tl.prototype.copy.call(this,e);this.curves=[];for(var n=0,i=e.curves.length;n<i;n++){var r=e.curves[n];t.curves.push(r.clone())}this.autoClose=e.autoClose;return this}});function Dl(e,t,n,i,r,a,o,s){Tl.call(this);this.type="EllipseCurve";this.aX=e||0;this.aY=t||0;this.xRadius=n||1;this.yRadius=i||1;this.aStartAngle=r||0;this.aEndAngle=a||2*Math.PI;this.aClockwise=o||false;this.aRotation=s||0}Dl.prototype=Object.create(Tl.prototype);Dl.prototype.constructor=Dl;Dl.prototype.isEllipseCurve=true;Dl.prototype.getPoint=function(e,t){var n=t||new Et;var i=Math.PI*2;var r=this.aEndAngle-this.aStartAngle;var a=Math.abs(r)<Number.EPSILON;while(r<0){r+=i}while(r>i){r-=i}if(r<Number.EPSILON){if(a){r=0}else{r=i}}if(this.aClockwise===true&&!a){if(r===i){r=-i}else{r=r-i}}var o=this.aStartAngle+e*r;var s=this.aX+this.xRadius*Math.cos(o);var l=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){var c=Math.cos(this.aRotation);var u=Math.sin(this.aRotation);var h=s-this.aX;var f=l-this.aY;s=h*c-f*u+this.aX;l=h*u+f*c+this.aY}return n.set(s,l)};Dl.prototype.copy=function(e){Tl.prototype.copy.call(this,e);this.aX=e.aX;this.aY=e.aY;this.xRadius=e.xRadius;this.yRadius=e.yRadius;this.aStartAngle=e.aStartAngle;this.aEndAngle=e.aEndAngle;this.aClockwise=e.aClockwise;this.aRotation=e.aRotation;return this};function Ll(e){Tl.call(this);this.type="SplineCurve";this.points=e||[]}Ll.prototype=Object.create(Tl.prototype);Ll.prototype.constructor=Ll;Ll.prototype.isSplineCurve=true;Ll.prototype.getPoint=function(e,t){var n=t||new Et;var i=this.points;var r=(i.length-1)*e;var a=Math.floor(r);var o=r-a;var s=i[a===0?a:a-1];var l=i[a];var c=i[a>i.length-2?i.length-1:a+1];var u=i[a>i.length-3?i.length-1:a+2];n.set(vl(o,s.x,l.x,c.x,u.x),vl(o,s.y,l.y,c.y,u.y));return n};Ll.prototype.copy=function(e){var t=this;Tl.prototype.copy.call(this,e);this.points=[];for(var n=0,i=e.points.length;n<i;n++){var r=e.points[n];t.points.push(r.clone())}return this};function Rl(e,t,n,i){Tl.call(this);this.type="CubicBezierCurve";this.v0=e||new Et;this.v1=t||new Et;this.v2=n||new Et;this.v3=i||new Et}Rl.prototype=Object.create(Tl.prototype);Rl.prototype.constructor=Rl;Rl.prototype.isCubicBezierCurve=true;Rl.prototype.getPoint=function(e,t){var n=t||new Et;var i=this.v0,r=this.v1,a=this.v2,o=this.v3;n.set(Sl(e,i.x,r.x,a.x,o.x),Sl(e,i.y,r.y,a.y,o.y));return n};Rl.prototype.copy=function(e){Tl.prototype.copy.call(this,e);this.v0.copy(e.v0);this.v1.copy(e.v1);this.v2.copy(e.v2);this.v3.copy(e.v3);return this};function Fl(e,t,n){Tl.call(this);this.type="QuadraticBezierCurve";this.v0=e||new Et;this.v1=t||new Et;this.v2=n||new Et}Fl.prototype=Object.create(Tl.prototype);Fl.prototype.constructor=Fl;Fl.prototype.isQuadraticBezierCurve=true;Fl.prototype.getPoint=function(e,t){var n=t||new Et;var i=this.v0,r=this.v1,a=this.v2;n.set(wl(e,i.x,r.x,a.x),wl(e,i.y,r.y,a.y));return n};Fl.prototype.copy=function(e){Tl.prototype.copy.call(this,e);this.v0.copy(e.v0);this.v1.copy(e.v1);this.v2.copy(e.v2);return this};var Pl=Object.assign(Object.create(kl.prototype),{setFromPoints:function(e){var t=this;this.moveTo(e[0].x,e[0].y);for(var n=1,i=e.length;n<i;n++){t.lineTo(e[n].x,e[n].y)}},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Ml(this.currentPoint.clone(),new Et(e,t));this.curves.push(n);this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var r=new Fl(this.currentPoint.clone(),new Et(e,t),new Et(n,i));this.curves.push(r);this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,r,a){var o=new Rl(this.currentPoint.clone(),new Et(e,t),new Et(n,i),new Et(r,a));this.curves.push(o);this.currentPoint.set(r,a)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e);var n=new Ll(t);this.curves.push(n);this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,a){var o=this.currentPoint.x;var s=this.currentPoint.y;this.absarc(e+o,t+s,n,i,r,a)},absarc:function(e,t,n,i,r,a){this.absellipse(e,t,n,n,i,r,a)},ellipse:function(e,t,n,i,r,a,o,s){var l=this.currentPoint.x;var c=this.currentPoint.y;this.absellipse(e+l,t+c,n,i,r,a,o,s)},absellipse:function(e,t,n,i,r,a,o,s){var l=new Dl(e,t,n,i,r,a,o,s);if(this.curves.length>0){var c=l.getPoint(0);if(!c.equals(this.currentPoint)){this.lineTo(c.x,c.y)}}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){kl.prototype.copy.call(this,e);this.currentPoint.copy(e.currentPoint);return this}});function Il(e){kl.call(this);this.type="Path";this.currentPoint=new Et;if(e){this.setFromPoints(e)}}Il.prototype=Pl;Pl.constructor=Il;function Nl(e){Il.call(this,e);this.type="Shape";this.holes=[]}Nl.prototype=Object.assign(Object.create(Pl),{constructor:Nl,getPointsHoles:function(e){var t=this;var n=[];for(var i=0,r=this.holes.length;i<r;i++){n[i]=t.holes[i].getPoints(e)}return n},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){var t=this;Il.prototype.copy.call(this,e);this.holes=[];for(var n=0,i=e.holes.length;n<i;n++){var r=e.holes[n];t.holes.push(r.clone())}return this}});function Ol(){this.type="ShapePath";this.subPaths=[];this.currentPath=null}Object.assign(Ol.prototype,{moveTo:function(e,t){this.currentPath=new Il;this.subPaths.push(this.currentPath);this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,a){this.currentPath.bezierCurveTo(e,t,n,i,r,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){var t=[];for(var n=0,i=e.length;n<i;n++){var r=e[n];var a=new Nl;a.curves=r.curves;t.push(a)}return t}function i(e,t){var n=t.length;var i=false;for(var r=n-1,a=0;a<n;r=a++){var o=t[r];var s=t[a];var l=s.x-o.x;var c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0){o=t[a];l=-l;s=t[r];c=-c}if(e.y<o.y||e.y>s.y){continue}if(e.y===o.y){if(e.x===o.x){return true}}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(u===0){return true}if(u<0){continue}i=!i}}else{if(e.y!==o.y){continue}if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x){return true}}}return i}var r=Yo.isClockWise;var a=this.subPaths;if(a.length===0){return[]}if(t===true){return n(a)}var o,s,l,c=[];if(a.length===1){s=a[0];l=new Nl;l.curves=s.curves;c.push(l);return c}var u=!r(a[0].getPoints());u=e?!u:u;var h=[];var f=[];var d=[];var p=0;var m;f[p]=undefined;d[p]=[];for(var g=0,v=a.length;g<v;g++){s=a[g];m=s.getPoints();o=r(m);o=e?!o:o;if(o){if(!u&&f[p]){p++}f[p]={s:new Nl,p:m};f[p].s.curves=s.curves;if(u){p++}d[p]=[]}else{d[p].push({h:s,p:m[0]})}}if(!f[0]){return n(a)}if(f.length>1){var b=false;var y=[];for(var x=0,w=f.length;x<w;x++){h[x]=[]}for(var x=0,w=f.length;x<w;x++){var _=d[x];for(var E=0;E<_.length;E++){var A=_[E];var C=true;for(var S=0;S<f.length;S++){if(i(A.p,f[S].p)){if(x!==S){y.push({froms:x,tos:S,hole:E})}if(C){C=false;h[S].push(A)}else{b=true}}}if(C){h[x].push(A)}}}if(y.length>0){if(!b){d=h}}}var T;for(var g=0,M=f.length;g<M;g++){l=f[g].s;c.push(l);T=d[g];for(var k=0,D=T.length;k<D;k++){l.holes.push(T[k].h)}}return c}});function Bl(e){this.type="Font";this.data=e}Object.assign(Bl.prototype,{isFont:true,generateShapes:function(e,u,t){function n(e){var t=String(e).split("");var n=u/_.resolution;var i=(_.boundingBox.yMax-_.boundingBox.yMin+_.underlineThickness)*n;var r=0,a=0;var o=[];for(var s=0;s<t.length;s++){var l=t[s];if(l==="\n"){r=0;a-=i}else{var c=h(l,n,r,a);r+=c.offsetX;o.push(c.path)}}return o}function h(e,t,n,i){var r=_.glyphs[e]||_.glyphs["?"];if(!r){return}var a=new Ol;var o=[];var s,l,c,u,h,f,d,p,m,g,v;if(r.o){var b=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(var y=0,x=b.length;y<x;){var w=b[y++];switch(w){case"m":s=b[y++]*t+n;l=b[y++]*t+i;a.moveTo(s,l);break;case"l":s=b[y++]*t+n;l=b[y++]*t+i;a.lineTo(s,l);break;case"q":c=b[y++]*t+n;u=b[y++]*t+i;d=b[y++]*t+n;p=b[y++]*t+i;a.quadraticCurveTo(d,p,c,u);v=o[o.length-1];if(v){h=v.x;f=v.y}break;case"b":c=b[y++]*t+n;u=b[y++]*t+i;d=b[y++]*t+n;p=b[y++]*t+i;m=b[y++]*t+n;g=b[y++]*t+i;a.bezierCurveTo(d,p,m,g,c,u);v=o[o.length-1];if(v){h=v.x;f=v.y}break}}}return{offsetX:r.ha*t,path:a}}if(u===undefined){u=100}if(t===undefined){t=4}var _=this.data;var i=n(e);var r=[];for(var a=0,o=i.length;a<o;a++){Array.prototype.push.apply(r,i[a].toShapes())}return r}});function zl(e){this.manager=e!==undefined?e:Ms}Object.assign(zl.prototype,{load:function(e,i,t,n){var r=this;var a=new Ds(this.manager);a.setPath(this.path);a.load(e,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.");n=JSON.parse(t.substring(65,t.length-2))}var e=r.parse(n);if(i){i(e)}},t,n)},parse:function(e){return new Bl(e)},setPath:function(e){this.path=e;return this}});var Ul;var Hl={getContext:function(){if(Ul===undefined){Ul=new(window.AudioContext||window.webkitAudioContext)}return Ul},setContext:function(e){Ul=e}};function jl(e){this.manager=e!==undefined?e:Ms}Object.assign(jl.prototype,{load:function(e,n,t,i){var r=new Ds(this.manager);r.setResponseType("arraybuffer");r.load(e,function(e){var t=Hl.getContext();t.decodeAudioData(e,function(e){n(e)})},t,i)}});function $l(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new no;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=false;this.cameraR=new no;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=false}Object.assign($l.prototype,{update:function(){var l,c,u,h,f,d,p,m;var g=new At;var v=new At;return function e(t){var n=l!==this||c!==t.focus||u!==t.fov||h!==t.aspect*this.aspect||f!==t.near||d!==t.far||p!==t.zoom||m!==this.eyeSep;if(n){l=this;c=t.focus;u=t.fov;h=t.aspect*this.aspect;f=t.near;d=t.far;p=t.zoom;var i=t.projectionMatrix.clone();m=this.eyeSep/2;var r=m*f/c;var a=f*Math.tan(_t.DEG2RAD*u*.5)/p;var o,s;v.elements[12]=-m;g.elements[12]=m;o=-a*h+r;s=a*h+r;i.elements[0]=2*f/(s-o);i.elements[8]=(s+o)/(s-o);this.cameraL.projectionMatrix.copy(i);o=-a*h-r;s=a*h-r;i.elements[0]=2*f/(s-o);i.elements[8]=(s+o)/(s-o);this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(v);this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(g)}}()});function Wl(e,t,n){qr.call(this);this.type="CubeCamera";var i=90,r=1;var a=new no(i,r,e,t);a.up.set(0,-1,0);a.lookAt(new St(1,0,0));this.add(a);var o=new no(i,r,e,t);o.up.set(0,-1,0);o.lookAt(new St(-1,0,0));this.add(o);var s=new no(i,r,e,t);s.up.set(0,0,1);s.lookAt(new St(0,1,0));this.add(s);var l=new no(i,r,e,t);l.up.set(0,0,-1);l.lookAt(new St(0,-1,0));this.add(l);var c=new no(i,r,e,t);c.up.set(0,-1,0);c.lookAt(new St(0,0,1));this.add(c);var u=new no(i,r,e,t);u.up.set(0,-1,0);u.lookAt(new St(0,0,-1));this.add(u);var h={format:Le,magFilter:J,minFilter:J};this.renderTarget=new Rt(n,n,h);this.renderTarget.texture.name="CubeCamera";this.update=function(e,t){if(this.parent===null){this.updateMatrixWorld()}var n=this.renderTarget;var i=n.texture.generateMipmaps;n.texture.generateMipmaps=false;n.activeCubeFace=0;e.render(t,a,n);n.activeCubeFace=1;e.render(t,o,n);n.activeCubeFace=2;e.render(t,s,n);n.activeCubeFace=3;e.render(t,l,n);n.activeCubeFace=4;e.render(t,c,n);n.texture.generateMipmaps=i;n.activeCubeFace=5;e.render(t,u,n);e.setRenderTarget(null)};this.clear=function(e,t,n,i){var r=this.renderTarget;for(var a=0;a<6;a++){r.activeCubeFace=a;e.setRenderTarget(r);e.clear(t,n,i)}e.setRenderTarget(null)}}Wl.prototype=Object.create(qr.prototype);Wl.prototype.constructor=Wl;function Vl(){qr.call(this);this.type="AudioListener";this.context=Hl.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null}Vl.prototype=Object.assign(Object.create(qr.prototype),{constructor:Vl,getInput:function(){return this.gain},removeFilter:function(){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);this.gain.connect(this.context.destination);this.filter=null}},getFilter:function(){return this.filter},setFilter:function(e){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination)}else{this.gain.disconnect(this.context.destination)}this.filter=e;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var r=new St;var a=new Ct;var o=new St;var s=new St;return function e(t){qr.prototype.updateMatrixWorld.call(this,t);var n=this.context.listener;var i=this.up;this.matrixWorld.decompose(r,a,o);s.set(0,0,-1).applyQuaternion(a);if(n.positionX){n.positionX.setValueAtTime(r.x,this.context.currentTime);n.positionY.setValueAtTime(r.y,this.context.currentTime);n.positionZ.setValueAtTime(r.z,this.context.currentTime);n.forwardX.setValueAtTime(s.x,this.context.currentTime);n.forwardY.setValueAtTime(s.y,this.context.currentTime);n.forwardZ.setValueAtTime(s.z,this.context.currentTime);n.upX.setValueAtTime(i.x,this.context.currentTime);n.upY.setValueAtTime(i.y,this.context.currentTime);n.upZ.setValueAtTime(i.z,this.context.currentTime)}else{n.setPosition(r.x,r.y,r.z);n.setOrientation(s.x,s.y,s.z,i.x,i.y,i.z)}}}()});function Gl(e){qr.call(this);this.type="Audio";this.context=e.context;this.gain=this.context.createGain();this.gain.connect(e.getInput());this.autoplay=false;this.buffer=null;this.loop=false;this.startTime=0;this.offset=0;this.playbackRate=1;this.isPlaying=false;this.hasPlaybackControl=true;this.sourceType="empty";this.filters=[]}Gl.prototype=Object.assign(Object.create(qr.prototype),{constructor:Gl,getOutput:function(){return this.gain},setNodeSource:function(e){this.hasPlaybackControl=false;this.sourceType="audioNode";this.source=e;this.connect();return this},setBuffer:function(e){this.buffer=e;this.sourceType="buffer";if(this.autoplay){this.play()}return this},play:function(){if(this.isPlaying===true){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}var e=this.context.createBufferSource();e.buffer=this.buffer;e.loop=this.loop;e.onended=this.onEnded.bind(this);e.playbackRate.setValueAtTime(this.playbackRate,this.startTime);this.startTime=this.context.currentTime;e.start(this.startTime,this.offset);this.isPlaying=true;this.source=e;return this.connect()},pause:function(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}if(this.isPlaying===true){this.source.stop();this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate;this.isPlaying=false}return this},stop:function(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}this.source.stop();this.offset=0;this.isPlaying=false;return this},connect:function(){var e=this;if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,n=this.filters.length;t<n;t++){e.filters[t-1].connect(e.filters[t])}this.filters[this.filters.length-1].connect(this.getOutput())}else{this.source.connect(this.getOutput())}return this},disconnect:function(){var e=this;if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,n=this.filters.length;t<n;t++){e.filters[t-1].disconnect(e.filters[t])}this.filters[this.filters.length-1].disconnect(this.getOutput())}else{this.source.disconnect(this.getOutput())}return this},getFilters:function(){return this.filters},setFilters:function(e){if(!e){e=[]}if(this.isPlaying===true){this.disconnect();this.filters=e;this.connect()}else{this.filters=e}return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}this.playbackRate=e;if(this.isPlaying===true){this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime)}return this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=false},getLoop:function(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return false}return this.loop},setLoop:function(e){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}this.loop=e;if(this.isPlaying===true){this.source.loop=this.loop}return this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){this.gain.gain.value=e;return this}});function ql(e){Gl.call(this,e);this.panner=this.context.createPanner();this.panner.connect(this.gain)}ql.prototype=Object.assign(Object.create(Gl.prototype),{constructor:ql,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var n=new St;return function e(t){qr.prototype.updateMatrixWorld.call(this,t);n.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(n.x,n.y,n.z)}}()});function Xl(e,t){this.analyser=e.context.createAnalyser();this.analyser.fftSize=t!==undefined?t:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);e.getOutput().connect(this.analyser)}Object.assign(Xl.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){var e=0,t=this.getFrequencyData();for(var n=0;n<t.length;n++){e+=t[n]}return e/t.length}});function Yl(e,t,n){this.binding=e;this.valueSize=n;var i=Float64Array,r;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array;r=this._select;break;default:r=this._lerp}this.buffer=new i(n*4);this._mixBufferRegion=r;this.cumulativeWeight=0;this.useCount=0;this.referenceCount=0}Object.assign(Yl.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,a=this.cumulativeWeight;if(a===0){for(var o=0;o!==i;++o){n[r+o]=n[o]}a=t}else{a+=t;var s=t/a;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.binding;this.cumulativeWeight=0;if(r<1){var o=t*3;this._mixBufferRegion(n,i,o,1-r,t)}for(var s=t,l=t+t;s!==l;++s){if(n[s]!==n[s+t]){a.setValue(n,i);break}}},saveOriginalState:function(){var e=this.binding;var t=this.buffer,n=this.valueSize,i=n*3;e.getValue(t,i);for(var r=n,a=i;r!==a;++r){t[r]=t[i+r%n]}this.cumulativeWeight=0},restoreOriginalState:function(){var e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(i>=.5){for(var a=0;a!==r;++a){e[t+a]=e[n+a]}}},_slerp:function(e,t,n,i){Ct.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){var a=1-i;for(var o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*i}}});function Kl(e,t,n){var i=n||Zl.parseTrackName(t);this._targetGroup=e;this._bindings=e.subscribe_(t,i)}Object.assign(Kl.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];if(i!==undefined){i.getValue(e,t)}},setValue:function(e,t){var n=this._bindings;for(var i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i){n[i].setValue(e,t)}},bind:function(){var e=this._bindings;for(var t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t){e[t].bind()}},unbind:function(){var e=this._bindings;for(var t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t){e[t].unbind()}}});function Zl(e,t,n){this.path=t;this.parsedPath=n||Zl.parseTrackName(t);this.node=Zl.findNode(e,this.parsedPath.nodeName)||e;this.rootNode=e}Object.assign(Zl,{Composite:Kl,create:function(e,t,n){if(!(e&&e.isAnimationObjectGroup)){return new Zl(e,t,n)}else{return new Zl.Composite(e,t,n)}},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=/((?:[\w-]+[\/:])*)/;var t=/([\w-\.]+)?/;var n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/;var i=/\.([\w-]+)(?:\[(.+)\])?/;var a=new RegExp(""+"^"+e.source+t.source+n.source+i.source+"$");var o=["material","materials","bones"];return function(e){var t=a.exec(e);if(!t){throw new Error("PropertyBinding: Cannot parse trackName: "+e)}var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]};var i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==undefined&&i!==-1){var r=n.nodeName.substring(i+1);if(o.indexOf(r)!==-1){n.nodeName=n.nodeName.substring(0,i);n.objectName=r}}if(n.propertyName===null||n.propertyName.length===0){throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e)}return n}}(),findNode:function(e,r){if(!r||r===""||r==="root"||r==="."||r===-1||r===e.name||r===e.uuid){return e}if(e.skeleton){var t=function(e){for(var t=0;t<e.bones.length;t++){var n=e.bones[t];if(n.name===r){return n}}return null};var n=t(e.skeleton);if(n){return n}}if(e.children){var a=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.name===r||n.uuid===r){return n}var i=a(n.children);if(i){return i}}return null};var i=a(e.children);if(i){return i}}return null}});Object.assign(Zl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function e(t,n){t[n]=this.node[this.propertyName]},function e(t,n){var i=this.resolvedProperty;for(var r=0,a=i.length;r!==a;++r){t[n++]=i[r]}},function e(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function e(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function e(t,n){this.targetObject[this.propertyName]=t[n]},function e(t,n){this.targetObject[this.propertyName]=t[n];this.targetObject.needsUpdate=true},function e(t,n){this.targetObject[this.propertyName]=t[n];this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,n){var i=this.resolvedProperty;for(var r=0,a=i.length;r!==a;++r){i[r]=t[n++]}},function e(t,n){var i=this.resolvedProperty;for(var r=0,a=i.length;r!==a;++r){i[r]=t[n++]}this.targetObject.needsUpdate=true},function e(t,n){var i=this.resolvedProperty;for(var r=0,a=i.length;r!==a;++r){i[r]=t[n++]}this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function e(t,n){this.resolvedProperty[this.propertyIndex]=t[n];this.targetObject.needsUpdate=true},function e(t,n){this.resolvedProperty[this.propertyIndex]=t[n];this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,n){this.resolvedProperty.fromArray(t,n)},function e(t,n){this.resolvedProperty.fromArray(t,n);this.targetObject.needsUpdate=true},function e(t,n){this.resolvedProperty.fromArray(t,n);this.targetObject.matrixWorldNeedsUpdate=true}]],getValue:function e(t,n){this.bind();this.getValue(t,n)},setValue:function e(t,n){this.bind();this.setValue(t,n)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(!e){e=Zl.findNode(this.rootNode,t.nodeName)||this.rootNode;this.node=e}this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(var o=0;o<e.length;o++){if(e[o].name===a){a=o;break}}break;default:if(e[n]===undefined){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(a!==undefined){if(e[a]===undefined){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[a]}}var s=e[i];if(s===undefined){var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}var c=this.Versioning.None;if(e.needsUpdate!==undefined){c=this.Versioning.NeedsUpdate;this.targetObject=e}else if(e.matrixWorldNeedsUpdate!==undefined){c=this.Versioning.MatrixWorldNeedsUpdate;this.targetObject=e}var u=this.BindingType.Direct;if(r!==undefined){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(var o=0;o<this.node.geometry.morphAttributes.position.length;o++){if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}}else{if(!e.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(var o=0;o<this.node.geometry.morphTargets.length;o++){if(e.geometry.morphTargets[o].name===r){r=o;break}}}}u=this.BindingType.ArrayElement;this.resolvedProperty=s;this.propertyIndex=r}else if(s.fromArray!==undefined&&s.toArray!==undefined){u=this.BindingType.HasFromToArray;this.resolvedProperty=s}else if(Array.isArray(s)){u=this.BindingType.EntireArray;this.resolvedProperty=s}else{this.propertyName=i}this.getValue=this.GetterByBindingType[u];this.setValue=this.SetterByBindingTypeAndVersioning[u][c]},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(Zl.prototype,{_getValue_unbound:Zl.prototype.getValue,_setValue_unbound:Zl.prototype.setValue});function Ql(){var e=arguments;this.uuid=_t.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,i=arguments.length;n!==i;++n){t[e[n].uuid]=n}this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}Object.assign(Ql.prototype,{isAnimationObjectGroup:true,add:function(){var e=arguments;var t=this._objects,n=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,l=s.length;for(var c=0,u=arguments.length;c!==u;++c){var h=e[c],f=h.uuid,d=r[f],p=undefined;if(d===undefined){d=n++;r[f]=d;t.push(h);for(var m=0,g=l;m!==g;++m){s[m].push(new Zl(h,a[m],o[m]))}}else if(d<i){p=t[d];var v=--i,b=t[v];r[b.uuid]=d;t[d]=b;r[f]=v;t[v]=h;for(var m=0,g=l;m!==g;++m){var y=s[m],x=y[v],w=y[d];y[d]=x;if(w===undefined){w=new Zl(h,a[m],o[m])}y[v]=w}}else if(t[d]!==p){console.error("THREE.AnimationObjectGroup: Different objects with the same UUID "+"detected. Clean the caches or recreate your infrastructure when reloading scenes.")}}this.nCachedObjects_=i},remove:function(){var e=arguments;var t=this._objects,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,a=r.length;for(var o=0,s=arguments.length;o!==s;++o){var l=e[o],c=l.uuid,u=i[c];if(u!==undefined&&u>=n){var h=n++,f=t[h];i[f.uuid]=u;t[u]=f;i[c]=h;t[h]=l;for(var d=0,p=a;d!==p;++d){var m=r[d],g=m[h],v=m[u];m[u]=g;m[h]=v}}}this.nCachedObjects_=n},uncache:function(){var e=arguments;var t=this._objects,n=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length;for(var s=0,l=arguments.length;s!==l;++s){var c=e[s],u=c.uuid,h=r[u];if(h!==undefined){delete r[u];if(h<i){var f=--i,d=t[f],p=--n,m=t[p];r[d.uuid]=h;t[h]=d;r[m.uuid]=f;t[f]=m;t.pop();for(var g=0,v=o;g!==v;++g){var b=a[g],y=b[f],x=b[p];b[h]=y;b[f]=x;b.pop()}}else{var p=--n,m=t[p];r[m.uuid]=h;t[h]=m;t.pop();for(var g=0,v=o;g!==v;++g){var b=a[g];b[h]=b[p];b.pop()}}}}this.nCachedObjects_=i},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(i!==undefined){return r[i]}var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=r.length;n[e]=i;a.push(e);o.push(t);r.push(u);for(var h=c,f=s.length;h!==f;++h){var d=s[h];u[h]=new Zl(d,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(n!==undefined){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],l=e[o];t[l]=n;a[n]=s;a.pop();r[n]=r[o];r.pop();i[n]=i[o];i.pop()}}});function Jl(e,t,n){this._mixer=e;this._clip=t;this._localRoot=n||null;var i=t.tracks,r=i.length,a=new Array(r);var o={endingStart:ot,endingEnd:ot};for(var s=0;s!==r;++s){var l=i[s].createInterpolant(null);a[s]=l;l.settings=o}this._interpolantSettings=o;this._interpolants=a;this._propertyBindings=new Array(r);this._cacheIndex=null;this._byClipCacheIndex=null;this._timeScaleInterpolant=null;this._weightInterpolant=null;this.loop=tt;this._loopCount=-1;this._startTime=null;this.time=0;this.timeScale=1;this._effectiveTimeScale=1;this.weight=1;this._effectiveWeight=1;this.repetitions=Infinity;this.paused=false;this.enabled=true;this.clampWhenFinished=false;this.zeroSlopeAtStart=true;this.zeroSlopeAtEnd=true}Object.assign(Jl.prototype,{play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=false;this.enabled=true;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){this._startTime=e;return this},setLoop:function(e,t){this.loop=e;this.repetitions=t;return this},setEffectiveWeight:function(e){this.weight=e;this._effectiveWeight=this.enabled?e:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){e.fadeOut(t);this.fadeIn(t);if(n){var i=this._clip.duration,r=e._clip.duration,a=r/i,o=i/r;e.warp(1,a,t);this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;if(e!==null){this._weightInterpolant=null;this._mixer._takeBackControlInterpolant(e)}return this},setEffectiveTimeScale:function(e){this.timeScale=e;this._effectiveTimeScale=this.paused?0:e;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){this.timeScale=this._clip.duration/e;return this.stopWarping()},syncWith:function(e){this.time=e.time;this.timeScale=e.timeScale;return this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;if(a===null){a=i._lendControlInterpolant();this._timeScaleInterpolant=a}var s=a.parameterPositions,l=a.sampleValues;s[0]=r;s[1]=r+n;l[0]=e/o;l[1]=t/o;return this},stopWarping:function(){var e=this._timeScaleInterpolant;if(e!==null){this._timeScaleInterpolant=null;this._mixer._takeBackControlInterpolant(e)}return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}var r=this._startTime;if(r!==null){var a=(e-r)*n;if(a<0||n===0){return}this._startTime=null;t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t);var s=this._updateWeight(e);if(s>0){var l=this._interpolants;var c=this._propertyBindings;for(var u=0,h=l.length;u!==h;++u){l[u].evaluate(o);c[u].accumulate(i,s)}}},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(n!==null){var i=n.evaluate(e)[0];t*=i;if(e>n.parameterPositions[1]){this.stopFading();if(i===0){this.enabled=false}}}}this._effectiveWeight=t;return t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(n!==null){var i=n.evaluate(e)[0];t*=i;if(e>n.parameterPositions[1]){this.stopWarping();if(t===0){this.paused=true}else{this.timeScale=t}}}}this._effectiveTimeScale=t;return t},_updateTime:function(e){var t=this.time+e;if(e===0){return t}var n=this._clip.duration,i=this.loop,r=this._loopCount;if(i===et){if(r===-1){this._loopCount=0;this._setEndings(true,true,false)}e:{if(t>=n){t=n}else if(t<0){t=0}else{break e}if(this.clampWhenFinished){this.paused=true}else{this.enabled=false}this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var a=i===nt;if(r===-1){if(e>=0){r=0;this._setEndings(true,this.repetitions===0,a)}else{this._setEndings(this.repetitions===0,true,a)}}if(t>=n||t<0){var o=Math.floor(t/n);t-=n*o;r+=Math.abs(o);var s=this.repetitions-r;if(s<0){if(this.clampWhenFinished){this.paused=true}else{this.enabled=false}t=e>0?n:0;this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1})}else{if(s===0){var l=e<0;this._setEndings(l,!l,a)}else{this._setEndings(false,false,a)}this._loopCount=r;this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&(r&1)===1){this.time=t;return n-t}}this.time=t;return t},_setEndings:function(e,t,n){var i=this._interpolantSettings;if(n){i.endingStart=st;i.endingEnd=st}else{if(e){i.endingStart=this.zeroSlopeAtStart?st:ot}else{i.endingStart=lt}if(t){i.endingEnd=this.zeroSlopeAtEnd?st:ot}else{i.endingEnd=lt}}},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;if(a===null){a=i._lendControlInterpolant();this._weightInterpolant=a}var o=a.parameterPositions,s=a.sampleValues;o[0]=r;s[0]=t;o[1]=r+e;s[1]=n;return this}});function ec(e){this._root=e;this._initMemoryManager();this._accuIndex=0;this.time=0;this.timeScale=1}Object.assign(ec.prototype,i.prototype,{_bindAction:function(e,t){var n=this;var i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,s=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName,u=c[l];if(u===undefined){u={};c[l]=u}for(var h=0;h!==a;++h){var f=r[h],d=f.name,p=u[d];if(p!==undefined){o[h]=p}else{p=o[h];if(p!==undefined){if(p._cacheIndex===null){++p.referenceCount;n._addInactiveBinding(p,l,d)}continue}var m=t&&t._propertyBindings[h].binding.parsedPath;p=new Yl(Zl.create(i,d,m),f.ValueTypeName,f.getValueSize());++p.referenceCount;n._addInactiveBinding(p,l,d);o[h]=p}s[h].resultBuffer=p.buffer}},_activateAction:function(e){var t=this;if(!this._isActiveAction(e)){if(e._cacheIndex===null){var n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]);this._addInactiveAction(e,i,n)}var a=e._propertyBindings;for(var o=0,s=a.length;o!==s;++o){var l=a[o];if(l.useCount++===0){t._lendBinding(l);l.saveOriginalState()}}this._lendAction(e)}},_deactivateAction:function(e){var t=this;if(this._isActiveAction(e)){var n=e._propertyBindings;for(var i=0,r=n.length;i!==r;++i){var a=n[i];if(--a.useCount===0){a.restoreOriginalState();t._takeBackBinding(a)}}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,a=r[t];if(a===undefined){a={knownActions:[e],actionByRoot:{}};e._byClipCacheIndex=0;r[t]=a}else{var o=a.knownActions;e._byClipCacheIndex=o.length;o.push(e)}e._cacheIndex=i.length;i.push(e);a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i;t[i]=n;t.pop();e._cacheIndex=null;var r=e._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c;s[c]=l;s.pop();e._byClipCacheIndex=null;var u=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete u[h];if(s.length===0){delete a[r]}this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){var t=this;var n=e._propertyBindings;for(var i=0,r=n.length;i!==r;++i){var a=n[i];if(--a.referenceCount===0){t._removeInactiveBinding(a)}}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i;t[i]=e;r._cacheIndex=n;t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i;t[i]=e;r._cacheIndex=n;t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],a=this._bindings;if(r===undefined){r={};i[t]=r}r[n]=e;e._cacheIndex=a.length;a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l;t[l]=s;t.pop();delete o[r];e:{for(var c in o){break e}delete a[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i;t[i]=e;r._cacheIndex=n;t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i;t[i]=e;r._cacheIndex=n;t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];if(n===undefined){n=new Ys(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer);n.__cacheIndex=t;e[t]=n}return n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i;t[i]=e;r.__cacheIndex=n;t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r=typeof e==="string"?sl.findByName(n,e):e,a=r!==null?r.uuid:e,o=this._actionsByClip[a],s=null;if(o!==undefined){var l=o.actionByRoot[i];if(l!==undefined){return l}s=o.knownActions[0];if(r===null){r=s._clip}}if(r===null){return null}var c=new Jl(this,r,t);this._bindAction(c,s);this._addInactiveAction(c,a,i);return c},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r=typeof e==="string"?sl.findByName(n,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];if(o!==undefined){return o.actionByRoot[i]||null}return null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0;this._nActiveBindings=0;for(var r=0;r!==t;++r){e[r].reset()}for(var r=0;r!==i;++r){n[r].useCount=0}return this},update:function(e){e*=this.timeScale;var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(var o=0;o!==n;++o){var s=t[o];s._update(i,e,r,a)}var l=this._bindings,c=this._nActiveBindings;for(var o=0;o!==c;++o){l[o].apply(a)}return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this;var n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==undefined){var o=a.knownActions;for(var s=0,l=o.length;s!==l;++s){var c=o[s];t._deactivateAction(c);var u=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null;c._byClipCacheIndex=null;h._cacheIndex=u;n[u]=h;n.pop();t._removeInactiveBindingsForAction(c)}delete r[i]}},uncacheRoot:function(e){var t=this;var n=e.uuid,i=this._actionsByClip;for(var r in i){var a=i[r].actionByRoot,o=a[n];if(o!==undefined){t._deactivateAction(o);t._removeInactiveAction(o)}}var s=this._bindingsByRootAndName,l=s[n];if(l!==undefined){for(var c in l){var u=l[c];u.restoreOriginalState();t._removeInactiveBinding(u)}}},uncacheAction:function(e,t){var n=this.existingAction(e,t);if(n!==null){this._deactivateAction(n);this._removeInactiveAction(n)}}});function tc(e){if(typeof e==="string"){console.warn("THREE.Uniform: Type parameter is no longer needed.");e=arguments[1]}this.value=e}tc.prototype.clone=function(){return new tc(this.value.clone===undefined?this.value:this.value.clone())};function nc(){fa.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=undefined}nc.prototype=Object.assign(Object.create(fa.prototype),{constructor:nc,isInstancedBufferGeometry:true,copy:function(e){fa.prototype.copy.call(this,e);this.maxInstancedCount=e.maxInstancedCount;return this},clone:function(){return(new this.constructor).copy(this)}});function ic(e,t,n,i){this.uuid=_t.generateUUID();this.data=e;this.itemSize=t;this.offset=n;this.normalized=i===true}Object.defineProperties(ic.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(ic.prototype,{isInterleavedBufferAttribute:true,setX:function(e,t){this.data.array[e*this.data.stride+this.offset]=t;return this},setY:function(e,t){this.data.array[e*this.data.stride+this.offset+1]=t;return this},setZ:function(e,t){this.data.array[e*this.data.stride+this.offset+2]=t;return this},setW:function(e,t){this.data.array[e*this.data.stride+this.offset+3]=t;return this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=n;return this},setXYZ:function(e,t,n,i){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=n;this.data.array[e+2]=i;return this},setXYZW:function(e,t,n,i,r){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=n;this.data.array[e+2]=i;this.data.array[e+3]=r;return this}});function rc(e,t){this.uuid=_t.generateUUID();this.array=e;this.stride=t;this.count=e!==undefined?e.length/t:0;this.dynamic=false;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}Object.defineProperty(rc.prototype,"needsUpdate",{set:function(e){if(e===true){this.version++}}});Object.assign(rc.prototype,{isInterleavedBuffer:true,setArray:function(e){if(Array.isArray(e)){throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.")}this.count=e!==undefined?e.length/this.stride:0;this.array=e},setDynamic:function(e){this.dynamic=e;return this},copy:function(e){this.array=new e.array.constructor(e.array);this.count=e.count;this.stride=e.stride;this.dynamic=e.dynamic;return this},copyAt:function(e,t,n){var i=this;e*=this.stride;n*=t.stride;for(var r=0,a=this.stride;r<a;r++){i.array[e+r]=t.array[n+r]}return this},set:function(e,t){if(t===undefined){t=0}this.array.set(e,t);return this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){this.onUploadCallback=e;return this}});function ac(e,t,n){rc.call(this,e,t);this.meshPerAttribute=n||1}ac.prototype=Object.assign(Object.create(rc.prototype),{constructor:ac,isInstancedInterleavedBuffer:true,copy:function(e){rc.prototype.copy.call(this,e);this.meshPerAttribute=e.meshPerAttribute;return this}});function oc(e,t,n){Jr.call(this,e,t);this.meshPerAttribute=n||1}oc.prototype=Object.assign(Object.create(Jr.prototype),{constructor:oc,isInstancedBufferAttribute:true,copy:function(e){Jr.prototype.copy.call(this,e);this.meshPerAttribute=e.meshPerAttribute;return this}});function sc(e,t,n,i){this.ray=new ya(e,t);this.near=n||0;this.far=i||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function lc(e,t){return e.distance-t.distance}function cc(e,t,n,i){if(e.visible===false){return}e.raycast(t,n);if(i===true){var r=e.children;for(var a=0,o=r.length;a<o;a++){cc(r[a],t,n,true)}}}Object.assign(sc.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){if(t&&t.isPerspectiveCamera){this.ray.origin.setFromMatrixPosition(t.matrixWorld);this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()}else if(t&&t.isOrthographicCamera){this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t);this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)}else{console.error("THREE.Raycaster: Unsupported camera type.")}},intersectObject:function(e,t){var n=[];cc(e,this,n,t);n.sort(lc);return n},intersectObjects:function(e,t){var n=this;var i=[];if(Array.isArray(e)===false){console.warn("THREE.Raycaster.intersectObjects: objects is not an Array.");return i}for(var r=0,a=e.length;r<a;r++){cc(e[r],n,i,t)}i.sort(lc);return i}});function uc(e){this.autoStart=e!==undefined?e:true;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false}Object.assign(uc.prototype,{start:function(){this.startTime=(typeof performance==="undefined"?Date:performance).now();this.oldTime=this.startTime;this.elapsedTime=0;this.running=true},stop:function(){this.getElapsedTime();this.running=false;this.autoStart=false},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running){this.start();return 0}if(this.running){var t=(typeof performance==="undefined"?Date:performance).now();e=(t-this.oldTime)/1e3;this.oldTime=t;this.elapsedTime+=e}return e}});function hc(e,t,n){this.radius=e!==undefined?e:1;this.phi=t!==undefined?t:0;this.theta=n!==undefined?n:0;return this}Object.assign(hc.prototype,{set:function(e,t,n){this.radius=e;this.phi=t;this.theta=n;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.radius=e.radius;this.phi=e.phi;this.theta=e.theta;return this},makeSafe:function(){var e=1e-6;this.phi=Math.max(e,Math.min(Math.PI-e,this.phi));return this},setFromVector3:function(e){this.radius=e.length();if(this.radius===0){this.theta=0;this.phi=0}else{this.theta=Math.atan2(e.x,e.z);this.phi=Math.acos(_t.clamp(e.y/this.radius,-1,1))}return this}});function fc(e,t,n){this.radius=e!==undefined?e:1;this.theta=t!==undefined?t:0;this.y=n!==undefined?n:0;return this}Object.assign(fc.prototype,{set:function(e,t,n){this.radius=e;this.theta=t;this.y=n;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.radius=e.radius;this.theta=e.theta;this.y=e.y;return this},setFromVector3:function(e){this.radius=Math.sqrt(e.x*e.x+e.z*e.z);this.theta=Math.atan2(e.x,e.z);this.y=e.y;return this}});function dc(e){qr.call(this);this.material=e;this.render=function(){}}dc.prototype=Object.create(qr.prototype);dc.prototype.constructor=dc;dc.prototype.isImmediateRenderObject=true;function pc(e,t,n,i){this.object=e;this.size=t!==undefined?t:1;var r=n!==undefined?n:16711680;var a=i!==undefined?i:1;var o=0;var s=this.object.geometry;if(s&&s.isGeometry){o=s.faces.length*3}else if(s&&s.isBufferGeometry){o=s.attributes.normal.count}var l=new fa;var c=new sa(o*2*3,3);l.addAttribute("position",c);_o.call(this,l,new xo({color:r,linewidth:a}));this.matrixAutoUpdate=false;this.update()}pc.prototype=Object.create(_o.prototype);pc.prototype.constructor=pc;pc.prototype.update=function(){var b=new St;var y=new St;var x=new Tt;return function e(){var t=this;var n=["a","b","c"];this.object.updateMatrixWorld(true);x.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld;var r=this.geometry.attributes.position;var a=this.object.geometry;if(a&&a.isGeometry){var o=a.vertices;var s=a.faces;var l=0;for(var c=0,u=s.length;c<u;c++){var h=s[c];for(var f=0,d=h.vertexNormals.length;f<d;f++){var p=o[h[n[f]]];var m=h.vertexNormals[f];b.copy(p).applyMatrix4(i);y.copy(m).applyMatrix3(x).normalize().multiplyScalar(t.size).add(b);r.setXYZ(l,b.x,b.y,b.z);l=l+1;r.setXYZ(l,y.x,y.y,y.z);l=l+1}}}else if(a&&a.isBufferGeometry){var g=a.attributes.position;var v=a.attributes.normal;var l=0;for(var f=0,d=g.count;f<d;f++){b.set(g.getX(f),g.getY(f),g.getZ(f)).applyMatrix4(i);y.set(v.getX(f),v.getY(f),v.getZ(f));y.applyMatrix3(x).normalize().multiplyScalar(t.size).add(b);r.setXYZ(l,b.x,b.y,b.z);l=l+1;r.setXYZ(l,y.x,y.y,y.z);l=l+1}}r.needsUpdate=true}}();function mc(e,t){qr.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.color=t;var n=new fa;var i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var r=0,a=1,o=32;r<o;r++,a++){var s=r/o*Math.PI*2;var l=a/o*Math.PI*2;i.push(Math.cos(s),Math.sin(s),1,Math.cos(l),Math.sin(l),1)}n.addAttribute("position",new sa(i,3));var c=new xo({fog:false});this.cone=new _o(n,c);this.add(this.cone);this.update()}mc.prototype=Object.create(qr.prototype);mc.prototype.constructor=mc;mc.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};mc.prototype.update=function(){var i=new St;var r=new St;return function e(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3;var n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t);i.setFromMatrixPosition(this.light.matrixWorld);r.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(r.sub(i));if(this.color!==undefined){this.cone.material.color.set(this.color)}else{this.cone.material.color.copy(this.light.color)}}}();function gc(e){var t=[];if(e&&e.isBone){t.push(e)}for(var n=0;n<e.children.length;n++){t.push.apply(t,gc(e.children[n]))}return t}function vc(e){var t=gc(e);var n=new fa;var i=[];var r=[];var a=new An(0,0,1);var o=new An(0,1,0);for(var s=0;s<t.length;s++){var l=t[s];if(l.parent&&l.parent.isBone){i.push(0,0,0);i.push(0,0,0);r.push(a.r,a.g,a.b);r.push(o.r,o.g,o.b)}}n.addAttribute("position",new sa(i,3));n.addAttribute("color",new sa(r,3));var c=new xo({vertexColors:v,depthTest:false,depthWrite:false,transparent:true});_o.call(this,n,c);this.root=e;this.bones=t;this.matrix=e.matrixWorld;this.matrixAutoUpdate=false}vc.prototype=Object.create(_o.prototype);vc.prototype.constructor=vc;vc.prototype.updateMatrixWorld=function(){var l=new St;var c=new At;var u=new At;return function e(t){var n=this.bones;var i=this.geometry;var r=i.getAttribute("position");u.getInverse(this.root.matrixWorld);for(var a=0,o=0;a<n.length;a++){var s=n[a];if(s.parent&&s.parent.isBone){c.multiplyMatrices(u,s.matrixWorld);l.setFromMatrixPosition(c);r.setXYZ(o,l.x,l.y,l.z);c.multiplyMatrices(u,s.parent.matrixWorld);l.setFromMatrixPosition(c);r.setXYZ(o+1,l.x,l.y,l.z);o+=2}}i.getAttribute("position").needsUpdate=true;qr.prototype.updateMatrixWorld.call(this,t)}}();function bc(e,t,n){this.light=e;this.light.updateMatrixWorld();this.color=n;var i=new ts(t,4,2);var r=new va({wireframe:true,fog:false});_a.call(this,i,r);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=false;this.update()}bc.prototype=Object.create(_a.prototype);bc.prototype.constructor=bc;bc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};bc.prototype.update=function(){if(this.color!==undefined){this.material.color.set(this.color)}else{this.material.color.copy(this.light.color)}};function yc(e,t){qr.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.color=t;var n=new xo({fog:false});var i=new fa;i.addAttribute("position",new Jr(new Float32Array(5*3),3));this.line=new wo(i,n);this.add(this.line);this.update()}yc.prototype=Object.create(qr.prototype);yc.prototype.constructor=yc;yc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};yc.prototype.update=function(){var e=this.light.width*.5;var t=this.light.height*.5;var n=this.line.geometry.attributes.position;var i=n.array;i[0]=e;i[1]=-t;i[2]=0;i[3]=e;i[4]=t;i[5]=0;i[6]=-e;i[7]=t;i[8]=0;i[9]=-e;i[10]=-t;i[11]=0;i[12]=e;i[13]=-t;i[14]=0;n.needsUpdate=true;if(this.color!==undefined){this.line.material.color.set(this.color)}else{this.line.material.color.copy(this.light.color)}};function xc(e,t,n){qr.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.color=n;var i=new Bo(t);i.rotateY(Math.PI*.5);this.material=new va({wireframe:true,fog:false});if(this.color===undefined){this.material.vertexColors=v}var r=i.getAttribute("position");var a=new Float32Array(r.count*3);i.addAttribute("color",new Jr(a,3));this.add(new _a(i,this.material));this.update()}xc.prototype=Object.create(qr.prototype);xc.prototype.constructor=xc;xc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};xc.prototype.update=function(){var o=new St;var s=new An;var l=new An;return function e(){var t=this.children[0];if(this.color!==undefined){this.material.color.set(this.color)}else{var n=t.geometry.getAttribute("color");s.copy(this.light.color);l.copy(this.light.groundColor);for(var i=0,r=n.count;i<r;i++){var a=i<r/2?s:l;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=true}t.lookAt(o.setFromMatrixPosition(this.light.matrixWorld).negate())}}();function wc(e,t,n,i){e=e||10;t=t||10;n=new An(n!==undefined?n:4473924);i=new An(i!==undefined?i:8947848);var r=t/2;var a=e/t;var o=e/2;var s=[],l=[];for(var c=0,u=0,h=-o;c<=t;c++,h+=a){s.push(-o,0,h,o,0,h);s.push(h,0,-o,h,0,o);var f=c===r?n:i;f.toArray(l,u);u+=3;f.toArray(l,u);u+=3;f.toArray(l,u);u+=3;f.toArray(l,u);u+=3}var d=new fa;d.addAttribute("position",new sa(s,3));d.addAttribute("color",new sa(l,3));var p=new xo({vertexColors:v});_o.call(this,d,p)}wc.prototype=Object.create(_o.prototype);wc.prototype.constructor=wc;function _c(e,t,n,i,r,a){e=e||10;t=t||16;n=n||8;i=i||64;r=new An(r!==undefined?r:4473924);a=new An(a!==undefined?a:8947848);var o=[];var s=[];var l,c;var u,h,f,d,p;for(h=0;h<=t;h++){u=h/t*(Math.PI*2);l=Math.sin(u)*e;c=Math.cos(u)*e;o.push(0,0,0);o.push(l,0,c);p=h&1?r:a;s.push(p.r,p.g,p.b);s.push(p.r,p.g,p.b)}for(h=0;h<=n;h++){p=h&1?r:a;d=e-e/n*h;for(f=0;f<i;f++){u=f/i*(Math.PI*2);l=Math.sin(u)*d;c=Math.cos(u)*d;o.push(l,0,c);s.push(p.r,p.g,p.b);u=(f+1)/i*(Math.PI*2);l=Math.sin(u)*d;c=Math.cos(u)*d;o.push(l,0,c);s.push(p.r,p.g,p.b)}}var m=new fa;m.addAttribute("position",new sa(o,3));m.addAttribute("color",new sa(s,3));var g=new xo({vertexColors:v});_o.call(this,m,g)}_c.prototype=Object.create(_o.prototype);_c.prototype.constructor=_c;function Ec(e,t,n,i){this.object=e;this.size=t!==undefined?t:1;var r=n!==undefined?n:16776960;var a=i!==undefined?i:1;var o=0;var s=this.object.geometry;if(s&&s.isGeometry){o=s.faces.length}else{console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.")}var l=new fa;var c=new sa(o*2*3,3);l.addAttribute("position",c);_o.call(this,l,new xo({color:r,linewidth:a}));this.matrixAutoUpdate=false;this.update()}Ec.prototype=Object.create(_o.prototype);Ec.prototype.constructor=Ec;Ec.prototype.update=function(){var f=new St;var d=new St;var p=new Tt;return function e(){var t=this;this.object.updateMatrixWorld(true);p.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld;var i=this.geometry.attributes.position;var r=this.object.geometry;var a=r.vertices;var o=r.faces;var s=0;for(var l=0,c=o.length;l<c;l++){var u=o[l];var h=u.normal;f.copy(a[u.a]).add(a[u.b]).add(a[u.c]).divideScalar(3).applyMatrix4(n);d.copy(h).applyMatrix3(p).normalize().multiplyScalar(t.size).add(f);i.setXYZ(s,f.x,f.y,f.z);s=s+1;i.setXYZ(s,d.x,d.y,d.z);s=s+1}i.needsUpdate=true}}();function Ac(e,t,n){qr.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.color=n;if(t===undefined){t=1}var i=new fa;i.addAttribute("position",new sa([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new xo({fog:false});this.lightPlane=new wo(i,r);this.add(this.lightPlane);i=new fa;i.addAttribute("position",new sa([0,0,0,0,0,1],3));this.targetLine=new wo(i,r);this.add(this.targetLine);this.update()}Ac.prototype=Object.create(qr.prototype);Ac.prototype.constructor=Ac;Ac.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};Ac.prototype.update=function(){var t=new St;var n=new St;var i=new St;return function e(){t.setFromMatrixPosition(this.light.matrixWorld);n.setFromMatrixPosition(this.light.target.matrixWorld);i.subVectors(n,t);this.lightPlane.lookAt(i);if(this.color!==undefined){this.lightPlane.material.color.set(this.color);this.targetLine.material.color.set(this.color)}else{this.lightPlane.material.color.copy(this.light.color);this.targetLine.material.color.copy(this.light.color)}this.targetLine.lookAt(i);this.targetLine.scale.z=i.length()}}();function Cc(e){var t=new fa;var n=new xo({color:16777215,vertexColors:d});var i=[];var r=[];var a={};var o=new An(16755200);var s=new An(16711680);var l=new An(43775);var c=new An(16777215);var u=new An(3355443);h("n1","n2",o);h("n2","n4",o);h("n4","n3",o);h("n3","n1",o);h("f1","f2",o);h("f2","f4",o);h("f4","f3",o);h("f3","f1",o);h("n1","f1",o);h("n2","f2",o);h("n3","f3",o);h("n4","f4",o);h("p","n1",s);h("p","n2",s);h("p","n3",s);h("p","n4",s);h("u1","u2",l);h("u2","u3",l);h("u3","u1",l);h("c","t",c);h("p","c",u);h("cn1","cn2",u);h("cn3","cn4",u);h("cf1","cf2",u);h("cf3","cf4",u);function h(e,t,n){f(e,n);f(t,n)}function f(e,t){i.push(0,0,0);r.push(t.r,t.g,t.b);if(a[e]===undefined){a[e]=[]}a[e].push(i.length/3-1)}t.addAttribute("position",new sa(i,3));t.addAttribute("color",new sa(r,3));_o.call(this,t,n);this.camera=e;if(this.camera.updateProjectionMatrix){this.camera.updateProjectionMatrix()}this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.pointMap=a;this.update()}Cc.prototype=Object.create(_o.prototype);Cc.prototype.constructor=Cc;Cc.prototype.update=function(){var l,c;var u=new St;var h=new Xr;function i(e,t,n,i){u.set(t,n,i).unproject(h);var r=c[e];if(r!==undefined){var a=l.getAttribute("position");for(var o=0,s=r.length;o<s;o++){a.setXYZ(r[o],u.x,u.y,u.z)}}}return function e(){l=this.geometry;c=this.pointMap;var t=1,n=1;h.projectionMatrix.copy(this.camera.projectionMatrix);i("c",0,0,-1);i("t",0,0,1);i("n1",-t,-n,-1);i("n2",t,-n,-1);i("n3",-t,n,-1);i("n4",t,n,-1);i("f1",-t,-n,1);i("f2",t,-n,1);i("f3",-t,n,1);i("f4",t,n,1);i("u1",t*.7,n*1.1,-1);i("u2",-t*.7,n*1.1,-1);i("u3",0,n*2,-1);i("cf1",-t,0,1);i("cf2",t,0,1);i("cf3",0,-n,1);i("cf4",0,n,1);i("cn1",-t,0,-1);i("cn2",t,0,-1);i("cn3",0,-n,-1);i("cn4",0,n,-1);l.getAttribute("position").needsUpdate=true}}();function Sc(e,t){this.object=e;if(t===undefined){t=16776960}var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var i=new Float32Array(8*3);var r=new fa;r.setIndex(new Jr(n,1));r.addAttribute("position",new Jr(i,3));_o.call(this,r,new xo({color:t}));this.matrixAutoUpdate=false;this.update()}Sc.prototype=Object.create(_o.prototype);Sc.prototype.constructor=Sc;Sc.prototype.update=function(){var o=new Br;return function e(t){if(t!==undefined){console.warn("THREE.BoxHelper: .update() has no longer arguments.")}if(this.object!==undefined){o.setFromObject(this.object)}if(o.isEmpty()){return}var n=o.min;var i=o.max;var r=this.geometry.attributes.position;var a=r.array;a[0]=i.x;a[1]=i.y;a[2]=i.z;a[3]=n.x;a[4]=i.y;a[5]=i.z;a[6]=n.x;a[7]=n.y;a[8]=i.z;a[9]=i.x;a[10]=n.y;a[11]=i.z;a[12]=i.x;a[13]=i.y;a[14]=n.z;a[15]=n.x;a[16]=i.y;a[17]=n.z;a[18]=n.x;a[19]=n.y;a[20]=n.z;a[21]=i.x;a[22]=n.y;a[23]=n.z;r.needsUpdate=true;this.geometry.computeBoundingSphere()}}();Sc.prototype.setFromObject=function(e){this.object=e;this.update();return this};function Tc(e,t){this.type="Box3Helper";this.box=e;var n=t!==undefined?t:16776960;var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1];var a=new fa;a.setIndex(new Jr(i,1));a.addAttribute("position",new sa(r,3));_o.call(this,a,new xo({color:n}));this.geometry.computeBoundingSphere()}Tc.prototype=Object.create(_o.prototype);Tc.prototype.constructor=Tc;Tc.prototype.updateMatrixWorld=function(e){var t=this.box;if(t.isEmpty()){return}t.getCenter(this.position);t.getSize(this.scale);this.scale.multiplyScalar(.5);qr.prototype.updateMatrixWorld.call(this,e)};function Mc(e,t,n){this.type="PlaneHelper";this.plane=e;this.size=t===undefined?1:t;var i=n!==undefined?n:16776960;var r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0];var a=new fa;a.addAttribute("position",new sa(r,3));a.computeBoundingSphere();wo.call(this,a,new xo({color:i}));var o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1];var s=new fa;s.addAttribute("position",new sa(o,3));s.computeBoundingSphere();this.add(new _a(s,new va({color:i,opacity:.2,transparent:true,depthWrite:false})))}Mc.prototype=Object.create(wo.prototype);Mc.prototype.constructor=Mc;Mc.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;if(Math.abs(t)<1e-8){t=1e-8}this.scale.set(.5*this.size,.5*this.size,t);this.lookAt(this.plane.normal);qr.prototype.updateMatrixWorld.call(this,e)};var kc;var Dc;function Lc(e,t,n,i,r,a){qr.call(this);if(i===undefined){i=16776960}if(n===undefined){n=1}if(r===undefined){r=.2*n}if(a===undefined){a=.2*r}if(kc===undefined){kc=new fa;kc.addAttribute("position",new sa([0,0,0,0,1,0],3));Dc=new us(0,.5,1,5,1);Dc.translate(0,-.5,0)}this.position.copy(t);this.line=new wo(kc,new xo({color:i}));this.line.matrixAutoUpdate=false;this.add(this.line);this.cone=new _a(Dc,new va({color:i}));this.cone.matrixAutoUpdate=false;this.add(this.cone);this.setDirection(e);this.setLength(n,r,a)}Lc.prototype=Object.create(qr.prototype);Lc.prototype.constructor=Lc;Lc.prototype.setDirection=function(){var n=new St;var i;return function e(t){if(t.y>.99999){this.quaternion.set(0,0,0,1)}else if(t.y<-.99999){this.quaternion.set(1,0,0,0)}else{n.set(t.z,0,-t.x).normalize();i=Math.acos(t.y);this.quaternion.setFromAxisAngle(n,i)}}}();Lc.prototype.setLength=function(e,t,n){if(t===undefined){t=.2*e}if(n===undefined){n=.2*t}this.line.scale.set(1,Math.max(0,e-t),1);this.line.updateMatrix();this.cone.scale.set(n,t,n);this.cone.position.y=e;this.cone.updateMatrix()};Lc.prototype.setColor=function(e){this.line.material.color.copy(e);this.cone.material.color.copy(e)};function Rc(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e];var n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1];var i=new fa;i.addAttribute("position",new sa(t,3));i.addAttribute("color",new sa(n,3));var r=new xo({vertexColors:v});_o.call(this,i,r)}Rc.prototype=Object.create(_o.prototype);Rc.prototype.constructor=Rc;function Fc(){var r=0,a=0,o=0,s=0;function c(e,t,n,i){r=e;a=n;o=-3*e+3*t-2*n-i;s=2*e-2*t+n+i}return{initCatmullRom:function(e,t,n,i,r){c(t,n,r*(n-e),r*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,r,a,o){var s=(t-e)/r-(n-e)/(r+a)+(n-t)/a;var l=(n-t)/a-(i-t)/(a+o)+(i-n)/o;s*=a;l*=a;c(t,n,s,l)},calc:function(e){var t=e*e;var n=t*e;return r+a*e+o*t+s*n}}}var Pc=new St;var Ic=new Fc;var Nc=new Fc;var Oc=new Fc;function Bc(e,t,n,i){Tl.call(this);this.type="CatmullRomCurve3";this.points=e||[];this.closed=t||false;this.curveType=n||"centripetal";this.tension=i||.5}Bc.prototype=Object.create(Tl.prototype);Bc.prototype.constructor=Bc;Bc.prototype.isCatmullRomCurve3=true;Bc.prototype.getPoint=function(e,t){var n=t||new St;var i=this.points;var r=i.length;var a=(r-(this.closed?0:1))*e;var o=Math.floor(a);var s=a-o;if(this.closed){o+=o>0?0:(Math.floor(Math.abs(o)/i.length)+1)*i.length}else if(s===0&&o===r-1){o=r-2;s=1}var l,c,u,h;if(this.closed||o>0){l=i[(o-1)%r]}else{Pc.subVectors(i[0],i[1]).add(i[0]);l=Pc}c=i[o%r];u=i[(o+1)%r];if(this.closed||o+2<r){h=i[(o+2)%r]}else{Pc.subVectors(i[r-1],i[r-2]).add(i[r-1]);h=Pc}if(this.curveType==="centripetal"||this.curveType==="chordal"){var f=this.curveType==="chordal"?.5:.25;var d=Math.pow(l.distanceToSquared(c),f);var p=Math.pow(c.distanceToSquared(u),f);var m=Math.pow(u.distanceToSquared(h),f);if(p<1e-4){p=1}if(d<1e-4){d=p}if(m<1e-4){m=p}Ic.initNonuniformCatmullRom(l.x,c.x,u.x,h.x,d,p,m);Nc.initNonuniformCatmullRom(l.y,c.y,u.y,h.y,d,p,m);Oc.initNonuniformCatmullRom(l.z,c.z,u.z,h.z,d,p,m)}else if(this.curveType==="catmullrom"){Ic.initCatmullRom(l.x,c.x,u.x,h.x,this.tension);Nc.initCatmullRom(l.y,c.y,u.y,h.y,this.tension);Oc.initCatmullRom(l.z,c.z,u.z,h.z,this.tension)}n.set(Ic.calc(s),Nc.calc(s),Oc.calc(s));return n};Bc.prototype.copy=function(e){var t=this;Tl.prototype.copy.call(this,e);this.points=[];for(var n=0,i=e.points.length;n<i;n++){var r=e.points[n];t.points.push(r.clone())}this.closed=e.closed;this.curveType=e.curveType;this.tension=e.tension;return this};function zc(e,t,n,i){Tl.call(this);this.type="CubicBezierCurve3";this.v0=e||new St;this.v1=t||new St;this.v2=n||new St;this.v3=i||new St}zc.prototype=Object.create(Tl.prototype);zc.prototype.constructor=zc;zc.prototype.isCubicBezierCurve3=true;zc.prototype.getPoint=function(e,t){var n=t||new St;var i=this.v0,r=this.v1,a=this.v2,o=this.v3;n.set(Sl(e,i.x,r.x,a.x,o.x),Sl(e,i.y,r.y,a.y,o.y),Sl(e,i.z,r.z,a.z,o.z));return n};zc.prototype.copy=function(e){Tl.prototype.copy.call(this,e);this.v0.copy(e.v0);this.v1.copy(e.v1);this.v2.copy(e.v2);this.v3.copy(e.v3);return this};function Uc(e,t,n){Tl.call(this);this.type="QuadraticBezierCurve3";this.v0=e||new St;this.v1=t||new St;this.v2=n||new St}Uc.prototype=Object.create(Tl.prototype);Uc.prototype.constructor=Uc;Uc.prototype.isQuadraticBezierCurve3=true;Uc.prototype.getPoint=function(e,t){var n=t||new St;var i=this.v0,r=this.v1,a=this.v2;n.set(wl(e,i.x,r.x,a.x),wl(e,i.y,r.y,a.y),wl(e,i.z,r.z,a.z));return n};Uc.prototype.copy=function(e){Tl.prototype.copy.call(this,e);this.v0.copy(e.v0);this.v1.copy(e.v1);this.v2.copy(e.v2);return this};function Hc(e,t){Tl.call(this);this.type="LineCurve3";this.v1=e||new St;this.v2=t||new St}Hc.prototype=Object.create(Tl.prototype);Hc.prototype.constructor=Hc;Hc.prototype.isLineCurve3=true;Hc.prototype.getPoint=function(e,t){var n=t||new St;if(e===1){n.copy(this.v2)}else{n.copy(this.v2).sub(this.v1);n.multiplyScalar(e).add(this.v1)}return n};Hc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Hc.prototype.copy=function(e){Tl.prototype.copy.call(this,e);this.v1.copy(e.v1);this.v2.copy(e.v2);return this};function jc(e,t,n,i,r,a){Dl.call(this,e,t,n,n,i,r,a);this.type="ArcCurve"}jc.prototype=Object.create(Dl.prototype);jc.prototype.constructor=jc;jc.prototype.isArcCurve=true;var $c={createMultiMaterialObject:function(e,t){var n=new So;for(var i=0,r=t.length;i<r;i++){n.add(new _a(e,t[i]))}return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld);t.remove(e);n.add(e)},attach:function(e,t,n){e.applyMatrix((new At).getInverse(n.matrixWorld));t.remove(e);n.add(e)}};function Wc(e,t,n,i,r,a,o){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Kr(e,t,n,r,a,o)}var Vc=0;var Gc=1;function qc(e){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return e}function Xc(e){if(e===undefined){e=[]}console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");e.isMultiMaterial=true;e.materials=e;e.clone=function(){return e.slice()};return e}function Yc(e,t){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Co(e,t)}function Kc(e){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new mo(e)}function Zc(e,t){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new Co(e,t)}function Qc(e){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new Ao(e)}function Jc(e){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Ao(e)}function eu(e){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new Ao(e)}function tu(e,t,n){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new St(e,t,n)}function nu(e,t){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return new Jr(e,t).setDynamic(true)}function iu(e,t){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new ea(e,t)}function ru(e,t){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new ta(e,t)}function au(e,t){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new na(e,t)}function ou(e,t){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new ia(e,t)}function su(e,t){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new ra(e,t)}function lu(e,t){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new aa(e,t)}function cu(e,t){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new oa(e,t)}function uu(e,t){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new sa(e,t)}function hu(e,t){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new la(e,t)}Tl.create=function(e,t){console.log("THREE.Curve.create() has been deprecated");e.prototype=Object.create(Tl.prototype);e.prototype.constructor=e;e.prototype.getPoint=t;return e};Object.assign(kl.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=new Qr;for(var n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new St(r.x,r.y,r.z||0))}return t}});Object.assign(Il.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");this.setFromPoints(e)}});function fu(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");Bc.call(this,e);this.type="catmullrom";this.closed=true}fu.prototype=Object.create(Bc.prototype);function du(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");Bc.call(this,e);this.type="catmullrom"}du.prototype=Object.create(Bc.prototype);function pu(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");Bc.call(this,e);this.type="catmullrom"}pu.prototype=Object.create(Bc.prototype);Object.assign(pu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function mu(e){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new Rc(e)}function gu(e,t){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new Sc(e,t)}function vu(e,t){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new _o(new ls(e.geometry),new xo({color:t!==undefined?t:16777215}))}wc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};vc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function bu(e,t){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new _o(new Do(e.geometry),new xo({color:t!==undefined?t:16777215}))}function yu(e){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new Ds(e)}function xu(e){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new Rs(e)}Object.assign(Dr.prototype,{center:function(e){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(e)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(e){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(e)},size:function(e){console.warn("THREE.Box2: .size() has been renamed to .getSize().");return this.getSize(e)}});Object.assign(Br.prototype,{center:function(e){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(e)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(e){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(e)},isIntersectionSphere:function(e){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(e)},size:function(e){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(e)}});xa.prototype.center=function(e){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(e)};Object.assign(_t,{random16:function(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");return Math.random()},nearestPowerOfTwo:function(e){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");return _t.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");return _t.ceilPowerOfTwo(e)}});Object.assign(Tt.prototype,{flattenToArrayOffset:function(e,t){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(e,t)},multiplyVector3:function(e){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(At.prototype,{extractPosition:function(e){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(e)},flattenToArrayOffset:function(e,t){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(e,t)},getPosition:function(){var t;return function e(){if(t===undefined){t=new St}console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return e.applyMatrix4(this)},multiplyVector4:function(e){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");e.transformDirection(this)},crossVector:function(e){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,a){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(e,t,i,n,r,a)}});Ur.prototype.isIntersectionLine=function(e){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(e)};Ct.prototype.multiplyVector3=function(e){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return e.applyQuaternion(this)};Object.assign(ya.prototype,{isIntersectionBox:function(e){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(e)},isIntersectionPlane:function(e){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(e)},isIntersectionSphere:function(e){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(e)}});Object.assign(Nl.prototype,{extractAllPoints:function(e){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");return this.extractPoints(e)},extrude:function(e){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new Ko(this,e)},makeGeometry:function(e){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new os(this,e)}});Object.assign(Et.prototype,{fromAttribute:function(e,t,n){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(e)},lengthManhattan:function(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(St.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(t,e)},applyProjection:function(e){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(e)},fromAttribute:function(e,t,n){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(e)},lengthManhattan:function(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(Dt.prototype,{fromAttribute:function(e,t,n){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Qr.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")};Object.assign(qr.prototype,{getChildByName:function(e){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(t,e)}});Object.defineProperties(qr.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(go.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(vo.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Object.defineProperty(Tl.prototype,"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=e}});no.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. "+"Use .setFocalLength and .filmGauge for a photographic setup.");if(t!==undefined){this.filmGauge=t}this.setFocalLength(e)};Object.defineProperties(Ns.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=e}}});Object.defineProperties(Jr.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}}});Object.assign(fa.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(e)},addDrawCall:function(e,t,n){if(n!==undefined){console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.")}console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(fa.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.defineProperties(tc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});Object.defineProperties(Ir.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");return new An}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=e===l}}});Object.defineProperties(xs.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return false},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(ba.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=e}}});Object.assign(lo.prototype,{getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},getMaxAnisotropy:function(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");return this.capabilities.getMaxAnisotropy()},getPrecision:function(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");return this.state.reset()},supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});Object.defineProperties(lo.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");this.shadowMap.cullFace=e}}});Object.defineProperties(jr.prototype,{cullFace:{get:function(){return this.renderReverseSided?le:se},set:function(e){var t=e!==se;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+".");this.renderReverseSided=t}}});Object.defineProperties(Lt.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=e}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=e}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=e}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=e}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=e}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=e}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=e}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=e}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=e}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=e}}});Gl.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;var n=new jl;n.load(e,function(e){t.setBuffer(e)});return this};Xl.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};Wl.prototype.updateCubeMap=function(e,t){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(e,t)};var wu={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;if(t.isMesh){t.matrixAutoUpdate&&t.updateMatrix();i=t.matrix;t=t.geometry}e.merge(t,i,n)},center:function(e){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return e.center()}};var _u={crossOrigin:undefined,loadTexture:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Is;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,undefined,i);if(t){a.mapping=t}return a},loadTextureCube:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Ps;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,undefined,i);if(t){a.mapping=t}return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};function Eu(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project().");e.project(t)};this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");e.unproject(t)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Au(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}}var Cu=Object.freeze({WebGLRenderTargetCube:Rt,WebGLRenderTarget:Lt,WebGLRenderer:lo,ShaderLib:kr,UniformsLib:Cn,UniformsUtils:Sn,ShaderChunk:Mr,FogExp2:co,Fog:uo,Scene:ho,LensFlare:fo,Sprite:mo,LOD:go,SkinnedMesh:yo,Skeleton:vo,Bone:bo,Mesh:_a,LineSegments:_o,LineLoop:Eo,Line:wo,Points:Co,Group:So,VideoTexture:To,DataTexture:Ft,CompressedTexture:Mo,CubeTexture:Pt,CanvasTexture:Rr,DepthTexture:ko,Texture:kt,CompressedTextureLoader:Ls,DataTextureLoader:Rs,CubeTextureLoader:Ps,TextureLoader:Is,ObjectLoader:dl,MaterialLoader:ll,BufferGeometryLoader:cl,DefaultLoadingManager:Ms,LoadingManager:Ts,JSONLoader:fl,ImageLoader:Fs,FontLoader:zl,FileLoader:Ds,Loader:hl,Cache:Ss,AudioLoader:jl,SpotLightShadow:zs,SpotLight:Us,PointLight:Hs,RectAreaLight:Vs,HemisphereLight:Os,DirectionalLightShadow:js,DirectionalLight:$s,AmbientLight:Ws,LightShadow:Bs,Light:Ns,StereoCamera:$l,PerspectiveCamera:no,OrthographicCamera:Yr,CubeCamera:Wl,ArrayCamera:io,Camera:Xr,AudioListener:Vl,PositionalAudio:ql,AudioContext:Hl,AudioAnalyser:Xl,Audio:Gl,VectorKeyframeTrack:Js,StringKeyframeTrack:il,QuaternionKeyframeTrack:tl,NumberKeyframeTrack:nl,ColorKeyframeTrack:al,BooleanKeyframeTrack:rl,PropertyMixer:Yl,PropertyBinding:Zl,KeyframeTrack:ol,AnimationUtils:Gs,AnimationObjectGroup:Ql,AnimationMixer:ec,AnimationClip:sl,Uniform:tc,InstancedBufferGeometry:nc,BufferGeometry:fa,Geometry:Qr,InterleavedBufferAttribute:ic,InstancedInterleavedBuffer:ac,InterleavedBuffer:rc,InstancedBufferAttribute:oc,Face3:Kr,Object3D:qr,Raycaster:sc,Layers:Vr,EventDispatcher:i,Clock:uc,QuaternionLinearInterpolant:el,LinearInterpolant:Ys,DiscreteInterpolant:Ks,CubicInterpolant:Xs,Interpolant:qs,Triangle:wa,Math:_t,Spherical:hc,Cylindrical:fc,Plane:Ur,Frustum:Hr,Sphere:zr,Ray:ya,Matrix4:At,Matrix3:Tt,Box3:Br,Box2:Dr,Line3:xa,Euler:Wr,Vector4:Dt,Vector3:St,Vector2:Et,Quaternion:Ct,Color:An,ImmediateRenderObject:dc,VertexNormalsHelper:pc,SpotLightHelper:mc,SkeletonHelper:vc,PointLightHelper:bc,RectAreaLightHelper:yc,HemisphereLightHelper:xc,GridHelper:wc,PolarGridHelper:_c,FaceNormalsHelper:Ec,DirectionalLightHelper:Ac,CameraHelper:Cc,BoxHelper:Sc,Box3Helper:Tc,PlaneHelper:Mc,ArrowHelper:Lc,AxesHelper:Rc,CatmullRomCurve3:Bc,CubicBezierCurve3:zc,QuadraticBezierCurve3:Uc,LineCurve3:Hc,ArcCurve:jc,EllipseCurve:Dl,SplineCurve:Ll,CubicBezierCurve:Rl,QuadraticBezierCurve:Fl,LineCurve:Ml,Shape:Nl,Path:Il,ShapePath:Ol,Font:Bl,CurvePath:kl,Curve:Tl,ShapeUtils:Yo,SceneUtils:$c,WebGLUtils:so,WireframeGeometry:Do,ParametricGeometry:Lo,ParametricBufferGeometry:Ro,TetrahedronGeometry:Io,TetrahedronBufferGeometry:No,OctahedronGeometry:Oo,OctahedronBufferGeometry:Bo,IcosahedronGeometry:zo,IcosahedronBufferGeometry:Uo,DodecahedronGeometry:Ho,DodecahedronBufferGeometry:jo,PolyhedronGeometry:Fo,PolyhedronBufferGeometry:Po,TubeGeometry:$o,TubeBufferGeometry:Wo,TorusKnotGeometry:Vo,TorusKnotBufferGeometry:Go,TorusGeometry:qo,TorusBufferGeometry:Xo,TextGeometry:Qo,TextBufferGeometry:Jo,SphereGeometry:es,SphereBufferGeometry:ts,RingGeometry:ns,RingBufferGeometry:is,PlaneGeometry:ma,PlaneBufferGeometry:ga,LatheGeometry:rs,LatheBufferGeometry:as,ShapeGeometry:os,ShapeBufferGeometry:ss,ExtrudeGeometry:Ko,ExtrudeBufferGeometry:Zo,EdgesGeometry:ls,ConeGeometry:hs,ConeBufferGeometry:fs,CylinderGeometry:cs,CylinderBufferGeometry:us,CircleGeometry:ds,CircleBufferGeometry:ps,BoxGeometry:da,BoxBufferGeometry:pa,ShadowMaterial:gs,SpriteMaterial:po,RawShaderMaterial:vs,ShaderMaterial:ba,PointsMaterial:Ao,MeshPhysicalMaterial:ys,MeshStandardMaterial:bs,MeshPhongMaterial:xs,MeshToonMaterial:ws,MeshNormalMaterial:_s,MeshLambertMaterial:Es,MeshDepthMaterial:Nr,MeshDistanceMaterial:Or,MeshBasicMaterial:va,LineDashedMaterial:As,LineBasicMaterial:xo,Material:Ir,Float64BufferAttribute:la,Float32BufferAttribute:sa,Uint32BufferAttribute:oa,Int32BufferAttribute:aa,Uint16BufferAttribute:ra,Int16BufferAttribute:ia,Uint8ClampedBufferAttribute:na,Uint8BufferAttribute:ta,Int8BufferAttribute:ea,BufferAttribute:Jr,REVISION:He,MOUSE:r,CullFaceNone:oe,CullFaceBack:se,CullFaceFront:le,CullFaceFrontBack:a,FrontFaceDirectionCW:je,FrontFaceDirectionCCW:o,BasicShadowMap:s,PCFShadowMap:I,PCFSoftShadowMap:L,FrontSide:N,BackSide:ce,DoubleSide:ue,FlatShading:l,SmoothShading:c,NoColors:$e,FaceColors:d,VertexColors:v,NoBlending:he,NormalBlending:fe,AdditiveBlending:de,SubtractiveBlending:pe,MultiplyBlending:me,CustomBlending:ge,AddEquation:u,SubtractEquation:h,ReverseSubtractEquation:f,MinEquation:p,MaxEquation:m,ZeroFactor:g,OneFactor:b,SrcColorFactor:y,OneMinusSrcColorFactor:x,SrcAlphaFactor:w,OneMinusSrcAlphaFactor:_,DstAlphaFactor:E,OneMinusDstAlphaFactor:A,DstColorFactor:C,OneMinusDstColorFactor:S,SrcAlphaSaturateFactor:T,NeverDepth:ve,AlwaysDepth:be,LessDepth:ye,LessEqualDepth:xe,EqualDepth:we,GreaterEqualDepth:_e,GreaterDepth:Ee,NotEqualDepth:Ae,MultiplyOperation:R,MixOperation:F,AddOperation:P,NoToneMapping:O,LinearToneMapping:We,ReinhardToneMapping:M,Uncharted2ToneMapping:D,CineonToneMapping:B,UVMapping:z,CubeReflectionMapping:U,CubeRefractionMapping:H,EquirectangularReflectionMapping:j,EquirectangularRefractionMapping:$,SphericalReflectionMapping:W,CubeUVReflectionMapping:V,CubeUVRefractionMapping:G,RepeatWrapping:q,ClampToEdgeWrapping:X,MirroredRepeatWrapping:Y,NearestFilter:K,NearestMipMapNearestFilter:Z,NearestMipMapLinearFilter:Q,LinearFilter:J,LinearMipMapNearestFilter:ee,LinearMipMapLinearFilter:te,UnsignedByteType:Ve,ByteType:ne,ShortType:ie,UnsignedShortType:re,IntType:ae,UnsignedIntType:Ce,FloatType:Ge,HalfFloatType:qe,UnsignedShort4444Type:Se,UnsignedShort5551Type:Te,UnsignedShort565Type:Me,UnsignedInt248Type:ke,AlphaFormat:De,RGBFormat:Le,RGBAFormat:Xe,LuminanceFormat:Re,LuminanceAlphaFormat:Fe,RGBEFormat:Pe,DepthFormat:Ie,DepthStencilFormat:Ne,RGB_S3TC_DXT1_Format:Oe,RGBA_S3TC_DXT1_Format:Be,RGBA_S3TC_DXT3_Format:ze,RGBA_S3TC_DXT5_Format:Ue,RGB_PVRTC_4BPPV1_Format:Ye,RGB_PVRTC_2BPPV1_Format:Ke,RGBA_PVRTC_4BPPV1_Format:Ze,RGBA_PVRTC_2BPPV1_Format:Qe,RGB_ETC1_Format:Je,LoopOnce:et,LoopRepeat:tt,LoopPingPong:nt,InterpolateDiscrete:it,InterpolateLinear:rt,InterpolateSmooth:at,ZeroCurvatureEnding:ot,ZeroSlopeEnding:st,WrapAroundEnding:lt,TrianglesDrawMode:ct,TriangleStripDrawMode:ut,TriangleFanDrawMode:ht,LinearEncoding:ft,sRGBEncoding:dt,GammaEncoding:pt,RGBEEncoding:mt,LogLuvEncoding:gt,RGBM7Encoding:vt,RGBM16Encoding:bt,RGBDEncoding:yt,BasicDepthPacking:xt,RGBADepthPacking:wt,CubeGeometry:da,Face4:Wc,LineStrip:Vc,LinePieces:Gc,MeshFaceMaterial:qc,MultiMaterial:Xc,PointCloud:Yc,Particle:Kc,ParticleSystem:Zc,PointCloudMaterial:Qc,ParticleBasicMaterial:Jc,ParticleSystemMaterial:eu,Vertex:tu,DynamicBufferAttribute:nu,Int8Attribute:iu,Uint8Attribute:ru,Uint8ClampedAttribute:au,Int16Attribute:ou,Uint16Attribute:su,Int32Attribute:lu,Uint32Attribute:cu,Float32Attribute:uu,Float64Attribute:hu,ClosedSplineCurve3:fu,SplineCurve3:du,Spline:pu,AxisHelper:mu,BoundingBoxHelper:gu,EdgesHelper:vu,WireframeHelper:bu,XHRLoader:yu,BinaryTextureLoader:xu,GeometryUtils:wu,ImageUtils:_u,Projector:Eu,CanvasRenderer:Au});var Su=Object.assign({},Cu);var Tu="0.18.0";var Mu=0;var ku=1;var Du=2;var Lu=3;var Ru=4;var Fu=5;var Pu=6;var Iu=7;var Nu=8;var Ou=9;var Bu=10;var zu=11;var Uu=0;var Hu=1;var ju=2;var $u=3;var Wu=4;var Vu=5;var Gu=0;var qu=1;var Xu=2;var Yu=3;var Ku=4;var Zu=5;var Qu=6;var Ju=0;var eh=1;var th=2;var nh=function(e,t,n,i){var r=new Su.Color;r.setRGB(e,t,n);if(i<=.99){return new Su.MeshBasicMaterial({color:r.getHex(),opacity:i+.1,transparent:true,depthWrite:true,blendSrc:Su.SrcAlphaFactor,blendDst:Su.OneMinusSrcAlphaFactor,blendEquation:Su.ReverseSubtractEquation,blending:Su.NormalBlending})}else{return new Su.MeshPhongMaterial({color:r.getHex(),opacity:i,blending:Su.NormalBlending})}};var ih=function(e,t,n){var i=new Su.Vector3;var r=new Su.Vector3;i.subVectors(t,e.origin);var a=e.direction.dot(n);if(Math.abs(a)<e.precision){return undefined}var o=n.dot(i)/a;r.addVectors(e.origin,e.direction.clone().multiplyScalar(o));return r};var rh=function(e,t){var n=new Su.Vector3;n.subVectors(e.origin,t.origin);var i=t.direction.clone();var r=e.direction.clone();var a=n.dot(i);var o=i.dot(r);var s=n.dot(r);var l=i.dot(i);var c=r.dot(r);var u=c*l-o*o;if(Math.abs(u)<=1e-4){return undefined}var h=a*o-s*l;var f=h/u;return f};var ah=function(e,t,n){var i=e.origin.clone();i.project(t);var r=e.direction.clone().add(e.origin);r.project(t);var a=r.clone().sub(i);var o=new Su.Vector2;var s=o.subVectors(n,i).dot(a)/a.dot(a);var l=new Su.Vector2;l.addVectors(i,a.clone().multiplyScalar(s));var c=new Su.Vector3(l.x,l.y,.5);c.unproject(t);var u=new Su.Ray(t.position,c.sub(t.position).normalize());return rh(e,u)};var oh=function(t){function e(e){t.call(this);e=e||{};this.url=e.url;this.streamType=e.streamType||"vp8";this.f=e.f||526;this.maxDepthPerTile=e.maxDepthPerTile||1;this.pointSize=e.pointSize||3;this.width=e.width||1024;this.height=e.height||1024;this.whiteness=e.whiteness||0;this.varianceThreshold=e.varianceThreshold||16667e-9;this.isMjpeg=this.streamType.toLowerCase()==="mjpeg";this.video=document.createElement(this.isMjpeg?"img":"video");this.video.addEventListener(this.isMjpeg?"load":"loadedmetadata",this.metaLoaded.bind(this),false);if(!this.isMjpeg){this.video.loop=true}this.video.src=this.url;this.video.crossOrigin="Anonymous";this.video.setAttribute("crossorigin","Anonymous");this.vertex_shader=["uniform sampler2D map;","","uniform float width;","uniform float height;","uniform float nearClipping, farClipping;","","uniform float pointSize;","uniform float zOffset;","","uniform float focallength;","uniform float maxDepthPerTile;","","varying vec2 vUvP;","varying vec2 colorP;","","varying float depthVariance;","varying float maskVal;","","float sampleDepth(vec2 pos)","  {","    float depth;","    ","    vec2 vUv = vec2( pos.x / (width*2.0), pos.y / (height*2.0)+0.5 );","    vec2 vUv2 = vec2( pos.x / (width*2.0)+0.5, pos.y / (height*2.0)+0.5 );","    ","    vec4 depthColor = texture2D( map, vUv );","    ","    depth = ( depthColor.r + depthColor.g + depthColor.b ) / 3.0 ;","    ","    if (depth>0.99)","    {","      vec4 depthColor2 = texture2D( map, vUv2 );","      float depth2 = ( depthColor2.r + depthColor2.g + depthColor2.b ) / 3.0 ;","      depth = 0.99+depth2;","    }","    ","    return depth;","  }","","float median(float a, float b, float c)","  {","    float r=a;","    ","    if ( (a<b) && (b<c) )","    {","      r = b;","    }","    if ( (a<c) && (c<b) )","    {","      r = c;","    }","    return r;","  }","","float variance(float d1, float d2, float d3, float d4, float d5, float d6, float d7, float d8, float d9)","  {","    float mean = (d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9) / 9.0;","    float t1 = (d1-mean);","    float t2 = (d2-mean);","    float t3 = (d3-mean);","    float t4 = (d4-mean);","    float t5 = (d5-mean);","    float t6 = (d6-mean);","    float t7 = (d7-mean);","    float t8 = (d8-mean);","    float t9 = (d9-mean);","    float v = (t1*t1+t2*t2+t3*t3+t4*t4+t5*t5+t6*t6+t7*t7+t8*t8+t9*t9)/9.0;","    return v;","  }","","vec2 decodeDepth(vec2 pos)","  {","    vec2 ret;","    ","    ","    float depth1 = sampleDepth(vec2(position.x-1.0, position.y-1.0));","    float depth2 = sampleDepth(vec2(position.x, position.y-1.0));","    float depth3 = sampleDepth(vec2(position.x+1.0, position.y-1.0));","    float depth4 = sampleDepth(vec2(position.x-1.0, position.y));","    float depth5 = sampleDepth(vec2(position.x, position.y));","    float depth6 = sampleDepth(vec2(position.x+1.0, position.y));","    float depth7 = sampleDepth(vec2(position.x-1.0, position.y+1.0));","    float depth8 = sampleDepth(vec2(position.x, position.y+1.0));","    float depth9 = sampleDepth(vec2(position.x+1.0, position.y+1.0));","    ","    float median1 = median(depth1, depth2, depth3);","    float median2 = median(depth4, depth5, depth6);","    float median3 = median(depth7, depth8, depth9);","    ","    ret.x = median(median1, median2, median3);","    ret.y = variance(depth1, depth2, depth3, depth4, depth5, depth6, depth7, depth8, depth9);","    ","    return ret;","    ","  }","","","void main() {","  ","  vUvP = vec2( position.x / (width*2.0), position.y / (height*2.0)+0.5 );","  colorP = vec2( position.x / (width*2.0)+0.5 , position.y / (height*2.0)  );","  ","  vec4 pos = vec4(0.0,0.0,0.0,0.0);","  depthVariance = 0.0;","  ","  if ( (vUvP.x<0.0)|| (vUvP.x>0.5) || (vUvP.y<0.5) || (vUvP.y>0.0))","  {","    vec2 smp = decodeDepth(vec2(position.x, position.y));","    float depth = smp.x;","    depthVariance = smp.y;","    ","    float z = -depth;","    ","    pos = vec4(","      ( position.x / width - 0.5 ) * z * 0.5 * maxDepthPerTile * (1000.0/focallength) * -1.0,","      ( position.y / height - 0.5 ) * z * 0.5 * maxDepthPerTile * (1000.0/focallength),","      (- z + zOffset / 1000.0) * maxDepthPerTile,","      1.0);","    ","    vec2 maskP = vec2( position.x / (width*2.0), position.y / (height*2.0)  );","    vec4 maskColor = texture2D( map, maskP );","    maskVal = ( maskColor.r + maskColor.g + maskColor.b ) / 3.0 ;","  }","  ","  gl_PointSize = pointSize;","  gl_Position = projectionMatrix * modelViewMatrix * pos;","  ","}"].join("\n");this.fragment_shader=["uniform sampler2D map;","uniform float varianceThreshold;","uniform float whiteness;","","varying vec2 vUvP;","varying vec2 colorP;","","varying float depthVariance;","varying float maskVal;","","","void main() {","  ","  vec4 color;","  ","  if ( (depthVariance>varianceThreshold) || (maskVal>0.5) ||(vUvP.x<0.0)|| (vUvP.x>0.5) || (vUvP.y<0.5) || (vUvP.y>1.0))","  {  ","    discard;","  }","  else ","  {","    color = texture2D( map, colorP );","    ","    float fader = whiteness /100.0;","    ","    color.r = color.r * (1.0-fader)+ fader;","    ","    color.g = color.g * (1.0-fader)+ fader;","    ","    color.b = color.b * (1.0-fader)+ fader;","    ","    color.a = 1.0;//smoothstep( 20000.0, -20000.0, gl_FragCoord.z / gl_FragCoord.w );","  }","  ","  gl_FragColor = vec4( color.r, color.g, color.b, color.a );","  ","}"].join("\n")}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.metaLoaded=function e(){this.metaLoaded=true;this.initStreamer()};e.prototype.initStreamer=function e(){var t=this;if(this.metaLoaded){this.texture=new Su.Texture(this.video);this.geometry=new Su.Geometry;for(var n=0,i=this.width*this.height;n<i;n++){var r=new Su.Vector3;r.x=n%t.width;r.y=Math.floor(n/t.width);t.geometry.vertices.push(r)}this.material=new Su.ShaderMaterial({uniforms:{map:{type:"t",value:this.texture},width:{type:"f",value:this.width},height:{type:"f",value:this.height},focallength:{type:"f",value:this.f},pointSize:{type:"f",value:this.pointSize},zOffset:{type:"f",value:0},whiteness:{type:"f",value:this.whiteness},varianceThreshold:{type:"f",value:this.varianceThreshold},maxDepthPerTile:{type:"f",value:this.maxDepthPerTile}},vertexShader:this.vertex_shader,fragmentShader:this.fragment_shader});this.mesh=new Su.ParticleSystem(this.geometry,this.material);this.mesh.position.x=0;this.mesh.position.y=0;this.add(this.mesh);var a=this;setInterval(function(){if(a.isMjpeg||a.video.readyState===a.video.HAVE_ENOUGH_DATA){a.texture.needsUpdate=true}},1e3/30)}};e.prototype.startStream=function e(){if(!this.isMjpeg){this.video.play()}};e.prototype.stopStream=function e(){if(!this.isMjpeg){this.video.pause()}};return e}(Su.Object3D);var sh=function(f){function e(e){e=e||{};var t=e.origin||new Su.Vector3(0,0,0);var n=e.direction||new Su.Vector3(1,0,0);var i=e.length||1;var r=e.headLength||.2;var a=e.shaftDiameter||.05;var o=e.headDiameter||.1;var s=e.material||new Su.MeshBasicMaterial;var l=i-r;var c=new Su.CylinderGeometry(a*.5,a*.5,l,12,1);var u=new Su.Matrix4;u.setPosition(new Su.Vector3(0,l*.5,0));c.applyMatrix(u);var h=new Su.CylinderGeometry(0,o*.5,r,12,1);u.setPosition(new Su.Vector3(0,l+r*.5,0));h.applyMatrix(u);c.merge(h);f.call(this,c,s);this.position.copy(t);this.setDirection(n)}if(f)e.__proto__=f;e.prototype=Object.create(f&&f.prototype);e.prototype.constructor=e;e.prototype.setDirection=function e(t){var n=new Su.Vector3(0,1,0).cross(t);var i=Math.acos(new Su.Vector3(0,1,0).dot(t.clone().normalize()));this.matrix=(new Su.Matrix4).makeRotationAxis(n.normalize(),i);this.rotation.setFromRotationMatrix(this.matrix,this.rotation.order)};e.prototype.setLength=function e(t){this.scale.set(t,t,t)};e.prototype.setColor=function e(t){this.material.color.setHex(t)};e.prototype.dispose=function e(){if(this.geometry!==undefined){this.geometry.dispose()}if(this.material!==undefined){this.material.dispose()}};return e}(Su.Mesh);Su.STLLoader=function(e){this.manager=e!==undefined?e:Su.DefaultLoadingManager};Su.STLLoader.prototype={constructor:Su.STLLoader,load:function(e,t,n,i){var r=this;var a=new Su.FileLoader(r.manager);a.setResponseType("arraybuffer");a.load(e,function(e){t(r.parse(e))},n,i)},parse:function(e){function t(e){var t,n,i,r;r=new DataView(e);n=32/8*3+32/8*3*3+16/8;i=r.getUint32(80,true);t=80+32/8+i*n;if(t===r.byteLength){return true}var a=[115,111,108,105,100];for(var o=0;o<5;o++){if(a[o]!=r.getUint8(o,false)){return true}}return false}function n(e){var t=new DataView(e);var n=t.getUint32(80,true);var i,r,a,o=false,s;var l,c,u,h;for(var f=0;f<80-10;f++){if(t.getUint32(f,false)==1129270351&&t.getUint8(f+4)==82&&t.getUint8(f+5)==61){o=true;s=[];l=t.getUint8(f+6)/255;c=t.getUint8(f+7)/255;u=t.getUint8(f+8)/255;h=t.getUint8(f+9)/255}}var d=84;var p=12*4+2;var m=new Su.BufferGeometry;var g=[];var v=[];for(var b=0;b<n;b++){var y=d+b*p;var x=t.getFloat32(y,true);var w=t.getFloat32(y+4,true);var _=t.getFloat32(y+8,true);if(o){var E=t.getUint16(y+48,true);if((E&32768)===0){i=(E&31)/31;r=(E>>5&31)/31;a=(E>>10&31)/31}else{i=l;r=c;a=u}}for(var A=1;A<=3;A++){var C=y+A*12;g.push(t.getFloat32(C,true));g.push(t.getFloat32(C+4,true));g.push(t.getFloat32(C+8,true));v.push(x,w,_);if(o){s.push(i,r,a)}}}m.addAttribute("position",new Su.BufferAttribute(new Float32Array(g),3));m.addAttribute("normal",new Su.BufferAttribute(new Float32Array(v),3));if(o){m.addAttribute("color",new Su.BufferAttribute(new Float32Array(s),3));m.hasColors=true;m.alpha=h}return m}function i(e){var t=new Su.BufferGeometry;var n=/facet([\s\S]*?)endfacet/g;var i=0;var r=/[\s]+([+-]?(?:\d+.\d+|\d+.|\d+|.\d+)(?:[eE][+-]?\d+)?)/.source;var a=new RegExp("vertex"+r+r+r,"g");var o=new RegExp("normal"+r+r+r,"g");var s=[];var l=[];var c=new Su.Vector3;var u;while((u=n.exec(e))!==null){var h=0;var f=0;var d=u[0];while((u=o.exec(d))!==null){c.x=parseFloat(u[1]);c.y=parseFloat(u[2]);c.z=parseFloat(u[3]);f++}while((u=a.exec(d))!==null){s.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3]));l.push(c.x,c.y,c.z);h++}if(f!==1){console.error("THREE.STLLoader: Something isn't right with the normal of face number "+i)}if(h!==3){console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+i)}i++}t.addAttribute("position",new Su.Float32BufferAttribute(s,3));t.addAttribute("normal",new Su.Float32BufferAttribute(l,3));return t}function r(e){if(typeof e!=="string"){var t=new Uint8Array(e);if(window.TextDecoder!==undefined){return(new TextDecoder).decode(t)}var n="";for(var i=0,r=e.byteLength;i<r;i++){n+=String.fromCharCode(t[i])}return n}else{return e}}function a(e){if(typeof e==="string"){var t=new Uint8Array(e.length);for(var n=0;n<e.length;n++){t[n]=e.charCodeAt(n)&255}return t.buffer||t}else{return e}}var o=a(e);return t(o)?n(o):i(r(e))}};Su.ColladaLoader=function(e){this.manager=e!==undefined?e:Su.DefaultLoadingManager};Su.ColladaLoader.prototype={constructor:Su.ColladaLoader,crossOrigin:"Anonymous",load:function(e,t,n,i){var r=this;var a=Su.Loader.prototype.extractUrlBase(e);var o=new Su.FileLoader(r.manager);o.load(e,function(e){t(r.parse(e,a))},n,i)},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){function s(e,t){var n=[];var i=e.childNodes;for(var r=0,a=i.length;r<a;r++){var o=i[r];if(o.nodeName===t){n.push(o)}}return n}function a(e){if(e.length===0){return[]}var t=e.trim().split(/\s+/);var n=new Array(t.length);for(var i=0,r=t.length;i<r;i++){n[i]=t[i]}return n}function c(e){if(e.length===0){return[]}var t=e.trim().split(/\s+/);var n=new Array(t.length);for(var i=0,r=t.length;i<r;i++){n[i]=parseFloat(t[i])}return n}function l(e){if(e.length===0){return[]}var t=e.trim().split(/\s+/);var n=new Array(t.length);for(var i=0,r=t.length;i<r;i++){n[i]=parseInt(t[i])}return n}function u(e){return e.substring(1)}function r(){return"three_default_"+ct++}function h(e){return Object.keys(e).length===0}function n(e){return{unit:i(s(e,"unit")[0]),upAxis:o(s(e,"up_axis")[0])}}function i(e){return e!==undefined?parseFloat(e.getAttribute("meter")):1}function o(e){return e!==undefined?e.textContent:"Y_UP"}function f(e,t,n,i){var r=s(e,t)[0];if(r!==undefined){var a=s(r,n);for(var o=0;o<a.length;o++){i(a[o])}}}function d(e,t){for(var n in e){var i=e[n];i.build=t(e[n])}}function p(e,t){if(e.build!==undefined){return e.build}e.build=t(e);return e.build}function m(e){var t={sources:{},samplers:{},channels:{}};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}var a;switch(r.nodeName){case"source":a=r.getAttribute("id");t.sources[a]=ve(r);break;case"sampler":a=r.getAttribute("id");t.samplers[a]=g(r);break;case"channel":a=r.getAttribute("target");t.channels[a]=v(r);break;default:console.log(r)}}ut.animations[e.getAttribute("id")]=t}function g(e){var t={inputs:{}};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"input":var a=u(r.getAttribute("source"));var o=r.getAttribute("semantic");t.inputs[o]=a;break}}return t}function v(e){var t={};var n=e.getAttribute("target");var i=n.split("/");var r=i.shift();var a=i.shift();var o=a.indexOf("(")!==-1;var s=a.indexOf(".")!==-1;if(s){i=a.split(".");a=i.shift();t.member=i.shift()}else if(o){var l=a.split("(");a=l.shift();for(var c=0;c<l.length;c++){l[c]=parseInt(l[c].replace(/\)/,""))}t.indices=l}t.id=r;t.sid=a;t.arraySyntax=o;t.memberSyntax=s;t.sampler=u(e.getAttribute("source"));return t}function b(e){var t=[];var n=e.channels;var i=e.samplers;var r=e.sources;for(var a in n){if(n.hasOwnProperty(a)){var o=n[a];var s=i[o.sampler];var l=s.inputs.INPUT;var c=s.inputs.OUTPUT;var u=r[l];var h=r[c];var f=x(o,u,h);C(f,t)}}return t}function y(e){return p(ut.animations[e],b)}function x(e,t,n){var i=ut.nodes[e.id];var r=Ke(i.id);var a=i.transforms[e.sid];var o=i.matrix.clone().transpose();var s,l;var c,u,h,f;var d={};switch(a){case"matrix":for(c=0,u=t.array.length;c<u;c++){s=t.array[c];l=c*n.stride;if(d[s]===undefined){d[s]={}}if(e.arraySyntax===true){var p=n.array[l];var m=e.indices[0]+4*e.indices[1];d[s][m]=p}else{for(h=0,f=n.stride;h<f;h++){d[s][h]=n.array[l+h]}}}break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',a);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',a);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',a);break}var g=w(d,o);var v={name:r.uuid,keyframes:g};return v}function w(e,t){var n=[];for(var i in e){n.push({time:parseFloat(i),value:e[i]})}n.sort(a);for(var r=0;r<16;r++){S(n,r,t.elements[r])}return n;function a(e,t){return e.time-t.time}}var _=new Su.Vector3;var E=new Su.Vector3;var A=new Su.Quaternion;function C(e,t){var n=e.keyframes;var i=e.name;var r=[];var a=[];var o=[];var s=[];for(var l=0,c=n.length;l<c;l++){var u=n[l];var h=u.time;var f=u.value;He.fromArray(f).transpose();He.decompose(_,A,E);r.push(h);a.push(_.x,_.y,_.z);o.push(A.x,A.y,A.z,A.w);s.push(E.x,E.y,E.z)}if(a.length>0){t.push(new Su.VectorKeyframeTrack(i+".position",r,a))}if(o.length>0){t.push(new Su.QuaternionKeyframeTrack(i+".quaternion",r,o))}if(s.length>0){t.push(new Su.VectorKeyframeTrack(i+".scale",r,s))}return t}function S(e,t,n){var i;var r=true;var a,o;for(a=0,o=e.length;a<o;a++){i=e[a];if(i.value[t]===undefined){i.value[t]=null}else{r=false}}if(r===true){for(a=0,o=e.length;a<o;a++){i=e[a];i.value[t]=n}}else{T(e,t)}}function T(e,t){var n,i;for(var r=0,a=e.length;r<a;r++){var o=e[r];if(o.value[t]===null){n=M(e,r,t);i=k(e,r,t);if(n===null){o.value[t]=i.value[t];continue}if(i===null){o.value[t]=n.value[t];continue}D(o,n,i,t)}}}function M(e,t,n){while(t>=0){var i=e[t];if(i.value[n]!==null){return i}t--}return null}function k(e,t,n){while(t<e.length){var i=e[t];if(i.value[n]!==null){return i}t++}return null}function D(e,t,n,i){if(n.time-t.time===0){e.value[i]=t.value[i];return}e.value[i]=(e.time-t.time)*(n.value[i]-t.value[i])/(n.time-t.time)+t.value[i]}function L(e){var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"instance_animation":t.animations.push(u(r.getAttribute("url")));break}}ut.clips[e.getAttribute("id")]=t}function R(e){var t=[];var n=e.name;var i=e.end-e.start||-1;var r=e.animations;for(var a=0,o=r.length;a<o;a++){var s=y(r[a]);for(var l=0,c=s.length;l<c;l++){t.push(s[l])}}return new Su.AnimationClip(n,i,t)}function F(e){return p(ut.clips[e],R)}function P(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"skin":t.id=u(r.getAttribute("source"));t.skin=I(r);break;case"morph":t.id=u(r.getAttribute("source"));console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}ut.controllers[e.getAttribute("id")]=t}function I(e){var t={sources:{}};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=c(r.textContent);break;case"source":var a=r.getAttribute("id");t.sources[a]=ve(r);break;case"joints":t.joints=N(r);break;case"vertex_weights":t.vertexWeights=O(r);break}}return t}function N(e){var t={inputs:{}};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"input":var a=r.getAttribute("semantic");var o=u(r.getAttribute("source"));t.inputs[a]=o;break}}return t}function O(e){var t={inputs:{}};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"input":var a=r.getAttribute("semantic");var o=u(r.getAttribute("source"));var s=parseInt(r.getAttribute("offset"));t.inputs[a]={id:o,offset:s};break;case"vcount":t.vcount=l(r.textContent);break;case"v":t.v=l(r.textContent);break}}return t}function B(e){var t={id:e.id};var n=ut.geometries[t.id];if(e.skin!==undefined){t.skin=z(e.skin);n.sources.skinIndices=t.skin.indices;n.sources.skinWeights=t.skin.weights}return t}function z(e){var t=4;var n={joints:[],indices:{array:[],stride:t},weights:{array:[],stride:t}};var i=e.sources;var r=e.vertexWeights;var a=r.vcount;var o=r.v;var s=r.inputs.JOINT.offset;var l=r.inputs.WEIGHT.offset;var c=e.sources[e.joints.inputs.JOINT];var u=e.sources[e.joints.inputs.INV_BIND_MATRIX];var h=i[r.inputs.WEIGHT.id].array;var f=0;var d,p,m;for(d=0,m=a.length;d<m;d++){var g=a[d];var v=[];for(p=0;p<g;p++){var b=o[f+s];var y=o[f+l];var x=h[y];v.push({index:b,weight:x});f+=2}v.sort(A);for(p=0;p<t;p++){var w=v[p];if(w!==undefined){n.indices.array.push(w.index);n.weights.array.push(w.weight)}else{n.indices.array.push(0);n.weights.array.push(0)}}}n.bindMatrix=(new Su.Matrix4).fromArray(e.bindShapeMatrix).transpose();for(d=0,m=c.array.length;d<m;d++){var _=c.array[d];var E=(new Su.Matrix4).fromArray(u.array,d*u.stride).transpose();n.joints.push({name:_,boneInverse:E})}return n;function A(e,t){return t.weight-e.weight}}function U(e){return p(ut.controllers[e],B)}function H(e){var t={init_from:s(e,"init_from")[0].textContent};ut.images[e.getAttribute("id")]=t}function j(e){if(e.build!==undefined){return e.build}return e.init_from}function $(e){return p(ut.images[e],j)}function W(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"profile_COMMON":t.profile=V(r);break}}ut.effects[e.getAttribute("id")]=t}function V(e){var t={surfaces:{},samplers:{}};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"newparam":G(r,t);break;case"technique":t.technique=Y(r);break}}return t}function G(e,t){var n=e.getAttribute("sid");for(var i=0,r=e.childNodes.length;i<r;i++){var a=e.childNodes[i];if(a.nodeType!==1){continue}switch(a.nodeName){case"surface":t.surfaces[n]=q(a);break;case"sampler2D":t.samplers[n]=X(a);break}}}function q(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"init_from":t.init_from=r.textContent;break}}return t}function X(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"source":t.source=r.textContent;break}}return t}function Y(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=r.nodeName;t.parameters=K(r);break}}return t}function K(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"emission":case"diffuse":case"specular":case"shininess":case"transparent":case"transparency":t[r.nodeName]=Z(r);break}}return t}function Z(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"color":t[r.nodeName]=c(r.textContent);break;case"float":t[r.nodeName]=parseFloat(r.textContent);break;case"texture":t[r.nodeName]={id:r.getAttribute("texture"),extra:Q(r)};break}}return t}function Q(e){var t={technique:{}};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"extra":J(r,t);break}}return t}function J(e,t){for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"technique":ee(r,t);break}}}function ee(e,t){for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":if(r.textContent.toUpperCase()==="TRUE"){t.technique[r.nodeName]=1}else if(r.textContent.toUpperCase()==="FALSE"){t.technique[r.nodeName]=0}else{t.technique[r.nodeName]=parseInt(r.textContent)}break}}}function te(e){return e}function ne(e){return p(ut.effects[e],te)}function ie(e){var t={name:e.getAttribute("name")};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"instance_effect":t.url=u(r.getAttribute("url"));break}}ut.materials[e.getAttribute("id")]=t}function re(e){var o=ne(e.url);var t=o.profile.technique;var n;switch(t.type){case"phong":case"blinn":n=new Su.MeshPhongMaterial;break;case"lambert":n=new Su.MeshLambertMaterial;break;default:n=new Su.MeshBasicMaterial;break}n.name=e.name;function i(e){var t=o.profile.samplers[e.id];if(t!==undefined){var n=o.profile.surfaces[t.source];var i=ot.load($(n.init_from));var r=e.extra;if(r!==undefined&&r.technique!==undefined&&h(r.technique)===false){var a=r.technique;i.wrapS=a.wrapU?Su.RepeatWrapping:Su.ClampToEdgeWrapping;i.wrapT=a.wrapV?Su.RepeatWrapping:Su.ClampToEdgeWrapping;i.offset.set(a.offsetU||0,a.offsetV||0);i.repeat.set(a.repeatU||1,a.repeatV||1)}else{i.wrapS=Su.RepeatWrapping;i.wrapT=Su.RepeatWrapping}return i}console.error("THREE.ColladaLoader: Undefined sampler",e.id);return null}var r=t.parameters;for(var a in r){var s=r[a];switch(a){case"diffuse":if(s.color){n.color.fromArray(s.color)}if(s.texture){n.map=i(s.texture)}break;case"specular":if(s.color&&n.specular){n.specular.fromArray(s.color)}if(s.texture){n.specularMap=i(s.texture)}break;case"shininess":if(s.float&&n.shininess){n.shininess=s.float}break;case"emission":if(s.color&&n.emissive){n.emissive.fromArray(s.color)}break;case"transparent":n.transparent=true;break;case"transparency":if(s.float!==undefined){n.opacity=s.float}n.transparent=true;break}}return n}function ae(e){return p(ut.materials[e],re)}function oe(e){var t={name:e.getAttribute("name")};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"optics":t.optics=se(r);break}}ut.cameras[e.getAttribute("id")]=t}function se(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"technique_common":return le(n)}}return{}}function le(e){var t={};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"perspective":case"orthographic":t.technique=i.nodeName;t.parameters=ce(i);break}}return t}function ce(e){var t={};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[i.nodeName]=parseFloat(i.textContent);break}}return t}function ue(e){var t;switch(e.optics.technique){case"perspective":t=new Su.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var n=e.optics.parameters.ymag;var i=e.optics.parameters.xmag;var r=e.optics.parameters.aspect_ratio;i=i===undefined?n*r:i;n=n===undefined?i/r:n;i*=.5;n*=.5;t=new Su.OrthographicCamera(-i,i,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new Su.PerspectiveCamera;break}t.name=e.name;return t}function he(e){var t=ut.cameras[e];if(t!==undefined){return p(t,ue)}return null}function fe(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"technique_common":t=de(r);break}}ut.lights[e.getAttribute("id")]=t}function de(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=r.nodeName;t.parameters=pe(r)}}return t}function pe(e){var t={};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"color":var a=c(r.textContent);t.color=(new Su.Color).fromArray(a);break;case"falloff_angle":t.falloffAngle=parseFloat(r.textContent);break;case"quadratic_attenuation":var o=parseFloat(r.textContent);t.distance=o?Math.sqrt(1/o):0;break}}return t}function me(e){var t;switch(e.technique){case"directional":t=new Su.DirectionalLight;break;case"point":t=new Su.PointLight;break;case"spot":t=new Su.SpotLight;break;case"ambient":t=new Su.AmbientLight;break}if(e.parameters.color){t.color.copy(e.parameters.color)}if(e.parameters.distance){t.distance=e.parameters.distance}return t}function ge(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]};var n=s(e,"mesh")[0];for(var i=0;i<n.childNodes.length;i++){var r=n.childNodes[i];if(r.nodeType!==1){continue}var a=r.getAttribute("id");switch(r.nodeName){case"source":t.sources[a]=ve(r);break;case"vertices":t.vertices=be(r);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",r.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(ye(r));break;default:console.log(r)}}ut.geometries[e.getAttribute("id")]=t}function ve(e){var t={array:[],stride:3};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"float_array":t.array=c(i.textContent);break;case"Name_array":t.array=a(i.textContent);break;case"technique_common":var r=s(i,"accessor")[0];if(r!==undefined){t.stride=parseInt(r.getAttribute("stride"))}break}}return t}function be(e){var t={};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}t[i.getAttribute("semantic")]=u(i.getAttribute("source"))}return t}function ye(e){var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0};for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(r.nodeType!==1){continue}switch(r.nodeName){case"input":var a=u(r.getAttribute("source"));var o=r.getAttribute("semantic");var s=parseInt(r.getAttribute("offset"));t.inputs[o]={id:a,offset:s};t.stride=Math.max(t.stride,s+1);break;case"vcount":t.vcount=l(r.textContent);break;case"p":t.p=l(r.textContent);break}}return t}function xe(e){var t={};for(var n=0;n<e.length;n++){var i=e[n];if(t[i.type]===undefined){t[i.type]=[]}t[i.type].push(i)}return t}function we(e){var t={};var n=e.sources;var i=e.vertices;var r=e.primitives;if(r.length===0){return{}}var a=xe(r);for(var o in a){t[o]=_e(a[o],n,i)}return t}function _e(e,t,n){var i={};var r={array:[],stride:0};var a={array:[],stride:0};var o={array:[],stride:0};var s={array:[],stride:0};var l={array:[],stride:4};var c={array:[],stride:4};var u=new Su.BufferGeometry;var h=[];var f=0,d=0;for(var p=0;p<e.length;p++){var m=e[p];var g=m.inputs;var v=1;if(m.vcount&&m.vcount[0]===4){v=2}if(m.type==="lines"||m.type==="linestrips"){d=m.count*2}else{d=m.count*3*v}u.addGroup(f,d,p);f+=d;if(m.material){h.push(m.material)}for(var b in g){var y=g[b];switch(b){case"VERTEX":for(var x in n){var w=n[x];switch(x){case"POSITION":Ee(m,t[w],y.offset,r.array);r.stride=t[w].stride;if(t.skinWeights&&t.skinIndices){Ee(m,t.skinIndices,y.offset,l.array);Ee(m,t.skinWeights,y.offset,c.array)}break;case"NORMAL":Ee(m,t[w],y.offset,a.array);a.stride=t[w].stride;break;case"COLOR":Ee(m,t[w],y.offset,s.array);s.stride=t[w].stride;break;case"TEXCOORD":Ee(m,t[w],y.offset,o.array);o.stride=t[w].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',x)}}break;case"NORMAL":Ee(m,t[y.id],y.offset,a.array);a.stride=t[y.id].stride;break;case"COLOR":Ee(m,t[y.id],y.offset,s.array);s.stride=t[y.id].stride;break;case"TEXCOORD":Ee(m,t[y.id],y.offset,o.array);o.stride=t[y.id].stride;break}}}if(r.array.length>0){u.addAttribute("position",new Su.Float32BufferAttribute(r.array,r.stride))}if(a.array.length>0){u.addAttribute("normal",new Su.Float32BufferAttribute(a.array,a.stride))}if(s.array.length>0){u.addAttribute("color",new Su.Float32BufferAttribute(s.array,s.stride))}if(o.array.length>0){u.addAttribute("uv",new Su.Float32BufferAttribute(o.array,o.stride))}if(l.array.length>0){u.addAttribute("skinIndex",new Su.Float32BufferAttribute(l.array,l.stride))}if(c.array.length>0){u.addAttribute("skinWeight",new Su.Float32BufferAttribute(c.array,c.stride))}i.data=u;i.type=e[0].type;i.materialKeys=h;return i}function Ee(e,t,i,r){var a=e.p;var n=e.stride;var o=e.vcount;function s(e){var t=a[e+i]*u;var n=t+u;for(;t<n;t++){r.push(c[t])}}var l=0;var c=t.array;var u=t.stride;if(e.vcount!==undefined){var h=0;for(var f=0,d=o.length;f<d;f++){var p=o[f];if(p===4){var m=h+n*0;var g=h+n*1;var v=h+n*2;var b=h+n*3;s(m);s(g);s(b);s(g);s(v);s(b)}else if(p===3){var m=h+n*0;var g=h+n*1;var v=h+n*2;s(m);s(g);s(v)}else{l=Math.max(l,p)}h+=n*p}if(l>0){console.log("THREE.ColladaLoader: Geometry has faces with more than 4 vertices.")}}else{for(var f=0,d=a.length;f<d;f+=n){s(f)}}}function Ae(e){return p(ut.geometries[e],we)}function Ce(e){var t={name:e.getAttribute("name")||"",joints:{},links:[]};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"technique_common":Me(i,t);break}}ut.kinematicsModels[e.getAttribute("id")]=t}function Se(e){if(e.build!==undefined){return e.build}return e}function Te(e){return p(ut.kinematicsModels[e],Se)}function Me(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"joint":t.joints[i.getAttribute("sid")]=ke(i);break;case"link":t.links.push(Le(i));break}}}function ke(e){var t;for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"prismatic":case"revolute":t=De(i);break}}return t}function De(e,t){var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new Su.Vector3,limits:{min:0,max:0},type:e.nodeName,static:false,zeroPosition:0,middlePosition:0};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"axis":var r=c(i.textContent);t.axis.fromArray(r);break;case"limits":var a=i.getElementsByTagName("max")[0];var o=i.getElementsByTagName("min")[0];t.limits.max=parseFloat(a.textContent);t.limits.min=parseFloat(o.textContent);break}}if(t.limits.min>=t.limits.max){t.static=true}t.middlePosition=(t.limits.min+t.limits.max)/2;return t}function Le(e){var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"attachment_full":t.attachments.push(Re(i));break;case"matrix":case"translate":case"rotate":t.transforms.push(Fe(i));break}}return t}function Re(e){var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"link":t.links.push(Le(i));break;case"matrix":case"translate":case"rotate":t.transforms.push(Fe(i));break}}return t}function Fe(e){var t={type:e.nodeName};var n=c(e.textContent);switch(t.type){case"matrix":t.obj=new Su.Matrix4;t.obj.fromArray(n).transpose();break;case"translate":t.obj=new Su.Vector3;t.obj.fromArray(n);break;case"rotate":t.obj=new Su.Vector3;t.obj.fromArray(n);t.angle=Su.Math.degToRad(n[3]);break}return t}function Pe(e){var t={bindJointAxis:[]};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"bind_joint_axis":t.bindJointAxis.push(Ie(i));break}}ut.kinematicsScenes[u(e.getAttribute("url"))]=t}function Ie(e){var t={target:e.getAttribute("target").split("/").pop()};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"axis":var r=i.getElementsByTagName("param")[0];t.axis=r.textContent;var a=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=a.substr(0,a.length-1);break}}return t}function Ne(e){if(e.build!==undefined){return e.build}return e}function Oe(e){return p(ut.kinematicsScenes[e],Ne)}function Be(){var e=Object.keys(ut.kinematicsModels)[0];var t=Object.keys(ut.kinematicsScenes)[0];var n=Object.keys(ut.visualScenes)[0];if(e===undefined||t===undefined){return}var a=Te(e);var i=Oe(t);var o=Je(n);var r=i.bindJointAxis;var c={};for(var s=0,l=r.length;s<l;s++){var u=r[s];var h=it.querySelector('[sid="'+u.target+'"]');if(h){var f=h.parentElement;d(u.jointIndex,f)}}function d(t,n){var i=n.getAttribute("name");var r=a.joints[t];o.traverse(function(e){if(e.name===i){c[t]={object:e,transforms:ze(n),joint:r,position:r.zeroPosition}}})}var p=new Su.Matrix4;lt={joints:a&&a.joints,getJointValue:function(e){var t=c[e];if(t){return t.position}else{console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")}},setJointValue:function(e,t){var n=c[e];if(n){var i=n.joint;if(t>i.limits.max||t<i.limits.min){console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+i.limits.min+", max: "+i.limits.max+").")}else if(i.static){console.warn("THREE.ColladaLoader: Joint "+e+" is static.")}else{var r=n.object;var a=i.axis;var o=n.transforms;He.identity();for(var s=0;s<o.length;s++){var l=o[s];if(l.sid&&l.sid.indexOf(e)!==-1){switch(i.type){case"revolute":He.multiply(p.makeRotationAxis(a,Su.Math.degToRad(t)));break;case"prismatic":He.multiply(p.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+i.type);break}}else{switch(l.type){case"matrix":He.multiply(l.obj);break;case"translate":He.multiply(p.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"scale":He.scale(l.obj);break;case"rotate":He.multiply(p.makeRotationAxis(l.obj,l.angle));break}}}r.matrix.copy(He);r.matrix.decompose(r.position,r.quaternion,r.scale);c[e].position=t}}else{console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}}function ze(e){var t=[];var n=it.querySelector('[id="'+e.id+'"]');for(var i=0;i<n.childNodes.length;i++){var r=n.childNodes[i];if(r.nodeType!==1){continue}switch(r.nodeName){case"matrix":var a=c(r.textContent);var o=(new Su.Matrix4).fromArray(a).transpose();t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:o});break;case"translate":case"scale":var a=c(r.textContent);var s=(new Su.Vector3).fromArray(a);t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:s});break;case"rotate":var a=c(r.textContent);var s=(new Su.Vector3).fromArray(a);var l=Su.Math.degToRad(a[3]);t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:s,angle:l});break}}return t}function Ue(e){var t=e.getElementsByTagName("node");for(var n=0;n<t.length;n++){var i=t[n];if(i.hasAttribute("id")===false){i.setAttribute("id",r())}}}var He=new Su.Matrix4;var je=new Su.Vector3;function $e(e){var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new Su.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(i.nodeType!==1){continue}switch(i.nodeName){case"node":t.nodes.push(i.getAttribute("id"));$e(i);break;case"instance_camera":t.instanceCameras.push(u(i.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(We(i));break;case"instance_light":t.instanceLights.push(u(i.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(We(i));break;case"instance_node":t.instanceNodes.push(u(i.getAttribute("url")));break;case"matrix":var r=c(i.textContent);t.matrix.multiply(He.fromArray(r).transpose());t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"translate":var r=c(i.textContent);je.fromArray(r);t.matrix.multiply(He.makeTranslation(je.x,je.y,je.z));t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"rotate":var r=c(i.textContent);var a=Su.Math.degToRad(r[3]);t.matrix.multiply(He.makeRotationAxis(je.fromArray(r),a));t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"scale":var r=c(i.textContent);t.matrix.scale(je.fromArray(r));t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"extra":break;default:console.log(i)}}ut.nodes[t.id]=t;return t}function We(e){var t={id:u(e.getAttribute("url")),materials:{},skeletons:[]};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"bind_material":var r=i.getElementsByTagName("instance_material");for(var a=0;a<r.length;a++){var o=r[a];var s=o.getAttribute("symbol");var l=o.getAttribute("target");t.materials[s]=u(l)}break;case"skeleton":t.skeletons.push(u(i.textContent));break;default:break}}return t}function Ve(e,t){var n=[];var i=[];var r,a,o;for(r=0;r<e.length;r++){var s=e[r];var l=Ke(s);Ge(l,t,n)}for(r=0;r<t.length;r++){for(a=0;a<n.length;a++){o=n[a];if(o.bone.name===t[r].name){i[r]=o;o.processed=true;break}}}for(r=0;r<n.length;r++){o=n[r];if(o.processed===false){i.push(o);o.processed=true}}var c=[];var u=[];for(r=0;r<i.length;r++){o=i[r];c.push(o.bone);u.push(o.boneInverse)}return new Su.Skeleton(c,u)}function Ge(e,r,a){e.traverse(function(e){if(e.isBone===true){var t;for(var n=0;n<r.length;n++){var i=r[n];if(i.name===e.name){t=i.boneInverse;break}}if(t===undefined){t=new Su.Matrix4}a.push({bone:e,boneInverse:t,processed:false})}})}function qe(e){var t=[];var n=e.matrix;var i=e.nodes;var r=e.type;var a=e.instanceCameras;var o=e.instanceControllers;var s=e.instanceLights;var l=e.instanceGeometries;var c=e.instanceNodes;for(var u=0,h=i.length;u<h;u++){t.push(Ke(i[u]))}for(var u=0,h=a.length;u<h;u++){var f=he(a[u]);if(f!==null){t.push(f.clone())}}for(var u=0,h=o.length;u<h;u++){var d=o[u];var p=U(d.id);var m=Ae(p.id);var g=Ye(m,d.materials);var v=d.skeletons;var b=p.skin.joints;var y=Ve(v,b);for(var x=0,w=g.length;x<w;x++){var _=g[x];if(_.isSkinnedMesh){_.bind(y,p.skin.bindMatrix);_.normalizeSkinWeights()}t.push(_)}}for(var u=0,h=s.length;u<h;u++){var f=he(a[u]);if(f!==null){t.push(f.clone())}}for(var u=0,h=l.length;u<h;u++){var d=l[u];var m=Ae(d.id);var g=Ye(m,d.materials);for(var x=0,w=g.length;x<w;x++){t.push(g[x])}}for(var u=0,h=c.length;u<h;u++){t.push(Ke(c[u]).clone())}var _;if(i.length===0&&t.length===1){_=t[0]}else{_=r==="JOINT"?new Su.Bone:new Su.Group;for(var u=0;u<t.length;u++){_.add(t[u])}}_.name=r==="JOINT"?e.sid:e.name;_.matrix.copy(n);_.matrix.decompose(_.position,_.quaternion,_.scale);return _}function Xe(e,t){var n=[];for(var i=0,r=e.length;i<r;i++){var a=t[e[i]];n.push(ae(a))}return n}function Ye(e,t){var n=[];for(var i in e){var r=e[i];var a=Xe(r.materialKeys,t);if(a.length===0){if(i==="lines"||i==="linestrips"){a.push(new Su.LineBasicMaterial)}else{a.push(new Su.MeshPhongMaterial)}}var o=r.data.attributes.skinIndex!==undefined;if(o){for(var s=0,l=a.length;s<l;s++){a[s].skinning=true}}var c=a.length===1?a[0]:a;var u;switch(i){case"lines":u=new Su.LineSegments(r.data,c);break;case"linestrips":u=new Su.Line(r.data,c);break;case"triangles":case"polylist":if(o){u=new Su.SkinnedMesh(r.data,c)}else{u=new Su.Mesh(r.data,c)}break}n.push(u)}return n}function Ke(e){return p(ut.nodes[e],qe)}function Ze(e){var t={name:e.getAttribute("name"),children:[]};Ue(e);var n=s(e,"node");for(var i=0;i<n.length;i++){t.children.push($e(n[i]))}ut.visualScenes[e.getAttribute("id")]=t}function Qe(e){var t=new Su.Group;t.name=e.name;var n=e.children;for(var i=0;i<n.length;i++){var r=n[i];if(r.id===null){t.add(qe(r))}else{t.add(Ke(r.id))}}return t}function Je(e){return p(ut.visualScenes[e],Qe)}function et(e){var t=s(e,"instance_visual_scene")[0];return Je(u(t.getAttribute("url")))}function tt(){var e=ut.clips;if(h(e)===true){if(h(ut.animations)===false){var t=[];for(var n in ut.animations){var i=y(n);for(var r=0,a=i.length;r<a;r++){t.push(i[r])}}st.push(new Su.AnimationClip("default",-1,t))}}else{for(var n in e){st.push(F(n))}}}console.time("THREE.ColladaLoader");if(e.length===0){return{scene:new Su.Scene}}console.time("THREE.ColladaLoader: DOMParser");var nt=(new DOMParser).parseFromString(e,"application/xml");console.timeEnd("THREE.ColladaLoader: DOMParser");var it=s(nt,"COLLADA")[0];var rt=it.getAttribute("version");console.log("THREE.ColladaLoader: File version",rt);var at=n(s(it,"asset")[0]);var ot=new Su.TextureLoader(this.manager);ot.setPath(t).setCrossOrigin(this.crossOrigin);var st=[];var lt={};var ct=0;var ut={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},kinematicsScenes:{}};console.time("THREE.ColladaLoader: Parse");f(it,"library_animations","animation",m);f(it,"library_animation_clips","animation_clip",L);f(it,"library_controllers","controller",P);f(it,"library_images","image",H);f(it,"library_effects","effect",W);f(it,"library_materials","material",ie);f(it,"library_cameras","camera",oe);f(it,"library_lights","light",fe);f(it,"library_geometries","geometry",ge);f(it,"library_nodes","node",$e);f(it,"library_visual_scenes","visual_scene",Ze);f(it,"library_kinematics_models","kinematics_model",Ce);f(it,"scene","instance_kinematics_scene",Pe);console.timeEnd("THREE.ColladaLoader: Parse");console.time("THREE.ColladaLoader: Build");d(ut.animations,b);d(ut.clips,R);d(ut.controllers,B);d(ut.images,j);d(ut.effects,te);d(ut.materials,re);d(ut.cameras,ue);d(ut.lights,me);d(ut.geometries,we);d(ut.visualScenes,Qe);console.timeEnd("THREE.ColladaLoader: Build");tt();Be();var ht=et(s(it,"scene")[0]);ht.scale.multiplyScalar(at.unit);console.timeEnd("THREE.ColladaLoader");return{animations:st,kinematics:lt,library:ut,scene:ht}}};var lh=function(l){function e(e){l.call(this);var n=this;e=e||{};var t=e.path||"/";var i=e.resource;var r=e.material||null;this.warnings=e.warnings;if(t.substr(t.length-1)!=="/"){t+="/"}var a=t+i;var o=a.substr(-4).toLowerCase();var s;if(o===".dae"){s=new Su.ColladaLoader;s.log=function(e){if(n.warnings){console.warn(e)}};s.load(a,function e(t){if(r!==null){t.scene.traverse(function(e){if(e instanceof Su.Mesh){if(e.material===undefined){e.material=r}}})}n.add(t.scene)},null,function e(t){console.error(t)})}else if(o===".stl"){s=new Su.STLLoader;{s.load(a,function(e){e.computeFaceNormals();var t;if(r!==null){t=new Su.Mesh(e,r)}else{t=new Su.Mesh(e,new Su.MeshBasicMaterial({color:10066329}))}n.add(t)},null,function e(t){console.error(t)})}}}if(l)e.__proto__=l;e.prototype=Object.create(l&&l.prototype);e.prototype.constructor=e;return e}(Su.Object3D);var ch=function(h){function e(e){e=e||{};var t=e.material||new Su.MeshBasicMaterial;var n=e.vertices;var i=e.colors;h.call(this);t.side=Su.DoubleSide;var r=new Su.Geometry;for(a=0;a<n.length;a++){r.vertices.push(new Su.Vector3(n[a].x,n[a].y,n[a].z))}var a,o;if(i.length===n.length){for(a=0;a<n.length;a+=3){var s=new Su.Face3(a,a+1,a+2);for(o=a*3;o<a*3+3;a++){var l=new Su.Color;l.setRGB(i[a].r,i[a].g,i[a].b);s.vertexColors.push(l)}r.faces.push(s)}t.vertexColors=Su.VertexColors}else if(i.length===n.length/3){for(a=0;a<n.length;a+=3){var c=new Su.Face3(a,a+1,a+2);c.color.setRGB(i[a/3].r,i[a/3].g,i[a/3].b);r.faces.push(c)}t.vertexColors=Su.FaceColors}else{for(a=0;a<n.length;a+=3){var u=new Su.Face3(a,a+1,a+2);r.faces.push(u)}}r.computeBoundingBox();r.computeBoundingSphere();r.computeFaceNormals();this.add(new Su.Mesh(r,t))}if(h)e.__proto__=h;e.prototype=Object.create(h&&h.prototype);e.prototype.constructor=e;e.prototype.setColor=function e(t){this.mesh.material.color.setHex(t)};return e}(Su.Object3D);var uh=function(se){function e(e){se.call(this);e=e||{};var t=e.path||"/";var n=e.message;if(t.substr(t.length-1)!=="/"){t+="/"}if(n.scale){this.msgScale=[n.scale.x,n.scale.y,n.scale.z]}else{this.msgScale=[1,1,1]}this.msgColor=n.color;this.msgMesh=undefined;this.setPose(n.pose);var i=nh(this.msgColor.r,this.msgColor.g,this.msgColor.b,this.msgColor.a);switch(n.type){case Mu:var r=n.scale.x;var a=r*.23;var o=n.scale.y;var s=o*.5;var l,c=null;if(n.points.length===2){c=new Su.Vector3(n.points[0].x,n.points[0].y,n.points[0].z);var u=new Su.Vector3(n.points[1].x,n.points[1].y,n.points[1].z);l=c.clone().negate().add(u);r=l.length();o=n.scale.y;s=n.scale.x;if(n.scale.z!==0){a=n.scale.z}}this.add(new sh({direction:l,origin:c,length:r,headLength:a,shaftDiameter:s,headDiameter:o,material:i}));break;case ku:var h=new Su.BoxGeometry(n.scale.x,n.scale.y,n.scale.z);this.add(new Su.Mesh(h,i));break;case Du:var f=new Su.SphereGeometry(.5);var d=new Su.Mesh(f,i);d.scale.x=n.scale.x;d.scale.y=n.scale.y;d.scale.z=n.scale.z;this.add(d);break;case Lu:var p=new Su.CylinderGeometry(.5,.5,1,16,1,false);var m=new Su.Mesh(p,i);m.quaternion.setFromAxisAngle(new Su.Vector3(1,0,0),Math.PI*.5);m.scale.set(n.scale.x,n.scale.z,n.scale.y);this.add(m);break;case Ru:var g=new Su.Geometry;var v=new Su.LineBasicMaterial({size:n.scale.x});var b;for(b=0;b<n.points.length;b++){var y=new Su.Vector3;y.x=n.points[b].x;y.y=n.points[b].y;y.z=n.points[b].z;g.vertices.push(y)}if(n.colors.length===n.points.length){v.vertexColors=true;for(b=0;b<n.points.length;b++){var x=new Su.Color;x.setRGB(n.colors[b].r,n.colors[b].g,n.colors[b].b);g.colors.push(x)}}else{v.color.setRGB(n.color.r,n.color.g,n.color.b)}this.add(new Su.Line(g,v));break;case Fu:var w=new Su.Geometry;var _=new Su.LineBasicMaterial({size:n.scale.x});var E;for(E=0;E<n.points.length;E++){var A=new Su.Vector3;A.x=n.points[E].x;A.y=n.points[E].y;A.z=n.points[E].z;w.vertices.push(A)}if(n.colors.length===n.points.length){_.vertexColors=true;for(E=0;E<n.points.length;E++){var C=new Su.Color;C.setRGB(n.colors[E].r,n.colors[E].g,n.colors[E].b);w.colors.push(C)}}else{_.color.setRGB(n.color.r,n.color.g,n.color.b)}this.add(new Su.Line(w,_,Su.LinePieces));break;case Pu:var S=new Su.Object3D;var T=n.points.length;var M=T===n.colors.length;var k=Math.ceil(T/1250);var D,L,R,F;for(D=0;D<T;D+=k){L=new Su.BoxGeometry(n.scale.x,n.scale.y,n.scale.z);if(M){R=nh(n.colors[D].r,n.colors[D].g,n.colors[D].b,n.colors[D].a)}else{R=i}F=new Su.Mesh(L,R);F.position.x=n.points[D].x;F.position.y=n.points[D].y;F.position.z=n.points[D].z;S.add(F)}this.add(S);break;case Iu:var P=new Su.Object3D;var I=n.points.length;var N=I===n.colors.length;var O=Math.ceil(I/1250);var B,z,U,H;for(B=0;B<I;B+=O){z=new Su.SphereGeometry(.5,8,8);if(N){U=nh(n.colors[B].r,n.colors[B].g,n.colors[B].b,n.colors[B].a)}else{U=i}H=new Su.Mesh(z,U);H.scale.x=n.scale.x;H.scale.y=n.scale.y;H.scale.z=n.scale.z;H.position.x=n.points[B].x;H.position.y=n.points[B].y;H.position.z=n.points[B].z;P.add(H)}this.add(P);break;case Nu:var j=new Su.Geometry;var $=new Su.ParticleBasicMaterial({size:n.scale.x});var W;for(W=0;W<n.points.length;W++){var V=new Su.Vector3;V.x=n.points[W].x;V.y=n.points[W].y;V.z=n.points[W].z;j.vertices.push(V)}if(n.colors.length===n.points.length){$.vertexColors=true;for(W=0;W<n.points.length;W++){var G=new Su.Color;G.setRGB(n.colors[W].r,n.colors[W].g,n.colors[W].b);j.colors.push(G)}}else{$.color.setRGB(n.color.r,n.color.g,n.color.b)}this.add(new Su.ParticleSystem(j,$));break;case Ou:if(n.text.length>0){var q=this.msgColor;var X=document.createElement("canvas");var Y=X.getContext("2d");var K=100;var Z="normal "+K+"px sans-serif";Y.font=Z;var Q=Y.measureText(n.text);var J=Q.width;X.width=J;X.height=1.5*K;Y.font=Z;Y.fillStyle="rgba("+Math.round(255*q.r)+", "+Math.round(255*q.g)+", "+Math.round(255*q.b)+", "+q.a+")";Y.textAlign="left";Y.textBaseline="middle";Y.fillText(n.text,0,X.height/2);var ee=new Su.Texture(X);ee.needsUpdate=true;var te=new Su.SpriteMaterial({map:ee,useScreenCoordinates:false});var ne=new Su.Sprite(te);var ie=n.scale.x;ne.scale.set(J/X.height*ie,ie,1);this.add(ne)}break;case Bu:var re=null;if(n.color.r!==0||n.color.g!==0||n.color.b!==0||n.color.a!==0){re=i}this.msgMesh=n.mesh_resource.substr(10);var ae=new lh({path:t,resource:this.msgMesh,material:re});this.add(ae);break;case zu:var oe=new ch({material:i,vertices:n.points,colors:n.colors});oe.scale.set(n.scale.x,n.scale.y,n.scale.z);this.add(oe);break;default:console.error("Currently unsupported marker type: "+n.type);break}}if(se)e.__proto__=se;e.prototype=Object.create(se&&se.prototype);e.prototype.constructor=e;e.prototype.setPose=function e(t){this.position.x=t.position.x;this.position.y=t.position.y;this.position.z=t.position.z;this.quaternion.set(t.orientation.x,t.orientation.y,t.orientation.z,t.orientation.w);this.quaternion.normalize();this.updateMatrixWorld()};e.prototype.update=function e(t){this.setPose(t.pose);if(t.color.r!==this.msgColor.r||t.color.g!==this.msgColor.g||t.color.b!==this.msgColor.b||t.color.a!==this.msgColor.a){var n=nh(t.color.r,t.color.g,t.color.b,t.color.a);switch(t.type){case Ru:case Fu:case Nu:break;case Mu:case ku:case Du:case Lu:case zu:case Ou:this.traverse(function(e){if(e instanceof Su.Mesh){e.material=n}});break;case Bu:var i=null;if(t.color.r!==0||t.color.g!==0||t.color.b!==0||t.color.a!==0){i=this.colorMaterial}this.traverse(function(e){if(e instanceof Su.Mesh){e.material=i}});break;case Pu:case Iu:return false;default:return false}this.msgColor=t.color}var r=Math.abs(this.msgScale[0]-t.scale.x)>1e-6||Math.abs(this.msgScale[1]-t.scale.y)>1e-6||Math.abs(this.msgScale[2]-t.scale.z)>1e-6;this.msgScale=[t.scale.x,t.scale.y,t.scale.z];switch(t.type){case ku:case Du:case Lu:if(r){return false}break;case Ou:if(r||this.text!==t.text){return false}break;case Bu:var a=t.mesh_resource.substr(10);if(a!==this.msgMesh){return false}if(r){return false}break;case Mu:case Ru:case Fu:case Pu:case Iu:case Nu:case zu:return false;default:break}return true};e.prototype.dispose=function e(){this.children.forEach(function(e){if(e instanceof lh){e.children.forEach(function(t){if(t.material!==undefined){t.material.dispose()}t.children.forEach(function(e){if(e.geometry!==undefined){e.geometry.dispose()}if(e.material!==undefined){e.material.dispose()}t.remove(e)});e.remove(t)})}else{if(e.geometry!==undefined){e.geometry.dispose()}if(e.material!==undefined){e.material.dispose()}}e.parent.remove(e)})};return e}(Su.Object3D);var hh=function(h){function e(e){h.call(this);var s=this;e=e||{};this.parent=e.parent;var t=e.handle;var n=e.message;this.message=n;this.name=n.name;this.camera=e.camera;this.path=e.path||"/";this.loader=e.loader;this.dragging=false;this.startMousePos=new Su.Vector2;var i=new Su.Quaternion(n.orientation.x,n.orientation.y,n.orientation.z,n.orientation.w);i.normalize();var r=new Su.Vector3(1,0,0);r.applyQuaternion(i);this.currentControlOri=new Su.Quaternion;switch(n.interaction_mode){case Yu:this.addEventListener("mousemove",this.parent.moveAxis.bind(this.parent,this,r));this.addEventListener("touchmove",this.parent.moveAxis.bind(this.parent,this,r));break;case Zu:this.addEventListener("mousemove",this.parent.rotateAxis.bind(this.parent,this,i));break;case Ku:this.addEventListener("mousemove",this.parent.movePlane.bind(this.parent,this,r));break;case Xu:this.addEventListener("click",this.parent.buttonClick.bind(this.parent,this));break;default:break}function a(e){e.stopPropagation()}if(n.interaction_mode!==Gu){this.addEventListener("mousedown",this.parent.startDrag.bind(this.parent,this));this.addEventListener("mouseup",this.parent.stopDrag.bind(this.parent,this));this.addEventListener("contextmenu",this.parent.showMenu.bind(this.parent,this));this.addEventListener("mouseup",function(e){if(s.startMousePos.distanceToSquared(e.mousePos)===0){e.type="contextmenu";s.dispatchEvent(e)}});this.addEventListener("mouseover",a);this.addEventListener("mouseout",a);this.addEventListener("click",a);this.addEventListener("mousedown",function(e){s.startMousePos=e.mousePos});this.addEventListener("touchstart",function(e){if(e.domEvent.touches.length===1){e.type="mousedown";e.domEvent.button=0;s.dispatchEvent(e)}});this.addEventListener("touchmove",function(e){if(e.domEvent.touches.length===1){e.type="mousemove";e.domEvent.button=0;s.dispatchEvent(e)}});this.addEventListener("touchend",function(e){if(e.domEvent.touches.length===0){e.domEvent.button=0;e.type="mouseup";s.dispatchEvent(e);e.type="click";s.dispatchEvent(e)}})}var l=new Su.Quaternion;var c=this.parent.position.clone().multiplyScalar(-1);switch(n.orientation_mode){case Ju:l=this.parent.quaternion.clone().inverse();break;case eh:break;case th:break;default:console.error("Unkown orientation mode: "+n.orientation_mode);break}var u=new k.TFClient({ros:t.tfClient.ros,fixedFrame:t.message.header.frame_id,serverName:t.tfClient.serverName});n.markers.forEach(function(o){var e=function(e){var t=new uh({message:o,path:s.path,loader:s.loader});if(e!==null){var n=new k.Pose({position:t.position,orientation:t.quaternion});n.applyTransform(new k.Transform(e));var i=new uh({message:o,path:s.path,loader:s.loader});i.position.add(c);i.position.applyQuaternion(l);i.quaternion.multiplyQuaternions(l,i.quaternion);var r=new Su.Vector3(i.position.x,i.position.y,i.position.z);var a=new k.Transform({translation:r,orientation:i.quaternion});n.applyTransform(a);t.setPose(n);t.updateMatrixWorld();u.unsubscribe(o.header.frame_id)}s.add(t)};if(o.header.frame_id!==""){u.subscribe(o.header.frame_id,e)}else{e(null)}})}if(h)e.__proto__=h;e.prototype=Object.create(h&&h.prototype);e.prototype.constructor=e;e.prototype.updateMatrixWorld=function e(t){var n=this;var i=this.message;switch(i.orientation_mode){case Ju:h.prototype.updateMatrixWorld.call(this,t);n.currentControlOri.copy(n.quaternion);n.currentControlOri.normalize();break;case eh:n.quaternion.copy(n.parent.quaternion.clone().inverse());n.updateMatrix();n.matrixWorldNeedsUpdate=true;h.prototype.updateMatrixWorld.call(this,t);n.currentControlOri.copy(n.quaternion);break;case th:n.camera.updateMatrixWorld();var r=(new Su.Matrix4).extractRotation(n.camera.matrixWorld);var a=new Su.Matrix4;var o=Math.PI*.5;var s=new Su.Euler(-o,0,o);a.makeRotationFromEuler(s);var l=new Su.Matrix4;l.getInverse(n.parent.matrixWorld);r.multiplyMatrices(r,a);r.multiplyMatrices(l,r);n.currentControlOri.setFromRotationMatrix(r);if(!i.independent_marker_orientation){n.quaternion.copy(n.currentControlOri);n.updateMatrix();n.matrixWorldNeedsUpdate=true}h.prototype.updateMatrixWorld.call(this,t);break;default:console.error("Unkown orientation mode: "+i.orientation_mode);break}};return e}(Su.Object3D);var fh=function(g){function e(e){g.call(this);var s=this;e=e||{};var t=e.menuEntries;var n=e.className||"default-interactive-marker-menu";var i=e.entryClassName||"default-interactive-marker-menu-entry";var r=e.overlayClassName||"default-interactive-marker-overlay";var a=e.menuFontSize||"0.8em";var o=[];o[0]={children:[]};if(document.getElementById("default-interactive-marker-menu-css")===null){var l=document.createElement("style");l.id="default-interactive-marker-menu-css";l.type="text/css";l.innerHTML=".default-interactive-marker-menu {"+"background-color: #444444;"+"border: 1px solid #888888;"+"border: 1px solid #888888;"+"padding: 0px 0px 0px 0px;"+"color: #FFFFFF;"+"font-family: sans-serif;"+"font-size: "+a+";"+"z-index: 1002;"+"}"+".default-interactive-marker-menu ul {"+"padding: 0px 0px 5px 0px;"+"margin: 0px;"+"list-style-type: none;"+"}"+".default-interactive-marker-menu ul li div {"+"-webkit-touch-callout: none;"+"-webkit-user-select: none;"+"-khtml-user-select: none;"+"-moz-user-select: none;"+"-ms-user-select: none;"+"user-select: none;"+"cursor: default;"+"padding: 3px 10px 3px 10px;"+"}"+".default-interactive-marker-menu-entry:hover {"+"  background-color: #666666;"+"  cursor: pointer;"+"}"+".default-interactive-marker-menu ul ul {"+"  font-style: italic;"+"  padding-left: 10px;"+"}"+".default-interactive-marker-overlay {"+"  position: absolute;"+"  top: 0%;"+"  left: 0%;"+"  width: 100%;"+"  height: 100%;"+"  background-color: black;"+"  z-index: 1001;"+"  -moz-opacity: 0.0;"+"  opacity: .0;"+"  filter: alpha(opacity = 0);"+"}";document.getElementsByTagName("head")[0].appendChild(l)}this.menuDomElem=document.createElement("div");this.menuDomElem.style.position="absolute";this.menuDomElem.className=n;this.menuDomElem.addEventListener("contextmenu",function(e){e.preventDefault()});this.overlayDomElem=document.createElement("div");this.overlayDomElem.className=r;this.hideListener=this.hide.bind(this);this.overlayDomElem.addEventListener("contextmenu",this.hideListener);this.overlayDomElem.addEventListener("click",this.hideListener);this.overlayDomElem.addEventListener("touchstart",this.hideListener);var c,u,h;for(c=0;c<t.length;c++){u=t[c];h=u.id;o[h]={title:u.title,id:h,children:[]}}for(c=0;c<t.length;c++){u=t[c];h=u.id;var f=o[h];var d=o[u.parent_id];d.children.push(f)}function p(e,t){this.dispatchEvent({type:"menu-select",domEvent:t,id:e.id,controlName:this.controlName});this.hide(t)}function m(e,t){var n=document.createElement("ul");e.appendChild(n);var i=t.children;for(var r=0;r<i.length;r++){var a=document.createElement("li");var o=document.createElement("div");o.appendChild(document.createTextNode(i[r].title));n.appendChild(a);a.appendChild(o);if(i[r].children.length>0){m(a,i[r]);o.addEventListener("click",s.hide.bind(s));o.addEventListener("touchstart",s.hide.bind(s))}else{o.addEventListener("click",p.bind(s,i[r]));o.addEventListener("touchstart",p.bind(s,i[r]));o.className="default-interactive-marker-menu-entry"}}}m(this.menuDomElem,o[0])}if(g)e.__proto__=g;e.prototype=Object.create(g&&g.prototype);e.prototype.constructor=e;e.prototype.show=function e(t,n){if(n&&n.preventDefault){n.preventDefault()}this.controlName=t.name;if(n.domEvent.changedTouches!==undefined){this.menuDomElem.style.left=n.domEvent.changedTouches[0].pageX+"px";this.menuDomElem.style.top=n.domEvent.changedTouches[0].pageY+"px"}else{this.menuDomElem.style.left=n.domEvent.clientX+"px";this.menuDomElem.style.top=n.domEvent.clientY+"px"}document.body.appendChild(this.overlayDomElem);document.body.appendChild(this.menuDomElem)};e.prototype.hide=function e(t){if(t&&t.preventDefault){t.preventDefault()}document.body.removeChild(this.overlayDomElem);document.body.removeChild(this.menuDomElem)};return e}(Su.EventDispatcher);var dh=function(o){function e(e){o.call(this);var t=this;e=e||{};var n=e.handle;this.name=n.name;var i=e.camera;var r=e.path||"/";var a=e.loader;this.dragging=false;this.onServerSetPose({pose:n.pose});this.dragStart={position:new Su.Vector3,orientation:new Su.Quaternion,positionWorld:new Su.Vector3,orientationWorld:new Su.Quaternion,event3d:{}};n.controls.forEach(function(e){t.add(new hh({parent:t,handle:n,message:e,camera:i,path:r,loader:a}))});if(n.menuEntries.length>0){this.menu=new fh({menuEntries:n.menuEntries,menuFontSize:n.menuFontSize});this.menu.addEventListener("menu-select",function(e){t.dispatchEvent(e)})}}if(o)e.__proto__=o;e.prototype=Object.create(o&&o.prototype);e.prototype.constructor=e;e.prototype.showMenu=function e(t,n){if(this.menu){this.menu.show(t,n)}};e.prototype.moveAxis=function e(t,n,i){if(this.dragging){var r=t.currentControlOri;var a=n.clone().applyQuaternion(r);var o=this.dragStart.event3d.intersection.point;var s=a.clone().applyQuaternion(this.dragStart.orientationWorld.clone());var l=new Su.Ray(o,s);var c=ah(l,i.camera,i.mousePos);var u=new Su.Vector3;u.addVectors(this.dragStart.position,a.clone().applyQuaternion(this.dragStart.orientation).multiplyScalar(c));this.setPosition(t,u);i.stopPropagation()}};e.prototype.movePlane=function e(t,n,i){if(this.dragging){var r=t.currentControlOri;var a=n.clone().applyQuaternion(r);var o=this.dragStart.event3d.intersection.point;var s=a.clone().applyQuaternion(this.dragStart.orientationWorld);var l=ih(i.mouseRay,o,s);var c=new Su.Vector3;c.subVectors(l,o);c.add(this.dragStart.positionWorld);this.setPosition(t,c);i.stopPropagation()}};e.prototype.rotateAxis=function e(t,n,i){if(this.dragging){t.updateMatrixWorld();var r=t.currentControlOri;var a=r.clone().multiply(n.clone());var o=new Su.Vector3(1,0,0).applyQuaternion(a);var s=this.dragStart.event3d.intersection.point;var l=o.applyQuaternion(this.dragStart.orientationWorld);var c=ih(i.mouseRay,s,l);var u=new Su.Ray(this.dragStart.positionWorld,l);var h=ih(u,s,l);var f=this.dragStart.orientationWorld.clone().multiply(a);var d=f.clone().inverse();c.sub(h);c.applyQuaternion(d);var p=this.dragStart.event3d.intersection.point.clone();p.sub(h);p.applyQuaternion(d);var m=Math.atan2(c.y,c.z);var g=Math.atan2(p.y,p.z);var v=g-m;var b=new Su.Quaternion;b.setFromAxisAngle(o,v);this.setOrientation(t,b.multiply(this.dragStart.orientationWorld));i.stopPropagation()}};e.prototype.feedbackEvent=function e(t,n){this.dispatchEvent({type:t,position:this.position.clone(),orientation:this.quaternion.clone(),controlName:n.name})};e.prototype.startDrag=function e(t,n){if(n.domEvent.button===0){n.stopPropagation();this.dragging=true;this.updateMatrixWorld(true);var i=new Su.Vector3;this.matrixWorld.decompose(this.dragStart.positionWorld,this.dragStart.orientationWorld,i);this.dragStart.position=this.position.clone();this.dragStart.orientation=this.quaternion.clone();this.dragStart.event3d=n;this.feedbackEvent("user-mousedown",t)}};e.prototype.stopDrag=function e(t,n){if(n.domEvent.button===0){n.stopPropagation();this.dragging=false;this.dragStart.event3d={};this.onServerSetPose(this.bufferedPoseEvent);this.bufferedPoseEvent=undefined;this.feedbackEvent("user-mouseup",t)}};e.prototype.buttonClick=function e(t,n){n.stopPropagation();this.feedbackEvent("user-button-click",t)};e.prototype.setPosition=function e(t,n){this.position.copy(n);this.feedbackEvent("user-pose-change",t)};e.prototype.setOrientation=function e(t,n){n.normalize();this.quaternion.copy(n);this.feedbackEvent("user-pose-change",t)};e.prototype.onServerSetPose=function e(t){if(t!==undefined){if(this.dragging){this.bufferedPoseEvent=t}else{var n=t.pose;this.position.copy(n.position);this.quaternion.copy(n.orientation);this.updateMatrixWorld(true)}}};e.prototype.dispose=function e(){var n=this;this.children.forEach(function(t){t.children.forEach(function(e){e.dispose();t.remove(e)});n.remove(t)})};return e}(Su.Object3D);function ph(e,t){return t={exports:{}},e(t,t.exports),t.exports}var mh=ph(function(r,e){!function(f){var d=Array.isArray?Array.isArray:function e(t){return Object.prototype.toString.call(t)==="[object Array]"};var t=10;function h(){this._events={};if(this._conf){n.call(this,this._conf)}}function n(e){if(e){this._conf=e;e.delimiter&&(this.delimiter=e.delimiter);this._events.maxListeners=e.maxListeners!==f?e.maxListeners:t;e.wildcard&&(this.wildcard=e.wildcard);e.newListener&&(this.newListener=e.newListener);e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak);if(this.wildcard){this.listenerTree={}}}else{this._events.maxListeners=t}}function s(e,t){var n="(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak){n+=" Event name: %s.";console.error(n,e,t)}else{console.error(n,e)}if(console.trace){console.trace()}}function e(e){this._events={};this.newListener=false;this.verboseMemoryLeak=false;n.call(this,e)}e.EventEmitter2=e;function m(e,t,n,i){if(!n){return[]}var r=[],a,o,s,l,c,u,h,f=t.length,d=t[i],p=t[i+1];if(i===f&&n._listeners){if(typeof n._listeners==="function"){e&&e.push(n._listeners);return[n]}else{for(a=0,o=n._listeners.length;a<o;a++){e&&e.push(n._listeners[a])}return[n]}}if(d==="*"||d==="**"||n[d]){if(d==="*"){for(s in n){if(s!=="_listeners"&&n.hasOwnProperty(s)){r=r.concat(m(e,t,n[s],i+1))}}return r}else if(d==="**"){h=i+1===f||i+2===f&&p==="*";if(h&&n._listeners){r=r.concat(m(e,t,n,f))}for(s in n){if(s!=="_listeners"&&n.hasOwnProperty(s)){if(s==="*"||s==="**"){if(n[s]._listeners&&!h){r=r.concat(m(e,t,n[s],f))}r=r.concat(m(e,t,n[s],i))}else if(s===p){r=r.concat(m(e,t,n[s],i+2))}else{r=r.concat(m(e,t,n[s],i))}}}return r}r=r.concat(m(e,t,n[d],i+1))}l=n["*"];if(l){m(e,t,l,i+1)}c=n["**"];if(c){if(i<f){if(c._listeners){m(e,t,c,f)}for(s in c){if(s!=="_listeners"&&c.hasOwnProperty(s)){if(s===p){m(e,t,c[s],i+2)}else if(s===d){m(e,t,c[s],i+1)}else{u={};u[s]=c[s];m(e,t,{"**":u},i+1)}}}}else if(c._listeners){m(e,t,c,f)}else if(c["*"]&&c["*"]._listeners){m(e,t,c["*"],f)}}return r}function i(e,t){var n=this;e=typeof e==="string"?e.split(this.delimiter):e.slice();for(var i=0,r=e.length;i+1<r;i++){if(e[i]==="**"&&e[i+1]==="**"){return}}var a=this.listenerTree;var o=e.shift();while(o!==f){if(!a[o]){a[o]={}}a=a[o];if(e.length===0){if(!a._listeners){a._listeners=t}else{if(typeof a._listeners==="function"){a._listeners=[a._listeners]}a._listeners.push(t);if(!a._listeners.warned&&n._events.maxListeners>0&&a._listeners.length>n._events.maxListeners){a._listeners.warned=true;s.call(n,a._listeners.length,o)}}return true}o=e.shift()}return true}e.prototype.delimiter=".";e.prototype.setMaxListeners=function(e){if(e!==f){this._events||h.call(this);this._events.maxListeners=e;if(!this._conf){this._conf={}}this._conf.maxListeners=e}};e.prototype.event="";e.prototype.once=function(e,t){this.many(e,1,t);return this};e.prototype.many=function(e,t,n){var i=this;if(typeof n!=="function"){throw new Error("many only accepts instances of Function")}function r(){if(--t===0){i.off(e,r)}n.apply(this,arguments)}r._origin=n;this.on(e,r);return i};e.prototype.emit=function(){var e=arguments;var t=this;this._events||h.call(this);var n=arguments[0];if(n==="newListener"&&!this.newListener){if(!this._events.newListener){return false}}var i=arguments.length;var r,a,o,s;var l;if(this._all&&this._all.length){l=this._all.slice();if(i>3){r=new Array(i);for(s=0;s<i;s++){r[s]=e[s]}}for(o=0,a=l.length;o<a;o++){t.event=n;switch(i){case 1:l[o].call(t,n);break;case 2:l[o].call(t,n,e[1]);break;case 3:l[o].call(t,n,e[1],e[2]);break;default:l[o].apply(t,r)}}}if(this.wildcard){l=[];var c=typeof n==="string"?n.split(this.delimiter):n.slice();m.call(this,l,c,this.listenerTree,0)}else{l=this._events[n];if(typeof l==="function"){this.event=n;switch(i){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:r=new Array(i-1);for(s=1;s<i;s++){r[s-1]=e[s]}l.apply(this,r)}return true}else if(l){l=l.slice()}}if(l&&l.length){if(i>3){r=new Array(i-1);for(s=1;s<i;s++){r[s-1]=e[s]}}for(o=0,a=l.length;o<a;o++){t.event=n;switch(i){case 1:l[o].call(t);break;case 2:l[o].call(t,e[1]);break;case 3:l[o].call(t,e[1],e[2]);break;default:l[o].apply(t,r)}}return true}else if(!this._all&&n==="error"){if(arguments[1]instanceof Error){throw arguments[1]}else{throw new Error("Uncaught, unspecified 'error' event.")}return false}return!!this._all};e.prototype.emitAsync=function(){var e=arguments;var t=this;this._events||h.call(this);var n=arguments[0];if(n==="newListener"&&!this.newListener){if(!this._events.newListener){return Promise.resolve([false])}}var i=[];var r=arguments.length;var a,o,s,l;var c;if(this._all){if(r>3){a=new Array(r);for(l=1;l<r;l++){a[l]=e[l]}}for(s=0,o=this._all.length;s<o;s++){t.event=n;switch(r){case 1:i.push(t._all[s].call(t,n));break;case 2:i.push(t._all[s].call(t,n,e[1]));break;case 3:i.push(t._all[s].call(t,n,e[1],e[2]));break;default:i.push(t._all[s].apply(t,a))}}}if(this.wildcard){c=[];var u=typeof n==="string"?n.split(this.delimiter):n.slice();m.call(this,c,u,this.listenerTree,0)}else{c=this._events[n]}if(typeof c==="function"){this.event=n;switch(r){case 1:i.push(c.call(this));break;case 2:i.push(c.call(this,arguments[1]));break;case 3:i.push(c.call(this,arguments[1],arguments[2]));break;default:a=new Array(r-1);for(l=1;l<r;l++){a[l-1]=e[l]}i.push(c.apply(this,a))}}else if(c&&c.length){if(r>3){a=new Array(r-1);for(l=1;l<r;l++){a[l-1]=e[l]}}for(s=0,o=c.length;s<o;s++){t.event=n;switch(r){case 1:i.push(c[s].call(t));break;case 2:i.push(c[s].call(t,e[1]));break;case 3:i.push(c[s].call(t,e[1],e[2]));break;default:i.push(c[s].apply(t,a))}}}else if(!this._all&&n==="error"){if(arguments[1]instanceof Error){return Promise.reject(arguments[1])}else{return Promise.reject("Uncaught, unspecified 'error' event.")}}return Promise.all(i)};e.prototype.on=function(e,t){if(typeof e==="function"){this.onAny(e);return this}if(typeof t!=="function"){throw new Error("on only accepts instances of Function")}this._events||h.call(this);this.emit("newListener",e,t);if(this.wildcard){i.call(this,e,t);return this}if(!this._events[e]){this._events[e]=t}else{if(typeof this._events[e]==="function"){this._events[e]=[this._events[e]]}this._events[e].push(t);if(!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners){this._events[e].warned=true;s.call(this,this._events[e].length,e)}}return this};e.prototype.onAny=function(e){if(typeof e!=="function"){throw new Error("onAny only accepts instances of Function")}if(!this._all){this._all=[]}this._all.push(e);return this};e.prototype.addListener=e.prototype.on;e.prototype.off=function(e,t){var n=this;if(typeof t!=="function"){throw new Error("removeListener only takes instances of Function")}var i,r=[];if(this.wildcard){var a=typeof e==="string"?e.split(this.delimiter):e.slice();r=m.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e]){return this}i=this._events[e];r.push({_listeners:i})}for(var o=0;o<r.length;o++){var s=r[o];i=s._listeners;if(d(i)){var l=-1;for(var c=0,u=i.length;c<u;c++){if(i[c]===t||i[c].listener&&i[c].listener===t||i[c]._origin&&i[c]._origin===t){l=c;break}}if(l<0){continue}if(n.wildcard){s._listeners.splice(l,1)}else{n._events[e].splice(l,1)}if(i.length===0){if(n.wildcard){delete s._listeners}else{delete n._events[e]}}n.emit("removeListener",e,t);return n}else if(i===t||i.listener&&i.listener===t||i._origin&&i._origin===t){if(n.wildcard){delete s._listeners}else{delete n._events[e]}n.emit("removeListener",e,t)}}function h(e){if(e===f){return}var t=Object.keys(e);for(var n in t){var i=t[n];var r=e[i];if(r instanceof Function||typeof r!=="object"||r===null){continue}if(Object.keys(r).length>0){h(e[i])}if(Object.keys(r).length===0){delete e[i]}}}h(this.listenerTree);return this};e.prototype.offAny=function(e){var t=this;var n=0,i=0,r;if(e&&this._all&&this._all.length>0){r=this._all;for(n=0,i=r.length;n<i;n++){if(e===r[n]){r.splice(n,1);t.emit("removeListenerAny",e);return t}}}else{r=this._all;for(n=0,i=r.length;n<i;n++){t.emit("removeListenerAny",r[n])}this._all=[]}return this};e.prototype.removeListener=e.prototype.off;e.prototype.removeAllListeners=function(e){if(arguments.length===0){!this._events||h.call(this);return this}if(this.wildcard){var t=typeof e==="string"?e.split(this.delimiter):e.slice();var n=m.call(this,null,t,this.listenerTree,0);for(var i=0;i<n.length;i++){var r=n[i];r._listeners=null}}else if(this._events){this._events[e]=null}return this};e.prototype.listeners=function(e){if(this.wildcard){var t=[];var n=typeof e==="string"?e.split(this.delimiter):e.slice();m.call(this,t,n,this.listenerTree,0);return t}this._events||h.call(this);if(!this._events[e]){this._events[e]=[]}if(!d(this._events[e])){this._events[e]=[this._events[e]]}return this._events[e]};e.prototype.listenerCount=function(e){return this.listeners(e).length};e.prototype.listenersAny=function(){if(this._all){return this._all}else{return[]}};if(typeof f==="function"&&f.amd){f(function(){return e})}else{r.exports=e}}()});var gh=function(t){function e(e){t.call(this);e=e||{};this.message=e.message;this.feedbackTopic=e.feedbackTopic;this.tfClient=e.tfClient;this.menuFontSize=e.menuFontSize||"0.8em";this.name=this.message.name;this.header=this.message.header;this.controls=this.message.controls;this.menuEntries=this.message.menu_entries;this.dragging=false;this.timeoutHandle=null;this.tfTransform=new k.Transform;this.pose=new k.Pose;this.setPoseFromClientBound=this.setPoseFromClient.bind(this);this.onMouseDownBound=this.onMouseDown.bind(this);this.onMouseUpBound=this.onMouseUp.bind(this);this.onButtonClickBound=this.onButtonClick.bind(this);this.onMenuSelectBound=this.onMenuSelect.bind(this);this.setPoseFromServer(this.message.pose);this.tfUpdateBound=this.tfUpdate.bind(this)}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.subscribeTf=function e(){if(this.message.header.stamp.secs===0&&this.message.header.stamp.nsecs===0){this.tfClient.subscribe(this.message.header.frame_id,this.tfUpdateBound)}};e.prototype.unsubscribeTf=function e(){this.tfClient.unsubscribe(this.message.header.frame_id,this.tfUpdateBound)};e.prototype.emitServerPoseUpdate=function e(){var t=new k.Pose(this.pose);t.applyTransform(this.tfTransform);this.emit("pose",t)};e.prototype.setPoseFromServer=function e(t){this.pose=new k.Pose(t);this.emitServerPoseUpdate()};e.prototype.tfUpdate=function e(t){this.tfTransform=new k.Transform(t);this.emitServerPoseUpdate()};e.prototype.setPoseFromClient=function e(t){this.pose=new k.Pose(t);var n=this.tfTransform.clone();n.rotation.invert();n.translation.multiplyQuaternion(n.rotation);n.translation.x*=-1;n.translation.y*=-1;n.translation.z*=-1;this.pose.applyTransform(n);this.sendFeedback(Hu,undefined,0,t.controlName);if(this.dragging){if(this.timeoutHandle){clearTimeout(this.timeoutHandle)}this.timeoutHandle=setTimeout(this.setPoseFromClient.bind(this,t),250)}};e.prototype.onButtonClick=function e(t){this.sendFeedback($u,t.clickPosition,0,t.controlName)};e.prototype.onMouseDown=function e(t){this.sendFeedback(Wu,t.clickPosition,0,t.controlName);this.dragging=true};e.prototype.onMouseUp=function e(t){this.sendFeedback(Vu,t.clickPosition,0,t.controlName);this.dragging=false;if(this.timeoutHandle){clearTimeout(this.timeoutHandle)}};e.prototype.onMenuSelect=function e(t){this.sendFeedback(ju,undefined,t.id,t.controlName)};e.prototype.sendFeedback=function e(t,n,i,r){var a=n!==undefined;n=n||{x:0,y:0,z:0};var o={header:this.header,client_id:this.clientID,marker_name:this.name,control_name:r,event_type:t,pose:this.pose,mouse_point:n,mouse_point_valid:a,menu_entry_id:i};this.feedbackTopic.publish(o)};return e}(mh);var vh=function e(t){t=t||{};this.ros=t.ros;this.tfClient=t.tfClient;this.topicName=t.topic;this.path=t.path||"/";this.camera=t.camera;this.rootObject=t.rootObject||new Su.Object3D;this.loader=t.loader;this.menuFontSize=t.menuFontSize||"0.8em";this.interactiveMarkers={};this.updateTopic=null;this.feedbackTopic=null;if(this.topicName){this.subscribe(this.topicName)}};vh.prototype.subscribe=function e(t){this.unsubscribe();this.updateTopic=new k.Topic({ros:this.ros,name:t+"/tunneled/update",messageType:"visualization_msgs/InteractiveMarkerUpdate",compression:"png"});this.updateTopic.subscribe(this.processUpdate.bind(this));this.feedbackTopic=new k.Topic({ros:this.ros,name:t+"/feedback",messageType:"visualization_msgs/InteractiveMarkerFeedback",compression:"png"});this.feedbackTopic.advertise();this.initService=new k.Service({ros:this.ros,name:t+"/tunneled/get_init",serviceType:"demo_interactive_markers/GetInit"});var n=new k.ServiceRequest({});this.initService.callService(n,this.processInit.bind(this))};vh.prototype.unsubscribe=function e(){var t=this;if(this.updateTopic){this.updateTopic.unsubscribe()}if(this.feedbackTopic){this.feedbackTopic.unadvertise()}for(var n in t.interactiveMarkers){t.eraseIntMarker(n)}this.interactiveMarkers={}};vh.prototype.processInit=function e(t){var n=this;var i=t.msg;i.erases=[];for(var r in n.interactiveMarkers){i.erases.push(r)}i.poses=[];this.processUpdate(i)};vh.prototype.processUpdate=function e(t){var r=this;t.erases.forEach(function(e){r.eraseIntMarker(e)});t.poses.forEach(function(e){var t=r.interactiveMarkers[e.name];if(t){t.setPoseFromServer(e.pose)}});t.markers.forEach(function(e){var t=r.interactiveMarkers[e.name];if(t){r.eraseIntMarker(t.name)}var n=new gh({message:e,feedbackTopic:r.feedbackTopic,tfClient:r.tfClient,menuFontSize:r.menuFontSize});r.interactiveMarkers[e.name]=n;var i=new dh({handle:n,camera:r.camera,path:r.path,loader:r.loader});i.name=e.name;r.rootObject.add(i);n.on("pose",function(e){i.onServerSetPose({pose:e})});i.addEventListener("user-pose-change",n.setPoseFromClientBound);i.addEventListener("user-mousedown",n.onMouseDownBound);i.addEventListener("user-mouseup",n.onMouseUpBound);i.addEventListener("user-button-click",n.onButtonClickBound);i.addEventListener("menu-select",n.onMenuSelectBound);n.subscribeTf()})};vh.prototype.eraseIntMarker=function e(t){if(this.interactiveMarkers[t]){var n=this.rootObject.getObjectByName(t);this.rootObject.remove(n);var i=this.interactiveMarkers[t];i.unsubscribeTf();n.removeEventListener("user-pose-change",i.setPoseFromClientBound);n.removeEventListener("user-mousedown",i.onMouseDownBound);n.removeEventListener("user-mouseup",i.onMouseUpBound);n.removeEventListener("user-button-click",i.onButtonClickBound);n.removeEventListener("menu-select",i.onMenuSelectBound);delete this.interactiveMarkers[t];n.dispose()}};var bh=function(n){function e(e){n.call(this);e=e||{};var i=this;this.tfClient=e.tfClient;this.frameID=e.frameID;var t=e.object;this.pose=e.pose||new k.Pose;this.visible=false;this.add(t);this.updatePose(this.pose);this.tfUpdate=function(e){var t=new k.Transform(e);var n=new k.Pose(i.pose);n.applyTransform(t);i.updatePose(n);i.visible=true};this.tfClient.subscribe(this.frameID,this.tfUpdate)}if(n)e.__proto__=n;e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.prototype.updatePose=function e(t){this.position.set(t.position.x,t.position.y,t.position.z);this.quaternion.set(t.orientation.x,t.orientation.y,t.orientation.z,t.orientation.w);this.updateMatrixWorld(true)};e.prototype.unsubscribeTf=function e(){this.tfClient.unsubscribe(this.frameID,this.tfUpdate)};return e}(Su.Object3D);var yh=function(t){function e(e){t.call(this);e=e||{};this.ros=e.ros;this.topicName=e.topic;this.tfClient=e.tfClient;this.rootObject=e.rootObject||new Su.Object3D;this.path=e.path||"/";this.markers={};this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"visualization_msgs/MarkerArray",compression:"png"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){t.markers.forEach(function(e){var t=this;if(e.action===0){var n=false;if(e.ns+e.id in this.markers){n=this.markers[e.ns+e.id].children[0].update(e);if(!n){this.markers[e.ns+e.id].unsubscribeTf();this.rootObject.remove(this.markers[e.ns+e.id])}}if(!n){var i=new uh({message:e,path:this.path});this.markers[e.ns+e.id]=new bh({frameID:e.header.frame_id,tfClient:this.tfClient,object:i});this.rootObject.add(this.markers[e.ns+e.id])}}else if(e.action===1){console.warn('Received marker message with deprecated action identifier "1"')}else if(e.action===2){this.markers[e.ns+e.id].unsubscribeTf();this.rootObject.remove(this.markers[e.ns+e.id]);delete this.markers[e.ns+e.id]}else if(e.action===3){for(var r in t.markers){t.markers[r].unsubscribeTf();t.rootObject.remove(t.markers[r])}this.markers={}}else{console.warn('Received marker message with unknown action identifier "'+e.action+'"')}}.bind(this));this.emit("change")};e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};return e}(mh);var xh=function(t){function e(e){t.call(this);e=e||{};this.ros=e.ros;this.topicName=e.topic;this.tfClient=e.tfClient;this.rootObject=e.rootObject||new Su.Object3D;this.path=e.path||"/";this.markers={};this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"visualization_msgs/Marker",compression:"png"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){var n=new uh({message:t,path:this.path});var i=this.markers[t.ns+t.id];if(i){i.unsubscribeTf();this.rootObject.remove(i)}this.markers[t.ns+t.id]=new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:n});this.rootObject.add(this.markers[t.ns+t.id]);this.emit("change")};return e}(mh);var wh=function(l){function e(e){e=e||{};var t=e.origin||new Su.Vector3(0,0,0);var n=e.direction||new Su.Vector3(1,0,0);var i=e.length||1;var r=e.headLength||.2;var a=e.shaftDiameter||.05;var o=e.headDiameter||.1;var s=e.material||new Su.MeshBasicMaterial;l.call(this,n,t,i,16711680)}if(l)e.__proto__=l;e.prototype=Object.create(l&&l.prototype);e.prototype.constructor=e;e.prototype.dispose=function e(){if(this.line!==undefined){this.line.material.dispose();this.line.geometry.dispose()}if(this.cone!==undefined){this.cone.material.dispose();this.cone.geometry.dispose()}};return e}(Su.ArrowHelper);var _h=function(a){function e(e){a.call(this);var s=this;e=e||{};var t=e.shaftRadius||.008;var n=e.headRadius||.023;var i=e.headLength||.1;this.lineGeom=new Su.CylinderGeometry(t,t,1-i);this.headGeom=new Su.CylinderGeometry(0,n,i);function r(e){var t=new Su.Color;t.setRGB(e.x,e.y,e.z);var n=new Su.MeshBasicMaterial({color:t.getHex()});var i=new Su.Vector3;i.crossVectors(e,new Su.Vector3(0,-1,0));var r=new Su.Quaternion;r.setFromAxisAngle(i,.5*Math.PI);var a=new Su.Mesh(s.headGeom,n);a.position.copy(e);a.position.multiplyScalar(.95);a.quaternion.copy(r);a.updateMatrix();s.add(a);var o=new Su.Mesh(s.lineGeom,n);o.position.copy(e);o.position.multiplyScalar(.45);o.quaternion.copy(r);o.updateMatrix();s.add(o)}r(new Su.Vector3(1,0,0));r(new Su.Vector3(0,1,0));r(new Su.Vector3(0,0,1))}if(a)e.__proto__=a;e.prototype=Object.create(a&&a.prototype);e.prototype.constructor=e;return e}(Su.Object3D);var Eh=function(f){function e(e){var t=this;e=e||{};var n=e.num_cells||10;var i=e.color||"#cccccc";var r=e.lineWidth||1;var a=e.cellSize||1;f.call(this);var o=new Su.LineBasicMaterial({color:i,linewidth:r});for(var s=0;s<=n;++s){var l=a*n/2;var c=l-s*a;var u=new Su.Geometry;u.vertices.push(new Su.Vector3(-l,c,0),new Su.Vector3(l,c,0));var h=new Su.Geometry;h.vertices.push(new Su.Vector3(c,-l,0),new Su.Vector3(c,l,0));t.add(new Su.Line(u,o));t.add(new Su.Line(h,o))}}if(f)e.__proto__=f;e.prototype=Object.create(f&&f.prototype);e.prototype.constructor=e;return e}(Su.Object3D);var Ah=function(b){function e(e){e=e||{};var t=e.message;var n=e.color||{r:255,g:255,b:255};var i=e.opacity||1;var r=t.info.width;var a=t.info.height;var o=new Su.PlaneGeometry(r,a);var s=document.createElement("canvas");s.width=r;s.height=a;var l=s.getContext("2d");var c=l.createImageData(r,a);for(var u=0;u<a;u++){for(var h=0;h<r;h++){var f=h+(a-u-1)*r;var d=t.data[f];var p;if(d===100){p=0}else if(d===0){p=255}else{p=127}var m=(h+u*r)*4;c.data[m]=p*n.r/255;c.data[++m]=p*n.g/255;c.data[++m]=p*n.b/255;c.data[++m]=255}}l.putImageData(c,0,0);var g=new Su.Texture(s);g.needsUpdate=true;var v=new Su.MeshBasicMaterial({map:g,transparent:i<1,opacity:i});v.side=Su.DoubleSide;b.call(this,o,v);this.quaternion=new Su.Quaternion(t.info.origin.orientation.x,t.info.origin.orientation.y,t.info.origin.orientation.z,t.info.origin.orientation.w);this.position.x=r*t.info.resolution/2+t.info.origin.position.x;this.position.y=a*t.info.resolution/2+t.info.origin.position.y;this.position.z=t.info.origin.position.z;this.scale.x=t.info.resolution;this.scale.y=t.info.resolution}if(b)e.__proto__=b;e.prototype=Object.create(b&&b.prototype);e.prototype.constructor=e;return e}(Su.Mesh);var Ch=function(t){function e(e){t.call(this);e=e||{};this.ros=e.ros;this.topicName=e.topic||"/map";this.continuous=e.continuous;this.tfClient=e.tfClient;this.rootObject=e.rootObject||new Su.Object3D;this.offsetPose=e.offsetPose||new k.Pose;this.color=e.color||{r:255,g:255,b:255};this.opacity=e.opacity||1;this.currentGrid=null;this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"nav_msgs/OccupancyGrid",compression:"png"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){if(this.currentGrid){if(this.currentGrid.tfClient){this.currentGrid.unsubscribeTf()}this.rootObject.remove(this.currentGrid)}var n=new Ah({message:t,color:this.color,opacity:this.opacity});if(this.tfClient){this.currentGrid=n;this.sceneNode=new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:n,pose:this.offsetPose})}else{this.sceneNode=this.currentGrid=n}this.rootObject.add(this.sceneNode);this.emit("change");if(!this.continuous){this.rosTopic.unsubscribe()}};return e}(mh);var Sh=function(t){function e(e){t.call(this);this.options=e||{};this.ros=e.ros;this.topicName=e.topic||"/particlecloud";this.tfClient=e.tfClient;this.color=e.color||13369599;this.length=e.length||1;this.rootObject=e.rootObject||new Su.Object3D;this.keep=e.keep||1;this.sns=[];this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"nav_msgs/Odometry"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){if(this.sns.length>=this.keep){this.sns[0].unsubscribeTf();this.rootObject.remove(this.sns[0]);this.sns.shift()}this.options.origin=new Su.Vector3(t.pose.pose.position.x,t.pose.pose.position.y,t.pose.pose.position.z);var n=new Su.Quaternion(t.pose.pose.orientation.x,t.pose.pose.orientation.y,t.pose.pose.orientation.z,t.pose.pose.orientation.w);this.options.direction=new Su.Vector3(1,0,0);this.options.direction.applyQuaternion(n);this.options.material=new Su.MeshBasicMaterial({color:this.color});var i=new sh(this.options);this.sns.push(new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:i}));this.rootObject.add(this.sns[this.sns.length-1])};return e}(Su.Object3D);var Th=function(t){function e(e){t.call(this);e=e||{};this.ros=e.ros;this.topicName=e.topic||"/path";this.tfClient=e.tfClient;this.color=e.color||13369599;this.rootObject=e.rootObject||new Su.Object3D;this.sn=null;this.line=null;this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"nav_msgs/Path"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){if(this.sn!==null){this.sn.unsubscribeTf();this.rootObject.remove(this.sn)}var n=new Su.Geometry;for(var i=0;i<t.poses.length;i++){var r=new Su.Vector3(t.poses[i].pose.position.x,t.poses[i].pose.position.y,t.poses[i].pose.position.z);n.vertices.push(r)}n.computeLineDistances();var a=new Su.LineBasicMaterial({color:this.color});var o=new Su.Line(n,a);this.sn=new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:o});this.rootObject.add(this.sn)};return e}(Su.Object3D);var Mh=function(t){function e(e){t.call(this);this.options=e||{};this.ros=e.ros;this.topicName=e.topic||"/point";this.tfClient=e.tfClient;this.color=e.color||13369599;this.rootObject=e.rootObject||new Su.Object3D;this.radius=e.radius||.2;this.sn=null;this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"geometry_msgs/PointStamped"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){if(this.sn!==null){this.sn.unsubscribeTf();this.rootObject.remove(this.sn)}var n=new Su.SphereGeometry(this.radius);var i=new Su.MeshBasicMaterial({color:this.color});var r=new Su.Mesh(n,i);r.position.set(t.point.x,t.point.y,t.point.z);this.sn=new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:r});this.rootObject.add(this.sn)};return e}(Su.Object3D);var kh=function(t){function e(e){t.call(this);e=e||{};this.ros=e.ros;this.topicName=e.topic||"/path";this.tfClient=e.tfClient;this.color=e.color||13369599;this.rootObject=e.rootObject||new Su.Object3D;this.sn=null;this.line=null;this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"geometry_msgs/PolygonStamped"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){if(this.sn!==null){this.sn.unsubscribeTf();this.rootObject.remove(this.sn)}var n=new Su.Geometry;var i;for(var r=0;r<t.polygon.points.length;r++){i=new Su.Vector3(t.polygon.points[r].x,t.polygon.points[r].y,t.polygon.points[r].z);n.vertices.push(i)}i=new Su.Vector3(t.polygon.points[0].x,t.polygon.points[0].y,t.polygon.points[0].z);n.vertices.push(i);n.computeLineDistances();var a=new Su.LineBasicMaterial({color:this.color});var o=new Su.Line(n,a);this.sn=new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:o});this.rootObject.add(this.sn)};return e}(Su.Object3D);var Dh=function(t){function e(e){t.call(this);this.options=e||{};this.ros=e.ros;this.topicName=e.topic||"/pose";this.tfClient=e.tfClient;this.color=e.color||13369599;this.rootObject=e.rootObject||new Su.Object3D;this.sn=null;this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"geometry_msgs/PoseStamped"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){if(this.sn!==null){this.sn.unsubscribeTf();this.rootObject.remove(this.sn)}this.options.origin=new Su.Vector3(t.pose.position.x,t.pose.position.y,t.pose.position.z);var n=new Su.Quaternion(t.pose.orientation.x,t.pose.orientation.y,t.pose.orientation.z,t.pose.orientation.w);this.options.direction=new Su.Vector3(1,0,0);this.options.direction.applyQuaternion(n);this.options.material=new Su.MeshBasicMaterial({color:this.color});var i=new sh(this.options);this.sn=new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:i});this.rootObject.add(this.sn)};return e}(Su.Object3D);var Lh=function(t){function e(e){t.call(this);this.options=e||{};this.ros=e.ros;this.topicName=e.topic||"/particlecloud";this.tfClient=e.tfClient;this.color=e.color||13369599;this.length=e.length||1;this.rootObject=e.rootObject||new Su.Object3D;this.sn=null;this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"geometry_msgs/PoseArray"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){var n=this;if(this.sn!==null){this.sn.unsubscribeTf();this.rootObject.remove(this.sn)}var i=new Su.Object3D;var r;for(var a=0;a<t.poses.length;a++){var o=new Su.Geometry;var s=new Su.Vector3(t.poses[a].position.x,t.poses[a].position.y,t.poses[a].position.z);o.vertices.push(s);var l=new Su.Quaternion(t.poses[a].orientation.x,t.poses[a].orientation.y,t.poses[a].orientation.z,t.poses[a].orientation.w);var c=new Su.Vector3(n.length,0,0);var u=new Su.Vector3(n.length*.8,n.length*.2,0);var h=new Su.Vector3(n.length*.8,-n.length*.2,0);c.applyQuaternion(l);u.applyQuaternion(l);h.applyQuaternion(l);o.vertices.push(c.add(s));o.vertices.push(u.add(s));o.vertices.push(h.add(s));o.vertices.push(c);o.computeLineDistances();var f=new Su.LineBasicMaterial({color:n.color});r=new Su.Line(o,f);i.add(r)}this.sn=new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:i});this.rootObject.add(this.sn)};return e}(Su.Object3D);var Rh=function(t){function e(e){t.call(this);this.options=e||{};this.ros=e.ros;this.topicName=e.topic||"/PoseWithCovariance";this.tfClient=e.tfClient;this.color=e.color||13369599;this.rootObject=e.rootObject||new Su.Object3D;this.sn=null;this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"geometry_msgs/PoseWithCovarianceStamped"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){if(this.sn!==null){this.sn.unsubscribeTf();this.rootObject.remove(this.sn)}this.options.origin=new Su.Vector3(t.pose.pose.position.x,t.pose.pose.position.y,t.pose.pose.position.z);var n=new Su.Quaternion(t.pose.pose.orientation.x,t.pose.pose.orientation.y,t.pose.pose.orientation.z,t.pose.pose.orientation.w);this.options.direction=new Su.Vector3(1,0,0);this.options.direction.applyQuaternion(n);this.options.material=new Su.MeshBasicMaterial({color:this.color});var i=new sh(this.options);this.sn=new bh({frameID:t.header.frame_id,tfClient:this.tfClient,object:i});this.rootObject.add(this.sn)};return e}(Su.Object3D);var Fh=function(t){function e(e){t.call(this);e=e||{};this.tfClient=e.tfClient;this.rootObject=e.rootObject||new Su.Object3D;this.max_pts=e.max_pts||1e4;this.pointRatio=e.pointRatio||1;this.messageRatio=e.messageRatio||1;this.messageCount=0;this.material=e.material||{};this.colorsrc=e.colorsrc;this.colormap=e.colormap;if("color"in e||"size"in e||"texture"in e){console.warn('toplevel "color", "size" and "texture" options are deprecated.'+'They should beprovided within a "material" option, e.g. : '+" { tfClient, material : { color: mycolor, size: mysize, map: mytexture }, ... }")}this.sn=null;this.buffer=null}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.setup=function e(t,n,i){var r=this;if(this.sn===null){if(n){this.buffer=new Uint8Array(this.max_pts*n)}i=i||[];this.fields={};for(var a=0;a<i.length;a++){r.fields[i[a].name]=i[a]}this.geom=new Su.BufferGeometry;this.positions=new Su.BufferAttribute(new Float32Array(this.max_pts*3),3,false);this.geom.addAttribute("position",this.positions.setDynamic(true));if(!this.colorsrc&&this.fields.rgb){this.colorsrc="rgb"}if(this.colorsrc){var o=this.fields[this.colorsrc];if(o){this.colors=new Su.BufferAttribute(new Float32Array(this.max_pts*3),3,false);this.geom.addAttribute("color",this.colors.setDynamic(true));var s=o.offset;this.getColor=[function(e,t,n){return e.getInt8(t+s,n)},function(e,t,n){return e.getUint8(t+s,n)},function(e,t,n){return e.getInt16(t+s,n)},function(e,t,n){return e.getUint16(t+s,n)},function(e,t,n){return e.getInt32(t+s,n)},function(e,t,n){return e.getUint32(t+s,n)},function(e,t,n){return e.getFloat32(t+s,n)},function(e,t,n){return e.getFloat64(t+s,n)}][o.datatype-1];this.colormap=this.colormap||function(e){return new Su.Color(e)}}else{console.warn('unavailable field "'+this.colorsrc+'" for coloring.')}}if(!this.material.isMaterial){if(this.colors&&this.material.vertexColors===undefined){this.material.vertexColors=Su.VertexColors}this.material=new Su.PointsMaterial(this.material)}this.object=new Su.Points(this.geom,this.material);this.sn=new bh({frameID:t,tfClient:this.tfClient,object:this.object});this.rootObject.add(this.sn)}return this.messageCount++%this.messageRatio===0};e.prototype.update=function e(t){this.geom.setDrawRange(0,t);this.positions.needsUpdate=true;this.positions.updateRange.count=t*this.positions.itemSize;if(this.colors){this.colors.needsUpdate=true;this.colors.updateRange.count=t*this.colors.itemSize}};return e}(Su.Object3D);var Ph=function(t){function e(e){t.call(this);e=e||{};this.ros=e.ros;this.topicName=e.topic||"/scan";this.points=new Fh(e);this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"sensor_msgs/LaserScan"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){var n=this;if(!this.points.setup(t.header.frame_id)){return}var i=t.ranges.length;var r=0;for(var a=0;a<i;a+=this.points.pointRatio){var o=t.ranges[a];if(o>=t.range_min&&o<=t.range_max){var s=t.angle_min+a*t.angle_increment;n.points.positions.array[r++]=o*Math.cos(s);n.points.positions.array[r++]=o*Math.sin(s);n.points.positions.array[r++]=0}}this.points.update(r/3)};return e}(Su.Object3D);function Ih(e,t,n,i){var r,a=0,o=0,s=0,l=e.length,c=t.length;n=n||c;i=i||1;var u=(i-1)*n*8;for(r=0;r<l&&s<c;r++){a=(a<<6)+Ih.e[e.charAt(r)];o+=6;if(o>=8){o-=8;t[s++]=a>>>o&255;if(s%n===0){r+=Math.ceil((u-o)/6);o=o%8;if(o>0){a=Ih.e[e.charAt(r)]}}}}return Math.floor(s/n)}Ih.S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Ih.e={};for(var Nh=0;Nh<64;Nh++){Ih.e[Ih.S.charAt(Nh)]=Nh}var Oh=function(t){function e(e){t.call(this);e=e||{};this.ros=e.ros;this.topicName=e.topic||"/points";this.points=new Fh(e);this.rosTopic=undefined;this.subscribe()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.unsubscribe=function e(){if(this.rosTopic){this.rosTopic.unsubscribe()}};e.prototype.subscribe=function e(){this.unsubscribe();this.rosTopic=new k.Topic({ros:this.ros,name:this.topicName,messageType:"sensor_msgs/PointCloud2"});this.rosTopic.subscribe(this.processMessage.bind(this))};e.prototype.processMessage=function e(t){var n=this;if(!this.points.setup(t.header.frame_id,t.point_step,t.fields)){return}var i,r=this.points.pointRatio;if(t.data.buffer){this.points.buffer=t.data.buffer;i=t.height*t.width/r}else{i=Ih(t.data,this.points.buffer,t.point_step,r);r=1}var a=new DataView(this.points.buffer.buffer);var o=!t.is_bigendian;var s=this.points.fields.x.offset;var l=this.points.fields.y.offset;var c=this.points.fields.z.offset;var u,h;for(var f=0;f<i;f++){u=f*r*t.point_step;n.points.positions.array[3*f]=a.getFloat32(u+s,o);n.points.positions.array[3*f+1]=a.getFloat32(u+l,o);n.points.positions.array[3*f+2]=a.getFloat32(u+c,o);if(n.points.colors){h=n.points.colormap(n.points.getColor(a,u,o));n.points.colors.array[3*f]=h.r;n.points.colors.array[3*f+1]=h.g;n.points.colors.array[3*f+2]=h.b}}this.points.update(i)};return e}(Su.Object3D);var Bh=function(M){function e(e){var t=this;e=e||{};var n=e.urdfModel;var i=e.path||"/";var r=e.tfClient;var a=e.tfPrefix||"";var o=e.loader;M.call(this);var s=n.links;for(var l in s){var c=s[l];for(var u=0;u<c.visuals.length;u++){var h=c.visuals[u];if(h&&h.geometry){var f=a+"/"+c.name;var d=null;if(h.material&&h.material.color){var p=h.material&&h.material.color;d=nh(p.r,p.g,p.b,p.a)}if(h.geometry.type===k.URDF_MESH){var m=h.geometry.filename;var g=m.indexOf("package://");if(g!==-1){m=m.substr(g+"package://".length)}var v=m.substr(-4).toLowerCase();if(v===".dae"||v===".stl"){var b=new lh({path:i,resource:m,loader:o,material:d});if(c.visuals[u].geometry.scale){b.scale.copy(h.geometry.scale)}var y=new bh({frameID:f,pose:h.origin,tfClient:r,object:b});t.add(y)}else{console.warn("Could not load geometry mesh: "+m)}}else{if(!d){d=nh(0,0,0,1)}var x;switch(h.geometry.type){case k.URDF_BOX:var w=h.geometry.dimension;var _=new Su.BoxGeometry(w.x,w.y,w.z);x=new Su.Mesh(_,d);break;case k.URDF_CYLINDER:var E=h.geometry.radius;var A=h.geometry.length;var C=new Su.CylinderGeometry(E,E,A,16,1,false);x=new Su.Mesh(C,d);x.quaternion.setFromAxisAngle(new Su.Vector3(1,0,0),Math.PI*.5);break;case k.URDF_SPHERE:var S=new Su.SphereGeometry(h.geometry.radius,16);x=new Su.Mesh(S,d);break}var T=new bh({frameID:f,pose:h.origin,tfClient:r,object:x});t.add(T)}}}}}if(M)e.__proto__=M;e.prototype=Object.create(M&&M.prototype);e.prototype.constructor=e;e.prototype.unsubscribeTf=function e(){this.children.forEach(function(e){if(typeof e.unsubscribeTf==="function"){e.unsubscribeTf()}})};return e}(Su.Object3D);var zh=function e(t){var n=this;t=t||{};var i=t.ros;this.param=t.param||"robot_description";this.path=t.path||"/";this.tfClient=t.tfClient;this.rootObject=t.rootObject||new Su.Object3D;this.tfPrefix=t.tfPrefix||"";this.loader=t.loader;var r=new k.Param({ros:i,name:this.param});r.get(function(e){var t=new k.UrdfModel({string:e});n.urdf=new Bh({urdfModel:t,path:n.path,tfClient:n.tfClient,tfPrefix:n.tfPrefix,loader:n.loader});n.rootObject.add(n.urdf)})};var Uh=function e(t){t=t||{};this.mouseHandler=t.mouseHandler;this.hoverObjs={};this.mouseHandler.addEventListener("mouseover",this.onMouseOver.bind(this));this.mouseHandler.addEventListener("mouseout",this.onMouseOut.bind(this))};Uh.prototype.onMouseOver=function e(t){this.hoverObjs[t.currentTarget.uuid]=t.currentTarget};Uh.prototype.onMouseOut=function e(t){var n=t.currentTarget.uuid;if(n in this.hoverObjs){delete this.hoverObjs[n]}};Uh.prototype.renderHighlights=function e(t,n,i){this.makeEverythingInvisible(t);this.makeHighlightedVisible(t);var r=t.overrideMaterial;t.overrideMaterial=new Su.MeshBasicMaterial({fog:false,opacity:.5,transparent:true,depthTest:true,depthWrite:false,polygonOffset:true,polygonOffsetUnits:-1,side:Su.DoubleSide});n.render(t,i);t.overrideMaterial=r;this.restoreVisibility(t)};Uh.prototype.makeEverythingInvisible=function e(t){t.traverse(function(e){if(e instanceof Su.Mesh||e instanceof Su.Line||e instanceof Su.Sprite){e.previousVisibility=e.visible;e.visible=false}})};Uh.prototype.makeHighlightedVisible=function e(t){var n=this;var i=function(e){if(e instanceof Su.Mesh||e instanceof Su.Line||e instanceof Su.Sprite){e.visible=true}};for(var r in n.hoverObjs){var a=n.hoverObjs[r];a.visible=true;a.traverse(i)}};Uh.prototype.restoreVisibility=function e(t){t.traverse(function(e){if(e.hasOwnProperty("previousVisibility")){e.visible=e.previousVisibility}}.bind(this))};var Hh=function(n){function e(e){n.call(this);this.renderer=e.renderer;this.camera=e.camera;this.rootObject=e.rootObject;this.fallbackTarget=e.fallbackTarget;this.lastTarget=this.fallbackTarget;this.dragging=false;var t=["contextmenu","click","dblclick","mouseout","mousedown","mouseup","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchcancel","touchleave","touchmove"];this.listeners={};t.forEach(function(e){this.listeners[e]=this.processDomEvent.bind(this);this.renderer.domElement.addEventListener(e,this.listeners[e],false)},this)}if(n)e.__proto__=n;e.prototype=Object.create(n&&n.prototype);e.prototype.constructor=e;e.prototype.processDomEvent=function e(t){t.preventDefault();var n=t.target;var i=n.getBoundingClientRect();var r,a;if(t.type.indexOf("touch")!==-1){r=0;a=0;for(var o=0;o<t.touches.length;++o){r+=t.touches[o].clientX;a+=t.touches[o].clientY}r/=t.touches.length;a/=t.touches.length}else{r=t.clientX;a=t.clientY}var s=r-i.left-n.clientLeft+n.scrollLeft;var l=a-i.top-n.clientTop+n.scrollTop;var c=s/n.clientWidth*2-1;var u=-l/n.clientHeight*2+1;var h=new Su.Vector3(c,u,.5);h.unproject(this.camera);var f=new Su.Raycaster(this.camera.position.clone(),h.sub(this.camera.position).normalize());f.linePrecision=.001;var d=f.ray;var p={mousePos:new Su.Vector2(c,u),mouseRay:d,domEvent:t,camera:this.camera,intersection:this.lastIntersection};if(t.type==="mouseout"){if(this.dragging){this.notify(this.lastTarget,"mouseup",p);this.dragging=false}this.notify(this.lastTarget,"mouseout",p);this.lastTarget=null;return}if(t.type==="touchleave"||t.type==="touchend"){if(this.dragging){this.notify(this.lastTarget,"mouseup",p);this.dragging=false}this.notify(this.lastTarget,"touchend",p);this.lastTarget=null;return}if(this.dragging){this.notify(this.lastTarget,t.type,p);if(t.type==="mouseup"&&t.button===2||t.type==="click"||t.type==="touchend"){this.dragging=false}return}n=this.lastTarget;var m=[];m=f.intersectObject(this.rootObject,true);if(m.length>0){n=m[0].object;p.intersection=this.lastIntersection=m[0]}else{n=this.fallbackTarget}if(n!==this.lastTarget&&t.type.match(/mouse/)){var g=this.notify(n,"mouseover",p);if(g===0){this.notify(this.lastTarget,"mouseout",p)}else if(g===1){n=this.fallbackTarget;if(n!==this.lastTarget){this.notify(n,"mouseover",p);this.notify(this.lastTarget,"mouseout",p)}}}if(n!==this.lastTarget&&t.type.match(/touch/)){var v=this.notify(n,t.type,p);if(v){this.notify(this.lastTarget,"touchleave",p);this.notify(this.lastTarget,"touchend",p)}else{n=this.fallbackTarget;if(n!==this.lastTarget){this.notify(this.lastTarget,"touchmove",p);this.notify(this.lastTarget,"touchend",p)}}}this.notify(n,t.type,p);if(t.type==="mousedown"||t.type==="touchstart"||t.type==="touchmove"){this.dragging=true}this.lastTarget=n};e.prototype.notify=function e(t,n,i){var r=this;i.type=n;i.cancelBubble=false;i.continueBubble=false;i.stopPropagation=function(){i.cancelBubble=true};i.continuePropagation=function(){i.continueBubble=true};i.currentTarget=t;while(i.currentTarget){if(i.currentTarget.dispatchEvent&&i.currentTarget.dispatchEvent instanceof Function){i.currentTarget.dispatchEvent(i);if(i.cancelBubble){r.dispatchEvent(i);return 0}else if(i.continueBubble){return 2}}i.currentTarget=i.currentTarget.parent}return 1};return e}(Su.EventDispatcher);var jh=function(T){function e(e){T.call(this);var a=this;e=e||{};var t=e.scene;this.camera=e.camera;this.center=new Su.Vector3;this.userZoom=true;this.userZoomSpeed=e.userZoomSpeed||1;this.userRotate=true;this.userRotateSpeed=e.userRotateSpeed||1;this.autoRotate=e.autoRotate;this.autoRotateSpeed=e.autoRotateSpeed||2;this.camera.up=new Su.Vector3(0,0,1);var o=1800;var s=10;var l=new Su.Vector2;var c=new Su.Vector2;var u=new Su.Vector2;var r=new Su.Vector2;var h=new Su.Vector2;var f=new Su.Vector2;var d=new Su.Vector3;var p=new Su.Vector3;var m=new Su.Vector3;var g=new Su.Vector3;var v=new Array(2);var b=new Array(2);this.phiDelta=0;this.thetaDelta=0;this.scale=1;this.lastPosition=new Su.Vector3;var y={NONE:-1,ROTATE:0,ZOOM:1,MOVE:2};var x=y.NONE;this.axes=new _h({shaftRadius:.025,headRadius:.07,headLength:.2});t.add(this.axes);this.axes.traverse(function(e){e.visible=false});function n(e){var t=e.domEvent;t.preventDefault();switch(t.button){case 0:x=y.ROTATE;l.set(t.clientX,t.clientY);break;case 1:x=y.MOVE;p=new Su.Vector3(0,0,1);var n=(new Su.Matrix4).extractRotation(this.camera.matrix);p.applyMatrix4(n);d=a.center.clone();m=a.camera.position.clone();g=w(e.mouseRay,d,p);break;case 2:x=y.ZOOM;r.set(t.clientX,t.clientY);break}this.showAxes()}function i(e){var t=e.domEvent;if(x===y.ROTATE){c.set(t.clientX,t.clientY);u.subVectors(c,l);a.rotateLeft(2*Math.PI*u.x/o*a.userRotateSpeed);a.rotateUp(2*Math.PI*u.y/o*a.userRotateSpeed);l.copy(c);this.showAxes()}else if(x===y.ZOOM){h.set(t.clientX,t.clientY);f.subVectors(h,r);if(f.y>0){a.zoomIn()}else{a.zoomOut()}r.copy(h);this.showAxes()}else if(x===y.MOVE){var n=w(e.mouseRay,a.center,p);if(!n){return}var i=(new Su.Vector3).subVectors(g.clone(),n.clone());a.center.addVectors(d.clone(),i.clone());a.camera.position.addVectors(m.clone(),i.clone());a.update();a.camera.updateMatrixWorld();this.showAxes()}}function w(e,t,n){var i=new Su.Vector3;var r=new Su.Vector3;i.subVectors(t,e.origin);var a=e.direction.dot(n);if(Math.abs(a)<e.precision){return null}var o=n.dot(i)/a;r=e.direction.clone().multiplyScalar(o);return r}function _(e){if(!a.userRotate){return}x=y.NONE}function E(e){if(!a.userZoom){return}var t=e.domEvent;var n;if(typeof t.wheelDelta!=="undefined"){n=t.wheelDelta}else{n=-t.detail}if(n>0){a.zoomIn()}else{a.zoomOut()}this.showAxes()}function A(e){var t=e.domEvent;switch(t.touches.length){case 1:x=y.ROTATE;l.set(t.touches[0].pageX-window.scrollX,t.touches[0].pageY-window.scrollY);break;case 2:x=y.NONE;p=new Su.Vector3(0,0,1);var n=(new Su.Matrix4).extractRotation(this.camera.matrix);p.applyMatrix4(n);d=a.center.clone();m=a.camera.position.clone();g=w(e.mouseRay,d,p);v[0]=new Su.Vector2(t.touches[0].pageX,t.touches[0].pageY);v[1]=new Su.Vector2(t.touches[1].pageX,t.touches[1].pageY);b[0]=new Su.Vector2(0,0);b[1]=new Su.Vector2(0,0);break}this.showAxes();t.preventDefault()}function C(e){var t=e.domEvent;if(x===y.ROTATE){c.set(t.touches[0].pageX-window.scrollX,t.touches[0].pageY-window.scrollY);u.subVectors(c,l);a.rotateLeft(2*Math.PI*u.x/o*a.userRotateSpeed);a.rotateUp(2*Math.PI*u.y/o*a.userRotateSpeed);l.copy(c);this.showAxes()}else{b[0].set(v[0].x-t.touches[0].pageX,v[0].y-t.touches[0].pageY);b[1].set(v[1].x-t.touches[1].pageX,v[1].y-t.touches[1].pageY);if(b[0].lengthSq()>s&&b[1].lengthSq()>s){v[0].set(t.touches[0].pageX,t.touches[0].pageY);v[1].set(t.touches[1].pageX,t.touches[1].pageY);if(b[0].dot(b[1])>0&&x!==y.ZOOM){x=y.MOVE}else if(b[0].dot(b[1])<0&&x!==y.MOVE){x=y.ZOOM}if(x===y.ZOOM){var n=new Su.Vector2;n.subVectors(v[0],v[1]);if(b[0].dot(n)<0&&b[1].dot(n)>0){a.zoomOut()}else if(b[0].dot(n)>0&&b[1].dot(n)<0){a.zoomIn()}}}if(x===y.MOVE){var i=w(e.mouseRay,a.center,p);if(!i){return}var r=(new Su.Vector3).subVectors(g.clone(),i.clone());a.center.addVectors(d.clone(),r.clone());a.camera.position.addVectors(m.clone(),r.clone());a.update();a.camera.updateMatrixWorld()}this.showAxes();t.preventDefault()}}function S(e){var t=e.domEvent;if(t.touches.length===1&&x!==y.ROTATE){x=y.ROTATE;l.set(t.touches[0].pageX-window.scrollX,t.touches[0].pageY-window.scrollY)}else{x=y.NONE}}this.addEventListener("mousedown",n);this.addEventListener("mouseup",_);this.addEventListener("mousemove",i);this.addEventListener("touchstart",A);this.addEventListener("touchmove",C);this.addEventListener("touchend",S);this.addEventListener("mousewheel",E);this.addEventListener("DOMMouseScroll",E)}if(T)e.__proto__=T;e.prototype=Object.create(T&&T.prototype);e.prototype.constructor=e;e.prototype.showAxes=function e(){var t=this;this.axes.traverse(function(e){e.visible=true});if(this.hideTimeout){clearTimeout(this.hideTimeout)}this.hideTimeout=setTimeout(function(){t.axes.traverse(function(e){e.visible=false});t.hideTimeout=false},1e3)};e.prototype.rotateLeft=function e(t){if(t===undefined){t=2*Math.PI/60/60*this.autoRotateSpeed}this.thetaDelta-=t};e.prototype.rotateRight=function e(t){if(t===undefined){t=2*Math.PI/60/60*this.autoRotateSpeed}this.thetaDelta+=t};e.prototype.rotateUp=function e(t){if(t===undefined){t=2*Math.PI/60/60*this.autoRotateSpeed}this.phiDelta-=t};e.prototype.rotateDown=function e(t){if(t===undefined){t=2*Math.PI/60/60*this.autoRotateSpeed}this.phiDelta+=t};e.prototype.zoomIn=function e(t){if(t===undefined){t=Math.pow(.95,this.userZoomSpeed)}this.scale/=t};e.prototype.zoomOut=function e(t){if(t===undefined){t=Math.pow(.95,this.userZoomSpeed)}this.scale*=t};e.prototype.update=function e(){var t=this.camera.position;var n=t.clone().sub(this.center);var i=Math.atan2(n.y,n.x);var r=Math.atan2(Math.sqrt(n.y*n.y+n.x*n.x),n.z);if(this.autoRotate){this.rotateLeft(2*Math.PI/60/60*this.autoRotateSpeed)}i+=this.thetaDelta;r+=this.phiDelta;var a=1e-6;r=Math.max(a,Math.min(Math.PI-a,r));var o=n.length();n.set(o*Math.sin(r)*Math.cos(i),o*Math.sin(r)*Math.sin(i),o*Math.cos(r));n.multiplyScalar(this.scale);t.copy(this.center).add(n);this.camera.lookAt(this.center);o=n.length();this.axes.position.copy(this.center);this.axes.scale.set(o*.05,o*.05,o*.05);this.axes.updateMatrixWorld(true);this.thetaDelta=0;this.phiDelta=0;this.scale=1;if(this.lastPosition.distanceTo(this.camera.position)>0){this.dispatchEvent({type:"change"});this.lastPosition.copy(this.camera.position)}};return e}(Su.EventDispatcher);var $h=function e(t){t=t||{};var n=t.divID;var i=t.width;var r=t.height;var a=t.background||"#111111";var o=t.antialias;var s=t.intensity||.66;var l=t.near||.01;var c=t.far||1e3;var u=t.alpha||1;var h=t.cameraPose||{x:3,y:3,z:3};var f=t.cameraZoomSpeed||.5;this.renderer=new Su.WebGLRenderer({antialias:o,alpha:true});this.renderer.setClearColor(parseInt(a.replace("#","0x"),16),u);this.renderer.sortObjects=false;this.renderer.setSize(i,r);this.renderer.shadowMap.enabled=false;this.renderer.autoClear=false;this.scene=new Su.Scene;this.camera=new Su.PerspectiveCamera(40,i/r,l,c);this.camera.position.x=h.x;this.camera.position.y=h.y;this.camera.position.z=h.z;this.cameraControls=new jh({scene:this.scene,camera:this.camera});this.cameraControls.userZoomSpeed=f;this.scene.add(new Su.AmbientLight(5592405));this.directionalLight=new Su.DirectionalLight(16777215,s);this.scene.add(this.directionalLight);this.selectableObjects=new Su.Object3D;this.scene.add(this.selectableObjects);var d=new Hh({renderer:this.renderer,camera:this.camera,rootObject:this.selectableObjects,fallbackTarget:this.cameraControls});this.highlighter=new Uh({mouseHandler:d});this.stopped=true;this.animationRequestId=undefined;document.getElementById(n).appendChild(this.renderer.domElement);this.start()};$h.prototype.start=function e(){this.stopped=false;this.draw()};$h.prototype.draw=function e(){if(this.stopped){return}this.cameraControls.update();this.directionalLight.position.normalize();this.renderer.clear(true,true,true);this.renderer.render(this.scene,this.camera);this.highlighter.renderHighlights(this.scene,this.renderer,this.camera);this.animationRequestId=requestAnimationFrame(this.draw.bind(this))};$h.prototype.stop=function e(){if(!this.stopped){cancelAnimationFrame(this.animationRequestId)}this.stopped=true};$h.prototype.addObject=function e(t,n){if(n){this.selectableObjects.add(t)}else{this.scene.add(t)}};$h.prototype.resize=function e(t,n){this.camera.aspect=t/n;this.camera.updateProjectionMatrix();this.renderer.setSize(t,n)};n.REVISION=Tu;n.MARKER_ARROW=Mu;n.MARKER_CUBE=ku;n.MARKER_SPHERE=Du;n.MARKER_CYLINDER=Lu;n.MARKER_LINE_STRIP=Ru;n.MARKER_LINE_LIST=Fu;n.MARKER_CUBE_LIST=Pu;n.MARKER_SPHERE_LIST=Iu;n.MARKER_POINTS=Nu;n.MARKER_TEXT_VIEW_FACING=Ou;n.MARKER_MESH_RESOURCE=Bu;n.MARKER_TRIANGLE_LIST=zu;n.INTERACTIVE_MARKER_KEEP_ALIVE=Uu;n.INTERACTIVE_MARKER_POSE_UPDATE=Hu;n.INTERACTIVE_MARKER_MENU_SELECT=ju;n.INTERACTIVE_MARKER_BUTTON_CLICK=$u;n.INTERACTIVE_MARKER_MOUSE_DOWN=Wu;n.INTERACTIVE_MARKER_MOUSE_UP=Vu;n.INTERACTIVE_MARKER_NONE=Gu;n.INTERACTIVE_MARKER_MENU=qu;n.INTERACTIVE_MARKER_BUTTON=Xu;n.INTERACTIVE_MARKER_MOVE_AXIS=Yu;n.INTERACTIVE_MARKER_MOVE_PLANE=Ku;n.INTERACTIVE_MARKER_ROTATE_AXIS=Zu;n.INTERACTIVE_MARKER_MOVE_ROTATE=Qu;n.INTERACTIVE_MARKER_INHERIT=Ju;n.INTERACTIVE_MARKER_FIXED=eh;n.INTERACTIVE_MARKER_VIEW_FACING=th;n.makeColorMaterial=nh;n.intersectPlane=ih;n.findClosestPoint=rh;n.closestAxisPoint=ah;n.DepthCloud=oh;n.InteractiveMarker=dh;n.InteractiveMarkerClient=vh;n.InteractiveMarkerControl=hh;n.InteractiveMarkerHandle=gh;n.InteractiveMarkerMenu=fh;n.Marker=uh;n.MarkerArrayClient=yh;n.MarkerClient=xh;n.Arrow=sh;n.Arrow2=wh;n.Axes=_h;n.Grid=Eh;n.MeshResource=lh;n.TriangleList=ch;n.OccupancyGrid=Ah;n.OccupancyGridClient=Ch;n.Odometry=Sh;n.Path=Th;n.Point=Mh;n.Polygon=kh;n.Pose=Dh;n.PoseArray=Lh;n.PoseWithCovariance=Rh;n.LaserScan=Ph;n.Points=Fh;n.PointCloud2=Oh;n.Urdf=Bh;n.UrdfClient=zh;n.Highlighter=Uh;n.MouseHandler=Hh;n.OrbitControls=jh;n.SceneNode=bh;n.Viewer=$h},{roslib:50}],49:[function(e,r,a){!function(h){var f=Array.isArray?Array.isArray:function e(t){return Object.prototype.toString.call(t)==="[object Array]"};var t=10;function c(){this._events={};if(this._conf){n.call(this,this._conf)}}function n(e){if(e){this._conf=e;e.delimiter&&(this.delimiter=e.delimiter);this._events.maxListeners=e.maxListeners!==h?e.maxListeners:t;e.wildcard&&(this.wildcard=e.wildcard);e.newListener&&(this.newListener=e.newListener);e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak);if(this.wildcard){this.listenerTree={}}}else{this._events.maxListeners=t}}function o(e,t){var n="(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak){n+=" Event name: %s.";console.error(n,e,t)}else{console.error(n,e)}if(console.trace){console.trace()}}function e(e){this._events={};this.newListener=false;this.verboseMemoryLeak=false;n.call(this,e)}e.EventEmitter2=e;function m(e,t,n,i){if(!n){return[]}var r=[],a,o,s,l,c,u,h,f=t.length,d=t[i],p=t[i+1];if(i===f&&n._listeners){if(typeof n._listeners==="function"){e&&e.push(n._listeners);return[n]}else{for(a=0,o=n._listeners.length;a<o;a++){e&&e.push(n._listeners[a])}return[n]}}if(d==="*"||d==="**"||n[d]){if(d==="*"){for(s in n){if(s!=="_listeners"&&n.hasOwnProperty(s)){r=r.concat(m(e,t,n[s],i+1))}}return r}else if(d==="**"){h=i+1===f||i+2===f&&p==="*";if(h&&n._listeners){r=r.concat(m(e,t,n,f))}for(s in n){if(s!=="_listeners"&&n.hasOwnProperty(s)){if(s==="*"||s==="**"){if(n[s]._listeners&&!h){r=r.concat(m(e,t,n[s],f))}r=r.concat(m(e,t,n[s],i))}else if(s===p){r=r.concat(m(e,t,n[s],i+2))}else{r=r.concat(m(e,t,n[s],i))}}}return r}r=r.concat(m(e,t,n[d],i+1))}l=n["*"];if(l){m(e,t,l,i+1)}c=n["**"];if(c){if(i<f){if(c._listeners){m(e,t,c,f)}for(s in c){if(s!=="_listeners"&&c.hasOwnProperty(s)){if(s===p){m(e,t,c[s],i+2)}else if(s===d){m(e,t,c[s],i+1)}else{u={};u[s]=c[s];m(e,t,{"**":u},i+1)}}}}else if(c._listeners){m(e,t,c,f)}else if(c["*"]&&c["*"]._listeners){m(e,t,c["*"],f)}}return r}function i(e,t){e=typeof e==="string"?e.split(this.delimiter):e.slice();for(var n=0,i=e.length;n+1<i;n++){if(e[n]==="**"&&e[n+1]==="**"){return}}var r=this.listenerTree;var a=e.shift();while(a!==h){if(!r[a]){r[a]={}}r=r[a];if(e.length===0){if(!r._listeners){r._listeners=t}else{if(typeof r._listeners==="function"){r._listeners=[r._listeners]}r._listeners.push(t);if(!r._listeners.warned&&this._events.maxListeners>0&&r._listeners.length>this._events.maxListeners){r._listeners.warned=true;o.call(this,r._listeners.length,a)}}return true}a=e.shift()}return true}e.prototype.delimiter=".";e.prototype.setMaxListeners=function(e){if(e!==h){this._events||c.call(this);this._events.maxListeners=e;if(!this._conf)this._conf={};this._conf.maxListeners=e}};e.prototype.event="";e.prototype.once=function(e,t){this.many(e,1,t);return this};e.prototype.many=function(e,t,n){var i=this;if(typeof n!=="function"){throw new Error("many only accepts instances of Function")}function r(){if(--t===0){i.off(e,r)}n.apply(this,arguments)}r._origin=n;this.on(e,r);return i};e.prototype.emit=function(){this._events||c.call(this);var e=arguments[0];if(e==="newListener"&&!this.newListener){if(!this._events.newListener){return false}}var t=arguments.length;var n,i,r,a;var o;if(this._all&&this._all.length){o=this._all.slice();if(t>3){n=new Array(t);for(a=0;a<t;a++)n[a]=arguments[a]}for(r=0,i=o.length;r<i;r++){this.event=e;switch(t){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,n)}}}if(this.wildcard){o=[];var s=typeof e==="string"?e.split(this.delimiter):e.slice();m.call(this,o,s,this.listenerTree,0)}else{o=this._events[e];if(typeof o==="function"){this.event=e;switch(t){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:n=new Array(t-1);for(a=1;a<t;a++)n[a-1]=arguments[a];o.apply(this,n)}return true}else if(o){o=o.slice()}}if(o&&o.length){if(t>3){n=new Array(t-1);for(a=1;a<t;a++)n[a-1]=arguments[a]}for(r=0,i=o.length;r<i;r++){this.event=e;switch(t){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,n)}}return true}else if(!this._all&&e==="error"){if(arguments[1]instanceof Error){throw arguments[1]}else{throw new Error("Uncaught, unspecified 'error' event.")}return false}return!!this._all};e.prototype.emitAsync=function(){this._events||c.call(this);var e=arguments[0];if(e==="newListener"&&!this.newListener){if(!this._events.newListener){return Promise.resolve([false])}}var t=[];var n=arguments.length;var i,r,a,o;var s;if(this._all){if(n>3){i=new Array(n);for(o=1;o<n;o++)i[o]=arguments[o]}for(a=0,r=this._all.length;a<r;a++){this.event=e;switch(n){case 1:t.push(this._all[a].call(this,e));break;case 2:t.push(this._all[a].call(this,e,arguments[1]));break;case 3:t.push(this._all[a].call(this,e,arguments[1],arguments[2]));break;default:t.push(this._all[a].apply(this,i))}}}if(this.wildcard){s=[];var l=typeof e==="string"?e.split(this.delimiter):e.slice();m.call(this,s,l,this.listenerTree,0)}else{s=this._events[e]}if(typeof s==="function"){this.event=e;switch(n){case 1:t.push(s.call(this));break;case 2:t.push(s.call(this,arguments[1]));break;case 3:t.push(s.call(this,arguments[1],arguments[2]));break;default:i=new Array(n-1);for(o=1;o<n;o++)i[o-1]=arguments[o];t.push(s.apply(this,i))}}else if(s&&s.length){if(n>3){i=new Array(n-1);for(o=1;o<n;o++)i[o-1]=arguments[o]}for(a=0,r=s.length;a<r;a++){this.event=e;switch(n){case 1:t.push(s[a].call(this));break;case 2:t.push(s[a].call(this,arguments[1]));break;case 3:t.push(s[a].call(this,arguments[1],arguments[2]));break;default:t.push(s[a].apply(this,i))}}}else if(!this._all&&e==="error"){if(arguments[1]instanceof Error){return Promise.reject(arguments[1])}else{return Promise.reject("Uncaught, unspecified 'error' event.")}}return Promise.all(t)};e.prototype.on=function(e,t){if(typeof e==="function"){this.onAny(e);return this}if(typeof t!=="function"){throw new Error("on only accepts instances of Function")}this._events||c.call(this);this.emit("newListener",e,t);if(this.wildcard){i.call(this,e,t);return this}if(!this._events[e]){this._events[e]=t}else{if(typeof this._events[e]==="function"){this._events[e]=[this._events[e]]}this._events[e].push(t);if(!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners){this._events[e].warned=true;o.call(this,this._events[e].length,e)}}return this};e.prototype.onAny=function(e){if(typeof e!=="function"){throw new Error("onAny only accepts instances of Function")}if(!this._all){this._all=[]}this._all.push(e);return this};e.prototype.addListener=e.prototype.on;e.prototype.off=function(e,t){if(typeof t!=="function"){throw new Error("removeListener only takes instances of Function")}var n,i=[];if(this.wildcard){var r=typeof e==="string"?e.split(this.delimiter):e.slice();i=m.call(this,null,r,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e];i.push({_listeners:n})}for(var a=0;a<i.length;a++){var o=i[a];n=o._listeners;if(f(n)){var s=-1;for(var l=0,c=n.length;l<c;l++){if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){s=l;break}}if(s<0){continue}if(this.wildcard){o._listeners.splice(s,1)}else{this._events[e].splice(s,1)}if(n.length===0){if(this.wildcard){delete o._listeners}else{delete this._events[e]}}this.emit("removeListener",e,t);return this}else if(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t){if(this.wildcard){delete o._listeners}else{delete this._events[e]}this.emit("removeListener",e,t)}}function u(e){if(e===h){return}var t=Object.keys(e);for(var n in t){var i=t[n];var r=e[i];if(r instanceof Function||typeof r!=="object"||r===null)continue;if(Object.keys(r).length>0){u(e[i])}if(Object.keys(r).length===0){delete e[i]}}}u(this.listenerTree);return this};e.prototype.offAny=function(e){var t=0,n=0,i;if(e&&this._all&&this._all.length>0){i=this._all;for(t=0,n=i.length;t<n;t++){if(e===i[t]){i.splice(t,1);this.emit("removeListenerAny",e);return this}}}else{i=this._all;for(t=0,n=i.length;t<n;t++)this.emit("removeListenerAny",i[t]);this._all=[]}return this};e.prototype.removeListener=e.prototype.off;e.prototype.removeAllListeners=function(e){if(arguments.length===0){!this._events||c.call(this);return this}if(this.wildcard){var t=typeof e==="string"?e.split(this.delimiter):e.slice();var n=m.call(this,null,t,this.listenerTree,0);for(var i=0;i<n.length;i++){var r=n[i];r._listeners=null}}else if(this._events){this._events[e]=null}return this};e.prototype.listeners=function(e){if(this.wildcard){var t=[];var n=typeof e==="string"?e.split(this.delimiter):e.slice();m.call(this,t,n,this.listenerTree,0);return t}this._events||c.call(this);if(!this._events[e])this._events[e]=[];if(!f(this._events[e])){this._events[e]=[this._events[e]]}return this._events[e]};e.prototype.listenerCount=function(e){return this.listeners(e).length};e.prototype.listenersAny=function(){if(this._all){return this._all}else{return[]}};if(typeof define==="function"&&define.amd){define(function(){return e})}else if(typeof a==="object"){r.exports=e}else{window.EventEmitter2=e}}()},{}],50:[function(e,t,n){var i=this.ROSLIB||{REVISION:"0.20.0"};var r=e("object-assign");r(i,e("./core"));r(i,e("./actionlib"));r(i,e("./math"));r(i,e("./tf"));r(i,e("./urdf"));t.exports=i},{"./actionlib":55,"./core":64,"./math":69,"./tf":72,"./urdf":84,"object-assign":45}],51:[function(e,t,n){var i=e("../core/Topic");var r=e("../core/Message");var a=e("eventemitter2").EventEmitter2;function o(e){var n=this;e=e||{};this.ros=e.ros;this.serverName=e.serverName;this.actionName=e.actionName;this.timeout=e.timeout;this.omitFeedback=e.omitFeedback;this.omitStatus=e.omitStatus;this.omitResult=e.omitResult;this.goals={};var t=false;this.feedbackListener=new i({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"});this.statusListener=new i({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});this.resultListener=new i({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});this.goalTopic=new i({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"});this.cancelTopic=new i({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.goalTopic.advertise();this.cancelTopic.advertise();if(!this.omitStatus){this.statusListener.subscribe(function(e){t=true;e.status_list.forEach(function(e){var t=n.goals[e.goal_id.id];if(t){t.emit("status",e)}})})}if(!this.omitFeedback){this.feedbackListener.subscribe(function(e){var t=n.goals[e.status.goal_id.id];if(t){t.emit("status",e.status);t.emit("feedback",e.feedback)}})}if(!this.omitResult){this.resultListener.subscribe(function(e){var t=n.goals[e.status.goal_id.id];if(t){t.emit("status",e.status);t.emit("result",e.result)}})}if(this.timeout){setTimeout(function(){if(!t){n.emit("timeout")}},this.timeout)}}o.prototype.__proto__=a.prototype;o.prototype.cancel=function(){var e=new r;this.cancelTopic.publish(e)};o.prototype.dispose=function(){this.goalTopic.unadvertise();this.cancelTopic.unadvertise();if(!this.omitStatus){this.statusListener.unsubscribe()}if(!this.omitFeedback){this.feedbackListener.unsubscribe()}if(!this.omitResult){this.resultListener.unsubscribe()}};t.exports=o},{"../core/Message":56,"../core/Topic":63,eventemitter2:49}],52:[function(e,t,n){var o=e("../core/Topic");var i=e("../core/Message");var r=e("eventemitter2").EventEmitter2;function a(e){var t=this;e=e||{};this.ros=e.ros;this.serverName=e.serverName;this.actionName=e.actionName;this.timeout=e.timeout;this.omitFeedback=e.omitFeedback;this.omitStatus=e.omitStatus;this.omitResult=e.omitResult;var n=new o({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"});var i=new o({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"});var r=new o({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});var a=new o({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});n.subscribe(function(e){t.emit("goal",e)});r.subscribe(function(e){e.status_list.forEach(function(e){t.emit("status",e)})});i.subscribe(function(e){t.emit("status",e.status);t.emit("feedback",e.feedback)});a.subscribe(function(e){t.emit("status",e.status);t.emit("result",e.result)})}a.prototype.__proto__=r.prototype;t.exports=a},{"../core/Message":56,"../core/Topic":63,eventemitter2:49}],53:[function(e,t,n){var i=e("../core/Message");var r=e("eventemitter2").EventEmitter2;function a(e){var t=this;this.actionClient=e.actionClient;this.goalMessage=e.goalMessage;this.isFinished=false;var n=new Date;this.goalID="goal_"+Math.random()+"_"+n.getTime();this.goalMessage=new i({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage});this.on("status",function(e){t.status=e});this.on("result",function(e){t.isFinished=true;t.result=e});this.on("feedback",function(e){t.feedback=e});this.actionClient.goals[this.goalID]=this}a.prototype.__proto__=r.prototype;a.prototype.send=function(e){var t=this;t.actionClient.goalTopic.publish(t.goalMessage);if(e){setTimeout(function(){if(!t.isFinished){t.emit("timeout")}},e)}};a.prototype.cancel=function(){var e=new i({id:this.goalID});this.actionClient.cancelTopic.publish(e)};t.exports=a},{"../core/Message":56,eventemitter2:49}],54:[function(e,t,n){var s=e("../core/Topic");var l=e("../core/Message");var i=e("eventemitter2").EventEmitter2;function r(e){var i=this;e=e||{};this.ros=e.ros;this.serverName=e.serverName;this.actionName=e.actionName;this.feedbackPublisher=new s({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"});this.feedbackPublisher.advertise();var r=new s({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});r.advertise();this.resultPublisher=new s({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});this.resultPublisher.advertise();var t=new s({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"});var n=new s({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new l({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]});this.currentGoal=null;this.nextGoal=null;t.subscribe(function(e){if(i.currentGoal){i.nextGoal=e;i.emit("cancel")}else{i.statusMessage.status_list=[{goal_id:e.goal_id,status:1}];i.currentGoal=e;i.emit("goal",e.goal)}});var a=function(e,t){if(e.secs>t.secs){return false}else if(e.secs<t.secs){return true}else if(e.nsecs<t.nsecs){return true}else{return false}};n.subscribe(function(e){if(e.stamp.secs===0&&e.stamp.secs===0&&e.id===""){i.nextGoal=null;if(i.currentGoal){i.emit("cancel")}}else{if(i.currentGoal&&e.id===i.currentGoal.goal_id.id){i.emit("cancel")}else if(i.nextGoal&&e.id===i.nextGoal.goal_id.id){i.nextGoal=null}if(i.nextGoal&&a(i.nextGoal.goal_id.stamp,e.stamp)){i.nextGoal=null}if(i.currentGoal&&a(i.currentGoal.goal_id.stamp,e.stamp)){i.emit("cancel")}}});var o=setInterval(function(){var e=new Date;var t=Math.floor(e.getTime()/1e3);var n=Math.round(1e9*(e.getTime()/1e3-t));i.statusMessage.header.stamp.secs=t;i.statusMessage.header.stamp.nsecs=n;r.publish(i.statusMessage)},500)}r.prototype.__proto__=i.prototype;r.prototype.setSucceeded=function(e){var t=new l({status:{goal_id:this.currentGoal.goal_id,status:3},result:e});this.resultPublisher.publish(t);this.statusMessage.status_list=[];if(this.nextGoal){this.currentGoal=this.nextGoal;this.nextGoal=null;this.emit("goal",this.currentGoal.goal)}else{this.currentGoal=null}};r.prototype.sendFeedback=function(e){var t=new l({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:e});this.feedbackPublisher.publish(t)};r.prototype.setPreempted=function(){this.statusMessage.status_list=[];var e=new l({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(e);if(this.nextGoal){this.currentGoal=this.nextGoal;this.nextGoal=null;this.emit("goal",this.currentGoal.goal)}else{this.currentGoal=null}};t.exports=r},{"../core/Message":56,"../core/Topic":63,eventemitter2:49}],55:[function(e,t,n){var i=e("../core/Ros");var r=e("../mixin");var a=t.exports={ActionClient:e("./ActionClient"),ActionListener:e("./ActionListener"),Goal:e("./Goal"),SimpleActionServer:e("./SimpleActionServer")};r(i,["ActionClient","SimpleActionServer"],a)},{"../core/Ros":58,"../mixin":70,"./ActionClient":51,"./ActionListener":52,"./Goal":53,"./SimpleActionServer":54}],56:[function(e,t,n){var i=e("object-assign");function r(e){i(this,e)}t.exports=r},{"object-assign":45}],57:[function(e,t,n){var r=e("./Service");var a=e("./ServiceRequest");function i(e){e=e||{};this.ros=e.ros;this.name=e.name}i.prototype.get=function(n){var e=new r({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"});var t=new a({name:this.name});e.callService(t,function(e){var t=JSON.parse(e.value);n(t)})};i.prototype.set=function(e,t){var n=new r({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"});var i=new a({name:this.name,value:JSON.stringify(e)});n.callService(i,t)};i.prototype.delete=function(e){var t=new r({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"});var n=new a({name:this.name});t.callService(n,e)};t.exports=i},{"./Service":59,"./ServiceRequest":60}],58:[function(e,t,n){var i=e("ws");var r=e("./SocketAdapter.js");var a=e("./Service");var o=e("./ServiceRequest");var s=e("object-assign");var l=e("eventemitter2").EventEmitter2;function c(e){e=e||{};this.socket=null;this.idCounter=0;this.isConnected=false;this.transportLibrary=e.transportLibrary||"websocket";this.transportOptions=e.transportOptions||{};if(typeof e.groovyCompatibility==="undefined"){this.groovyCompatibility=true}else{this.groovyCompatibility=e.groovyCompatibility}this.setMaxListeners(0);if(e.url){this.connect(e.url)}}c.prototype.__proto__=l.prototype;c.prototype.connect=function(e){if(this.transportLibrary==="socket.io"){this.socket=s(io(e,{"force new connection":true}),r(this));this.socket.on("connect",this.socket.onopen);this.socket.on("data",this.socket.onmessage);this.socket.on("close",this.socket.onclose);this.socket.on("error",this.socket.onerror)}else if(this.transportLibrary.constructor.name==="RTCPeerConnection"){this.socket=s(this.transportLibrary.createDataChannel(e,this.transportOptions),r(this))}else{this.socket=s(new i(e),r(this))}};c.prototype.close=function(){if(this.socket){this.socket.close()}};c.prototype.authenticate=function(e,t,n,i,r,a,o){var s={op:"auth",mac:e,client:t,dest:n,rand:i,t:r,level:a,end:o};this.callOnConnection(s)};c.prototype.callOnConnection=function(e){var t=this;var n=JSON.stringify(e);var i=null;if(this.transportLibrary==="socket.io"){i=function(e){t.socket.emit("operation",e)}}else{i=function(e){t.socket.send(e)}}if(!this.isConnected){t.once("connection",function(){i(n)})}else{i(n)}};c.prototype.setStatusLevel=function(e,t){var n={op:"set_level",level:e,id:t};this.callOnConnection(n)};c.prototype.getActionServers=function(t,n){var e=new a({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"});var i=new o({});if(typeof n==="function"){e.callService(i,function(e){t(e.action_servers)},function(e){n(e)})}else{e.callService(i,function(e){t(e.action_servers)})}};c.prototype.getTopics=function(t,n){var e=new a({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"});var i=new o;if(typeof n==="function"){e.callService(i,function(e){t(e)},function(e){n(e)})}else{e.callService(i,function(e){t(e)})}};c.prototype.getTopicsForType=function(e,t,n){var i=new a({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"});var r=new o({type:e});if(typeof n==="function"){i.callService(r,function(e){t(e.topics)},function(e){n(e)})}else{i.callService(r,function(e){t(e.topics)})}};c.prototype.getServices=function(t,n){var e=new a({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"});var i=new o;if(typeof n==="function"){e.callService(i,function(e){t(e.services)},function(e){n(e)})}else{e.callService(i,function(e){t(e.services)})}};c.prototype.getServicesForType=function(e,t,n){var i=new a({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"});var r=new o({type:e});if(typeof n==="function"){i.callService(r,function(e){t(e.services)},function(e){n(e)})}else{i.callService(r,function(e){t(e.services)})}};c.prototype.getServiceRequestDetails=function(e,t,n){var i=new a({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"});var r=new o({type:e});if(typeof n==="function"){i.callService(r,function(e){t(e)},function(e){n(e)})}else{i.callService(r,function(e){t(e)})}};c.prototype.getServiceResponseDetails=function(e,t,n){var i=new a({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"});var r=new o({type:e});if(typeof n==="function"){i.callService(r,function(e){t(e)},function(e){n(e)})}else{i.callService(r,function(e){t(e)})}};c.prototype.getNodes=function(t,n){var e=new a({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"});var i=new o;if(typeof n==="function"){e.callService(i,function(e){t(e.nodes)},function(e){n(e)})}else{e.callService(i,function(e){t(e.nodes)})}};c.prototype.getNodeDetails=function(e,t,n){var i=new a({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"});var r=new o({node:e});if(typeof n==="function"){i.callService(r,function(e){t(e.subscribing,e.publishing,e.services)},function(e){n(e)})}else{i.callService(r,function(e){t(e)})}};c.prototype.getParams=function(t,n){var e=new a({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"});var i=new o;if(typeof n==="function"){e.callService(i,function(e){t(e.names)},function(e){n(e)})}else{e.callService(i,function(e){t(e.names)})}};c.prototype.getTopicType=function(e,t,n){var i=new a({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"});var r=new o({topic:e});if(typeof n==="function"){i.callService(r,function(e){t(e.type)},function(e){n(e)})}else{i.callService(r,function(e){t(e.type)})}};c.prototype.getServiceType=function(e,t,n){var i=new a({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"});var r=new o({service:e});if(typeof n==="function"){i.callService(r,function(e){t(e.type)},function(e){n(e)})}else{i.callService(r,function(e){t(e.type)})}};c.prototype.getMessageDetails=function(e,t,n){var i=new a({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"});var r=new o({type:e});if(typeof n==="function"){i.callService(r,function(e){t(e.typedefs)},function(e){n(e)})}else{i.callService(r,function(e){t(e.typedefs)})}};c.prototype.decodeTypeDefs=function(e){var u=this;var h=function(e,t){var n={};for(var i=0;i<e.fieldnames.length;i++){var r=e.fieldarraylen[i];var a=e.fieldnames[i];var o=e.fieldtypes[i];if(o.indexOf("/")===-1){if(r===-1){n[a]=o}else{n[a]=[o]}}else{var s=false;for(var l=0;l<t.length;l++){if(t[l].type.toString()===o.toString()){s=t[l];break}}if(s){var c=h(s,t);if(r===-1){}else{n[a]=[c]}}else{u.emit("error","Cannot find "+o+" in decodeTypeDefs")}}}return n};return h(e[0],e)};t.exports=c},{"./Service":59,"./ServiceRequest":60,"./SocketAdapter.js":62,eventemitter2:49,"object-assign":45,ws:85}],59:[function(e,t,n){var a=e("./ServiceResponse");var i=e("./ServiceRequest");var r=e("eventemitter2").EventEmitter2;function o(e){e=e||{};this.ros=e.ros;this.name=e.name;this.serviceType=e.serviceType;this.isAdvertised=false;this._serviceCallback=null}o.prototype.__proto__=r.prototype;o.prototype.callService=function(e,t,n){if(this.isAdvertised){return}var i="call_service:"+this.name+":"+ ++this.ros.idCounter;if(t||n){this.ros.once(i,function(e){if(e.result!==undefined&&e.result===false){if(typeof n==="function"){n(e.values)}}else if(typeof t==="function"){t(new a(e.values))}})}var r={op:"call_service",id:i,service:this.name,args:e};this.ros.callOnConnection(r)};o.prototype.advertise=function(e){if(this.isAdvertised||typeof e!=="function"){return}this._serviceCallback=e;this.ros.on(this.name,this._serviceResponse.bind(this));this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name});this.isAdvertised=true};o.prototype.unadvertise=function(){if(!this.isAdvertised){return}this.ros.callOnConnection({op:"unadvertise_service",service:this.name});this.isAdvertised=false};o.prototype._serviceResponse=function(e){var t={};var n=this._serviceCallback(e.args,t);var i={op:"service_response",service:this.name,values:new a(t),result:n};if(e.id){i.id=e.id}this.ros.callOnConnection(i)};t.exports=o},{"./ServiceRequest":60,"./ServiceResponse":61,eventemitter2:49}],60:[function(e,t,n){var i=e("object-assign");function r(e){i(this,e)}t.exports=r},{"object-assign":45}],61:[function(e,t,n){var i=e("object-assign");function r(e){i(this,e)}t.exports=r},{"object-assign":45}],62:[function(e,t,n){"use strict";var o=e("../util/decompressPng");var i=e("ws");var s=null;if(typeof bson!=="undefined"){s=bson().BSON}function r(n){function i(e){if(e.op==="publish"){n.emit(e.topic,e.msg)}else if(e.op==="service_response"){n.emit(e.id,e)}else if(e.op==="call_service"){n.emit(e.service,e)}else if(e.op==="status"){if(e.id){n.emit("status:"+e.id,e)}else{n.emit("status",e)}}}function r(e,t){if(e.op==="png"){o(e.data,t)}else{t(e)}}function a(e,n){if(!s){throw"Cannot process BSON encoded message without BSON header."}var t=new FileReader;t.onload=function(){var e=new Uint8Array(this.result);var t=s.deserialize(e);n(t)};t.readAsArrayBuffer(e)}return{onopen:function e(t){n.isConnected=true;n.emit("connection",t)},onclose:function e(t){n.isConnected=false;n.emit("close",t)},onerror:function e(t){n.emit("error",t)},onmessage:function e(t){if(typeof Blob!=="undefined"&&t.data instanceof Blob){a(t.data,function(e){r(e,i)})}else{var n=JSON.parse(typeof t==="string"?t:t.data);r(n,i)}}}}t.exports=r},{"../util/decompressPng":87,ws:85}],63:[function(e,t,n){var i=e("eventemitter2").EventEmitter2;var r=e("./Message");function a(e){e=e||{};this.ros=e.ros;this.name=e.name;this.messageType=e.messageType;this.isAdvertised=false;this.compression=e.compression||"none";this.throttle_rate=e.throttle_rate||0;this.latch=e.latch||false;this.queue_size=e.queue_size||100;this.queue_length=e.queue_length||0;this.reconnect_on_close=e.reconnect_on_close||true;if(this.compression&&this.compression!=="png"&&this.compression!=="none"){this.emit("warning",this.compression+" compression is not supported. No compression will be used.")}if(this.throttle_rate<0){this.emit("warning",this.throttle_rate+" is not allowed. Set to 0");this.throttle_rate=0}var t=this;if(this.reconnect_on_close){this.callForSubscribeAndAdvertise=function(e){t.ros.callOnConnection(e);t.waitForReconnect=false;t.reconnectFunc=function(){if(!t.waitForReconnect){t.waitForReconnect=true;t.ros.callOnConnection(e);t.ros.once("connection",function(){t.waitForReconnect=false})}};t.ros.on("close",t.reconnectFunc)}}else{this.callForSubscribeAndAdvertise=this.ros.callOnConnection}this._messageCallback=function(e){t.emit("message",new r(e))}}a.prototype.__proto__=i.prototype;a.prototype.subscribe=function(e){if(typeof e==="function"){this.on("message",e)}if(this.subscribeId){return}this.ros.on(this.name,this._messageCallback);this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter;this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length})};a.prototype.unsubscribe=function(e){if(e){this.off("message",e);if(this.listeners("message").length){return}}if(!this.subscribeId){return}this.ros.off(this.name,this._messageCallback);if(this.reconnect_on_close){this.ros.off("close",this.reconnectFunc)}this.emit("unsubscribe");this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name});this.subscribeId=null};a.prototype.advertise=function(){if(this.isAdvertised){return}this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter;this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size});this.isAdvertised=true;if(!this.reconnect_on_close){var e=this;this.ros.on("close",function(){e.isAdvertised=false})}};a.prototype.unadvertise=function(){if(!this.isAdvertised){return}if(this.reconnect_on_close){this.ros.off("close",this.reconnectFunc)}this.emit("unadvertise");this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name});this.isAdvertised=false};a.prototype.publish=function(e){if(!this.isAdvertised){this.advertise()}this.ros.idCounter++;var t={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:e,latch:this.latch};this.ros.callOnConnection(t)};t.exports=a},{"./Message":56,eventemitter2:49}],64:[function(e,t,n){var i=e("../mixin");var r=t.exports={Ros:e("./Ros"),Topic:e("./Topic"),Message:e("./Message"),Param:e("./Param"),Service:e("./Service"),ServiceRequest:e("./ServiceRequest"),ServiceResponse:e("./ServiceResponse")};i(r.Ros,["Param","Service","Topic"],r)},{"../mixin":70,"./Message":56,"./Param":57,"./Ros":58,"./Service":59,"./ServiceRequest":60,"./ServiceResponse":61,"./Topic":63}],65:[function(e,t,n){var i=e("./Vector3");var r=e("./Quaternion");function a(e){e=e||{};this.position=new i(e.position);this.orientation=new r(e.orientation)}a.prototype.applyTransform=function(e){this.position.multiplyQuaternion(e.rotation);this.position.add(e.translation);var t=e.rotation.clone();t.multiply(this.orientation);this.orientation=t};a.prototype.clone=function(){return new a(this)};t.exports=a},{"./Quaternion":66,"./Vector3":68}],66:[function(e,t,n){function i(e){e=e||{};this.x=e.x||0;this.y=e.y||0;this.z=e.z||0;this.w=typeof e.w==="number"?e.w:1}i.prototype.conjugate=function(){this.x*=-1;this.y*=-1;this.z*=-1};i.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)};i.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);if(e===0){this.x=0;this.y=0;this.z=0;this.w=1}else{e=1/e;this.x=this.x*e;this.y=this.y*e;this.z=this.z*e;this.w=this.w*e}};i.prototype.invert=function(){this.conjugate();this.normalize()};i.prototype.multiply=function(e){var t=this.x*e.w+this.y*e.z-this.z*e.y+this.w*e.x;var n=-this.x*e.z+this.y*e.w+this.z*e.x+this.w*e.y;var i=this.x*e.y-this.y*e.x+this.z*e.w+this.w*e.z;var r=-this.x*e.x-this.y*e.y-this.z*e.z+this.w*e.w;this.x=t;this.y=n;this.z=i;this.w=r};i.prototype.clone=function(){return new i(this)};t.exports=i},{}],67:[function(e,t,n){var i=e("./Vector3");var r=e("./Quaternion");function a(e){e=e||{};this.translation=new i(e.translation);this.rotation=new r(e.rotation)}a.prototype.clone=function(){return new a(this)};t.exports=a},{"./Quaternion":66,"./Vector3":68}],68:[function(e,t,n){function i(e){e=e||{};this.x=e.x||0;this.y=e.y||0;this.z=e.z||0}i.prototype.add=function(e){this.x+=e.x;this.y+=e.y;this.z+=e.z};i.prototype.subtract=function(e){this.x-=e.x;this.y-=e.y;this.z-=e.z};i.prototype.multiplyQuaternion=function(e){var t=e.w*this.x+e.y*this.z-e.z*this.y;var n=e.w*this.y+e.z*this.x-e.x*this.z;var i=e.w*this.z+e.x*this.y-e.y*this.x;var r=-e.x*this.x-e.y*this.y-e.z*this.z;this.x=t*e.w+r*-e.x+n*-e.z-i*-e.y;this.y=n*e.w+r*-e.y+i*-e.x-t*-e.z;this.z=i*e.w+r*-e.z+t*-e.y-n*-e.x};i.prototype.clone=function(){return new i(this)};t.exports=i},{}],69:[function(e,t,n){t.exports={Pose:e("./Pose"),Quaternion:e("./Quaternion"),Transform:e("./Transform"),Vector3:e("./Vector3")}},{"./Pose":65,"./Quaternion":66,"./Transform":67,"./Vector3":68}],70:[function(e,t,n){t.exports=function(n,e,i){e.forEach(function(e){var t=i[e];n.prototype[e]=function(e){e.ros=this;return new t(e)}})}},{}],71:[function(e,t,n){var i=e("../actionlib/ActionClient");var r=e("../actionlib/Goal");var a=e("../core/Service.js");var o=e("../core/ServiceRequest.js");var s=e("../math/Transform");function l(e){e=e||{};this.ros=e.ros;this.fixedFrame=e.fixedFrame||"/base_link";this.angularThres=e.angularThres||2;this.transThres=e.transThres||.01;this.rate=e.rate||10;this.updateDelay=e.updateDelay||50;var t=e.topicTimeout||2;var n=Math.floor(t);var i=Math.floor((t-n)*1e9);this.topicTimeout={secs:n,nsecs:i};this.serverName=e.serverName||"/tf2_web_republisher";this.repubServiceName=e.repubServiceName||"/republish_tfs";this.currentGoal=false;this.currentTopic=false;this.frameInfos={};this.republisherUpdateRequested=false;this.actionClient=this.ros.ActionClient({serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:true,omitResult:true});this.serviceClient=this.ros.Service({name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}l.prototype.processTFArray=function(e){var t=this;e.transforms.forEach(function(e){var t=e.child_frame_id;if(t[0]==="/"){t=t.substring(1)}var n=this.frameInfos[t];if(n){n.transform=new s({translation:e.transform.translation,rotation:e.transform.rotation});n.cbs.forEach(function(e){e(n.transform)})}},this)};l.prototype.updateGoal=function(){var e={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility){if(this.currentGoal){this.currentGoal.cancel()}this.currentGoal=new r({actionClient:this.actionClient,goalMessage:e});this.currentGoal.on("feedback",this.processTFArray.bind(this));this.currentGoal.send()}else{e.timeout=this.topicTimeout;var t=new o(e);this.serviceClient.callService(t,this.processResponse.bind(this))}this.republisherUpdateRequested=false};l.prototype.processResponse=function(e){if(this.currentTopic){this.currentTopic.unsubscribe()}this.currentTopic=this.ros.Topic({name:e.topic_name,messageType:"tf2_web_republisher/TFArray"});this.currentTopic.subscribe(this.processTFArray.bind(this))};l.prototype.subscribe=function(e,t){if(e[0]==="/"){e=e.substring(1)}if(!this.frameInfos[e]){this.frameInfos[e]={cbs:[]};if(!this.republisherUpdateRequested){setTimeout(this.updateGoal.bind(this),this.updateDelay);this.republisherUpdateRequested=true}}else if(this.frameInfos[e].transform){t(this.frameInfos[e].transform)}this.frameInfos[e].cbs.push(t)};l.prototype.unsubscribe=function(e,t){if(e[0]==="/"){e=e.substring(1)}var n=this.frameInfos[e];for(var i=n&&n.cbs||[],r=i.length;r--;){if(i[r]===t){i.splice(r,1)}}if(!t||i.length===0){delete this.frameInfos[e]}};l.prototype.dispose=function(){this.actionClient.dispose();if(this.currentTopic){this.currentTopic.unsubscribe()}};t.exports=l},{"../actionlib/ActionClient":51,"../actionlib/Goal":53,"../core/Service.js":59,"../core/ServiceRequest.js":60,"../math/Transform":67}],72:[function(e,t,n){var i=e("../core/Ros");var r=e("../mixin");var a=t.exports={TFClient:e("./TFClient")};r(i,["TFClient"],a)},{"../core/Ros":58,"../mixin":70,"./TFClient":71}],73:[function(e,t,n){var i=e("../math/Vector3");var r=e("./UrdfTypes");function a(e){this.dimension=null;this.type=r.URDF_BOX;var t=e.xml.getAttribute("size").split(" ");this.dimension=new i({x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])})}t.exports=a},{"../math/Vector3":68,"./UrdfTypes":82}],74:[function(e,t,n){function i(e){var t=e.xml.getAttribute("rgba").split(" ");this.r=parseFloat(t[0]);this.g=parseFloat(t[1]);this.b=parseFloat(t[2]);this.a=parseFloat(t[3])}t.exports=i},{}],75:[function(e,t,n){var i=e("./UrdfTypes");function r(e){this.type=i.URDF_CYLINDER;this.length=parseFloat(e.xml.getAttribute("length"));this.radius=parseFloat(e.xml.getAttribute("radius"))}t.exports=r},{"./UrdfTypes":82}],76:[function(e,t,n){function i(e){this.name=e.xml.getAttribute("name");this.type=e.xml.getAttribute("type");var t=e.xml.getElementsByTagName("parent");if(t.length>0){this.parent=t[0].getAttribute("link")}var n=e.xml.getElementsByTagName("child");if(n.length>0){this.child=n[0].getAttribute("link")}var i=e.xml.getElementsByTagName("limit");if(i.length>0){this.minval=parseFloat(i[0].getAttribute("lower"));this.maxval=parseFloat(i[0].getAttribute("upper"))}}t.exports=i},{}],77:[function(e,t,n){var i=e("./UrdfVisual");function r(e){this.name=e.xml.getAttribute("name");this.visuals=[];var t=e.xml.getElementsByTagName("visual");for(var n=0;n<t.length;n++){this.visuals.push(new i({xml:t[n]}))}}t.exports=r},{"./UrdfVisual":83}],78:[function(e,t,n){var i=e("./UrdfColor");function r(e){this.textureFilename=null;this.color=null;this.name=e.xml.getAttribute("name");var t=e.xml.getElementsByTagName("texture");if(t.length>0){this.textureFilename=t[0].getAttribute("filename")}var n=e.xml.getElementsByTagName("color");if(n.length>0){this.color=new i({xml:n[0]})}}r.prototype.isLink=function(){return this.color===null&&this.textureFilename===null};var a=e("object-assign");r.prototype.assign=function(e){return a(this,e)};t.exports=r},{"./UrdfColor":74,"object-assign":45}],79:[function(e,t,n){var i=e("../math/Vector3");var r=e("./UrdfTypes");function a(e){this.scale=null;this.type=r.URDF_MESH;this.filename=e.xml.getAttribute("filename");var t=e.xml.getAttribute("scale");if(t){var n=t.split(" ");this.scale=new i({x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])})}}t.exports=a},{"../math/Vector3":68,"./UrdfTypes":82}],80:[function(e,t,n){var d=e("./UrdfMaterial");var p=e("./UrdfLink");var m=e("./UrdfJoint");var g=e("xmldom").DOMParser;var i=9;function r(e){e=e||{};var t=e.xml;var n=e.string;this.materials={};this.links={};this.joints={};if(n){var i=new g;t=i.parseFromString(n,"text/xml")}var r=t.documentElement;this.name=r.getAttribute("name");for(var a=r.childNodes,o=0;o<a.length;o++){var s=a[o];if(s.tagName==="material"){var l=new d({xml:s});if(this.materials[l.name]!==void 0){if(this.materials[l.name].isLink()){this.materials[l.name].assign(l)}else{console.warn("Material "+l.name+"is not unique.")}}else{this.materials[l.name]=l}}else if(s.tagName==="link"){var c=new p({xml:s});if(this.links[c.name]!==void 0){console.warn("Link "+c.name+" is not unique.")}else{for(var u=0;u<c.visuals.length;u++){var h=c.visuals[u].material;if(h!==null){if(this.materials[h.name]!==void 0){c.visuals[u].material=this.materials[h.name]}else{this.materials[h.name]=h}}}this.links[c.name]=c}}else if(s.tagName==="joint"){var f=new m({xml:s});this.joints[f.name]=f}}}t.exports=r},{"./UrdfJoint":76,"./UrdfLink":77,"./UrdfMaterial":78,xmldom:88}],81:[function(e,t,n){var i=e("./UrdfTypes");function r(e){this.type=i.URDF_SPHERE;this.radius=parseFloat(e.xml.getAttribute("radius"))}t.exports=r},{"./UrdfTypes":82}],82:[function(e,t,n){t.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}},{}],83:[function(e,t,n){var A=e("../math/Pose");var C=e("../math/Vector3");var S=e("../math/Quaternion");var T=e("./UrdfCylinder");var M=e("./UrdfBox");var k=e("./UrdfMaterial");var D=e("./UrdfMesh");var L=e("./UrdfSphere");function i(e){var t=e.xml;this.origin=null;this.geometry=null;this.material=null;var n=t.getElementsByTagName("origin");if(n.length===0){this.origin=new A}else{var i=n[0].getAttribute("xyz");var r=new C;if(i){i=i.split(" ");r=new C({x:parseFloat(i[0]),y:parseFloat(i[1]),z:parseFloat(i[2])})}var a=n[0].getAttribute("rpy");var o=new S;if(a){a=a.split(" ");var s=parseFloat(a[0]);var l=parseFloat(a[1]);var c=parseFloat(a[2]);var u=s/2;var h=l/2;var f=c/2;var d=Math.sin(u)*Math.cos(h)*Math.cos(f)-Math.cos(u)*Math.sin(h)*Math.sin(f);var p=Math.cos(u)*Math.sin(h)*Math.cos(f)+Math.sin(u)*Math.cos(h)*Math.sin(f);var m=Math.cos(u)*Math.cos(h)*Math.sin(f)-Math.sin(u)*Math.sin(h)*Math.cos(f);var g=Math.cos(u)*Math.cos(h)*Math.cos(f)+Math.sin(u)*Math.sin(h)*Math.sin(f);o=new S({x:d,y:p,z:m,w:g});o.normalize()}this.origin=new A({position:r,orientation:o})}var v=t.getElementsByTagName("geometry");if(v.length>0){var b=v[0];var y=null;for(var x=0;x<b.childNodes.length;x++){var w=b.childNodes[x];if(w.nodeType===1){y=w;break}}var _=y.nodeName;if(_==="sphere"){this.geometry=new L({xml:y})}else if(_==="box"){this.geometry=new M({xml:y})}else if(_==="cylinder"){this.geometry=new T({xml:y})}else if(_==="mesh"){this.geometry=new D({xml:y})}else{console.warn("Unknown geometry type "+_)}}var E=t.getElementsByTagName("material");if(E.length>0){this.material=new k({xml:E[0]})}}t.exports=i},{"../math/Pose":65,"../math/Quaternion":66,"../math/Vector3":68,"./UrdfBox":73,"./UrdfCylinder":75,"./UrdfMaterial":78,"./UrdfMesh":79,"./UrdfSphere":81}],84:[function(e,t,n){t.exports=e("object-assign")({UrdfBox:e("./UrdfBox"),UrdfColor:e("./UrdfColor"),UrdfCylinder:e("./UrdfCylinder"),UrdfLink:e("./UrdfLink"),UrdfMaterial:e("./UrdfMaterial"),UrdfMesh:e("./UrdfMesh"),UrdfModel:e("./UrdfModel"),UrdfSphere:e("./UrdfSphere"),UrdfVisual:e("./UrdfVisual")},e("./UrdfTypes"))},{"./UrdfBox":73,"./UrdfColor":74,"./UrdfCylinder":75,"./UrdfLink":77,"./UrdfMaterial":78,"./UrdfMesh":79,"./UrdfModel":80,"./UrdfSphere":81,"./UrdfTypes":82,"./UrdfVisual":83,"object-assign":45}],85:[function(e,t,n){(function(e){t.exports=e.WebSocket}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],86:[function(e,t,n){t.exports=function e(){return document.createElement("canvas")}},{}],87:[function(i,r,e){(function(e){"use strict";var s=i("canvas");var t=s.Image||e.Image;function n(e,a){var o=new t;o.onload=function(){var e=new s;var t=e.getContext("2d");e.width=o.width;e.height=o.height;t.imageSmoothingEnabled=false;t.webkitImageSmoothingEnabled=false;t.mozImageSmoothingEnabled=false;t.drawImage(o,0,0);var n=t.getImageData(0,0,o.width,o.height).data;var i="";for(var r=0;r<n.length;r+=4){i+=String.fromCharCode(n[r],n[r+1],n[r+2])}a(JSON.parse(i))};o.src="data:image/png;base64,"+e}r.exports=n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{canvas:86}],88:[function(e,t,n){(function(e){n.DOMImplementation=e.DOMImplementation;n.XMLSerializer=e.XMLSerializer;n.DOMParser=e.DOMParser}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],89:[function(e,t,n){var a=["webkit","Moz","ms","O"];var c={};var f;function d(e,t){var n=document.createElement(e||"div");var i;for(i in t){n[i]=t[i]}return n}function u(e){for(var t=1,n=arguments.length;t<n;t++){e.appendChild(arguments[t])}return e}var h=function(){var e=d("style");u(document.getElementsByTagName("head")[0],e);return e.sheet||e.styleSheet}();function o(e,t,n,i){var r=["opacity",t,~~(e*100),n,i].join("-");var a=.01+n/i*100;var o=Math.max(1-(1-e)/t*(100-a),e);var s=f.substring(0,f.indexOf("Animation")).toLowerCase();var l=s&&"-"+s+"-"||"";if(!c[r]){h.insertRule("@"+l+"keyframes "+r+"{"+"0%{opacity:"+o+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+o+"}"+"}",0);c[r]=1}return r}function i(e,t){var n=e.style;var i;var r;if(n[t]!==undefined)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(r=0;r<a.length;r++){i=a[r]+t;if(n[i]!==undefined)return i}}function p(e,t){for(var n in t){e.style[i(e,n)||n]=t[n]}return e}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(e[i]===undefined)e[i]=n[i]}}return e}function m(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent){t.x+=e.offsetLeft;t.y+=e.offsetTop}return t}var s={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"};var l=function e(t){if(!this.spin)return new e(t);this.opts=r(t||{},e.defaults,s)};l.defaults={};r(l.prototype,{spin:function(e){this.stop();var i=this;var r=i.opts;var a=i.el=p(d(0,{className:r.className}),{position:"relative",zIndex:r.zIndex});var t=r.radius+r.length+r.width;var n;var o;if(e){e.insertBefore(a,e.firstChild||null);o=m(e);n=m(a);p(a,{left:(r.left=="auto"?o.x-n.x+(e.offsetWidth>>1):r.left+t)+"px",top:(r.top=="auto"?o.y-n.y+(e.offsetHeight>>1):r.top+t)+"px"})}a.setAttribute("aria-role","progressbar");i.lines(a,i.opts);if(!f){var s=0;var l=r.fps;var c=l/r.speed;var u=(1-r.opacity)/(c*r.trail/100);var h=c/r.lines;!function e(){s++;for(var t=r.lines;t;t--){var n=Math.max(1-(s+t*h)%c*u,r.opacity);i.opacity(a,r.lines-t,n,r)}i.timeout=i.el&&setTimeout(e,~~(1e3/l))}()}return i},stop:function(){var e=this.el;if(e){clearTimeout(this.timeout);if(e.parentNode)e.parentNode.removeChild(e);this.el=undefined}return this},lines:function(e,n){var i=0;var t;function r(e,t){return p(d(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*i+n.rotate)+"deg) translate("+n.radius+"px"+",0)",borderRadius:(n.width>>1)+"px"})}for(;i<n.lines;i++){t=p(d(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:f&&o(n.opacity,n.trail,i,n.lines)+" "+1/n.speed+"s linear infinite"});if(n.shadow)u(t,p(r("#000","0 0 4px "+"#000"),{top:2+"px"}));u(e,u(t,r(n.color,"0 0 1px rgba(0,0,0,.1)")))}return e},opacity:function(e,t,n){if(t<e.childNodes.length)e.childNodes[t].style.opacity=n}});!function(){function c(e,t){return d("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var e=p(d("group"),{behavior:"url(#default#VML)"});if(!i(e,"transform")&&e.adj){h.addRule(".spin-vml","behavior:url(#default#VML)");l.prototype.lines=function(e,i){var r=i.length+i.width;var t=2*r;function a(){return p(c("group",{coordsize:t+" "+t,coordorigin:-r+" "+-r}),{width:t,height:t})}var n=-(i.width+i.length)*2+"px";var o=p(a(),{position:"absolute",top:n,left:n});var s;function l(e,t,n){u(o,u(p(a(),{rotation:360/i.lines*e+"deg",left:~~t}),u(p(c("roundrect",{arcsize:1}),{width:r,height:i.width,left:i.radius,top:-i.width>>1,filter:n}),c("fill",{color:i.color,opacity:i.opacity}),c("stroke",{opacity:0}))))}if(i.shadow){for(s=1;s<=i.lines;s++){l(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(s=1;s<=i.lines;s++)l(s);return u(e,o)};l.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0;if(r&&t+i<r.childNodes.length){r=r.childNodes[t+i];r=r&&r.firstChild;r=r&&r.firstChild;if(r)r.opacity=n}}}else{f=i(e,"animation")}}();t.exports=l},{}],90:[function(e,n,i){(function(e,t){typeof i==="object"&&typeof n!=="undefined"?t(i):typeof define==="function"&&define.amd?define(["exports"],t):t(e.THREE=e.THREE||{})})(this,function(e){"use strict";if(Number.EPSILON===undefined){Number.EPSILON=Math.pow(2,-52)}if(Number.isInteger===undefined){Number.isInteger=function(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e}}if(Math.sign===undefined){Math.sign=function(e){return e<0?-1:e>0?1:+e}}if("name"in Function.prototype===false){Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}})}if(Object.assign===undefined){(function(){Object.assign=function(e){"use strict";if(e===undefined||e===null){throw new TypeError("Cannot convert undefined or null to object")}var t=Object(e);for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i!==undefined&&i!==null){for(var r in i){if(Object.prototype.hasOwnProperty.call(i,r)){t[r]=i[r]}}}}return t}})()}function t(){}Object.assign(t.prototype,{addEventListener:function(e,t){if(this._listeners===undefined)this._listeners={};var n=this._listeners;if(n[e]===undefined){n[e]=[]}if(n[e].indexOf(t)===-1){n[e].push(t)}},hasEventListener:function(e,t){if(this._listeners===undefined)return false;var n=this._listeners;return n[e]!==undefined&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===undefined)return;var n=this._listeners;var i=n[e];if(i!==undefined){var r=i.indexOf(t);if(r!==-1){i.splice(r,1)}}},dispatchEvent:function(e){if(this._listeners===undefined)return;var t=this._listeners;var n=t[e.type];if(n!==undefined){e.target=this;var i=n.slice(0);for(var r=0,a=i.length;r<a;r++){i[r].call(this,e)}}}});var He="88";var n={LEFT:0,MIDDLE:1,RIGHT:2};var oe=0;var se=1;var le=2;var i=3;var je=0;var r=1;var a=0;var I=1;var L=2;var N=0;var ce=1;var ue=2;var o=1;var s=2;var $e=0;var d=1;var v=2;var he=0;var fe=1;var de=2;var pe=3;var me=4;var ge=5;var l=100;var c=101;var u=102;var h=103;var f=104;var p=200;var m=201;var g=202;var b=203;var y=204;var x=205;var w=206;var _=207;var E=208;var A=209;var C=210;var ve=0;var be=1;var ye=2;var xe=3;var we=4;var _e=5;var Ee=6;var Ae=7;var R=0;var F=1;var P=2;var O=0;var We=1;var S=2;var T=3;var M=4;var k=300;var B=301;var z=302;var U=303;var H=304;var j=305;var $=306;var W=307;var D=1e3;var V=1001;var G=1002;var q=1003;var X=1004;var Y=1005;var K=1006;var Z=1007;var Q=1008;var Ve=1009;var J=1010;var ee=1011;var te=1012;var ne=1013;var ie=1014;var Ge=1015;var qe=1016;var re=1017;var ae=1018;var Ce=1019;var Se=1020;var Te=1021;var Me=1022;var Xe=1023;var ke=1024;var De=1025;var Le=Xe;var Re=1026;var Fe=1027;var Pe=2001;var Ie=2002;var Ne=2003;var Oe=2004;var Be=2100;var ze=2101;var Ue=2102;var Ye=2103;var Ke=2151;var Ze=2200;var Qe=2201;var Je=2202;var et=2300;var tt=2301;var nt=2302;var it=2400;var rt=2401;var at=2402;var ot=0;var st=1;var lt=2;var ct=3e3;var ut=3001;var ht=3007;var ft=3002;var dt=3003;var pt=3004;var mt=3005;var gt=3006;var vt=3200;var bt=3201;var yt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var r=0,a;return function e(){var t="";for(var n=0;n<36;n++){if(n===8||n===13||n===18||n===23){t+="-"}else if(n===14){t+="4"}else{if(r<=2)r=33554432+Math.random()*16777216|0;a=r&15;r=r>>4;t+=i[n===19?a&3|8:a]}}return t}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){if(e<=t)return 0;if(e>=n)return 1;e=(e-t)/(n-t);return e*e*(3-2*e)},smootherstep:function(e,t,n){if(e<=t)return 0;if(e>=n)return 1;e=(e-t)/(n-t);return e*e*e*(e*(e*6-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*yt.DEG2RAD},radToDeg:function(e){return e*yt.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function xt(e,t){this.x=e||0;this.y=t||0}Object.defineProperties(xt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(xt.prototype,{isVector2:true,set:function(e,t){this.x=e;this.y=t;return this},setScalar:function(e){this.x=e;this.y=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){this.x=e.x;this.y=e.y;return this},add:function(e,t){if(t!==undefined){console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;return this},addScalar:function(e){this.x+=e;this.y+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;return this},sub:function(e,t){if(t!==undefined){console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;return this},subScalar:function(e){this.x-=e;this.y-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;return this},multiply:function(e){this.x*=e.x;this.y*=e.y;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;return this},divide:function(e){this.x/=e.x;this.y/=e.y;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y;var i=e.elements;this.x=i[0]*t+i[3]*n+i[6];this.y=i[1]*t+i[4]*n+i[7];return this},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));return this},clampScalar:function(){var i=new xt;var r=new xt;return function e(t,n){i.set(t,t);r.set(n,n);return this.clamp(i,r)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);if(e<0)e+=2*Math.PI;return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;return this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){if(t===undefined)t=0;this.x=e[t];this.y=e[t+1];return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this.x;e[t+1]=this.y;return e},fromBufferAttribute:function(e,t,n){if(n!==undefined){console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);return this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t);var r=this.x-e.x;var a=this.y-e.y;this.x=r*n-a*i+e.x;this.y=r*i+a*n+e.y;return this}});function wt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(arguments.length>0){console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}}Object.assign(wt.prototype,{isMatrix4:true,set:function(e,t,n,i,r,a,o,s,l,c,u,h,f,d,p,m){var g=this.elements;g[0]=e;g[4]=t;g[8]=n;g[12]=i;g[1]=r;g[5]=a;g[9]=o;g[13]=s;g[2]=l;g[6]=c;g[10]=u;g[14]=h;g[3]=f;g[7]=d;g[11]=p;g[15]=m;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new wt).fromArray(this.elements)},copy:function(e){var t=this.elements;var n=e.elements;t[0]=n[0];t[1]=n[1];t[2]=n[2];t[3]=n[3];t[4]=n[4];t[5]=n[5];t[6]=n[6];t[7]=n[7];t[8]=n[8];t[9]=n[9];t[10]=n[10];t[11]=n[11];t[12]=n[12];t[13]=n[13];t[14]=n[14];t[15]=n[15];return this},copyPosition:function(e){var t=this.elements,n=e.elements;t[12]=n[12];t[13]=n[13];t[14]=n[14];return this},extractBasis:function(e,t,n){e.setFromMatrixColumn(this,0);t.setFromMatrixColumn(this,1);n.setFromMatrixColumn(this,2);return this},makeBasis:function(e,t,n){this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1);return this},extractRotation:function(){var s=new Et;return function e(t){var n=this.elements;var i=t.elements;var r=1/s.setFromMatrixColumn(t,0).length();var a=1/s.setFromMatrixColumn(t,1).length();var o=1/s.setFromMatrixColumn(t,2).length();n[0]=i[0]*r;n[1]=i[1]*r;n[2]=i[2]*r;n[4]=i[4]*a;n[5]=i[5]*a;n[6]=i[6]*a;n[8]=i[8]*o;n[9]=i[9]*o;n[10]=i[10]*o;return this}}(),makeRotationFromEuler:function(e){if(!(e&&e.isEuler)){console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.")}var t=this.elements;var n=e.x,i=e.y,r=e.z;var a=Math.cos(n),o=Math.sin(n);var s=Math.cos(i),l=Math.sin(i);var c=Math.cos(r),u=Math.sin(r);if(e.order==="XYZ"){var h=a*c,f=a*u,d=o*c,p=o*u;t[0]=s*c;t[4]=-s*u;t[8]=l;t[1]=f+d*l;t[5]=h-p*l;t[9]=-o*s;t[2]=p-h*l;t[6]=d+f*l;t[10]=a*s}else if(e.order==="YXZ"){var m=s*c,g=s*u,v=l*c,b=l*u;t[0]=m+b*o;t[4]=v*o-g;t[8]=a*l;t[1]=a*u;t[5]=a*c;t[9]=-o;t[2]=g*o-v;t[6]=b+m*o;t[10]=a*s}else if(e.order==="ZXY"){var m=s*c,g=s*u,v=l*c,b=l*u;t[0]=m-b*o;t[4]=-a*u;t[8]=v+g*o;t[1]=g+v*o;t[5]=a*c;t[9]=b-m*o;t[2]=-a*l;t[6]=o;t[10]=a*s}else if(e.order==="ZYX"){var h=a*c,f=a*u,d=o*c,p=o*u;t[0]=s*c;t[4]=d*l-f;t[8]=h*l+p;t[1]=s*u;t[5]=p*l+h;t[9]=f*l-d;t[2]=-l;t[6]=o*s;t[10]=a*s}else if(e.order==="YZX"){var y=a*s,x=a*l,w=o*s,_=o*l;t[0]=s*c;t[4]=_-y*u;t[8]=w*u+x;t[1]=u;t[5]=a*c;t[9]=-o*c;t[2]=-l*c;t[6]=x*u+w;t[10]=y-_*u}else if(e.order==="XZY"){var y=a*s,x=a*l,w=o*s,_=o*l;t[0]=s*c;t[4]=-u;t[8]=l*c;t[1]=y*u+_;t[5]=a*c;t[9]=x*u-w;t[2]=w*u-x;t[6]=o*c;t[10]=_*u+y}t[3]=0;t[7]=0;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this},makeRotationFromQuaternion:function(e){var t=this.elements;var n=e._x,i=e._y,r=e._z,a=e._w;var o=n+n,s=i+i,l=r+r;var c=n*o,u=n*s,h=n*l;var f=i*s,d=i*l,p=r*l;var m=a*o,g=a*s,v=a*l;t[0]=1-(f+p);t[4]=u-v;t[8]=h+g;t[1]=u+v;t[5]=1-(c+p);t[9]=d-m;t[2]=h-g;t[6]=d+m;t[10]=1-(c+f);t[3]=0;t[7]=0;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this},lookAt:function(){var a=new Et;var o=new Et;var s=new Et;return function e(t,n,i){var r=this.elements;s.subVectors(t,n);if(s.lengthSq()===0){s.z=1}s.normalize();a.crossVectors(i,s);if(a.lengthSq()===0){if(Math.abs(i.z)===1){s.x+=1e-4}else{s.z+=1e-4}s.normalize();a.crossVectors(i,s)}a.normalize();o.crossVectors(s,a);r[0]=a.x;r[4]=o.x;r[8]=s.x;r[1]=a.y;r[5]=o.y;r[9]=s.y;r[2]=a.z;r[6]=o.z;r[10]=s.z;return this}}(),multiply:function(e,t){if(t!==undefined){console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.");return this.multiplyMatrices(e,t)}return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements;var i=t.elements;var r=this.elements;var a=n[0],o=n[4],s=n[8],l=n[12];var c=n[1],u=n[5],h=n[9],f=n[13];var d=n[2],p=n[6],m=n[10],g=n[14];var v=n[3],b=n[7],y=n[11],x=n[15];var w=i[0],_=i[4],E=i[8],A=i[12];var C=i[1],S=i[5],T=i[9],M=i[13];var k=i[2],D=i[6],L=i[10],R=i[14];var F=i[3],P=i[7],I=i[11],N=i[15];r[0]=a*w+o*C+s*k+l*F;r[4]=a*_+o*S+s*D+l*P;r[8]=a*E+o*T+s*L+l*I;r[12]=a*A+o*M+s*R+l*N;r[1]=c*w+u*C+h*k+f*F;r[5]=c*_+u*S+h*D+f*P;r[9]=c*E+u*T+h*L+f*I;r[13]=c*A+u*M+h*R+f*N;r[2]=d*w+p*C+m*k+g*F;r[6]=d*_+p*S+m*D+g*P;r[10]=d*E+p*T+m*L+g*I;r[14]=d*A+p*M+m*R+g*N;r[3]=v*w+b*C+y*k+x*F;r[7]=v*_+b*S+y*D+x*P;r[11]=v*E+b*T+y*L+x*I;r[15]=v*A+b*M+y*R+x*N;return this},multiplyScalar:function(e){var t=this.elements;t[0]*=e;t[4]*=e;t[8]*=e;t[12]*=e;t[1]*=e;t[5]*=e;t[9]*=e;t[13]*=e;t[2]*=e;t[6]*=e;t[10]*=e;t[14]*=e;t[3]*=e;t[7]*=e;t[11]*=e;t[15]*=e;return this},applyToBufferAttribute:function(){var r=new Et;return function e(t){for(var n=0,i=t.count;n<i;n++){r.x=t.getX(n);r.y=t.getY(n);r.z=t.getZ(n);r.applyMatrix4(this);t.setXYZ(n,r.x,r.y,r.z)}return t}}(),determinant:function(){var e=this.elements;var t=e[0],n=e[4],i=e[8],r=e[12];var a=e[1],o=e[5],s=e[9],l=e[13];var c=e[2],u=e[6],h=e[10],f=e[14];var d=e[3],p=e[7],m=e[11],g=e[15];return d*(+r*s*u-i*l*u-r*o*h+n*l*h+i*o*f-n*s*f)+p*(+t*s*f-t*l*h+r*a*h-i*a*f+i*l*c-r*s*c)+m*(+t*l*u-t*o*f-r*a*u+n*a*f+r*o*c-n*l*c)+g*(-i*o*c-t*s*u+t*o*h+i*a*u-n*a*h+n*s*c)},transpose:function(){var e=this.elements;var t;t=e[1];e[1]=e[4];e[4]=t;t=e[2];e[2]=e[8];e[8]=t;t=e[6];e[6]=e[9];e[9]=t;t=e[3];e[3]=e[12];e[12]=t;t=e[7];e[7]=e[13];e[13]=t;t=e[11];e[11]=e[14];e[14]=t;return this},setPosition:function(e){var t=this.elements;t[12]=e.x;t[13]=e.y;t[14]=e.z;return this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],h=i[7],f=i[8],d=i[9],p=i[10],m=i[11],g=i[12],v=i[13],b=i[14],y=i[15],x=d*b*h-v*p*h+v*u*m-c*b*m-d*u*y+c*p*y,w=g*p*h-f*b*h-g*u*m+l*b*m+f*u*y-l*p*y,_=f*v*h-g*d*h+g*c*m-l*v*m-f*c*y+l*d*y,E=g*d*u-f*v*u-g*c*p+l*v*p+f*c*b-l*d*b;var A=r*x+a*w+o*_+s*E;if(A===0){var C="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(t===true){throw new Error(C)}else{console.warn(C)}return this.identity()}var S=1/A;n[0]=x*S;n[1]=(v*p*s-d*b*s-v*o*m+a*b*m+d*o*y-a*p*y)*S;n[2]=(c*b*s-v*u*s+v*o*h-a*b*h-c*o*y+a*u*y)*S;n[3]=(d*u*s-c*p*s-d*o*h+a*p*h+c*o*m-a*u*m)*S;n[4]=w*S;n[5]=(f*b*s-g*p*s+g*o*m-r*b*m-f*o*y+r*p*y)*S;n[6]=(g*u*s-l*b*s-g*o*h+r*b*h+l*o*y-r*u*y)*S;n[7]=(l*p*s-f*u*s+f*o*h-r*p*h-l*o*m+r*u*m)*S;n[8]=_*S;n[9]=(g*d*s-f*v*s-g*a*m+r*v*m+f*a*y-r*d*y)*S;n[10]=(l*v*s-g*c*s+g*a*h-r*v*h-l*a*y+r*c*y)*S;n[11]=(f*c*s-l*d*s-f*a*h+r*d*h+l*a*m-r*c*m)*S;n[12]=E*S;n[13]=(f*v*o-g*d*o+g*a*p-r*v*p-f*a*b+r*d*b)*S;n[14]=(g*c*o-l*v*o-g*a*u+r*v*u+l*a*b-r*c*b)*S;n[15]=(l*d*o-f*c*o+f*a*u-r*d*u-l*a*p+r*c*p)*S;return this},scale:function(e){var t=this.elements;var n=e.x,i=e.y,r=e.z;t[0]*=n;t[4]*=i;t[8]*=r;t[1]*=n;t[5]*=i;t[9]*=r;t[2]*=n;t[6]*=i;t[10]*=r;t[3]*=n;t[7]*=i;t[11]*=r;return this},getMaxScaleOnAxis:function(){var e=this.elements;var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];var n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6];var i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1);return this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1);return this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1);return this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(e,t){var n=Math.cos(t);var i=Math.sin(t);var r=1-n;var a=e.x,o=e.y,s=e.z;var l=r*a,c=r*o;this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,c*o+n,c*s-i*a,0,l*s-i*o,c*s+i*a,r*s*s+n,0,0,0,0,1);return this},makeScale:function(e,t,n){this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1);return this},makeShear:function(e,t,n){this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1);return this},compose:function(e,t,n){this.makeRotationFromQuaternion(t);this.scale(n);this.setPosition(e);return this},decompose:function(){var f=new Et;var d=new wt;return function e(t,n,i){var r=this.elements;var a=f.set(r[0],r[1],r[2]).length();var o=f.set(r[4],r[5],r[6]).length();var s=f.set(r[8],r[9],r[10]).length();var l=this.determinant();if(l<0)a=-a;t.x=r[12];t.y=r[13];t.z=r[14];d.copy(this);var c=1/a;var u=1/o;var h=1/s;d.elements[0]*=c;d.elements[1]*=c;d.elements[2]*=c;d.elements[4]*=u;d.elements[5]*=u;d.elements[6]*=u;d.elements[8]*=h;d.elements[9]*=h;d.elements[10]*=h;n.setFromRotationMatrix(d);i.x=a;i.y=o;i.z=s;return this}}(),makePerspective:function(e,t,n,i,r,a){if(a===undefined){console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.")}var o=this.elements;var s=2*r/(t-e);var l=2*r/(n-i);var c=(t+e)/(t-e);var u=(n+i)/(n-i);var h=-(a+r)/(a-r);var f=-2*a*r/(a-r);o[0]=s;o[4]=0;o[8]=c;o[12]=0;o[1]=0;o[5]=l;o[9]=u;o[13]=0;o[2]=0;o[6]=0;o[10]=h;o[14]=f;o[3]=0;o[7]=0;o[11]=-1;o[15]=0;return this},makeOrthographic:function(e,t,n,i,r,a){var o=this.elements;var s=1/(t-e);var l=1/(n-i);var c=1/(a-r);var u=(t+e)*s;var h=(n+i)*l;var f=(a+r)*c;o[0]=2*s;o[4]=0;o[8]=0;o[12]=-u;o[1]=0;o[5]=2*l;o[9]=0;o[13]=-h;o[2]=0;o[6]=0;o[10]=-2*c;o[14]=-f;o[3]=0;o[7]=0;o[11]=0;o[15]=1;return this},equals:function(e){var t=this.elements;var n=e.elements;for(var i=0;i<16;i++){if(t[i]!==n[i])return false}return true},fromArray:function(e,t){if(t===undefined)t=0;for(var n=0;n<16;n++){this.elements[n]=e[n+t]}return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;var n=this.elements;e[t]=n[0];e[t+1]=n[1];e[t+2]=n[2];e[t+3]=n[3];e[t+4]=n[4];e[t+5]=n[5];e[t+6]=n[6];e[t+7]=n[7];e[t+8]=n[8];e[t+9]=n[9];e[t+10]=n[10];e[t+11]=n[11];e[t+12]=n[12];e[t+13]=n[13];e[t+14]=n[14];e[t+15]=n[15];return e}});function _t(e,t,n,i){this._x=e||0;this._y=t||0;this._z=n||0;this._w=i!==undefined?i:1}Object.assign(_t,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,a,o){var s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[a+0],f=r[a+1],d=r[a+2],p=r[a+3];if(u!==p||s!==h||l!==f||c!==d){var m=1-o,g=s*h+l*f+c*d+u*p,v=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){var y=Math.sqrt(b),x=Math.atan2(y,g*v);m=Math.sin(m*x)/y;o=Math.sin(o*x)/y}var w=o*v;s=s*m+h*w;l=l*m+f*w;c=c*m+d*w;u=u*m+p*w;if(m===1-o){var _=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=_;l*=_;c*=_;u*=_}}e[t]=s;e[t+1]=l;e[t+2]=c;e[t+3]=u}});Object.defineProperties(_t.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e;this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e;this.onChangeCallback()}}});Object.assign(_t.prototype,{set:function(e,t,n,i){this._x=e;this._y=t;this._z=n;this._w=i;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){this._x=e.x;this._y=e.y;this._z=e.z;this._w=e.w;this.onChangeCallback();return this},setFromEuler:function(e,t){if(!(e&&e.isEuler)){throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.")}var n=e._x,i=e._y,r=e._z,a=e.order;var o=Math.cos;var s=Math.sin;var l=o(n/2);var c=o(i/2);var u=o(r/2);var h=s(n/2);var f=s(i/2);var d=s(r/2);if(a==="XYZ"){this._x=h*c*u+l*f*d;this._y=l*f*u-h*c*d;this._z=l*c*d+h*f*u;this._w=l*c*u-h*f*d}else if(a==="YXZ"){this._x=h*c*u+l*f*d;this._y=l*f*u-h*c*d;this._z=l*c*d-h*f*u;this._w=l*c*u+h*f*d}else if(a==="ZXY"){this._x=h*c*u-l*f*d;this._y=l*f*u+h*c*d;this._z=l*c*d+h*f*u;this._w=l*c*u-h*f*d}else if(a==="ZYX"){this._x=h*c*u-l*f*d;this._y=l*f*u+h*c*d;this._z=l*c*d-h*f*u;this._w=l*c*u+h*f*d}else if(a==="YZX"){this._x=h*c*u+l*f*d;this._y=l*f*u+h*c*d;this._z=l*c*d-h*f*u;this._w=l*c*u-h*f*d}else if(a==="XZY"){this._x=h*c*u-l*f*d;this._y=l*f*u-h*c*d;this._z=l*c*d+h*f*u;this._w=l*c*u+h*f*d}if(t!==false)this.onChangeCallback();return this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);this._x=e.x*i;this._y=e.y*i;this._z=e.z*i;this._w=Math.cos(n);this.onChangeCallback();return this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],h=n+o+u,f;if(h>0){f=.5/Math.sqrt(h+1);this._w=.25/f;this._x=(c-s)*f;this._y=(r-l)*f;this._z=(a-i)*f}else if(n>o&&n>u){f=2*Math.sqrt(1+n-o-u);this._w=(c-s)/f;this._x=.25*f;this._y=(i+a)/f;this._z=(r+l)/f}else if(o>u){f=2*Math.sqrt(1+o-n-u);this._w=(r-l)/f;this._x=(i+a)/f;this._y=.25*f;this._z=(s+c)/f}else{f=2*Math.sqrt(1+u-n-o);this._w=(a-i)/f;this._x=(r+l)/f;this._y=(s+c)/f;this._z=.25*f}this.onChangeCallback();return this},setFromUnitVectors:function(){var i=new Et;var r;var a=1e-6;return function e(t,n){if(i===undefined)i=new Et;r=t.dot(n)+1;if(r<a){r=0;if(Math.abs(t.x)>Math.abs(t.z)){i.set(-t.y,t.x,0)}else{i.set(0,-t.z,t.y)}}else{i.crossVectors(t,n)}this._x=i.x;this._y=i.y;this._z=i.z;this._w=r;return this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();if(e===0){this._x=0;this._y=0;this._z=0;this._w=1}else{e=1/e;this._x=this._x*e;this._y=this._y*e;this._z=this._z*e;this._w=this._w*e}this.onChangeCallback();return this},multiply:function(e,t){if(t!==undefined){console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.");return this.multiplyQuaternions(e,t)}return this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._w;var o=t._x,s=t._y,l=t._z,c=t._w;this._x=n*c+a*o+i*l-r*s;this._y=i*c+a*s+r*o-n*l;this._z=r*c+a*l+n*s-i*o;this._w=a*c-n*o-i*s-r*l;this.onChangeCallback();return this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);var n=this._x,i=this._y,r=this._z,a=this._w;var o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0){this._w=-e._w;this._x=-e._x;this._y=-e._y;this._z=-e._z;o=-o}else{this.copy(e)}if(o>=1){this._w=a;this._x=n;this._y=i;this._z=r;return this}var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001){this._w=.5*(a+this._w);this._x=.5*(n+this._x);this._y=.5*(i+this._y);this._z=.5*(r+this._z);return this}var l=Math.atan2(s,o);var c=Math.sin((1-t)*l)/s,u=Math.sin(t*l)/s;this._w=a*c+this._w*u;this._x=n*c+this._x*u;this._y=i*c+this._y*u;this._z=r*c+this._z*u;this.onChangeCallback();return this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){if(t===undefined)t=0;this._x=e[t];this._y=e[t+1];this._z=e[t+2];this._w=e[t+3];this.onChangeCallback();return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this._x;e[t+1]=this._y;e[t+2]=this._z;e[t+3]=this._w;return e},onChange:function(e){this.onChangeCallback=e;return this},onChangeCallback:function(){}});function Et(e,t,n){this.x=e||0;this.y=t||0;this.z=n||0}Object.assign(Et.prototype,{isVector3:true,set:function(e,t,n){this.x=e;this.y=t;this.z=n;return this},setScalar:function(e){this.x=e;this.y=e;this.z=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setZ:function(e){this.z=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;return this},add:function(e,t){if(t!==undefined){console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;this.z+=e.z;return this},addScalar:function(e){this.x+=e;this.y+=e;this.z+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;this.z=e.z+t.z;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;this.z+=e.z*t;return this},sub:function(e,t){if(t!==undefined){console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;this.z-=e.z;return this},subScalar:function(e){this.x-=e;this.y-=e;this.z-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;this.z=e.z-t.z;return this},multiply:function(e,t){if(t!==undefined){console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.");return this.multiplyVectors(e,t)}this.x*=e.x;this.y*=e.y;this.z*=e.z;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;this.z*=e;return this},multiplyVectors:function(e,t){this.x=e.x*t.x;this.y=e.y*t.y;this.z=e.z*t.z;return this},applyEuler:function(){var n=new _t;return function e(t){if(!(t&&t.isEuler)){console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.")}return this.applyQuaternion(n.setFromEuler(t))}}(),applyAxisAngle:function(){var i=new _t;return function e(t,n){return this.applyQuaternion(i.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z;var r=e.elements;this.x=r[0]*t+r[3]*n+r[6]*i;this.y=r[1]*t+r[4]*n+r[7]*i;this.z=r[2]*t+r[5]*n+r[8]*i;return this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z;var r=e.elements;var a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a;this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a;this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a;return this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z;var r=e.x,a=e.y,o=e.z,s=e.w;var l=s*t+a*i-o*n;var c=s*n+o*t-r*i;var u=s*i+r*n-a*t;var h=-r*t-a*n-o*i;this.x=l*s+h*-r+c*-o-u*-a;this.y=c*s+h*-a+u*-r-l*-o;this.z=u*s+h*-o+l*-a-c*-r;return this},project:function(){var n=new wt;return function e(t){n.multiplyMatrices(t.projectionMatrix,n.getInverse(t.matrixWorld));return this.applyMatrix4(n)}}(),unproject:function(){var n=new wt;return function e(t){n.multiplyMatrices(t.matrixWorld,n.getInverse(t.projectionMatrix));return this.applyMatrix4(n)}}(),transformDirection:function(e){var t=this.x,n=this.y,i=this.z;var r=e.elements;this.x=r[0]*t+r[4]*n+r[8]*i;this.y=r[1]*t+r[5]*n+r[9]*i;this.z=r[2]*t+r[6]*n+r[10]*i;return this.normalize()},divide:function(e){this.x/=e.x;this.y/=e.y;this.z/=e.z;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);this.z=Math.min(this.z,e.z);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);this.z=Math.max(this.z,e.z);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));this.z=Math.max(e.z,Math.min(t.z,this.z));return this},clampScalar:function(){var i=new Et;var r=new Et;return function e(t,n){i.set(t,t,t);r.set(n,n,n);return this.clamp(i,r)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;this.z+=(e.z-this.z)*t;return this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){if(t!==undefined){console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.");return this.crossVectors(e,t)}return this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z;var a=t.x,o=t.y,s=t.z;this.x=i*s-r*o;this.y=r*a-n*s;this.z=n*o-i*a;return this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var n=new Et;return function e(t){n.copy(this).projectOnVector(t);return this.sub(n)}}(),reflect:function(){var n=new Et;return function e(t){return this.sub(n.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(yt.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;this.x=t*Math.sin(e.theta);this.y=Math.cos(e.phi)*e.radius;this.z=t*Math.cos(e.theta);return this},setFromCylindrical:function(e){this.x=e.radius*Math.sin(e.theta);this.y=e.y;this.z=e.radius*Math.cos(e.theta);return this},setFromMatrixPosition:function(e){var t=e.elements;this.x=t[12];this.y=t[13];this.z=t[14];return this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length();var n=this.setFromMatrixColumn(e,1).length();var i=this.setFromMatrixColumn(e,2).length();this.x=t;this.y=n;this.z=i;return this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){if(t===undefined)t=0;this.x=e[t];this.y=e[t+1];this.z=e[t+2];return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this.x;e[t+1]=this.y;e[t+2]=this.z;return e},fromBufferAttribute:function(e,t,n){if(n!==undefined){console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);this.z=e.getZ(t);return this}});function At(){this.elements=[1,0,0,0,1,0,0,0,1];if(arguments.length>0){console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}}Object.assign(At.prototype,{isMatrix3:true,set:function(e,t,n,i,r,a,o,s,l){var c=this.elements;c[0]=e;c[1]=i;c[2]=o;c[3]=t;c[4]=r;c[5]=s;c[6]=n;c[7]=a;c[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements;var n=e.elements;t[0]=n[0];t[1]=n[1];t[2]=n[2];t[3]=n[3];t[4]=n[4];t[5]=n[5];t[6]=n[6];t[7]=n[7];t[8]=n[8];return this},setFromMatrix4:function(e){var t=e.elements;this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]);return this},applyToBufferAttribute:function(){var r=new Et;return function e(t){for(var n=0,i=t.count;n<i;n++){r.x=t.getX(n);r.y=t.getY(n);r.z=t.getZ(n);r.applyMatrix3(this);t.setXYZ(n,r.x,r.y,r.z)}return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements;var i=t.elements;var r=this.elements;var a=n[0],o=n[3],s=n[6];var l=n[1],c=n[4],u=n[7];var h=n[2],f=n[5],d=n[8];var p=i[0],m=i[3],g=i[6];var v=i[1],b=i[4],y=i[7];var x=i[2],w=i[5],_=i[8];r[0]=a*p+o*v+s*x;r[3]=a*m+o*b+s*w;r[6]=a*g+o*y+s*_;r[1]=l*p+c*v+u*x;r[4]=l*m+c*b+u*w;r[7]=l*g+c*y+u*_;r[2]=h*p+f*v+d*x;r[5]=h*m+f*b+d*w;r[8]=h*g+f*y+d*_;return this},multiplyScalar:function(e){var t=this.elements;t[0]*=e;t[3]*=e;t[6]*=e;t[1]*=e;t[4]*=e;t[7]*=e;t[2]*=e;t[5]*=e;t[8]*=e;return this},determinant:function(){var e=this.elements;var t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*r*c+n*o*s+i*r*l-i*a*s},getInverse:function(e,t){if(e&&e.isMatrix4){console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.")}var n=e.elements,i=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],h=n[7],f=n[8],d=f*l-c*h,p=c*u-f*s,m=h*s-l*u,g=r*d+a*p+o*m;if(g===0){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(t===true){throw new Error(v)}else{console.warn(v)}return this.identity()}var b=1/g;i[0]=d*b;i[1]=(o*h-f*a)*b;i[2]=(c*a-o*l)*b;i[3]=p*b;i[4]=(f*r-o*u)*b;i[5]=(o*s-c*r)*b;i[6]=m*b;i[7]=(a*u-h*r)*b;i[8]=(l*r-a*s)*b;return this},transpose:function(){var e,t=this.elements;e=t[1];t[1]=t[3];t[3]=e;e=t[2];t[2]=t[6];t[6]=e;e=t[5];t[5]=t[7];t[7]=e;return this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;e[0]=t[0];e[1]=t[3];e[2]=t[6];e[3]=t[1];e[4]=t[4];e[5]=t[7];e[6]=t[2];e[7]=t[5];e[8]=t[8];return this},setUvTransform:function(e,t,n,i,r,a,o){var s=Math.cos(r);var l=Math.sin(r);this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;n[0]*=e;n[3]*=e;n[6]*=e;n[1]*=t;n[4]*=t;n[7]*=t;return this},rotate:function(e){var t=Math.cos(e);var n=Math.sin(e);var i=this.elements;var r=i[0],a=i[3],o=i[6];var s=i[1],l=i[4],c=i[7];i[0]=t*r+n*s;i[3]=t*a+n*l;i[6]=t*o+n*c;i[1]=-n*r+t*s;i[4]=-n*a+t*l;i[7]=-n*o+t*c;return this},translate:function(e,t){var n=this.elements;n[0]+=e*n[2];n[3]+=e*n[5];n[6]+=e*n[8];n[1]+=t*n[2];n[4]+=t*n[5];n[7]+=t*n[8];return this},equals:function(e){var t=this.elements;var n=e.elements;for(var i=0;i<9;i++){if(t[i]!==n[i])return false}return true},fromArray:function(e,t){if(t===undefined)t=0;for(var n=0;n<9;n++){this.elements[n]=e[n+t]}return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;var n=this.elements;e[t]=n[0];e[t+1]=n[1];e[t+2]=n[2];e[t+3]=n[3];e[t+4]=n[4];e[t+5]=n[5];e[t+6]=n[6];e[t+7]=n[7];e[t+8]=n[8];return e}});var Ct=0;function St(e,t,n,i,r,a,o,s,l,c){Object.defineProperty(this,"id",{value:Ct++});this.uuid=yt.generateUUID();this.name="";this.image=e!==undefined?e:St.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=t!==undefined?t:St.DEFAULT_MAPPING;this.wrapS=n!==undefined?n:V;this.wrapT=i!==undefined?i:V;this.magFilter=r!==undefined?r:K;this.minFilter=a!==undefined?a:Q;this.anisotropy=l!==undefined?l:1;this.format=o!==undefined?o:Xe;this.type=s!==undefined?s:Ve;this.offset=new xt(0,0);this.repeat=new xt(1,1);this.center=new xt(0,0);this.rotation=0;this.matrixAutoUpdate=true;this.matrix=new At;this.generateMipmaps=true;this.premultiplyAlpha=false;this.flipY=true;this.unpackAlignment=4;this.encoding=c!==undefined?c:ct;this.version=0;this.onUpdate=null}St.DEFAULT_IMAGE=undefined;St.DEFAULT_MAPPING=k;Object.defineProperty(St.prototype,"needsUpdate",{set:function(e){if(e===true)this.version++}});Object.assign(St.prototype,t.prototype,{constructor:St,isTexture:true,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name;this.image=e.image;this.mipmaps=e.mipmaps.slice(0);this.mapping=e.mapping;this.wrapS=e.wrapS;this.wrapT=e.wrapT;this.magFilter=e.magFilter;this.minFilter=e.minFilter;this.anisotropy=e.anisotropy;this.format=e.format;this.type=e.type;this.offset.copy(e.offset);this.repeat.copy(e.repeat);this.center.copy(e.center);this.rotation=e.rotation;this.matrixAutoUpdate=e.matrixAutoUpdate;this.matrix.copy(e.matrix);this.generateMipmaps=e.generateMipmaps;this.premultiplyAlpha=e.premultiplyAlpha;this.flipY=e.flipY;this.unpackAlignment=e.unpackAlignment;this.encoding=e.encoding;return this},toJSON:function(e){var t=e===undefined||typeof e==="string";if(!t&&e.textures[this.uuid]!==undefined){return e.textures[this.uuid]}function n(e){var t;if(e instanceof HTMLCanvasElement){t=e}else{t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=e.width;t.height=e.height;var n=t.getContext("2d");if(e instanceof ImageData){n.putImageData(e,0,0)}else{n.drawImage(e,0,0,e.width,e.height)}}if(t.width>2048||t.height>2048){return t.toDataURL("image/jpeg",.6)}else{return t.toDataURL("image/png")}}var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(this.image!==undefined){var r=this.image;if(r.uuid===undefined){r.uuid=yt.generateUUID()}if(!t&&e.images[r.uuid]===undefined){e.images[r.uuid]={uuid:r.uuid,url:n(r)}}i.image=r.uuid}if(!t){e.textures[this.uuid]=i}return i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==k)return;e.applyMatrix3(this.matrix);if(e.x<0||e.x>1){switch(this.wrapS){case D:e.x=e.x-Math.floor(e.x);break;case V:e.x=e.x<0?0:1;break;case G:if(Math.abs(Math.floor(e.x)%2)===1){e.x=Math.ceil(e.x)-e.x}else{e.x=e.x-Math.floor(e.x)}break}}if(e.y<0||e.y>1){switch(this.wrapT){case D:e.y=e.y-Math.floor(e.y);break;case V:e.y=e.y<0?0:1;break;case G:if(Math.abs(Math.floor(e.y)%2)===1){e.y=Math.ceil(e.y)-e.y}else{e.y=e.y-Math.floor(e.y)}break}}if(this.flipY){e.y=1-e.y}}});function Tt(e,t,n,i){this.x=e||0;this.y=t||0;this.z=n||0;this.w=i!==undefined?i:1}Object.assign(Tt.prototype,{isVector4:true,set:function(e,t,n,i){this.x=e;this.y=t;this.z=n;this.w=i;return this},setScalar:function(e){this.x=e;this.y=e;this.z=e;this.w=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setZ:function(e){this.z=e;return this},setW:function(e){this.w=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;this.w=e.w!==undefined?e.w:1;return this},add:function(e,t){if(t!==undefined){console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;this.z+=e.z;this.w+=e.w;return this},addScalar:function(e){this.x+=e;this.y+=e;this.z+=e;this.w+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;this.z=e.z+t.z;this.w=e.w+t.w;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;this.z+=e.z*t;this.w+=e.w*t;return this},sub:function(e,t){if(t!==undefined){console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;this.z-=e.z;this.w-=e.w;return this},subScalar:function(e){this.x-=e;this.y-=e;this.z-=e;this.w-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;this.z=e.z-t.z;this.w=e.w-t.w;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;this.z*=e;this.w*=e;return this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w;var a=e.elements;this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r;this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r;this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r;this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);if(t<1e-4){this.x=1;this.y=0;this.z=0}else{this.x=e.x/t;this.y=e.y/t;this.z=e.z/t}return this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<a&&Math.abs(u-p)<a&&Math.abs(d-m)<a){if(Math.abs(c+h)<o&&Math.abs(u+p)<o&&Math.abs(d+m)<o&&Math.abs(l+f+g-3)<o){this.set(1,0,0,0);return this}t=Math.PI;var v=(l+1)/2;var b=(f+1)/2;var y=(g+1)/2;var x=(c+h)/4;var w=(u+p)/4;var _=(d+m)/4;if(v>b&&v>y){if(v<a){n=0;i=.707106781;r=.707106781}else{n=Math.sqrt(v);i=x/n;r=w/n}}else if(b>y){if(b<a){n=.707106781;i=0;r=.707106781}else{i=Math.sqrt(b);n=x/i;r=_/i}}else{if(y<a){n=.707106781;i=.707106781;r=0}else{r=Math.sqrt(y);n=w/r;i=_/r}}this.set(n,i,r,t);return this}var E=Math.sqrt((m-d)*(m-d)+(u-p)*(u-p)+(h-c)*(h-c));if(Math.abs(E)<.001)E=1;this.x=(m-d)/E;this.y=(u-p)/E;this.z=(h-c)/E;this.w=Math.acos((l+f+g-1)/2);return this},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);this.z=Math.min(this.z,e.z);this.w=Math.min(this.w,e.w);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);this.z=Math.max(this.z,e.z);this.w=Math.max(this.w,e.w);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));this.z=Math.max(e.z,Math.min(t.z,this.z));this.w=Math.max(e.w,Math.min(t.w,this.w));return this},clampScalar:function(){var i,r;return function e(t,n){if(i===undefined){i=new Tt;r=new Tt}i.set(t,t,t,t);r.set(n,n,n,n);return this.clamp(i,r)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;this.z+=(e.z-this.z)*t;this.w+=(e.w-this.w)*t;return this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){if(t===undefined)t=0;this.x=e[t];this.y=e[t+1];this.z=e[t+2];this.w=e[t+3];return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this.x;e[t+1]=this.y;e[t+2]=this.z;e[t+3]=this.w;return e},fromBufferAttribute:function(e,t,n){if(n!==undefined){console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);this.z=e.getZ(t);this.w=e.getW(t);return this}});function Mt(e,t,n){this.uuid=yt.generateUUID();this.width=e;this.height=t;this.scissor=new Tt(0,0,e,t);this.scissorTest=false;this.viewport=new Tt(0,0,e,t);n=n||{};if(n.minFilter===undefined)n.minFilter=K;this.texture=new St(undefined,undefined,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding);this.depthBuffer=n.depthBuffer!==undefined?n.depthBuffer:true;this.stencilBuffer=n.stencilBuffer!==undefined?n.stencilBuffer:true;this.depthTexture=n.depthTexture!==undefined?n.depthTexture:null}Object.assign(Mt.prototype,t.prototype,{isWebGLRenderTarget:true,setSize:function(e,t){if(this.width!==e||this.height!==t){this.width=e;this.height=t;this.dispose()}this.viewport.set(0,0,e,t);this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.width=e.width;this.height=e.height;this.viewport.copy(e.viewport);this.texture=e.texture.clone();this.depthBuffer=e.depthBuffer;this.stencilBuffer=e.stencilBuffer;this.depthTexture=e.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function kt(e,t,n){Mt.call(this,e,t,n);this.activeCubeFace=0;this.activeMipMapLevel=0}kt.prototype=Object.create(Mt.prototype);kt.prototype.constructor=kt;kt.prototype.isWebGLRenderTargetCube=true;function Dt(e,t,n,i,r,a,o,s,l,c,u,h){St.call(this,null,a,o,s,l,c,i,r,u,h);this.image={data:e,width:t,height:n};this.magFilter=l!==undefined?l:q;this.minFilter=c!==undefined?c:q;this.generateMipmaps=false;this.flipY=false;this.unpackAlignment=1}Dt.prototype=Object.create(St.prototype);Dt.prototype.constructor=Dt;Dt.prototype.isDataTexture=true;function Lt(e,t,n,i,r,a,o,s,l,c){e=e!==undefined?e:[];t=t!==undefined?t:B;St.call(this,e,t,n,i,r,a,o,s,l,c);this.flipY=false}Lt.prototype=Object.create(St.prototype);Lt.prototype.constructor=Lt;Lt.prototype.isCubeTexture=true;Object.defineProperty(Lt.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Rt=new St;var Ft=new Lt;function Pt(){this.seq=[];this.map={}}var It=[];var Nt=[];var Ot=new Float32Array(16);var Bt=new Float32Array(9);function zt(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,a=It[r];if(a===undefined){a=new Float32Array(r);It[r]=a}if(t!==0){i.toArray(a,0);for(var o=1,s=0;o!==t;++o){s+=n;e[o].toArray(a,s)}}return a}function Ut(e,t){var n=Nt[t];if(n===undefined){n=new Int32Array(t);Nt[t]=n}for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function Ht(e,t){e.uniform1f(this.addr,t)}function jt(e,t){e.uniform1i(this.addr,t)}function $t(e,t){if(t.x===undefined){e.uniform2fv(this.addr,t)}else{e.uniform2f(this.addr,t.x,t.y)}}function Wt(e,t){if(t.x!==undefined){e.uniform3f(this.addr,t.x,t.y,t.z)}else if(t.r!==undefined){e.uniform3f(this.addr,t.r,t.g,t.b)}else{e.uniform3fv(this.addr,t)}}function Vt(e,t){if(t.x===undefined){e.uniform4fv(this.addr,t)}else{e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}}function Gt(e,t){e.uniformMatrix2fv(this.addr,false,t.elements||t)}function qt(e,t){if(t.elements===undefined){e.uniformMatrix3fv(this.addr,false,t)}else{Bt.set(t.elements);e.uniformMatrix3fv(this.addr,false,Bt)}}function Xt(e,t){if(t.elements===undefined){e.uniformMatrix4fv(this.addr,false,t)}else{Ot.set(t.elements);e.uniformMatrix4fv(this.addr,false,Ot)}}function Yt(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i);n.setTexture2D(t||Rt,i)}function Kt(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i);n.setTextureCube(t||Ft,i)}function Zt(e,t){e.uniform2iv(this.addr,t)}function Qt(e,t){e.uniform3iv(this.addr,t)}function Jt(e,t){e.uniform4iv(this.addr,t)}function en(e){switch(e){case 5126:return Ht;case 35664:return $t;case 35665:return Wt;case 35666:return Vt;case 35674:return Gt;case 35675:return qt;case 35676:return Xt;case 35678:case 36198:return Yt;case 35680:return Kt;case 5124:case 35670:return jt;case 35667:case 35671:return Zt;case 35668:case 35672:return Qt;case 35669:case 35673:return Jt}}function tn(e,t){e.uniform1fv(this.addr,t)}function nn(e,t){e.uniform1iv(this.addr,t)}function rn(e,t){e.uniform2fv(this.addr,zt(t,this.size,2))}function an(e,t){e.uniform3fv(this.addr,zt(t,this.size,3))}function on(e,t){e.uniform4fv(this.addr,zt(t,this.size,4))}function sn(e,t){e.uniformMatrix2fv(this.addr,false,zt(t,this.size,4))}function ln(e,t){e.uniformMatrix3fv(this.addr,false,zt(t,this.size,9))}function cn(e,t){e.uniformMatrix4fv(this.addr,false,zt(t,this.size,16))}function un(e,t,n){var i=t.length,r=Ut(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a){n.setTexture2D(t[a]||Rt,r[a])}}function hn(e,t,n){var i=t.length,r=Ut(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a){n.setTextureCube(t[a]||Ft,r[a])}}function fn(e){switch(e){case 5126:return tn;case 35664:return rn;case 35665:return an;case 35666:return on;case 35674:return sn;case 35675:return ln;case 35676:return cn;case 35678:return un;case 35680:return hn;case 5124:case 35670:return nn;case 35667:case 35671:return Zt;case 35668:case 35672:return Qt;case 35669:case 35673:return Jt}}function dn(e,t,n){this.id=e;this.addr=n;this.setValue=en(t.type)}function pn(e,t,n){this.id=e;this.addr=n;this.size=t.size;this.setValue=fn(t.type)}function mn(e){this.id=e;Pt.call(this)}mn.prototype.setValue=function(e,t){var n=this.seq;for(var i=0,r=n.length;i!==r;++i){var a=n[i];a.setValue(e,t[a.id])}};var gn=/([\w\d_]+)(\])?(\[|\.)?/g;function vn(e,t){e.seq.push(t);e.map[t.id]=t}function bn(e,t,n){var i=e.name,r=i.length;gn.lastIndex=0;for(;;){var a=gn.exec(i),o=gn.lastIndex,s=a[1],l=a[2]==="]",c=a[3];if(l)s=s|0;if(c===undefined||c==="["&&o+2===r){vn(n,c===undefined?new dn(s,e,t):new pn(s,e,t));break}else{var u=n.map,h=u[s];if(h===undefined){h=new mn(s);vn(n,h)}n=h}}}function yn(e,t,n){Pt.call(this);this.renderer=n;var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(var r=0;r<i;++r){var a=e.getActiveUniform(t,r),o=a.name,s=e.getUniformLocation(t,o);bn(a,s,this)}}yn.prototype.setValue=function(e,t,n){var i=this.map[t];if(i!==undefined)i.setValue(e,n,this.renderer)};yn.prototype.setOptional=function(e,t,n){var i=t[n];if(i!==undefined)this.setValue(e,n,i)};yn.upload=function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];if(s.needsUpdate!==false){o.setValue(e,s.value,i)}}};yn.seqWithValue=function(e,t){var n=[];for(var i=0,r=e.length;i!==r;++i){var a=e[i];if(a.id in t)n.push(a)}return n};var xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wn(e,t,n){if(t===undefined&&n===undefined){return this.set(e)}return this.setRGB(e,t,n)}Object.assign(wn.prototype,{isColor:true,r:1,g:1,b:1,set:function(e){if(e&&e.isColor){this.copy(e)}else if(typeof e==="number"){this.setHex(e)}else if(typeof e==="string"){this.setStyle(e)}return this},setScalar:function(e){this.r=e;this.g=e;this.b=e;return this},setHex:function(e){e=Math.floor(e);this.r=(e>>16&255)/255;this.g=(e>>8&255)/255;this.b=(e&255)/255;return this},setRGB:function(e,t,n){this.r=e;this.g=t;this.b=n;return this},setHSL:function(){function o(e,t,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*6*(2/3-n);return e}return function e(t,n,i){t=yt.euclideanModulo(t,1);n=yt.clamp(n,0,1);i=yt.clamp(i,0,1);if(n===0){this.r=this.g=this.b=i}else{var r=i<=.5?i*(1+n):i+n-i*n;var a=2*i-r;this.r=o(a,r,t+1/3);this.g=o(a,r,t);this.b=o(a,r,t-1/3)}return this}}(),setStyle:function(t){function e(e){if(e===undefined)return;if(parseFloat(e)<1){console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i;var r=n[1];var a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){this.r=Math.min(255,parseInt(i[1],10))/255;this.g=Math.min(255,parseInt(i[2],10))/255;this.b=Math.min(255,parseInt(i[3],10))/255;e(i[5]);return this}if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){this.r=Math.min(100,parseInt(i[1],10))/100;this.g=Math.min(100,parseInt(i[2],10))/100;this.b=Math.min(100,parseInt(i[3],10))/100;e(i[5]);return this}break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(i[1])/360;var s=parseInt(i[2],10)/100;var l=parseInt(i[3],10)/100;e(i[5]);return this.setHSL(o,s,l)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=n[1];var u=c.length;if(u===3){this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255;this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255;this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255;return this}else if(u===6){this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255;this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255;this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255;return this}}if(t&&t.length>0){var c=xn[t];if(c!==undefined){this.setHex(c)}else{console.warn("THREE.Color: Unknown color "+t)}}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){this.r=e.r;this.g=e.g;this.b=e.b;return this},copyGammaToLinear:function(e,t){if(t===undefined)t=2;this.r=Math.pow(e.r,t);this.g=Math.pow(e.g,t);this.b=Math.pow(e.b,t);return this},copyLinearToGamma:function(e,t){if(t===undefined)t=2;var n=t>0?1/t:1;this.r=Math.pow(e.r,n);this.g=Math.pow(e.g,n);this.b=Math.pow(e.b,n);return this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;this.r=e*e;this.g=t*t;this.b=n*n;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t=e||{h:0,s:0,l:0};var n=this.r,i=this.g,r=this.b;var a=Math.max(n,i,r);var o=Math.min(n,i,r);var s,l;var c=(o+a)/2;if(o===a){s=0;l=0}else{var u=a-o;l=c<=.5?u/(a+o):u/(2-a-o);switch(a){case n:s=(i-r)/u+(i<r?6:0);break;case i:s=(r-n)/u+2;break;case r:s=(n-i)/u+4;break}s/=6}t.h=s;t.s=l;t.l=c;return t},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();i.h+=e;i.s+=t;i.l+=n;this.setHSL(i.h,i.s,i.l);return this},add:function(e){this.r+=e.r;this.g+=e.g;this.b+=e.b;return this},addColors:function(e,t){this.r=e.r+t.r;this.g=e.g+t.g;this.b=e.b+t.b;return this},addScalar:function(e){this.r+=e;this.g+=e;this.b+=e;return this},sub:function(e){this.r=Math.max(0,this.r-e.r);this.g=Math.max(0,this.g-e.g);this.b=Math.max(0,this.b-e.b);return this},multiply:function(e){this.r*=e.r;this.g*=e.g;this.b*=e.b;return this},multiplyScalar:function(e){this.r*=e;this.g*=e;this.b*=e;return this},lerp:function(e,t){this.r+=(e.r-this.r)*t;this.g+=(e.g-this.g)*t;this.b+=(e.b-this.b)*t;return this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){if(t===undefined)t=0;this.r=e[t];this.g=e[t+1];this.b=e[t+2];return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this.r;e[t+1]=this.g;e[t+2]=this.b;return e},toJSON:function(){return this.getHex()}});var _n={common:{diffuse:{value:new wn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new At},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new xt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wn(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new wn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new At}}};var En={merge:function(e){var t={};for(var n=0;n<e.length;n++){var i=this.clone(e[n]);for(var r in i){t[r]=i[r]}}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var i in e[n]){var r=e[n][i];if(r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)){t[n][i]=r.clone()}else if(Array.isArray(r)){t[n][i]=r.slice()}else{t[n][i]=r}}}return t}};var An="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";var Cn="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";var Sn="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";var Tn="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";var Mn="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";var kn="\nvec3 transformed = vec3( position );\n";var Dn="\nvec3 objectNormal = vec3( normal );\n";var Ln="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";var Rn="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";var Fn="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n";var Pn="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";var In="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";var Nn="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n";var On="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";var Bn="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";var zn="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";var Un="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";var Hn="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n";var jn="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";var $n="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n";var Wn="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";var Vn="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";var Gn="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";var qn="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";var Xn="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";var Yn="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n";var Kn="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";var Zn="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";var Qn="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";var Jn="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";var ei="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif";var ti="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n";var ni="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";var ii="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n";var ri="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n";var ai="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";var oi="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";var si="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";var li="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";var ci="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";var ui="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";var hi="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n";var fi="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";var di="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n";var pi="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif";var mi="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";var gi="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";var vi="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n";var bi="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n";var yi="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";var xi="#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";var wi="#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n";var _i="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n";var Ei="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";var Ai="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";var Ci="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";var Si="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";var Ti="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";var Mi="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";var ki="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";var Di="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";var Li="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n";var Ri="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n";var Fi="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n";var Pi="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n";var Ii="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";var Ni="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";var Oi="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";var Bi="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";var zi="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";var Ui="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";var Hi="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";var ji="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n";var $i="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";var Wi="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";var Vi="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";var Gi="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";var qi="#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";var Xi="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";var Yi="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n";var Ki="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif";var Zi="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";var Qi="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";var Ji="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";var er="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n";var tr="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n";var nr="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n";var ir="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";var rr="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";var ar="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n";var or="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n";var sr="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n";var lr="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n";var cr="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var ur="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n";var hr="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var fr="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n";var dr="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";var pr="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var mr="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";var gr="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var vr="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";var br="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var yr="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n";var xr="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n";var wr="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var _r="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var Er="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n";var Ar="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var Cr={alphamap_fragment:An,alphamap_pars_fragment:Cn,alphatest_fragment:Sn,aomap_fragment:Tn,aomap_pars_fragment:Mn,begin_vertex:kn,beginnormal_vertex:Dn,bsdfs:Ln,bumpmap_pars_fragment:Rn,clipping_planes_fragment:Fn,clipping_planes_pars_fragment:Pn,clipping_planes_pars_vertex:In,clipping_planes_vertex:Nn,color_fragment:On,color_pars_fragment:Bn,color_pars_vertex:zn,color_vertex:Un,common:Hn,cube_uv_reflection_fragment:jn,defaultnormal_vertex:$n,displacementmap_pars_vertex:Wn,displacementmap_vertex:Vn,emissivemap_fragment:Gn,emissivemap_pars_fragment:qn,encodings_fragment:Xn,encodings_pars_fragment:Yn,envmap_fragment:Kn,envmap_pars_fragment:Zn,envmap_pars_vertex:Qn,envmap_vertex:Jn,fog_vertex:ei,fog_pars_vertex:ti,fog_fragment:ni,fog_pars_fragment:ii,gradientmap_pars_fragment:ri,lightmap_fragment:ai,lightmap_pars_fragment:oi,lights_lambert_vertex:si,lights_pars:li,lights_phong_fragment:ci,lights_phong_pars_fragment:ui,lights_physical_fragment:hi,lights_physical_pars_fragment:fi,lights_template:di,logdepthbuf_fragment:pi,logdepthbuf_pars_fragment:mi,logdepthbuf_pars_vertex:gi,logdepthbuf_vertex:vi,map_fragment:bi,map_pars_fragment:yi,map_particle_fragment:xi,map_particle_pars_fragment:wi,metalnessmap_fragment:_i,metalnessmap_pars_fragment:Ei,morphnormal_vertex:Ai,morphtarget_pars_vertex:Ci,morphtarget_vertex:Si,normal_fragment:Ti,normalmap_pars_fragment:Mi,packing:ki,premultiplied_alpha_fragment:Di,project_vertex:Li,dithering_fragment:Ri,dithering_pars_fragment:Fi,roughnessmap_fragment:Pi,roughnessmap_pars_fragment:Ii,shadowmap_pars_fragment:Ni,shadowmap_pars_vertex:Oi,shadowmap_vertex:Bi,shadowmask_pars_fragment:zi,skinbase_vertex:Ui,skinning_pars_vertex:Hi,skinning_vertex:ji,skinnormal_vertex:$i,specularmap_fragment:Wi,specularmap_pars_fragment:Vi,tonemapping_fragment:Gi,tonemapping_pars_fragment:qi,uv_pars_fragment:Xi,uv_pars_vertex:Yi,uv_vertex:Ki,uv2_pars_fragment:Zi,uv2_pars_vertex:Qi,uv2_vertex:Ji,worldpos_vertex:er,cube_frag:tr,cube_vert:nr,depth_frag:ir,depth_vert:rr,distanceRGBA_frag:ar,distanceRGBA_vert:or,equirect_frag:sr,equirect_vert:lr,linedashed_frag:cr,linedashed_vert:ur,meshbasic_frag:hr,meshbasic_vert:fr,meshlambert_frag:dr,meshlambert_vert:pr,meshphong_frag:mr,meshphong_vert:gr,meshphysical_frag:vr,meshphysical_vert:br,normal_frag:yr,normal_vert:xr,points_frag:wr,points_vert:_r,shadow_frag:Er,shadow_vert:Ar};var Sr={basic:{uniforms:En.merge([_n.common,_n.specularmap,_n.envmap,_n.aomap,_n.lightmap,_n.fog]),vertexShader:Cr.meshbasic_vert,fragmentShader:Cr.meshbasic_frag},lambert:{uniforms:En.merge([_n.common,_n.specularmap,_n.envmap,_n.aomap,_n.lightmap,_n.emissivemap,_n.fog,_n.lights,{emissive:{value:new wn(0)}}]),vertexShader:Cr.meshlambert_vert,fragmentShader:Cr.meshlambert_frag},phong:{uniforms:En.merge([_n.common,_n.specularmap,_n.envmap,_n.aomap,_n.lightmap,_n.emissivemap,_n.bumpmap,_n.normalmap,_n.displacementmap,_n.gradientmap,_n.fog,_n.lights,{emissive:{value:new wn(0)},specular:{value:new wn(1118481)},shininess:{value:30}}]),vertexShader:Cr.meshphong_vert,fragmentShader:Cr.meshphong_frag},standard:{uniforms:En.merge([_n.common,_n.envmap,_n.aomap,_n.lightmap,_n.emissivemap,_n.bumpmap,_n.normalmap,_n.displacementmap,_n.roughnessmap,_n.metalnessmap,_n.fog,_n.lights,{emissive:{value:new wn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Cr.meshphysical_vert,fragmentShader:Cr.meshphysical_frag},points:{uniforms:En.merge([_n.points,_n.fog]),vertexShader:Cr.points_vert,fragmentShader:Cr.points_frag},dashed:{uniforms:En.merge([_n.common,_n.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cr.linedashed_vert,fragmentShader:Cr.linedashed_frag},depth:{uniforms:En.merge([_n.common,_n.displacementmap]),vertexShader:Cr.depth_vert,fragmentShader:Cr.depth_frag},normal:{uniforms:En.merge([_n.common,_n.bumpmap,_n.normalmap,_n.displacementmap,{opacity:{value:1}}]),vertexShader:Cr.normal_vert,fragmentShader:Cr.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Cr.cube_vert,fragmentShader:Cr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cr.equirect_vert,fragmentShader:Cr.equirect_frag},distanceRGBA:{uniforms:En.merge([_n.common,_n.displacementmap,{referencePosition:{value:new Et},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cr.distanceRGBA_vert,fragmentShader:Cr.distanceRGBA_frag},shadow:{uniforms:En.merge([_n.lights,_n.fog,{color:{value:new wn(0)},opacity:{value:1}}]),vertexShader:Cr.shadow_vert,fragmentShader:Cr.shadow_frag}};Sr.physical={uniforms:En.merge([Sr.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Cr.meshphysical_vert,fragmentShader:Cr.meshphysical_frag};function Tr(e,t){this.min=e!==undefined?e:new xt(+Infinity,+Infinity);this.max=t!==undefined?t:new xt(-Infinity,-Infinity)}Object.assign(Tr.prototype,{set:function(e,t){this.min.copy(e);this.max.copy(t);return this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++){this.expandByPoint(e[t])}return this},setFromCenterAndSize:function(){var r=new xt;return function e(t,n){var i=r.copy(n).multiplyScalar(.5);this.min.copy(t).sub(i);this.max.copy(t).add(i);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.min.copy(e.min);this.max.copy(e.max);return this},makeEmpty:function(){this.min.x=this.min.y=+Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new xt;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new xt;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){this.min.min(e);this.max.max(e);return this},expandByVector:function(e){this.min.sub(e);this.max.add(e);return this},expandByScalar:function(e){this.min.addScalar(-e);this.max.addScalar(e);return this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?false:true},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var n=t||new xt;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?false:true},clampPoint:function(e,t){var n=t||new xt;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var i=new xt;return function e(t){var n=i.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),intersect:function(e){this.min.max(e.min);this.max.min(e.max);return this},union:function(e){this.min.min(e.min);this.max.max(e.max);return this},translate:function(e){this.min.add(e);this.max.add(e);return this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function Mr(e,y,x,w,a){var _,E;var n,A,C,S;var T,M;function k(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var t=new Uint16Array([0,1,2,0,2,3]);_=y.createBuffer();E=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,_);y.bufferData(y.ARRAY_BUFFER,e,y.STATIC_DRAW);y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,E);y.bufferData(y.ELEMENT_ARRAY_BUFFER,t,y.STATIC_DRAW);T=y.createTexture();M=y.createTexture();x.bindTexture(y.TEXTURE_2D,T);y.texImage2D(y.TEXTURE_2D,0,y.RGB,16,16,0,y.RGB,y.UNSIGNED_BYTE,null);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST);x.bindTexture(y.TEXTURE_2D,M);y.texImage2D(y.TEXTURE_2D,0,y.RGBA,16,16,0,y.RGBA,y.UNSIGNED_BYTE,null);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST);n={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position;","\tif ( renderType == 2 ) {","\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\t\tvVisibility =        visibility.r / 9.0;","\t\tvVisibility *= 1.0 - visibility.g / 9.0;","\t\tvVisibility *=       visibility.b / 9.0;","\t\tvVisibility *= 1.0 - visibility.a / 9.0;","\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","\t}","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tif ( renderType == 0 ) {","\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","\t} else if ( renderType == 1 ) {","\t\tgl_FragColor = texture2D( map, vUV );","\t} else {","\t\tvec4 texture = texture2D( map, vUV );","\t\ttexture.a *= opacity * vVisibility;","\t\tgl_FragColor = texture;","\t\tgl_FragColor.rgb *= color;","\t}","}"].join("\n")};A=i(n);C={vertex:y.getAttribLocation(A,"position"),uv:y.getAttribLocation(A,"uv")};S={renderType:y.getUniformLocation(A,"renderType"),map:y.getUniformLocation(A,"map"),occlusionMap:y.getUniformLocation(A,"occlusionMap"),opacity:y.getUniformLocation(A,"opacity"),color:y.getUniformLocation(A,"color"),scale:y.getUniformLocation(A,"scale"),rotation:y.getUniformLocation(A,"rotation"),screenPosition:y.getUniformLocation(A,"screenPosition")}}this.render=function(e,t,n,i){if(e.length===0)return;var r=new Et;var a=i.w/i.z,o=i.z*.5,s=i.w*.5;var l=16/i.w,c=new xt(l*a,l);var u=new Et(1,1,0),h=new xt(1,1);var f=new Tr;f.min.set(i.x,i.y);f.max.set(i.x+(i.z-16),i.y+(i.w-16));if(A===undefined){k()}x.useProgram(A);x.initAttributes();x.enableAttribute(C.vertex);x.enableAttribute(C.uv);x.disableUnusedAttributes();y.uniform1i(S.occlusionMap,0);y.uniform1i(S.map,1);y.bindBuffer(y.ARRAY_BUFFER,_);y.vertexAttribPointer(C.vertex,2,y.FLOAT,false,2*8,0);y.vertexAttribPointer(C.uv,2,y.FLOAT,false,2*8,8);y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,E);x.disable(y.CULL_FACE);x.buffers.depth.setMask(false);for(var d=0,p=e.length;d<p;d++){l=16/i.w;c.set(l*a,l);var m=e[d];r.set(m.matrixWorld.elements[12],m.matrixWorld.elements[13],m.matrixWorld.elements[14]);r.applyMatrix4(n.matrixWorldInverse);r.applyMatrix4(n.projectionMatrix);u.copy(r);h.x=i.x+u.x*o+o-8;h.y=i.y+u.y*s+s-8;if(f.containsPoint(h)===true){x.activeTexture(y.TEXTURE0);x.bindTexture(y.TEXTURE_2D,null);x.activeTexture(y.TEXTURE1);x.bindTexture(y.TEXTURE_2D,T);y.copyTexImage2D(y.TEXTURE_2D,0,y.RGB,h.x,h.y,16,16,0);y.uniform1i(S.renderType,0);y.uniform2f(S.scale,c.x,c.y);y.uniform3f(S.screenPosition,u.x,u.y,u.z);x.disable(y.BLEND);x.enable(y.DEPTH_TEST);y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0);x.activeTexture(y.TEXTURE0);x.bindTexture(y.TEXTURE_2D,M);y.copyTexImage2D(y.TEXTURE_2D,0,y.RGBA,h.x,h.y,16,16,0);y.uniform1i(S.renderType,1);x.disable(y.DEPTH_TEST);x.activeTexture(y.TEXTURE1);x.bindTexture(y.TEXTURE_2D,T);y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0);m.positionScreen.copy(u);if(m.customUpdateCallback){m.customUpdateCallback(m)}else{m.updateLensFlares()}y.uniform1i(S.renderType,2);x.enable(y.BLEND);for(var g=0,v=m.lensFlares.length;g<v;g++){var b=m.lensFlares[g];if(b.opacity>.001&&b.scale>.001){u.x=b.x;u.y=b.y;u.z=b.z;l=b.size*b.scale/i.w;c.x=l*a;c.y=l;y.uniform3f(S.screenPosition,u.x,u.y,u.z);y.uniform2f(S.scale,c.x,c.y);y.uniform1f(S.rotation,b.rotation);y.uniform1f(S.opacity,b.opacity);y.uniform3f(S.color,b.color.r,b.color.g,b.color.b);x.setBlending(b.blending,b.blendEquation,b.blendSrc,b.blendDst);w.setTexture2D(b.texture,1);y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0)}}}}x.enable(y.CULL_FACE);x.enable(y.DEPTH_TEST);x.buffers.depth.setMask(true);x.reset()};function i(e){var t=y.createProgram();var n=y.createShader(y.FRAGMENT_SHADER);var i=y.createShader(y.VERTEX_SHADER);var r="precision "+a.precision+" float;\n";y.shaderSource(n,r+e.fragmentShader);y.shaderSource(i,r+e.vertexShader);y.compileShader(n);y.compileShader(i);y.attachShader(t,n);y.attachShader(t,i);y.linkProgram(t);return t}}function kr(e,t,n,i,r,a,o,s,l){St.call(this,e,t,n,i,r,a,o,s,l);this.needsUpdate=true}kr.prototype=Object.create(St.prototype);kr.prototype.constructor=kr;function Dr(f,d,p,m,i){var g,v;var b,y,x;var w;var _=new Et;var E=new _t;var A=new Et;function C(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]);var t=new Uint16Array([0,1,2,0,2,3]);g=d.createBuffer();v=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,g);d.bufferData(d.ARRAY_BUFFER,e,d.STATIC_DRAW);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,v);d.bufferData(d.ELEMENT_ARRAY_BUFFER,t,d.STATIC_DRAW);b=r();y={position:d.getAttribLocation(b,"position"),uv:d.getAttribLocation(b,"uv")};x={uvOffset:d.getUniformLocation(b,"uvOffset"),uvScale:d.getUniformLocation(b,"uvScale"),rotation:d.getUniformLocation(b,"rotation"),scale:d.getUniformLocation(b,"scale"),color:d.getUniformLocation(b,"color"),map:d.getUniformLocation(b,"map"),opacity:d.getUniformLocation(b,"opacity"),modelViewMatrix:d.getUniformLocation(b,"modelViewMatrix"),projectionMatrix:d.getUniformLocation(b,"projectionMatrix"),fogType:d.getUniformLocation(b,"fogType"),fogDensity:d.getUniformLocation(b,"fogDensity"),fogNear:d.getUniformLocation(b,"fogNear"),fogFar:d.getUniformLocation(b,"fogFar"),fogColor:d.getUniformLocation(b,"fogColor"),fogDepth:d.getUniformLocation(b,"fogDepth"),alphaTest:d.getUniformLocation(b,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8;n.height=8;var i=n.getContext("2d");i.fillStyle="white";i.fillRect(0,0,8,8);w=new kr(n)}this.render=function(e,t,n){if(e.length===0)return;if(b===undefined){C()}p.useProgram(b);p.initAttributes();p.enableAttribute(y.position);p.enableAttribute(y.uv);p.disableUnusedAttributes();p.disable(d.CULL_FACE);p.enable(d.BLEND);d.bindBuffer(d.ARRAY_BUFFER,g);d.vertexAttribPointer(y.position,2,d.FLOAT,false,2*8,0);d.vertexAttribPointer(y.uv,2,d.FLOAT,false,2*8,8);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,v);d.uniformMatrix4fv(x.projectionMatrix,false,n.projectionMatrix.elements);p.activeTexture(d.TEXTURE0);d.uniform1i(x.map,0);var i=0;var r=0;var a=t.fog;if(a){d.uniform3f(x.fogColor,a.color.r,a.color.g,a.color.b);if(a.isFog){d.uniform1f(x.fogNear,a.near);d.uniform1f(x.fogFar,a.far);d.uniform1i(x.fogType,1);i=1;r=1}else if(a.isFogExp2){d.uniform1f(x.fogDensity,a.density);d.uniform1i(x.fogType,2);i=2;r=2}}else{d.uniform1i(x.fogType,0);i=0;r=0}for(var o=0,s=e.length;o<s;o++){var l=e[o];l.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,l.matrixWorld);l.z=-l.modelViewMatrix.elements[14]}e.sort(S);var c=[];for(var o=0,s=e.length;o<s;o++){var l=e[o];var u=l.material;if(u.visible===false)continue;l.onBeforeRender(f,t,n,undefined,u,undefined);d.uniform1f(x.alphaTest,u.alphaTest);d.uniformMatrix4fv(x.modelViewMatrix,false,l.modelViewMatrix.elements);l.matrixWorld.decompose(_,E,A);c[0]=A.x;c[1]=A.y;var h=0;if(t.fog&&u.fog){h=r}if(i!==h){d.uniform1i(x.fogType,h);i=h}if(u.map!==null){d.uniform2f(x.uvOffset,u.map.offset.x,u.map.offset.y);d.uniform2f(x.uvScale,u.map.repeat.x,u.map.repeat.y)}else{d.uniform2f(x.uvOffset,0,0);d.uniform2f(x.uvScale,1,1)}d.uniform1f(x.opacity,u.opacity);d.uniform3f(x.color,u.color.r,u.color.g,u.color.b);d.uniform1f(x.rotation,u.rotation);d.uniform2fv(x.scale,c);p.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst,u.blendEquationAlpha,u.blendSrcAlpha,u.blendDstAlpha,u.premultipliedAlpha);p.buffers.depth.setTest(u.depthTest);p.buffers.depth.setMask(u.depthWrite);p.buffers.color.setMask(u.colorWrite);m.setTexture2D(u.map||w,0);d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0);l.onAfterRender(f,t,n,undefined,u,undefined)}p.enable(d.CULL_FACE);p.reset()};function r(){var e=d.createProgram();var t=d.createShader(d.VERTEX_SHADER);var n=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(t,["precision "+i.precision+" float;","#define SHADER_NAME "+"SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n"));d.shaderSource(n,["precision "+i.precision+" float;","#define SHADER_NAME "+"SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n"));d.compileShader(t);d.compileShader(n);d.attachShader(e,t);d.attachShader(e,n);d.linkProgram(e);return e}function S(e,t){if(e.renderOrder!==t.renderOrder){return e.renderOrder-t.renderOrder}else if(e.z!==t.z){return t.z-e.z}else{return t.id-e.id}}}var Lr=0;function Rr(){Object.defineProperty(this,"id",{value:Lr++});this.uuid=yt.generateUUID();this.name="";this.type="Material";this.fog=true;this.lights=true;this.blending=fe;this.side=N;this.flatShading=false;this.vertexColors=$e;this.opacity=1;this.transparent=false;this.blendSrc=y;this.blendDst=x;this.blendEquation=l;this.blendSrcAlpha=null;this.blendDstAlpha=null;this.blendEquationAlpha=null;this.depthFunc=xe;this.depthTest=true;this.depthWrite=true;this.clippingPlanes=null;this.clipIntersection=false;this.clipShadows=false;this.colorWrite=true;this.precision=null;this.polygonOffset=false;this.polygonOffsetFactor=0;this.polygonOffsetUnits=0;this.dithering=false;this.alphaTest=0;this.premultipliedAlpha=false;this.overdraw=0;this.visible=true;this.userData={};this.needsUpdate=true}Object.assign(Rr.prototype,t.prototype,{isMaterial:true,onBeforeCompile:function(){},setValues:function(e){if(e===undefined)return;for(var t in e){var n=e[t];if(n===undefined){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=n===o?true:false;continue}var i=this[t];if(i===undefined){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}if(i&&i.isColor){i.set(n)}else if(i&&i.isVector3&&(n&&n.isVector3)){i.copy(n)}else if(t==="overdraw"){this[t]=Number(n)}else{this[t]=n}}},toJSON:function(e){var t=e===undefined||typeof e==="string";if(t){e={textures:{},images:{}}}var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid;n.type=this.type;if(this.name!=="")n.name=this.name;if(this.color&&this.color.isColor)n.color=this.color.getHex();if(this.roughness!==undefined)n.roughness=this.roughness;if(this.metalness!==undefined)n.metalness=this.metalness;if(this.emissive&&this.emissive.isColor)n.emissive=this.emissive.getHex();if(this.emissiveIntensity!==1)n.emissiveIntensity=this.emissiveIntensity;if(this.specular&&this.specular.isColor)n.specular=this.specular.getHex();if(this.shininess!==undefined)n.shininess=this.shininess;if(this.clearCoat!==undefined)n.clearCoat=this.clearCoat;if(this.clearCoatRoughness!==undefined)n.clearCoatRoughness=this.clearCoatRoughness;if(this.map&&this.map.isTexture)n.map=this.map.toJSON(e).uuid;if(this.alphaMap&&this.alphaMap.isTexture)n.alphaMap=this.alphaMap.toJSON(e).uuid;if(this.lightMap&&this.lightMap.isTexture)n.lightMap=this.lightMap.toJSON(e).uuid;if(this.bumpMap&&this.bumpMap.isTexture){n.bumpMap=this.bumpMap.toJSON(e).uuid;n.bumpScale=this.bumpScale}if(this.normalMap&&this.normalMap.isTexture){n.normalMap=this.normalMap.toJSON(e).uuid;n.normalScale=this.normalScale.toArray()}if(this.displacementMap&&this.displacementMap.isTexture){n.displacementMap=this.displacementMap.toJSON(e).uuid;n.displacementScale=this.displacementScale;n.displacementBias=this.displacementBias}if(this.roughnessMap&&this.roughnessMap.isTexture)n.roughnessMap=this.roughnessMap.toJSON(e).uuid;if(this.metalnessMap&&this.metalnessMap.isTexture)n.metalnessMap=this.metalnessMap.toJSON(e).uuid;if(this.emissiveMap&&this.emissiveMap.isTexture)n.emissiveMap=this.emissiveMap.toJSON(e).uuid;if(this.specularMap&&this.specularMap.isTexture)n.specularMap=this.specularMap.toJSON(e).uuid;if(this.envMap&&this.envMap.isTexture){n.envMap=this.envMap.toJSON(e).uuid;n.reflectivity=this.reflectivity}if(this.gradientMap&&this.gradientMap.isTexture){n.gradientMap=this.gradientMap.toJSON(e).uuid}if(this.size!==undefined)n.size=this.size;if(this.sizeAttenuation!==undefined)n.sizeAttenuation=this.sizeAttenuation;if(this.blending!==fe)n.blending=this.blending;if(this.flatShading===true)n.flatShading=this.flatShading;if(this.side!==N)n.side=this.side;if(this.vertexColors!==$e)n.vertexColors=this.vertexColors;if(this.opacity<1)n.opacity=this.opacity;if(this.transparent===true)n.transparent=this.transparent;n.depthFunc=this.depthFunc;n.depthTest=this.depthTest;n.depthWrite=this.depthWrite;if(this.rotation!==0)n.rotation=this.rotation;if(this.linewidth!==1)n.linewidth=this.linewidth;if(this.dashSize!==undefined)n.dashSize=this.dashSize;if(this.gapSize!==undefined)n.gapSize=this.gapSize;if(this.scale!==undefined)n.scale=this.scale;if(this.dithering===true)n.dithering=true;if(this.alphaTest>0)n.alphaTest=this.alphaTest;if(this.premultipliedAlpha===true)n.premultipliedAlpha=this.premultipliedAlpha;if(this.wireframe===true)n.wireframe=this.wireframe;if(this.wireframeLinewidth>1)n.wireframeLinewidth=this.wireframeLinewidth;if(this.wireframeLinecap!=="round")n.wireframeLinecap=this.wireframeLinecap;if(this.wireframeLinejoin!=="round")n.wireframeLinejoin=this.wireframeLinejoin;if(this.morphTargets===true)n.morphTargets=true;if(this.skinning===true)n.skinning=true;if(this.visible===false)n.visible=false;if(JSON.stringify(this.userData)!=="{}")n.userData=this.userData;function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata;t.push(i)}return t}if(t){var r=i(e.textures);var a=i(e.images);if(r.length>0)n.textures=r;if(a.length>0)n.images=a}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name;this.fog=e.fog;this.lights=e.lights;this.blending=e.blending;this.side=e.side;this.flatShading=e.flatShading;this.vertexColors=e.vertexColors;this.opacity=e.opacity;this.transparent=e.transparent;this.blendSrc=e.blendSrc;this.blendDst=e.blendDst;this.blendEquation=e.blendEquation;this.blendSrcAlpha=e.blendSrcAlpha;this.blendDstAlpha=e.blendDstAlpha;this.blendEquationAlpha=e.blendEquationAlpha;this.depthFunc=e.depthFunc;this.depthTest=e.depthTest;this.depthWrite=e.depthWrite;this.colorWrite=e.colorWrite;this.precision=e.precision;this.polygonOffset=e.polygonOffset;this.polygonOffsetFactor=e.polygonOffsetFactor;this.polygonOffsetUnits=e.polygonOffsetUnits;this.dithering=e.dithering;this.alphaTest=e.alphaTest;this.premultipliedAlpha=e.premultipliedAlpha;this.overdraw=e.overdraw;this.visible=e.visible;this.userData=JSON.parse(JSON.stringify(e.userData));this.clipShadows=e.clipShadows;this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(t!==null){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}this.clippingPlanes=n;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Fr(e){Rr.call(this);this.type="MeshDepthMaterial";this.depthPacking=vt;this.skinning=false;this.morphTargets=false;this.map=null;this.alphaMap=null;this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.setValues(e)}Fr.prototype=Object.create(Rr.prototype);Fr.prototype.constructor=Fr;Fr.prototype.isMeshDepthMaterial=true;Fr.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.depthPacking=e.depthPacking;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.map=e.map;this.alphaMap=e.alphaMap;this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;return this};function Pr(e){Rr.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new Et;this.nearDistance=1;this.farDistance=1e3;this.skinning=false;this.morphTargets=false;this.map=null;this.alphaMap=null;this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.fog=false;this.lights=false;this.setValues(e)}Pr.prototype=Object.create(Rr.prototype);Pr.prototype.constructor=Pr;Pr.prototype.isMeshDistanceMaterial=true;Pr.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.referencePosition.copy(e.referencePosition);this.nearDistance=e.nearDistance;this.farDistance=e.farDistance;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.map=e.map;this.alphaMap=e.alphaMap;this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;return this};function Ir(e,t){this.min=e!==undefined?e:new Et(+Infinity,+Infinity,+Infinity);this.max=t!==undefined?t:new Et(-Infinity,-Infinity,-Infinity)}Object.assign(Ir.prototype,{isBox3:true,set:function(e,t){this.min.copy(e);this.max.copy(t);return this},setFromArray:function(e){var t=+Infinity;var n=+Infinity;var i=+Infinity;var r=-Infinity;var a=-Infinity;var o=-Infinity;for(var s=0,l=e.length;s<l;s+=3){var c=e[s];var u=e[s+1];var h=e[s+2];if(c<t)t=c;if(u<n)n=u;if(h<i)i=h;if(c>r)r=c;if(u>a)a=u;if(h>o)o=h}this.min.set(t,n,i);this.max.set(r,a,o);return this},setFromBufferAttribute:function(e){var t=+Infinity;var n=+Infinity;var i=+Infinity;var r=-Infinity;var a=-Infinity;var o=-Infinity;for(var s=0,l=e.count;s<l;s++){var c=e.getX(s);var u=e.getY(s);var h=e.getZ(s);if(c<t)t=c;if(u<n)n=u;if(h<i)i=h;if(c>r)r=c;if(u>a)a=u;if(h>o)o=h}this.min.set(t,n,i);this.max.set(r,a,o);return this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++){this.expandByPoint(e[t])}return this},setFromCenterAndSize:function(){var r=new Et;return function e(t,n){var i=r.copy(n).multiplyScalar(.5);this.min.copy(t).sub(i);this.max.copy(t).add(i);return this}}(),setFromObject:function(e){this.makeEmpty();return this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.min.copy(e.min);this.max.copy(e.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=+Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new Et;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new Et;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){this.min.min(e);this.max.max(e);return this},expandByVector:function(e){this.min.sub(e);this.max.add(e);return this},expandByScalar:function(e){this.min.addScalar(-e);this.max.addScalar(e);return this},expandByObject:function(){var r,a,o;var s=new Et;function n(e){var t=e.geometry;if(t!==undefined){if(t.isGeometry){var n=t.vertices;for(a=0,o=n.length;a<o;a++){s.copy(n[a]);s.applyMatrix4(e.matrixWorld);r.expandByPoint(s)}}else if(t.isBufferGeometry){var i=t.attributes.position;if(i!==undefined){for(a=0,o=i.count;a<o;a++){s.fromBufferAttribute(i,a).applyMatrix4(e.matrixWorld);r.expandByPoint(s)}}}}}return function e(t){r=this;t.updateMatrixWorld(true);t.traverse(n);return this}}(),containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?false:true},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var n=t||new Et;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?false:true},intersectsSphere:function(){var n=new Et;return function e(t){this.clampPoint(t.center,n);return n.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;if(e.normal.x>0){t=e.normal.x*this.min.x;n=e.normal.x*this.max.x}else{t=e.normal.x*this.max.x;n=e.normal.x*this.min.x}if(e.normal.y>0){t+=e.normal.y*this.min.y;n+=e.normal.y*this.max.y}else{t+=e.normal.y*this.max.y;n+=e.normal.y*this.min.y}if(e.normal.z>0){t+=e.normal.z*this.min.z;n+=e.normal.z*this.max.z}else{t+=e.normal.z*this.max.z;n+=e.normal.z*this.min.z}return t<=e.constant&&n>=e.constant},clampPoint:function(e,t){var n=t||new Et;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var i=new Et;return function e(t){var n=i.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),getBoundingSphere:function(){var i=new Et;return function e(t){var n=t||new Nr;this.getCenter(n.center);n.radius=this.getSize(i).length()*.5;return n}}(),intersect:function(e){this.min.max(e.min);this.max.min(e.max);if(this.isEmpty())this.makeEmpty();return this},union:function(e){this.min.min(e.min);this.max.max(e.max);return this},applyMatrix4:function(){var n=[new Et,new Et,new Et,new Et,new Et,new Et,new Et,new Et];return function e(t){if(this.isEmpty())return this;n[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t);n[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t);n[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t);n[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t);n[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t);n[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t);n[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t);n[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t);this.setFromPoints(n);return this}}(),translate:function(e){this.min.add(e);this.max.add(e);return this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function Nr(e,t){this.center=e!==undefined?e:new Et;this.radius=t!==undefined?t:0}Object.assign(Nr.prototype,{set:function(e,t){this.center.copy(e);this.radius=t;return this},setFromPoints:function(){var s=new Ir;return function e(t,n){var i=this.center;if(n!==undefined){i.copy(n)}else{s.setFromPoints(t).getCenter(i)}var r=0;for(var a=0,o=t.length;a<o;a++){r=Math.max(r,i.distanceToSquared(t[a]))}this.radius=Math.sqrt(r);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.center.copy(e.center);this.radius=e.radius;return this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);var i=t||new Et;i.copy(e);if(n>this.radius*this.radius){i.sub(this.center).normalize();i.multiplyScalar(this.radius).add(this.center)}return i},getBoundingBox:function(e){var t=e||new Ir;t.set(this.center,this.center);t.expandByScalar(this.radius);return t},applyMatrix4:function(e){this.center.applyMatrix4(e);this.radius=this.radius*e.getMaxScaleOnAxis();return this},translate:function(e){this.center.add(e);return this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});function Or(e,t){this.normal=e!==undefined?e:new Et(1,0,0);this.constant=t!==undefined?t:0}Object.assign(Or.prototype,{set:function(e,t){this.normal.copy(e);this.constant=t;return this},setComponents:function(e,t,n,i){this.normal.set(e,t,n);this.constant=i;return this},setFromNormalAndCoplanarPoint:function(e,t){this.normal.copy(e);this.constant=-t.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new Et;var o=new Et;return function e(t,n,i){var r=a.subVectors(i,n).cross(o.subVectors(t,n)).normalize();this.setFromNormalAndCoplanarPoint(r,t);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.normal.copy(e.normal);this.constant=e.constant;return this},normalize:function(){var e=1/this.normal.length();this.normal.multiplyScalar(e);this.constant*=e;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){var n=t||new Et;return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var s=new Et;return function e(t,n){var i=n||new Et;var r=t.delta(s);var a=this.normal.dot(r);if(a===0){if(this.distanceToPoint(t.start)===0){return i.copy(t.start)}return undefined}var o=-(t.start.dot(this.normal)+this.constant)/a;if(o<0||o>1){return undefined}return i.copy(r).multiplyScalar(o).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start);var n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var t=e||new Et;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var o=new Et;var s=new At;return function e(t,n){var i=n||s.getNormalMatrix(t);var r=this.coplanarPoint(o).applyMatrix4(t);var a=this.normal.applyMatrix3(i).normalize();this.constant=-r.dot(a);return this}}(),translate:function(e){this.constant-=e.dot(this.normal);return this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});function Br(e,t,n,i,r,a){this.planes=[e!==undefined?e:new Or,t!==undefined?t:new Or,n!==undefined?n:new Or,i!==undefined?i:new Or,r!==undefined?r:new Or,a!==undefined?a:new Or]}Object.assign(Br.prototype,{set:function(e,t,n,i,r,a){var o=this.planes;o[0].copy(e);o[1].copy(t);o[2].copy(n);o[3].copy(i);o[4].copy(r);o[5].copy(a);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){var t=this.planes;for(var n=0;n<6;n++){t[n].copy(e.planes[n])}return this},setFromMatrix:function(e){var t=this.planes;var n=e.elements;var i=n[0],r=n[1],a=n[2],o=n[3];var s=n[4],l=n[5],c=n[6],u=n[7];var h=n[8],f=n[9],d=n[10],p=n[11];var m=n[12],g=n[13],v=n[14],b=n[15];t[0].setComponents(o-i,u-s,p-h,b-m).normalize();t[1].setComponents(o+i,u+s,p+h,b+m).normalize();t[2].setComponents(o+r,u+l,p+f,b+g).normalize();t[3].setComponents(o-r,u-l,p-f,b-g).normalize();t[4].setComponents(o-a,u-c,p-d,b-v).normalize();t[5].setComponents(o+a,u+c,p+d,b+v).normalize();return this},intersectsObject:function(){var i=new Nr;return function e(t){var n=t.geometry;if(n.boundingSphere===null)n.computeBoundingSphere();i.copy(n.boundingSphere).applyMatrix4(t.matrixWorld);return this.intersectsSphere(i)}}(),intersectsSprite:function(){var n=new Nr;return function e(t){n.center.set(0,0,0);n.radius=.7071067811865476;n.applyMatrix4(t.matrixWorld);return this.intersectsSphere(n)}}(),intersectsSphere:function(e){var t=this.planes;var n=e.center;var i=-e.radius;for(var r=0;r<6;r++){var a=t[r].distanceToPoint(n);if(a<i){return false}}return true},intersectsBox:function(){var s=new Et,l=new Et;return function e(t){var n=this.planes;for(var i=0;i<6;i++){var r=n[i];s.x=r.normal.x>0?t.min.x:t.max.x;l.x=r.normal.x>0?t.max.x:t.min.x;s.y=r.normal.y>0?t.min.y:t.max.y;l.y=r.normal.y>0?t.max.y:t.min.y;s.z=r.normal.z>0?t.min.z:t.max.z;l.z=r.normal.z>0?t.max.z:t.min.z;var a=r.distanceToPoint(s);var o=r.distanceToPoint(l);if(a<0&&o<0){return false}}return true}}(),containsPoint:function(e){var t=this.planes;for(var n=0;n<6;n++){if(t[n].distanceToPoint(e)<0){return false}}return true}});function zr(y,g,e){var x=new Br,w=new wt,_=new xt,E=new xt(e,e),A=new Et,C=new Et,b=1,S=2,t=(b|S)+1,T=new Array(t),M=new Array(t),k={};var D=[new Et(1,0,0),new Et(-1,0,0),new Et(0,0,1),new Et(0,0,-1),new Et(0,1,0),new Et(0,-1,0)];var L=[new Et(0,1,0),new Et(0,1,0),new Et(0,1,0),new Et(0,1,0),new Et(0,0,1),new Et(0,0,-1)];var R=[new Tt,new Tt,new Tt,new Tt,new Tt,new Tt];for(var n=0;n!==t;++n){var i=(n&b)!==0;var r=(n&S)!==0;var a=new Fr({depthPacking:bt,morphTargets:i,skinning:r});T[n]=a;var o=new Pr({morphTargets:i,skinning:r});M[n]=o}var F=this;this.enabled=false;this.autoUpdate=true;this.needsUpdate=false;this.type=I;this.renderReverseSided=true;this.renderSingleSided=true;this.render=function(e,t,n){if(F.enabled===false)return;if(F.autoUpdate===false&&F.needsUpdate===false)return;if(e.length===0)return;var i=y.context;var r=y.state;r.disable(i.BLEND);r.buffers.color.setClear(1,1,1,1);r.buffers.depth.setTest(true);r.setScissorTest(false);var a;for(var o=0,s=e.length;o<s;o++){var l=e[o];var c=l.shadow;var u=l&&l.isPointLight;if(c===undefined){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}var h=c.camera;_.copy(c.mapSize);_.min(E);if(u){var f=_.x;var d=_.y;R[0].set(f*2,d,f,d);R[1].set(0,d,f,d);R[2].set(f*3,d,f,d);R[3].set(f,d,f,d);R[4].set(f*3,0,f,d);R[5].set(f,0,f,d);_.x*=4;_.y*=2}if(c.map===null){var p={minFilter:q,magFilter:q,format:Xe};c.map=new Mt(_.x,_.y,p);c.map.texture.name=l.name+".shadowMap";h.updateProjectionMatrix()}if(c.isSpotLightShadow){c.update(l)}var m=c.map;var g=c.matrix;C.setFromMatrixPosition(l.matrixWorld);h.position.copy(C);if(u){a=6;g.makeTranslation(-C.x,-C.y,-C.z)}else{a=1;A.setFromMatrixPosition(l.target.matrixWorld);h.lookAt(A);h.updateMatrixWorld();g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);g.multiply(h.projectionMatrix);g.multiply(h.matrixWorldInverse)}y.setRenderTarget(m);y.clear();for(var v=0;v<a;v++){if(u){A.copy(h.position);A.add(D[v]);h.up.copy(L[v]);h.lookAt(A);h.updateMatrixWorld();var b=R[v];r.viewport(b)}w.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse);x.setFromMatrix(w);P(t,n,h,u)}}F.needsUpdate=false};function v(e,t,n,i,r,a){var o=e.geometry;var s=null;var l=T;var c=e.customDepthMaterial;if(n){l=M;c=e.customDistanceMaterial}if(!c){var u=false;if(t.morphTargets){if(o&&o.isBufferGeometry){u=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0}else if(o&&o.isGeometry){u=o.morphTargets&&o.morphTargets.length>0}}if(e.isSkinnedMesh&&t.skinning===false){console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)}var h=e.isSkinnedMesh&&t.skinning;var f=0;if(u)f|=b;if(h)f|=S;s=l[f]}else{s=c}if(y.localClippingEnabled&&t.clipShadows===true&&t.clippingPlanes.length!==0){var d=s.uuid,p=t.uuid;var m=k[d];if(m===undefined){m={};k[d]=m}var g=m[p];if(g===undefined){g=s.clone();m[p]=g}s=g}s.visible=t.visible;s.wireframe=t.wireframe;var v=t.side;if(F.renderSingleSided&&v==ue){v=N}if(F.renderReverseSided){if(v===N)v=ce;else if(v===ce)v=N}s.side=v;s.clipShadows=t.clipShadows;s.clippingPlanes=t.clippingPlanes;s.clipIntersection=t.clipIntersection;s.wireframeLinewidth=t.wireframeLinewidth;s.linewidth=t.linewidth;if(n&&s.isMeshDistanceMaterial){s.referencePosition.copy(i);s.nearDistance=r;s.farDistance=a}return s}function P(e,t,n,i){if(e.visible===false)return;var r=e.layers.test(t.layers);if(r&&(e.isMesh||e.isLine||e.isPoints)){if(e.castShadow&&(!e.frustumCulled||x.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld);var a=g.update(e);var o=e.material;if(Array.isArray(o)){var s=a.groups;for(var l=0,c=s.length;l<c;l++){var u=s[l];var h=o[u.materialIndex];if(h&&h.visible){var f=v(e,h,i,C,n.near,n.far);y.renderBufferDirect(n,null,a,f,e,u)}}}else if(o.visible){var f=v(e,o,i,C,n.near,n.far);y.renderBufferDirect(n,null,a,f,e,null)}}}var d=e.children;for(var p=0,m=d.length;p<m;p++){P(d[p],t,n,i)}}}function Ur(o){var i={};function r(e,t){var n=e.array;var i=e.dynamic?o.DYNAMIC_DRAW:o.STATIC_DRAW;var r=o.createBuffer();o.bindBuffer(t,r);o.bufferData(t,n,i);e.onUploadCallback();var a=o.FLOAT;if(n instanceof Float32Array){a=o.FLOAT}else if(n instanceof Float64Array){console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.")}else if(n instanceof Uint16Array){a=o.UNSIGNED_SHORT}else if(n instanceof Int16Array){a=o.SHORT}else if(n instanceof Uint32Array){a=o.UNSIGNED_INT}else if(n instanceof Int32Array){a=o.INT}else if(n instanceof Int8Array){a=o.BYTE}else if(n instanceof Uint8Array){a=o.UNSIGNED_BYTE}return{buffer:r,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}function a(e,t,n){var i=t.array;var r=t.updateRange;o.bindBuffer(n,e);if(t.dynamic===false){o.bufferData(n,i,o.STATIC_DRAW)}else if(r.count===-1){o.bufferSubData(n,0,i)}else if(r.count===0){console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.")}else{o.bufferSubData(n,r.offset*i.BYTES_PER_ELEMENT,i.subarray(r.offset,r.offset+r.count));r.count=-1}}function e(e){if(e.isInterleavedBufferAttribute)e=e.data;return i[e.uuid]}function t(e){if(e.isInterleavedBufferAttribute)e=e.data;var t=i[e.uuid];if(t){o.deleteBuffer(t.buffer);delete i[e.uuid]}}function n(e,t){if(e.isInterleavedBufferAttribute)e=e.data;var n=i[e.uuid];if(n===undefined){i[e.uuid]=r(e,t)}else if(n.version<e.version){a(n.buffer,e,t);n.version=e.version}}return{get:e,remove:t,update:n}}function Hr(e,t,n,i){this._x=e||0;this._y=t||0;this._z=n||0;this._order=i||Hr.DefaultOrder}Hr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];Hr.DefaultOrder="XYZ";Object.defineProperties(Hr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e;this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e;this.onChangeCallback()}}});Object.assign(Hr.prototype,{isEuler:true,set:function(e,t,n,i){this._x=e;this._y=t;this._z=n;this._order=i||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){this._x=e._x;this._y=e._y;this._z=e._z;this._order=e._order;this.onChangeCallback();return this},setFromRotationMatrix:function(e,t,n){var i=yt.clamp;var r=e.elements;var a=r[0],o=r[4],s=r[8];var l=r[1],c=r[5],u=r[9];var h=r[2],f=r[6],d=r[10];t=t||this._order;if(t==="XYZ"){this._y=Math.asin(i(s,-1,1));if(Math.abs(s)<.99999){this._x=Math.atan2(-u,d);this._z=Math.atan2(-o,a)}else{this._x=Math.atan2(f,c);this._z=0}}else if(t==="YXZ"){this._x=Math.asin(-i(u,-1,1));if(Math.abs(u)<.99999){this._y=Math.atan2(s,d);this._z=Math.atan2(l,c)}else{this._y=Math.atan2(-h,a);this._z=0}}else if(t==="ZXY"){this._x=Math.asin(i(f,-1,1));if(Math.abs(f)<.99999){this._y=Math.atan2(-h,d);this._z=Math.atan2(-o,c)}else{this._y=0;this._z=Math.atan2(l,a)}}else if(t==="ZYX"){this._y=Math.asin(-i(h,-1,1));if(Math.abs(h)<.99999){this._x=Math.atan2(f,d);this._z=Math.atan2(l,a)}else{this._x=0;this._z=Math.atan2(-o,c)}}else if(t==="YZX"){this._z=Math.asin(i(l,-1,1));if(Math.abs(l)<.99999){this._x=Math.atan2(-u,c);this._y=Math.atan2(-h,a)}else{this._x=0;this._y=Math.atan2(s,d)}}else if(t==="XZY"){this._z=Math.asin(-i(o,-1,1));if(Math.abs(o)<.99999){this._x=Math.atan2(f,c);this._y=Math.atan2(s,a)}else{this._x=Math.atan2(-u,d);this._y=0}}else{console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t)}this._order=t;if(n!==false)this.onChangeCallback();return this},setFromQuaternion:function(){var r=new wt;return function e(t,n,i){r.makeRotationFromQuaternion(t);return this.setFromRotationMatrix(r,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var n=new _t;return function e(t){n.setFromEuler(this);return this.setFromQuaternion(n,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){this._x=e[0];this._y=e[1];this._z=e[2];if(e[3]!==undefined)this._order=e[3];this.onChangeCallback();return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this._x;e[t+1]=this._y;e[t+2]=this._z;e[t+3]=this._order;return e},toVector3:function(e){if(e){return e.set(this._x,this._y,this._z)}else{return new Et(this._x,this._y,this._z)}},onChange:function(e){this.onChangeCallback=e;return this},onChangeCallback:function(){}});function jr(){this.mask=1|0}Object.assign(jr.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return(this.mask&e.mask)!==0}});var $r=0;function Wr(){Object.defineProperty(this,"id",{value:$r++});this.uuid=yt.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=Wr.DefaultUp.clone();var e=new Et;var t=new Hr;var n=new _t;var i=new Et(1,1,1);function r(){n.setFromEuler(t,false)}function a(){t.setFromQuaternion(n,undefined,false)}t.onChange(r);n.onChange(a);Object.defineProperties(this,{position:{enumerable:true,value:e},rotation:{enumerable:true,value:t},quaternion:{enumerable:true,value:n},scale:{enumerable:true,value:i},modelViewMatrix:{value:new wt},normalMatrix:{value:new At}});this.matrix=new wt;this.matrixWorld=new wt;this.matrixAutoUpdate=Wr.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=false;this.layers=new jr;this.visible=true;this.castShadow=false;this.receiveShadow=false;this.frustumCulled=true;this.renderOrder=0;this.userData={}}Wr.DefaultUp=new Et(0,1,0);Wr.DefaultMatrixAutoUpdate=true;Object.assign(Wr.prototype,t.prototype,{isObject3D:true,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){this.quaternion.premultiply(e);return this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,true)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var i=new _t;return function e(t,n){i.setFromAxisAngle(t,n);this.quaternion.multiply(i);return this}}(),rotateOnWorldAxis:function(){var i=new _t;return function e(t,n){i.setFromAxisAngle(t,n);this.quaternion.premultiply(i);return this}}(),rotateX:function(){var n=new Et(1,0,0);return function e(t){return this.rotateOnAxis(n,t)}}(),rotateY:function(){var n=new Et(0,1,0);return function e(t){return this.rotateOnAxis(n,t)}}(),rotateZ:function(){var n=new Et(0,0,1);return function e(t){return this.rotateOnAxis(n,t)}}(),translateOnAxis:function(){var i=new Et;return function e(t,n){i.copy(t).applyQuaternion(this.quaternion);this.position.add(i.multiplyScalar(n));return this}}(),translateX:function(){var n=new Et(1,0,0);return function e(t){return this.translateOnAxis(n,t)}}(),translateY:function(){var n=new Et(0,1,0);return function e(t){return this.translateOnAxis(n,t)}}(),translateZ:function(){var n=new Et(0,0,1);return function e(t){return this.translateOnAxis(n,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var n=new wt;return function e(t){return t.applyMatrix4(n.getInverse(this.matrixWorld))}}(),lookAt:function(){var r=new wt;var a=new Et;return function e(t,n,i){if(t.isVector3){a.copy(t)}else{a.set(t,n,i)}if(this.isCamera){r.lookAt(this.position,a,this.up)}else{r.lookAt(a,this.position,this.up)}this.quaternion.setFromRotationMatrix(r)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++){this.add(arguments[t])}return this}if(e===this){console.error("THREE.Object3D.add: object can't be added as a child of itself.",e);return this}if(e&&e.isObject3D){if(e.parent!==null){e.parent.remove(e)}e.parent=this;e.dispatchEvent({type:"added"});this.children.push(e)}else{console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e)}return this},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++){this.remove(arguments[t])}return this}var n=this.children.indexOf(e);if(n!==-1){e.parent=null;e.dispatchEvent({type:"removed"});this.children.splice(n,1)}return this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n];var a=r.getObjectByProperty(e,t);if(a!==undefined){return a}}return undefined},getWorldPosition:function(e){var t=e||new Et;this.updateMatrixWorld(true);return t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var i=new Et;var r=new Et;return function e(t){var n=t||new _t;this.updateMatrixWorld(true);this.matrixWorld.decompose(i,n,r);return n}}(),getWorldRotation:function(){var i=new _t;return function e(t){var n=t||new Hr;this.getWorldQuaternion(i);return n.setFromQuaternion(i,this.rotation.order,false)}}(),getWorldScale:function(){var i=new Et;var r=new _t;return function e(t){var n=t||new Et;this.updateMatrixWorld(true);this.matrixWorld.decompose(i,r,n);return n}}(),getWorldDirection:function(){var i=new _t;return function e(t){var n=t||new Et;this.getWorldQuaternion(i);return n.set(0,0,1).applyQuaternion(i)}}(),raycast:function(){},traverse:function(e){e(this);var t=this.children;for(var n=0,i=t.length;n<i;n++){t[n].traverse(e)}},traverseVisible:function(e){if(this.visible===false)return;e(this);var t=this.children;for(var n=0,i=t.length;n<i;n++){t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;if(t!==null){e(t);t.traverseAncestors(e)}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=true},updateMatrixWorld:function(e){if(this.matrixAutoUpdate)this.updateMatrix();if(this.matrixWorldNeedsUpdate||e){if(this.parent===null){this.matrixWorld.copy(this.matrix)}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)}this.matrixWorldNeedsUpdate=false;e=true}var t=this.children;for(var n=0,i=t.length;n<i;n++){t[n].updateMatrixWorld(e)}},toJSON:function(n){var e=n===undefined||typeof n==="string";var t={};if(e){n={geometries:{},materials:{},textures:{},images:{}};t.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"}}var i={};i.uuid=this.uuid;i.type=this.type;if(this.name!=="")i.name=this.name;if(this.castShadow===true)i.castShadow=true;if(this.receiveShadow===true)i.receiveShadow=true;if(this.visible===false)i.visible=false;if(JSON.stringify(this.userData)!=="{}")i.userData=this.userData;i.matrix=this.matrix.toArray();function r(e,t){if(e[t.uuid]===undefined){e[t.uuid]=t.toJSON(n)}return t.uuid}if(this.geometry!==undefined){i.geometry=r(n.geometries,this.geometry)}if(this.material!==undefined){if(Array.isArray(this.material)){var a=[];for(var o=0,s=this.material.length;o<s;o++){a.push(r(n.materials,this.material[o]))}i.material=a}else{i.material=r(n.materials,this.material)}}if(this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++){i.children.push(this.children[o].toJSON(n).object)}}if(e){var l=f(n.geometries);var c=f(n.materials);var u=f(n.textures);var h=f(n.images);if(l.length>0)t.geometries=l;if(c.length>0)t.materials=c;if(u.length>0)t.textures=u;if(h.length>0)t.images=h}t.object=i;return t;function f(e){var t=[];for(var n in e){var i=e[n];delete i.metadata;t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(t===undefined)t=true;this.name=e.name;this.up.copy(e.up);this.position.copy(e.position);this.quaternion.copy(e.quaternion);this.scale.copy(e.scale);this.matrix.copy(e.matrix);this.matrixWorld.copy(e.matrixWorld);this.matrixAutoUpdate=e.matrixAutoUpdate;this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate;this.layers.mask=e.layers.mask;this.visible=e.visible;this.castShadow=e.castShadow;this.receiveShadow=e.receiveShadow;this.frustumCulled=e.frustumCulled;this.renderOrder=e.renderOrder;this.userData=JSON.parse(JSON.stringify(e.userData));if(t===true){for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}}return this}});function Vr(){Wr.call(this);this.type="Camera";this.matrixWorldInverse=new wt;this.projectionMatrix=new wt}Vr.prototype=Object.assign(Object.create(Wr.prototype),{constructor:Vr,isCamera:true,copy:function(e,t){Wr.prototype.copy.call(this,e,t);this.matrixWorldInverse.copy(e.matrixWorldInverse);this.projectionMatrix.copy(e.projectionMatrix);return this},getWorldDirection:function(){var i=new _t;return function e(t){var n=t||new Et;this.getWorldQuaternion(i);return n.set(0,0,-1).applyQuaternion(i)}}(),updateMatrixWorld:function(e){Wr.prototype.updateMatrixWorld.call(this,e);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}});function Gr(e,t,n,i,r,a){Vr.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=e;this.right=t;this.top=n;this.bottom=i;this.near=r!==undefined?r:.1;this.far=a!==undefined?a:2e3;this.updateProjectionMatrix()}Gr.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Gr,isOrthographicCamera:true,copy:function(e,t){Vr.prototype.copy.call(this,e,t);this.left=e.left;this.right=e.right;this.top=e.top;this.bottom=e.bottom;this.near=e.near;this.far=e.far;this.zoom=e.zoom;this.view=e.view===null?null:Object.assign({},e.view);return this},setViewOffset:function(e,t,n,i,r,a){if(this.view===null){this.view={enabled:true,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}}this.view.enabled=true;this.view.fullWidth=e;this.view.fullHeight=t;this.view.offsetX=n;this.view.offsetY=i;this.view.width=r;this.view.height=a;this.updateProjectionMatrix()},clearViewOffset:function(){if(this.view!==null){this.view.enabled=false}this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom);var t=(this.top-this.bottom)/(2*this.zoom);var n=(this.right+this.left)/2;var i=(this.top+this.bottom)/2;var r=n-e;var a=n+e;var o=i+t;var s=i-t;if(this.view!==null&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth);var c=this.zoom/(this.view.height/this.view.fullHeight);var u=(this.right-this.left)/this.view.width;var h=(this.top-this.bottom)/this.view.height;r+=u*(this.view.offsetX/l);a=r+u*(this.view.width/l);o-=h*(this.view.offsetY/c);s=o-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(e){var t=Wr.prototype.toJSON.call(this,e);t.object.zoom=this.zoom;t.object.left=this.left;t.object.right=this.right;t.object.top=this.top;t.object.bottom=this.bottom;t.object.near=this.near;t.object.far=this.far;if(this.view!==null)t.object.view=Object.assign({},this.view);return t}});function qr(e,t,n,i,r,a){this.a=e;this.b=t;this.c=n;this.normal=i&&i.isVector3?i:new Et;this.vertexNormals=Array.isArray(i)?i:[];this.color=r&&r.isColor?r:new wn;this.vertexColors=Array.isArray(r)?r:[];this.materialIndex=a!==undefined?a:0}Object.assign(qr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a;this.b=e.b;this.c=e.c;this.normal.copy(e.normal);this.color.copy(e.color);this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++){this.vertexNormals[t]=e.vertexNormals[t].clone()}for(var t=0,n=e.vertexColors.length;t<n;t++){this.vertexColors[t]=e.vertexColors[t].clone()}return this}});var Xr=0;function Yr(){Object.defineProperty(this,"id",{value:Xr+=2});this.uuid=yt.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;this.elementsNeedUpdate=false;this.verticesNeedUpdate=false;this.uvsNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.lineDistancesNeedUpdate=false;this.groupsNeedUpdate=false}Object.assign(Yr.prototype,t.prototype,{isGeometry:true,applyMatrix:function(e){var t=(new At).getNormalMatrix(e);for(var n=0,i=this.vertices.length;n<i;n++){var r=this.vertices[n];r.applyMatrix4(e)}for(var n=0,i=this.faces.length;n<i;n++){var a=this.faces[n];a.normal.applyMatrix3(t).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++){a.vertexNormals[o].applyMatrix3(t).normalize()}}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}this.verticesNeedUpdate=true;this.normalsNeedUpdate=true;return this},rotateX:function(){var n=new wt;return function e(t){n.makeRotationX(t);this.applyMatrix(n);return this}}(),rotateY:function(){var n=new wt;return function e(t){n.makeRotationY(t);this.applyMatrix(n);return this}}(),rotateZ:function(){var n=new wt;return function e(t){n.makeRotationZ(t);this.applyMatrix(n);return this}}(),translate:function(){var r=new wt;return function e(t,n,i){r.makeTranslation(t,n,i);this.applyMatrix(r);return this}}(),scale:function(){var r=new wt;return function e(t,n,i){r.makeScale(t,n,i);this.applyMatrix(r);return this}}(),lookAt:function(){var n=new Wr;return function e(t){n.lookAt(t);n.updateMatrix();this.applyMatrix(n.matrix)}}(),fromBufferGeometry:function(e){var s=this;var t=e.index!==null?e.index.array:undefined;var n=e.attributes;var i=n.position.array;var l=n.normal!==undefined?n.normal.array:undefined;var c=n.color!==undefined?n.color.array:undefined;var u=n.uv!==undefined?n.uv.array:undefined;var h=n.uv2!==undefined?n.uv2.array:undefined;if(h!==undefined)this.faceVertexUvs[1]=[];var f=[];var d=[];var p=[];for(var r=0,a=0;r<i.length;r+=3,a+=2){s.vertices.push(new Et(i[r],i[r+1],i[r+2]));if(l!==undefined){f.push(new Et(l[r],l[r+1],l[r+2]))}if(c!==undefined){s.colors.push(new wn(c[r],c[r+1],c[r+2]))}if(u!==undefined){d.push(new xt(u[a],u[a+1]))}if(h!==undefined){p.push(new xt(h[a],h[a+1]))}}function o(e,t,n,i){var r=l!==undefined?[f[e].clone(),f[t].clone(),f[n].clone()]:[];var a=c!==undefined?[s.colors[e].clone(),s.colors[t].clone(),s.colors[n].clone()]:[];var o=new qr(e,t,n,r,a,i);s.faces.push(o);if(u!==undefined){s.faceVertexUvs[0].push([d[e].clone(),d[t].clone(),d[n].clone()])}if(h!==undefined){s.faceVertexUvs[1].push([p[e].clone(),p[t].clone(),p[n].clone()])}}var m=e.groups;if(m.length>0){for(var r=0;r<m.length;r++){var g=m[r];var v=g.start;var b=g.count;for(var a=v,y=v+b;a<y;a+=3){if(t!==undefined){o(t[a],t[a+1],t[a+2],g.materialIndex)}else{o(a,a+1,a+2,g.materialIndex)}}}}else{if(t!==undefined){for(var r=0;r<t.length;r+=3){o(t[r],t[r+1],t[r+2])}}else{for(var r=0;r<i.length/3;r+=3){o(r,r+1,r+2)}}}this.computeFaceNormals();if(e.boundingBox!==null){this.boundingBox=e.boundingBox.clone()}if(e.boundingSphere!==null){this.boundingSphere=e.boundingSphere.clone()}return this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();this.translate(e.x,e.y,e.z);return e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center;var t=this.boundingSphere.radius;var n=t===0?1:1/t;var i=new wt;i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1);this.applyMatrix(i);return this},computeFaceNormals:function(){var e=new Et,t=new Et;for(var n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];var a=this.vertices[r.a];var o=this.vertices[r.b];var s=this.vertices[r.c];e.subVectors(s,o);t.subVectors(a,o);e.cross(t);e.normalize();r.normal.copy(e)}},computeVertexNormals:function(e){if(e===undefined)e=true;var t,n,i,r,a,o;o=new Array(this.vertices.length);for(t=0,n=this.vertices.length;t<n;t++){o[t]=new Et}if(e){var s,l,c;var u=new Et,h=new Et;for(i=0,r=this.faces.length;i<r;i++){a=this.faces[i];s=this.vertices[a.a];l=this.vertices[a.b];c=this.vertices[a.c];u.subVectors(c,l);h.subVectors(s,l);u.cross(h);o[a.a].add(u);o[a.b].add(u);o[a.c].add(u)}}else{this.computeFaceNormals();for(i=0,r=this.faces.length;i<r;i++){a=this.faces[i];o[a.a].add(a.normal);o[a.b].add(a.normal);o[a.c].add(a.normal)}}for(t=0,n=this.vertices.length;t<n;t++){o[t].normalize()}for(i=0,r=this.faces.length;i<r;i++){a=this.faces[i];var f=a.vertexNormals;if(f.length===3){f[0].copy(o[a.a]);f[1].copy(o[a.b]);f[2].copy(o[a.c])}else{f[0]=o[a.a].clone();f[1]=o[a.b].clone();f[2]=o[a.c].clone()}}if(this.faces.length>0){this.normalsNeedUpdate=true}},computeFlatVertexNormals:function(){var e,t,n;this.computeFaceNormals();for(e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var i=n.vertexNormals;if(i.length===3){i[0].copy(n.normal);i[1].copy(n.normal);i[2].copy(n.normal)}else{i[0]=n.normal.clone();i[1]=n.normal.clone();i[2]=n.normal.clone()}}if(this.faces.length>0){this.normalsNeedUpdate=true}},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++){r=this.faces[n];if(!r.__originalFaceNormal){r.__originalFaceNormal=r.normal.clone()}else{r.__originalFaceNormal.copy(r.normal)}if(!r.__originalVertexNormals)r.__originalVertexNormals=[];for(e=0,t=r.vertexNormals.length;e<t;e++){if(!r.__originalVertexNormals[e]){r.__originalVertexNormals[e]=r.vertexNormals[e].clone()}else{r.__originalVertexNormals[e].copy(r.vertexNormals[e])}}}var a=new Yr;a.faces=this.faces;for(e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals;var s=this.morphNormals[e].vertexNormals;var l,c;for(n=0,i=this.faces.length;n<i;n++){l=new Et;c={a:new Et,b:new Et,c:new Et};o.push(l);s.push(c)}}var u=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices;a.computeFaceNormals();a.computeVertexNormals();var l,c;for(n=0,i=this.faces.length;n<i;n++){r=this.faces[n];l=u.faceNormals[n];c=u.vertexNormals[n];l.copy(r.normal);c.a.copy(r.vertexNormals[0]);c.b.copy(r.vertexNormals[1]);c.c.copy(r.vertexNormals[2])}}for(n=0,i=this.faces.length;n<i;n++){r=this.faces[n];r.normal=r.__originalFaceNormal;r.vertexNormals=r.__originalVertexNormals}},computeLineDistances:function(){var e=0;var t=this.vertices;for(var n=0,i=t.length;n<i;n++){if(n>0){e+=t[n].distanceTo(t[n-1])}this.lineDistances[n]=e}},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new Ir}this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){if(this.boundingSphere===null){this.boundingSphere=new Nr}this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}var i,r=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.faceVertexUvs[0],u=e.faceVertexUvs[0],h=this.colors,f=e.colors;if(n===undefined)n=0;if(t!==undefined){i=(new At).getNormalMatrix(t)}for(var d=0,p=o.length;d<p;d++){var m=o[d];var g=m.clone();if(t!==undefined)g.applyMatrix4(t);a.push(g)}for(var d=0,p=f.length;d<p;d++){h.push(f[d].clone())}for(d=0,p=l.length;d<p;d++){var v=l[d],b,y,x,w=v.vertexNormals,_=v.vertexColors;b=new qr(v.a+r,v.b+r,v.c+r);b.normal.copy(v.normal);if(i!==undefined){b.normal.applyMatrix3(i).normalize()}for(var E=0,A=w.length;E<A;E++){y=w[E].clone();if(i!==undefined){y.applyMatrix3(i).normalize()}b.vertexNormals.push(y)}b.color.copy(v.color);for(var E=0,A=_.length;E<A;E++){x=_[E];b.vertexColors.push(x.clone())}b.materialIndex=v.materialIndex+n;s.push(b)}for(d=0,p=u.length;d<p;d++){var C=u[d],S=[];if(C===undefined){continue}for(var E=0,A=C.length;E<A;E++){S.push(C[E].clone())}c.push(S)}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix();this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e={};var t=[],n=[];var i,r;var a=4;var o=Math.pow(10,a);var s,l,c;var u,h,f;for(s=0,l=this.vertices.length;s<l;s++){i=this.vertices[s];r=Math.round(i.x*o)+"_"+Math.round(i.y*o)+"_"+Math.round(i.z*o);if(e[r]===undefined){e[r]=s;t.push(this.vertices[s]);n[s]=t.length-1}else{n[s]=n[e[r]]}}var d=[];for(s=0,l=this.faces.length;s<l;s++){c=this.faces[s];c.a=n[c.a];c.b=n[c.b];c.c=n[c.c];u=[c.a,c.b,c.c];for(var p=0;p<3;p++){if(u[p]===u[(p+1)%3]){d.push(s);break}}}for(s=d.length-1;s>=0;s--){var m=d[s];this.faces.splice(m,1);for(h=0,f=this.faceVertexUvs.length;h<f;h++){this.faceVertexUvs[h].splice(m,1)}}var g=this.vertices.length-t.length;this.vertices=t;return g},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new Et(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){var e=this.faces;var t=e.length;for(var n=0;n<t;n++){e[n]._id=n}function i(e,t){return e.materialIndex-t.materialIndex}e.sort(i);var r=this.faceVertexUvs[0];var a=this.faceVertexUvs[1];var o,s;if(r&&r.length===t)o=[];if(a&&a.length===t)s=[];for(var n=0;n<t;n++){var l=e[n]._id;if(o)o.push(r[l]);if(s)s.push(a[l])}if(o)this.faceVertexUvs[0]=o;if(s)this.faceVertexUvs[1]=s},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;if(this.name!=="")e.name=this.name;if(this.parameters!==undefined){var t=this.parameters;for(var n in t){if(t[n]!==undefined)e[n]=t[n]}return e}var i=[];for(var r=0;r<this.vertices.length;r++){var a=this.vertices[r];i.push(a.x,a.y,a.z)}var o=[];var s=[];var l={};var c=[];var u={};var h=[];var f={};for(var r=0;r<this.faces.length;r++){var d=this.faces[r];var p=true;var m=false;var g=this.faceVertexUvs[0][r]!==undefined;var v=d.normal.length()>0;var b=d.vertexNormals.length>0;var y=d.color.r!==1||d.color.g!==1||d.color.b!==1;var x=d.vertexColors.length>0;var w=0;w=C(w,0,0);w=C(w,1,p);w=C(w,2,m);w=C(w,3,g);w=C(w,4,v);w=C(w,5,b);w=C(w,6,y);w=C(w,7,x);o.push(w);o.push(d.a,d.b,d.c);o.push(d.materialIndex);if(g){var _=this.faceVertexUvs[0][r];o.push(M(_[0]),M(_[1]),M(_[2]))}if(v){o.push(S(d.normal))}if(b){var E=d.vertexNormals;o.push(S(E[0]),S(E[1]),S(E[2]))}if(y){o.push(T(d.color))}if(x){var A=d.vertexColors;o.push(T(A[0]),T(A[1]),T(A[2]))}}function C(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();if(l[t]!==undefined){return l[t]}l[t]=s.length/3;s.push(e.x,e.y,e.z);return l[t]}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();if(u[t]!==undefined){return u[t]}u[t]=c.length;c.push(e.getHex());return u[t]}function M(e){var t=e.x.toString()+e.y.toString();if(f[t]!==undefined){return f[t]}f[t]=h.length/2;h.push(e.x,e.y);return f[t]}e.data={};e.data.vertices=i;e.data.normals=s;if(c.length>0)e.data.colors=c;if(h.length>0)e.data.uvs=[h];e.data.faces=o;return e},clone:function(){return(new Yr).copy(this)},copy:function(e){var t,n,i,r,a,o;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++){this.vertices.push(s[t].clone())}var l=e.colors;for(t=0,n=l.length;t<n;t++){this.colors.push(l[t].clone())}var c=e.faces;for(t=0,n=c.length;t<n;t++){this.faces.push(c[t].clone())}for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];if(this.faceVertexUvs[t]===undefined){this.faceVertexUvs[t]=[]}for(i=0,r=u.length;i<r;i++){var h=u[i],f=[];for(a=0,o=h.length;a<o;a++){var d=h[a];f.push(d.clone())}this.faceVertexUvs[t].push(f)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};m.name=p[t].name;if(p[t].vertices!==undefined){m.vertices=[];for(i=0,r=p[t].vertices.length;i<r;i++){m.vertices.push(p[t].vertices[i].clone())}}if(p[t].normals!==undefined){m.normals=[];for(i=0,r=p[t].normals.length;i<r;i++){m.normals.push(p[t].normals[i].clone())}}this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(g[t].vertexNormals!==undefined){v.vertexNormals=[];for(i=0,r=g[t].vertexNormals.length;i<r;i++){var b=g[t].vertexNormals[i];var y={};y.a=b.a.clone();y.b=b.b.clone();y.c=b.c.clone();v.vertexNormals.push(y)}}if(g[t].faceNormals!==undefined){v.faceNormals=[];for(i=0,r=g[t].faceNormals.length;i<r;i++){v.faceNormals.push(g[t].faceNormals[i].clone())}}this.morphNormals.push(v)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++){this.skinWeights.push(x[t].clone())}var w=e.skinIndices;for(t=0,n=w.length;t<n;t++){this.skinIndices.push(w[t].clone())}var _=e.lineDistances;for(t=0,n=_.length;t<n;t++){this.lineDistances.push(_[t])}var E=e.boundingBox;if(E!==null){this.boundingBox=E.clone()}var A=e.boundingSphere;if(A!==null){this.boundingSphere=A.clone()}this.elementsNeedUpdate=e.elementsNeedUpdate;this.verticesNeedUpdate=e.verticesNeedUpdate;this.uvsNeedUpdate=e.uvsNeedUpdate;this.normalsNeedUpdate=e.normalsNeedUpdate;this.colorsNeedUpdate=e.colorsNeedUpdate;this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate;this.groupsNeedUpdate=e.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Kr(e,t,n){if(Array.isArray(e)){throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.")}this.uuid=yt.generateUUID();this.name="";this.array=e;this.itemSize=t;this.count=e!==undefined?e.length/t:0;this.normalized=n===true;this.dynamic=false;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}Object.defineProperty(Kr.prototype,"needsUpdate",{set:function(e){if(e===true)this.version++}});Object.assign(Kr.prototype,{isBufferAttribute:true,setArray:function(e){if(Array.isArray(e)){throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.")}this.count=e!==undefined?e.length/this.itemSize:0;this.array=e},setDynamic:function(e){this.dynamic=e;return this},copy:function(e){this.array=new e.array.constructor(e.array);this.itemSize=e.itemSize;this.count=e.count;this.normalized=e.normalized;this.dynamic=e.dynamic;return this},copyAt:function(e,t,n){e*=this.itemSize;n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++){this.array[e+i]=t.array[n+i]}return this},copyArray:function(e){this.array.set(e);return this},copyColorsArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(a===undefined){console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i);a=new wn}t[n++]=a.r;t[n++]=a.g;t[n++]=a.b}return this},copyIndicesArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];t[n++]=a.a;t[n++]=a.b;t[n++]=a.c}return this},copyVector2sArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(a===undefined){console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i);a=new xt}t[n++]=a.x;t[n++]=a.y}return this},copyVector3sArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(a===undefined){console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i);a=new Et}t[n++]=a.x;t[n++]=a.y;t[n++]=a.z}return this},copyVector4sArray:function(e){var t=this.array,n=0;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(a===undefined){console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i);a=new Tt}t[n++]=a.x;t[n++]=a.y;t[n++]=a.z;t[n++]=a.w}return this},set:function(e,t){if(t===undefined)t=0;this.array.set(e,t);return this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){this.array[e*this.itemSize]=t;return this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){this.array[e*this.itemSize+1]=t;return this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){this.array[e*this.itemSize+2]=t;return this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){this.array[e*this.itemSize+3]=t;return this},setXY:function(e,t,n){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=n;return this},setXYZ:function(e,t,n,i){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=n;this.array[e+2]=i;return this},setXYZW:function(e,t,n,i,r){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=n;this.array[e+2]=i;this.array[e+3]=r;return this},onUpload:function(e){this.onUploadCallback=e;return this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}});function Zr(e,t,n){Kr.call(this,new Int8Array(e),t,n)}Zr.prototype=Object.create(Kr.prototype);Zr.prototype.constructor=Zr;function Qr(e,t,n){Kr.call(this,new Uint8Array(e),t,n)}Qr.prototype=Object.create(Kr.prototype);Qr.prototype.constructor=Qr;function Jr(e,t,n){Kr.call(this,new Uint8ClampedArray(e),t,n)}Jr.prototype=Object.create(Kr.prototype);Jr.prototype.constructor=Jr;function ea(e,t,n){Kr.call(this,new Int16Array(e),t,n)}ea.prototype=Object.create(Kr.prototype);ea.prototype.constructor=ea;function ta(e,t,n){Kr.call(this,new Uint16Array(e),t,n)}ta.prototype=Object.create(Kr.prototype);ta.prototype.constructor=ta;function na(e,t,n){Kr.call(this,new Int32Array(e),t,n)}na.prototype=Object.create(Kr.prototype);na.prototype.constructor=na;function ia(e,t,n){Kr.call(this,new Uint32Array(e),t,n)}ia.prototype=Object.create(Kr.prototype);ia.prototype.constructor=ia;function ra(e,t,n){Kr.call(this,new Float32Array(e),t,n)}ra.prototype=Object.create(Kr.prototype);ra.prototype.constructor=ra;function aa(e,t,n){Kr.call(this,new Float64Array(e),t,n)}aa.prototype=Object.create(Kr.prototype);aa.prototype.constructor=aa;function oa(){this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingBox=null;this.boundingSphere=null;this.verticesNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.uvsNeedUpdate=false;this.groupsNeedUpdate=false}Object.assign(oa.prototype,{computeGroups:function(e){var t;var n=[];var i=undefined;var r=e.faces;for(var a=0;a<r.length;a++){var o=r[a];if(o.materialIndex!==i){i=o.materialIndex;if(t!==undefined){t.count=a*3-t.start;n.push(t)}t={start:a*3,materialIndex:i}}}if(t!==undefined){t.count=a*3-t.start;n.push(t)}this.groups=n},fromGeometry:function(e){var t=e.faces;var n=e.vertices;var i=e.faceVertexUvs;var r=i[0]&&i[0].length>0;var a=i[1]&&i[1].length>0;var o=e.morphTargets;var s=o.length;var l;if(s>0){l=[];for(var c=0;c<s;c++){l[c]=[]}this.morphTargets.position=l}var u=e.morphNormals;var h=u.length;var f;if(h>0){f=[];for(var c=0;c<h;c++){f[c]=[]}this.morphTargets.normal=f}var d=e.skinIndices;var p=e.skinWeights;var m=d.length===n.length;var g=p.length===n.length;for(var c=0;c<t.length;c++){var v=t[c];this.vertices.push(n[v.a],n[v.b],n[v.c]);var b=v.vertexNormals;if(b.length===3){this.normals.push(b[0],b[1],b[2])}else{var y=v.normal;this.normals.push(y,y,y)}var x=v.vertexColors;if(x.length===3){this.colors.push(x[0],x[1],x[2])}else{var w=v.color;this.colors.push(w,w,w)}if(r===true){var _=i[0][c];if(_!==undefined){this.uvs.push(_[0],_[1],_[2])}else{console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c);this.uvs.push(new xt,new xt,new xt)}}if(a===true){var _=i[1][c];if(_!==undefined){this.uvs2.push(_[0],_[1],_[2])}else{console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c);this.uvs2.push(new xt,new xt,new xt)}}for(var E=0;E<s;E++){var A=o[E].vertices;l[E].push(A[v.a],A[v.b],A[v.c])}for(var E=0;E<h;E++){var C=u[E].vertexNormals[c];f[E].push(C.a,C.b,C.c)}if(m){this.skinIndices.push(d[v.a],d[v.b],d[v.c])}if(g){this.skinWeights.push(p[v.a],p[v.b],p[v.c])}}this.computeGroups(e);this.verticesNeedUpdate=e.verticesNeedUpdate;this.normalsNeedUpdate=e.normalsNeedUpdate;this.colorsNeedUpdate=e.colorsNeedUpdate;this.uvsNeedUpdate=e.uvsNeedUpdate;this.groupsNeedUpdate=e.groupsNeedUpdate;return this}});function sa(e){if(e.length===0)return-Infinity;var t=e[0];for(var n=1,i=e.length;n<i;++n){if(e[n]>t)t=e[n]}return t}var la=1;function ca(){Object.defineProperty(this,"id",{value:la+=2});this.uuid=yt.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;this.drawRange={start:0,count:Infinity}}Object.assign(ca.prototype,t.prototype,{isBufferGeometry:true,getIndex:function(){return this.index},setIndex:function(e){if(Array.isArray(e)){this.index=new(sa(e)>65535?ia:ta)(e,1)}else{this.index=e}},addAttribute:function(e,t){if(!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)){console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).");this.addAttribute(e,new Kr(arguments[1],arguments[2]));return}if(e==="index"){console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.");this.setIndex(t);return}this.attributes[e]=t;return this},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){delete this.attributes[e];return this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==undefined?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e;this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;if(t!==undefined){e.applyToBufferAttribute(t);t.needsUpdate=true}var n=this.attributes.normal;if(n!==undefined){var i=(new At).getNormalMatrix(e);i.applyToBufferAttribute(n);n.needsUpdate=true}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}return this},rotateX:function(){var n=new wt;return function e(t){n.makeRotationX(t);this.applyMatrix(n);return this}}(),rotateY:function(){var n=new wt;return function e(t){n.makeRotationY(t);this.applyMatrix(n);return this}}(),rotateZ:function(){var n=new wt;return function e(t){n.makeRotationZ(t);this.applyMatrix(n);return this}}(),translate:function(){var r=new wt;return function e(t,n,i){r.makeTranslation(t,n,i);this.applyMatrix(r);return this}}(),scale:function(){var r=new wt;return function e(t,n,i){r.makeScale(t,n,i);this.applyMatrix(r);return this}}(),lookAt:function(){var n=new Wr;return function e(t){n.lookAt(t);n.updateMatrix();this.applyMatrix(n.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();this.translate(e.x,e.y,e.z);return e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new ra(t.vertices.length*3,3);var i=new ra(t.colors.length*3,3);this.addAttribute("position",n.copyVector3sArray(t.vertices));this.addAttribute("color",i.copyColorsArray(t.colors));if(t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new ra(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}if(t.boundingSphere!==null){this.boundingSphere=t.boundingSphere.clone()}if(t.boundingBox!==null){this.boundingBox=t.boundingBox.clone()}}else if(e.isMesh){if(t&&t.isGeometry){this.fromGeometry(t)}}return this},setFromPoints:function(e){var t=[];for(var n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}this.addAttribute("position",new ra(t,3));return this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(t.elementsNeedUpdate===true){n=undefined;t.elementsNeedUpdate=false}if(n===undefined){return this.fromGeometry(t)}n.verticesNeedUpdate=t.verticesNeedUpdate;n.normalsNeedUpdate=t.normalsNeedUpdate;n.colorsNeedUpdate=t.colorsNeedUpdate;n.uvsNeedUpdate=t.uvsNeedUpdate;n.groupsNeedUpdate=t.groupsNeedUpdate;t.verticesNeedUpdate=false;t.normalsNeedUpdate=false;t.colorsNeedUpdate=false;t.uvsNeedUpdate=false;t.groupsNeedUpdate=false;t=n}var i;if(t.verticesNeedUpdate===true){i=this.attributes.position;if(i!==undefined){i.copyVector3sArray(t.vertices);i.needsUpdate=true}t.verticesNeedUpdate=false}if(t.normalsNeedUpdate===true){i=this.attributes.normal;if(i!==undefined){i.copyVector3sArray(t.normals);i.needsUpdate=true}t.normalsNeedUpdate=false}if(t.colorsNeedUpdate===true){i=this.attributes.color;if(i!==undefined){i.copyColorsArray(t.colors);i.needsUpdate=true}t.colorsNeedUpdate=false}if(t.uvsNeedUpdate){i=this.attributes.uv;if(i!==undefined){i.copyVector2sArray(t.uvs);i.needsUpdate=true}t.uvsNeedUpdate=false}if(t.lineDistancesNeedUpdate){i=this.attributes.lineDistance;if(i!==undefined){i.copyArray(t.lineDistances);i.needsUpdate=true}t.lineDistancesNeedUpdate=false}if(t.groupsNeedUpdate){t.computeGroups(e.geometry);this.groups=t.groups;t.groupsNeedUpdate=false}return this},fromGeometry:function(e){e.__directGeometry=(new oa).fromGeometry(e);return this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(e.vertices.length*3);this.addAttribute("position",new Kr(t,3).copyVector3sArray(e.vertices));if(e.normals.length>0){var n=new Float32Array(e.normals.length*3);this.addAttribute("normal",new Kr(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(e.colors.length*3);this.addAttribute("color",new Kr(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(e.uvs.length*2);this.addAttribute("uv",new Kr(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(e.uvs2.length*2);this.addAttribute("uv2",new Kr(a,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var o=sa(e.indices)>65535?Uint32Array:Uint16Array;var s=new o(e.indices.length*3);this.setIndex(new Kr(s,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var l in e.morphTargets){var c=[];var u=e.morphTargets[l];for(var h=0,f=u.length;h<f;h++){var d=u[h];var p=new ra(d.length*3,3);c.push(p.copyVector3sArray(d))}this.morphAttributes[l]=c}if(e.skinIndices.length>0){var m=new ra(e.skinIndices.length*4,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new ra(e.skinWeights.length*4,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}if(e.boundingSphere!==null){this.boundingSphere=e.boundingSphere.clone()}if(e.boundingBox!==null){this.boundingBox=e.boundingBox.clone()}return this},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new Ir}var e=this.attributes.position;if(e!==undefined){this.boundingBox.setFromBufferAttribute(e)}else{this.boundingBox.makeEmpty()}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},computeBoundingSphere:function(){var o=new Ir;var s=new Et;return function e(){if(this.boundingSphere===null){this.boundingSphere=new Nr}var t=this.attributes.position;if(t){var n=this.boundingSphere.center;o.setFromBufferAttribute(t);o.getCenter(n);var i=0;for(var r=0,a=t.count;r<a;r++){s.x=t.getX(r);s.y=t.getY(r);s.z=t.getZ(r);i=Math.max(i,n.distanceToSquared(s))}this.boundingSphere.radius=Math.sqrt(i);if(isNaN(this.boundingSphere.radius)){console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index;var t=this.attributes;var n=this.groups;if(t.position){var i=t.position.array;if(t.normal===undefined){this.addAttribute("normal",new Kr(new Float32Array(i.length),3))}else{var r=t.normal.array;for(var a=0,o=r.length;a<o;a++){r[a]=0}}var s=t.normal.array;var l,c,u;var h=new Et,f=new Et,d=new Et;var p=new Et,m=new Et;if(e){var g=e.array;if(n.length===0){this.addGroup(0,g.length)}for(var v=0,b=n.length;v<b;++v){var y=n[v];var x=y.start;var w=y.count;for(var a=x,o=x+w;a<o;a+=3){l=g[a+0]*3;c=g[a+1]*3;u=g[a+2]*3;h.fromArray(i,l);f.fromArray(i,c);d.fromArray(i,u);p.subVectors(d,f);m.subVectors(h,f);p.cross(m);s[l]+=p.x;s[l+1]+=p.y;s[l+2]+=p.z;s[c]+=p.x;s[c+1]+=p.y;s[c+2]+=p.z;s[u]+=p.x;s[u+1]+=p.y;s[u+2]+=p.z}}}else{for(var a=0,o=i.length;a<o;a+=9){h.fromArray(i,a);f.fromArray(i,a+3);d.fromArray(i,a+6);p.subVectors(d,f);m.subVectors(h,f);p.cross(m);s[a]=p.x;s[a+1]=p.y;s[a+2]=p.z;s[a+3]=p.x;s[a+4]=p.y;s[a+5]=p.z;s[a+6]=p.x;s[a+7]=p.y;s[a+8]=p.z}}this.normalizeNormals();t.normal.needsUpdate=true}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}if(t===undefined)t=0;var n=this.attributes;for(var i in n){if(e.attributes[i]===undefined)continue;var r=n[i];var a=r.array;var o=e.attributes[i];var s=o.array;var l=o.itemSize;for(var c=0,u=l*t;c<s.length;c++,u++){a[u]=s[c]}}return this},normalizeNormals:function(){var r=new Et;return function e(){var t=this.attributes.normal;for(var n=0,i=t.count;n<i;n++){r.x=t.getX(n);r.y=t.getY(n);r.z=t.getZ(n);r.normalize();t.setXYZ(n,r.x,r.y,r.z)}}}(),toNonIndexed:function(){if(this.index===null){console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.");return this}var e=new ca;var t=this.index.array;var n=this.attributes;for(var i in n){var r=n[i];var a=r.array;var o=r.itemSize;var s=new a.constructor(t.length*o);var l=0,c=0;for(var u=0,h=t.length;u<h;u++){l=t[u]*o;for(var f=0;f<o;f++){s[c++]=a[l++]}}e.addAttribute(i,new Kr(s,o))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;if(this.name!=="")e.name=this.name;if(this.parameters!==undefined){var t=this.parameters;for(var n in t){if(t[n]!==undefined)e[n]=t[n]}return e}e.data={attributes:{}};var i=this.index;if(i!==null){var r=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:r}}var a=this.attributes;for(var n in a){var o=a[n];var r=Array.prototype.slice.call(o.array);e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;if(s.length>0){e.data.groups=JSON.parse(JSON.stringify(s))}var l=this.boundingSphere;if(l!==null){e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}}return e},clone:function(){return(new ca).copy(this)},copy:function(e){var t,n,i;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;this.name=e.name;var r=e.index;if(r!==null){this.setIndex(r.clone())}var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var l=[];var c=s[t];for(n=0,i=c.length;n<i;n++){l.push(c[n].clone())}this.morphAttributes[t]=l}var u=e.groups;for(n=0,i=u.length;n<i;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var f=e.boundingBox;if(f!==null){this.boundingBox=f.clone()}var d=e.boundingSphere;if(d!==null){this.boundingSphere=d.clone()}this.drawRange.start=e.drawRange.start;this.drawRange.count=e.drawRange.count;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function ua(e,t,n,i,r,a){Yr.call(this);this.type="BoxGeometry";this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};this.fromBufferGeometry(new ha(e,t,n,i,r,a));this.mergeVertices()}ua.prototype=Object.create(Yr.prototype);ua.prototype.constructor=ua;function ha(e,t,n,i,r,a){ca.call(this);this.type="BoxBufferGeometry";this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};var k=this;e=e||1;t=t||1;n=n||1;i=Math.floor(i)||1;r=Math.floor(r)||1;a=Math.floor(a)||1;var D=[];var L=[];var R=[];var F=[];var P=0;var I=0;o("z","y","x",-1,-1,n,t,e,a,r,0);o("z","y","x",1,-1,n,t,-e,a,r,1);o("x","z","y",1,1,e,n,t,i,a,2);o("x","z","y",1,-1,e,n,-t,i,a,3);o("x","y","z",1,-1,e,t,n,i,r,4);o("x","y","z",-1,-1,e,t,-n,i,r,5);this.setIndex(D);this.addAttribute("position",new ra(L,3));this.addAttribute("normal",new ra(R,3));this.addAttribute("uv",new ra(F,2));function o(e,t,n,i,r,a,o,s,l,c,u){var h=a/l;var f=o/c;var d=a/2;var p=o/2;var m=s/2;var g=l+1;var v=c+1;var b=0;var y=0;var x,w;var _=new Et;for(w=0;w<v;w++){var E=w*f-p;for(x=0;x<g;x++){var A=x*h-d;_[e]=A*i;_[t]=E*r;_[n]=m;L.push(_.x,_.y,_.z);_[e]=0;_[t]=0;_[n]=s>0?1:-1;R.push(_.x,_.y,_.z);F.push(x/l);F.push(1-w/c);b+=1}}for(w=0;w<c;w++){for(x=0;x<l;x++){var C=P+x+g*w;var S=P+x+g*(w+1);var T=P+(x+1)+g*(w+1);var M=P+(x+1)+g*w;D.push(C,S,M);D.push(S,T,M);y+=6}}k.addGroup(I,y,u);I+=y;P+=b}}ha.prototype=Object.create(ca.prototype);ha.prototype.constructor=ha;function fa(e,t,n,i){Yr.call(this);this.type="PlaneGeometry";this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};this.fromBufferGeometry(new da(e,t,n,i));this.mergeVertices()}fa.prototype=Object.create(Yr.prototype);fa.prototype.constructor=fa;function da(e,t,n,i){ca.call(this);this.type="PlaneBufferGeometry";this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};e=e||1;t=t||1;var r=e/2;var a=t/2;var o=Math.floor(n)||1;var s=Math.floor(i)||1;var l=o+1;var c=s+1;var u=e/o;var h=t/s;var f,d;var p=[];var m=[];var g=[];var v=[];for(d=0;d<c;d++){var b=d*h-a;for(f=0;f<l;f++){var y=f*u-r;m.push(y,-b,0);g.push(0,0,1);v.push(f/o);v.push(1-d/s)}}for(d=0;d<s;d++){for(f=0;f<o;f++){var x=f+l*d;var w=f+l*(d+1);var _=f+1+l*(d+1);var E=f+1+l*d;p.push(x,w,E);p.push(w,_,E)}}this.setIndex(p);this.addAttribute("position",new ra(m,3));this.addAttribute("normal",new ra(g,3));this.addAttribute("uv",new ra(v,2))}da.prototype=Object.create(ca.prototype);da.prototype.constructor=da;function pa(e){Rr.call(this);this.type="MeshBasicMaterial";this.color=new wn(16777215);this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=R;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.lights=false;this.setValues(e)}pa.prototype=Object.create(Rr.prototype);pa.prototype.constructor=pa;pa.prototype.isMeshBasicMaterial=true;pa.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;return this};function ma(e){Rr.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.clipping=false;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.extensions={derivatives:false,fragDepth:false,drawBuffers:false,shaderTextureLOD:false};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=undefined;if(e!==undefined){if(e.attributes!==undefined){console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.")}this.setValues(e)}}ma.prototype=Object.create(Rr.prototype);ma.prototype.constructor=ma;ma.prototype.isShaderMaterial=true;ma.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.fragmentShader=e.fragmentShader;this.vertexShader=e.vertexShader;this.uniforms=En.clone(e.uniforms);this.defines=e.defines;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.lights=e.lights;this.clipping=e.clipping;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;this.extensions=e.extensions;return this};ma.prototype.toJSON=function(e){var t=Rr.prototype.toJSON.call(this,e);t.uniforms=this.uniforms;t.vertexShader=this.vertexShader;t.fragmentShader=this.fragmentShader;return t};function ga(e,t){this.origin=e!==undefined?e:new Et;this.direction=t!==undefined?t:new Et}Object.assign(ga.prototype,{set:function(e,t){this.origin.copy(e);this.direction.copy(t);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.origin.copy(e.origin);this.direction.copy(e.direction);return this},at:function(e,t){var n=t||new Et;return n.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){this.direction.copy(e).sub(this.origin).normalize();return this},recast:function(){var n=new Et;return function e(t){this.origin.copy(this.at(t,n));return this}}(),closestPointToPoint:function(e,t){var n=t||new Et;n.subVectors(e,this.origin);var i=n.dot(this.direction);if(i<0){return n.copy(this.origin)}return n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var i=new Et;return function e(t){var n=i.subVectors(t,this.origin).dot(this.direction);if(n<0){return this.origin.distanceToSquared(t)}i.copy(this.direction).multiplyScalar(n).add(this.origin);return i.distanceToSquared(t)}}(),distanceSqToSegment:function(){var g=new Et;var v=new Et;var b=new Et;return function e(t,n,i,r){g.copy(t).add(n).multiplyScalar(.5);v.copy(n).sub(t).normalize();b.copy(this.origin).sub(g);var a=t.distanceTo(n)*.5;var o=-this.direction.dot(v);var s=b.dot(this.direction);var l=-b.dot(v);var c=b.lengthSq();var u=Math.abs(1-o*o);var h,f,d,p;if(u>0){h=o*l-s;f=o*s-l;p=a*u;if(h>=0){if(f>=-p){if(f<=p){var m=1/u;h*=m;f*=m;d=h*(h+o*f+2*s)+f*(o*h+f+2*l)+c}else{f=a;h=Math.max(0,-(o*f+s));d=-h*h+f*(f+2*l)+c}}else{f=-a;h=Math.max(0,-(o*f+s));d=-h*h+f*(f+2*l)+c}}else{if(f<=-p){h=Math.max(0,-(-o*a+s));f=h>0?-a:Math.min(Math.max(-a,-l),a);d=-h*h+f*(f+2*l)+c}else if(f<=p){h=0;f=Math.min(Math.max(-a,-l),a);d=f*(f+2*l)+c}else{h=Math.max(0,-(o*a+s));f=h>0?a:Math.min(Math.max(-a,-l),a);d=-h*h+f*(f+2*l)+c}}}else{f=o>0?-a:a;h=Math.max(0,-(o*f+s));d=-h*h+f*(f+2*l)+c}if(i){i.copy(this.direction).multiplyScalar(h).add(this.origin)}if(r){r.copy(v).multiplyScalar(f).add(g)}return d}}(),intersectSphere:function(){var c=new Et;return function e(t,n){c.subVectors(t.center,this.origin);var i=c.dot(this.direction);var r=c.dot(c)-i*i;var a=t.radius*t.radius;if(r>a)return null;var o=Math.sqrt(a-r);var s=i-o;var l=i+o;if(s<0&&l<0)return null;if(s<0)return this.at(l,n);return this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(t===0){if(e.distanceToPoint(this.origin)===0){return 0}return null}var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);if(n===null){return null}return this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(t===0){return true}var n=e.normal.dot(this.direction);if(n*t<0){return true}return false},intersectBox:function(e,t){var n,i,r,a,o,s;var l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z;var h=this.origin;if(l>=0){n=(e.min.x-h.x)*l;i=(e.max.x-h.x)*l}else{n=(e.max.x-h.x)*l;i=(e.min.x-h.x)*l}if(c>=0){r=(e.min.y-h.y)*c;a=(e.max.y-h.y)*c}else{r=(e.max.y-h.y)*c;a=(e.min.y-h.y)*c}if(n>a||r>i)return null;if(r>n||n!==n)n=r;if(a<i||i!==i)i=a;if(u>=0){o=(e.min.z-h.z)*u;s=(e.max.z-h.z)*u}else{o=(e.max.z-h.z)*u;s=(e.min.z-h.z)*u}if(n>s||o>i)return null;if(o>n||n!==n)n=o;if(s<i||i!==i)i=s;if(i<0)return null;return this.at(n>=0?n:i,t)},intersectsBox:function(){var n=new Et;return function e(t){return this.intersectBox(t,n)!==null}}(),intersectTriangle:function(){var h=new Et;var f=new Et;var d=new Et;var p=new Et;return function e(t,n,i,r,a){f.subVectors(n,t);d.subVectors(i,t);p.crossVectors(f,d);var o=this.direction.dot(p);var s;if(o>0){if(r)return null;s=1}else if(o<0){s=-1;o=-o}else{return null}h.subVectors(this.origin,t);var l=s*this.direction.dot(d.crossVectors(h,d));if(l<0){return null}var c=s*this.direction.dot(f.cross(h));if(c<0){return null}if(l+c>o){return null}var u=-s*h.dot(p);if(u<0){return null}return this.at(u/o,a)}}(),applyMatrix4:function(e){this.origin.applyMatrix4(e);this.direction.transformDirection(e);return this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});function va(e,t){this.start=e!==undefined?e:new Et;this.end=t!==undefined?t:new Et}Object.assign(va.prototype,{set:function(e,t){this.start.copy(e);this.end.copy(t);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.start.copy(e.start);this.end.copy(e.end);return this},getCenter:function(e){var t=e||new Et;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new Et;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new Et;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var o=new Et;var s=new Et;return function e(t,n){o.subVectors(t,this.start);s.subVectors(this.end,this.start);var i=s.dot(s);var r=s.dot(o);var a=r/i;if(n){a=yt.clamp(a,0,1)}return a}}(),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t);var r=n||new Et;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){this.start.applyMatrix4(e);this.end.applyMatrix4(e);return this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function ba(e,t,n){this.a=e!==undefined?e:new Et;this.b=t!==undefined?t:new Et;this.c=n!==undefined?n:new Et}Object.assign(ba,{normal:function(){var s=new Et;return function e(t,n,i,r){var a=r||new Et;a.subVectors(i,n);s.subVectors(t,n);a.cross(s);var o=a.lengthSq();if(o>0){return a.multiplyScalar(1/Math.sqrt(o))}return a.set(0,0,0)}}(),barycoordFromPoint:function(){var g=new Et;var v=new Et;var b=new Et;return function e(t,n,i,r,a){g.subVectors(r,n);v.subVectors(i,n);b.subVectors(t,n);var o=g.dot(g);var s=g.dot(v);var l=g.dot(b);var c=v.dot(v);var u=v.dot(b);var h=o*c-s*s;var f=a||new Et;if(h===0){return f.set(-2,-1,-1)}var d=1/h;var p=(c*l-s*u)*d;var m=(o*u-s*l)*d;return f.set(1-p-m,m,p)}}(),containsPoint:function(){var o=new Et;return function e(t,n,i,r){var a=ba.barycoordFromPoint(t,n,i,r,o);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}()});Object.assign(ba.prototype,{set:function(e,t,n){this.a.copy(e);this.b.copy(t);this.c.copy(n);return this},setFromPointsAndIndices:function(e,t,n,i){this.a.copy(e[t]);this.b.copy(e[n]);this.c.copy(e[i]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a.copy(e.a);this.b.copy(e.b);this.c.copy(e.c);return this},area:function(){var t=new Et;var n=new Et;return function e(){t.subVectors(this.c,this.b);n.subVectors(this.a,this.b);return t.cross(n).length()*.5}}(),midpoint:function(e){var t=e||new Et;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return ba.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new Or;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return ba.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return ba.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var s=new Or;var l=[new va,new va,new va];var c=new Et;var u=new Et;return function e(t,n){var i=n||new Et;var r=Infinity;s.setFromCoplanarPoints(this.a,this.b,this.c);s.projectPoint(t,c);if(this.containsPoint(c)===true){i.copy(c)}else{l[0].set(this.a,this.b);l[1].set(this.b,this.c);l[2].set(this.c,this.a);for(var a=0;a<l.length;a++){l[a].closestPointToPoint(c,true,u);var o=c.distanceToSquared(u);if(o<r){r=o;i.copy(u)}}}return i}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});function ya(e,t){Wr.call(this);this.type="Mesh";this.geometry=e!==undefined?e:new ca;this.material=t!==undefined?t:new pa({color:Math.random()*16777215});this.drawMode=ot;this.updateMorphTargets()}ya.prototype=Object.assign(Object.create(Wr.prototype),{constructor:ya,isMesh:true,setDrawMode:function(e){this.drawMode=e},copy:function(e){Wr.prototype.copy.call(this,e);this.drawMode=e.drawMode;if(e.morphTargetInfluences!==undefined){this.morphTargetInfluences=e.morphTargetInfluences.slice()}if(e.morphTargetDictionary!==undefined){this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)}return this},updateMorphTargets:function(){var e=this.geometry;var t,n,i;if(e.isBufferGeometry){var r=e.morphAttributes;var a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(o!==undefined){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(t=0,n=o.length;t<n;t++){i=o[t].name||String(t);this.morphTargetInfluences.push(0);this.morphTargetDictionary[i]=t}}}}else{var s=e.morphTargets;if(s!==undefined&&s.length>0){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(t=0,n=s.length;t<n;t++){i=s[t].name||String(t);this.morphTargetInfluences.push(0);this.morphTargetDictionary[i]=t}}}},raycast:function(){var P=new wt;var I=new ga;var N=new Nr;var O=new Et;var B=new Et;var z=new Et;var U=new Et;var H=new Et;var j=new Et;var $=new xt;var W=new xt;var V=new xt;var s=new Et;var G=new Et;var u=new Et;function q(e,t,n,i,r,a,o){ba.barycoordFromPoint(e,t,n,i,s);r.multiplyScalar(s.x);a.multiplyScalar(s.y);o.multiplyScalar(s.z);r.add(a).add(o);return r.clone()}function X(e,t,n,i,r,a,o,s){var l;if(t.side===ce){l=i.intersectTriangle(o,a,r,true,s)}else{l=i.intersectTriangle(r,a,o,t.side!==ue,s)}if(l===null)return null;u.copy(s);u.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(u);if(c<n.near||c>n.far)return null;return{distance:c,point:u.clone(),object:e}}function Y(e,t,n,i,r,a,o,s){O.fromBufferAttribute(i,a);B.fromBufferAttribute(i,o);z.fromBufferAttribute(i,s);var l=X(e,e.material,t,n,O,B,z,G);if(l){if(r){$.fromBufferAttribute(r,a);W.fromBufferAttribute(r,o);V.fromBufferAttribute(r,s);l.uv=q(G,O,B,z,$,W,V)}l.face=new qr(a,o,s,ba.normal(O,B,z));l.faceIndex=a}return l}return function e(t,n){var i=this.geometry;var r=this.material;var a=this.matrixWorld;if(r===undefined)return;if(i.boundingSphere===null)i.computeBoundingSphere();N.copy(i.boundingSphere);N.applyMatrix4(a);if(t.ray.intersectsSphere(N)===false)return;P.getInverse(a);I.copy(t.ray).applyMatrix4(P);if(i.boundingBox!==null){if(I.intersectsBox(i.boundingBox)===false)return}var o;if(i.isBufferGeometry){var s,l,c;var u=i.index;var h=i.attributes.position;var f=i.attributes.uv;var d,p;if(u!==null){for(d=0,p=u.count;d<p;d+=3){s=u.getX(d);l=u.getX(d+1);c=u.getX(d+2);o=Y(this,t,I,h,f,s,l,c);if(o){o.faceIndex=Math.floor(d/3);n.push(o)}}}else if(h!==undefined){for(d=0,p=h.count;d<p;d+=3){s=d;l=d+1;c=d+2;o=Y(this,t,I,h,f,s,l,c);if(o){o.index=s;n.push(o)}}}}else if(i.isGeometry){var m,g,v;var b=Array.isArray(r);var y=i.vertices;var x=i.faces;var w;var _=i.faceVertexUvs[0];if(_.length>0)w=_;for(var E=0,A=x.length;E<A;E++){var C=x[E];var S=b?r[C.materialIndex]:r;if(S===undefined)continue;m=y[C.a];g=y[C.b];v=y[C.c];if(S.morphTargets===true){var T=i.morphTargets;var M=this.morphTargetInfluences;O.set(0,0,0);B.set(0,0,0);z.set(0,0,0);for(var k=0,D=T.length;k<D;k++){var L=M[k];if(L===0)continue;var R=T[k].vertices;O.addScaledVector(U.subVectors(R[C.a],m),L);B.addScaledVector(H.subVectors(R[C.b],g),L);z.addScaledVector(j.subVectors(R[C.c],v),L)}O.add(m);B.add(g);z.add(v);m=O;g=B;v=z}o=X(this,S,t,I,m,g,v,G);if(o){if(w&&w[E]){var F=w[E];$.copy(F[0]);W.copy(F[1]);V.copy(F[2]);o.uv=q(G,m,g,v,$,W,V)}o.face=C;o.faceIndex=E;n.push(o)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function xa(a,n,o,i){var s=new wn(0);var l=0;var c,u;var h;function e(e,t,n,i){var r=t.background;if(r===null){f(s,l)}else if(r&&r.isColor){f(r,1);i=true}if(a.autoClear||i){a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil)}if(r&&r.isCubeTexture){if(h===undefined){h=new ya(new ha(1,1,1),new ma({uniforms:Sr.cube.uniforms,vertexShader:Sr.cube.vertexShader,fragmentShader:Sr.cube.fragmentShader,side:ce,depthTest:true,depthWrite:false,fog:false}));h.geometry.removeAttribute("normal");h.geometry.removeAttribute("uv");h.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)};o.update(h.geometry)}h.material.uniforms.tCube.value=r;e.push(h,h.geometry,h.material,0,null)}else if(r&&r.isTexture){if(c===undefined){c=new Gr(-1,1,1,-1,0,1);u=new ya(new da(2,2),new pa({depthTest:false,depthWrite:false,fog:false}));o.update(u.geometry)}u.material.map=r;a.renderBufferDirect(c,null,u.geometry,u.material,u,null)}}function f(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e);l=t!==undefined?t:1;f(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e;f(s,l)},render:e}}function wa(e,t){if(e.renderOrder!==t.renderOrder){return e.renderOrder-t.renderOrder}else if(e.program&&t.program&&e.program!==t.program){return e.program.id-t.program.id}else if(e.material.id!==t.material.id){return e.material.id-t.material.id}else if(e.z!==t.z){return e.z-t.z}else{return e.id-t.id}}function _a(e,t){if(e.renderOrder!==t.renderOrder){return e.renderOrder-t.renderOrder}if(e.z!==t.z){return t.z-e.z}else{return e.id-t.id}}function Ea(){var o=[];var s=0;var l=[];var c=[];function e(){s=0;l.length=0;c.length=0}function t(e,t,n,i,r){var a=o[s];if(a===undefined){a={id:e.id,object:e,geometry:t,material:n,program:n.program,renderOrder:e.renderOrder,z:i,group:r};o[s]=a}else{a.id=e.id;a.object=e;a.geometry=t;a.material=n;a.program=n.program;a.renderOrder=e.renderOrder;a.z=i;a.group=r}(n.transparent===true?c:l).push(a);s++}function n(){if(l.length>1)l.sort(wa);if(c.length>1)c.sort(_a)}return{opaque:l,transparent:c,init:e,push:t,sort:n}}function Aa(){var r={};function e(e,t){var n=e.id+","+t.id;var i=r[n];if(i===undefined){i=new Ea;r[n]=i}return i}function t(){r={}}return{get:e,dispose:t}}function Ca(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Sa(d){var p={};var m=new Float32Array(8);function e(e,t,n,i){var r=e.morphTargetInfluences;var a=r.length;var o=p[t.id];if(o===undefined){o=[];for(var s=0;s<a;s++){o[s]=[s,0]}p[t.id]=o}var l=n.morphTargets&&t.morphAttributes.position;var c=n.morphNormals&&t.morphAttributes.normal;for(var s=0;s<a;s++){var u=o[s];if(u[1]!==0){if(l)t.removeAttribute("morphTarget"+s);if(c)t.removeAttribute("morphNormal"+s)}}for(var s=0;s<a;s++){var u=o[s];u[0]=s;u[1]=r[s]}o.sort(Ca);for(var s=0;s<8;s++){var u=o[s];if(u){var h=u[0];var f=u[1];if(f){if(l)t.addAttribute("morphTarget"+s,l[h]);if(c)t.addAttribute("morphNormal"+s,c[h]);m[s]=f;continue}}m[s]=0}i.getUniforms().setValue(d,"morphTargetInfluences",m)}return{update:e}}function Ta(r,a,o){var s;function e(e){s=e}var l,c;function t(e){l=e.type;c=e.bytesPerElement}function n(e,t){r.drawElements(s,t,l,e*c);o.calls++;o.vertices+=t;if(s===r.TRIANGLES)o.faces+=t/3;else if(s===r.POINTS)o.points+=t}function i(e,t,n){var i=a.get("ANGLE_instanced_arrays");if(i===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}i.drawElementsInstancedANGLE(s,n,l,t*c,e.maxInstancedCount);o.calls++;o.vertices+=n*e.maxInstancedCount;if(s===r.TRIANGLES)o.faces+=e.maxInstancedCount*n/3;else if(s===r.POINTS)o.points+=e.maxInstancedCount*n}this.setMode=e;this.setIndex=t;this.render=n;this.renderInstances=i}function Ma(a,o,s){var l;function e(e){l=e}function t(e,t){a.drawArrays(l,e,t);s.calls++;s.vertices+=t;if(l===a.TRIANGLES)s.faces+=t/3;else if(l===a.POINTS)s.points+=t}function n(e,t,n){var i=o.get("ANGLE_instanced_arrays");if(i===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}var r=e.attributes.position;if(r.isInterleavedBufferAttribute){n=r.data.count;i.drawArraysInstancedANGLE(l,0,n,e.maxInstancedCount)}else{i.drawArraysInstancedANGLE(l,t,n,e.maxInstancedCount)}s.calls++;s.vertices+=n*e.maxInstancedCount;if(l===a.TRIANGLES)s.faces+=e.maxInstancedCount*n/3;else if(l===a.POINTS)s.points+=e.maxInstancedCount*n}this.setMode=e;this.render=t;this.renderInstances=n}function ka(h,f,a){var o={};var d={};function s(e){var t=e.target;var n=o[t.id];if(n.index!==null){f.remove(n.index)}for(var i in n.attributes){f.remove(n.attributes[i])}t.removeEventListener("dispose",s);delete o[t.id];var r=d[t.id];if(r){f.remove(r);delete d[t.id]}r=d[n.id];if(r){f.remove(r);delete d[n.id]}a.geometries--}function e(e,t){var n=o[t.id];if(n)return n;t.addEventListener("dispose",s);if(t.isBufferGeometry){n=t}else if(t.isGeometry){if(t._bufferGeometry===undefined){t._bufferGeometry=(new ca).setFromObject(e)}n=t._bufferGeometry}o[t.id]=n;a.geometries++;return n}function t(e){var t=e.index;var n=e.attributes;if(t!==null){f.update(t,h.ELEMENT_ARRAY_BUFFER)}for(var i in n){f.update(n[i],h.ARRAY_BUFFER)}var r=e.morphAttributes;for(var i in r){var a=r[i];for(var o=0,s=a.length;o<s;o++){f.update(a[o],h.ARRAY_BUFFER)}}}function n(e){var t=d[e.id];if(t)return t;var n=[];var i=e.index;var r=e.attributes;if(i!==null){var a=i.array;for(var o=0,s=a.length;o<s;o+=3){var l=a[o+0];var c=a[o+1];var u=a[o+2];n.push(l,c,c,u,u,l)}}else{var a=r.position.array;for(var o=0,s=a.length/3-1;o<s;o+=3){var l=o+0;var c=o+1;var u=o+2;n.push(l,c,c,u,u,l)}}t=new(sa(n)>65535?ia:ta)(n,1);f.update(t,h.ELEMENT_ARRAY_BUFFER);d[e.id]=t;return t}return{get:e,update:t,getWireframeAttribute:n}}function Da(){var n={};return{get:function(e){if(n[e.id]!==undefined){return n[e.id]}var t;switch(e.type){case"DirectionalLight":t={direction:new Et,color:new wn,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new xt};break;case"SpotLight":t={position:new Et,direction:new Et,color:new wn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new xt};break;case"PointLight":t={position:new Et,color:new wn,distance:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new xt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":t={direction:new Et,skyColor:new wn,groundColor:new wn};break;case"RectAreaLight":t={color:new wn,position:new Et,halfWidth:new Et,halfHeight:new Et};break}n[e.id]=t;return t}}}function La(){var w=new Da;var _={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};var E=new Et;var A=new wt;var C=new wt;function e(e,t,n){var i=0,r=0,a=0;var o=0;var s=0;var l=0;var c=0;var u=0;var h=n.matrixWorldInverse;for(var f=0,d=e.length;f<d;f++){var p=e[f];var m=p.color;var g=p.intensity;var v=p.distance;var b=p.shadow&&p.shadow.map?p.shadow.map.texture:null;if(p.isAmbientLight){i+=m.r*g;r+=m.g*g;a+=m.b*g}else if(p.isDirectionalLight){var y=w.get(p);y.color.copy(p.color).multiplyScalar(p.intensity);y.direction.setFromMatrixPosition(p.matrixWorld);E.setFromMatrixPosition(p.target.matrixWorld);y.direction.sub(E);y.direction.transformDirection(h);y.shadow=p.castShadow;if(p.castShadow){var x=p.shadow;y.shadowBias=x.bias;y.shadowRadius=x.radius;y.shadowMapSize=x.mapSize}_.directionalShadowMap[o]=b;_.directionalShadowMatrix[o]=p.shadow.matrix;_.directional[o]=y;o++}else if(p.isSpotLight){var y=w.get(p);y.position.setFromMatrixPosition(p.matrixWorld);y.position.applyMatrix4(h);y.color.copy(m).multiplyScalar(g);y.distance=v;y.direction.setFromMatrixPosition(p.matrixWorld);E.setFromMatrixPosition(p.target.matrixWorld);y.direction.sub(E);y.direction.transformDirection(h);y.coneCos=Math.cos(p.angle);y.penumbraCos=Math.cos(p.angle*(1-p.penumbra));y.decay=p.distance===0?0:p.decay;y.shadow=p.castShadow;if(p.castShadow){var x=p.shadow;y.shadowBias=x.bias;y.shadowRadius=x.radius;y.shadowMapSize=x.mapSize}_.spotShadowMap[l]=b;_.spotShadowMatrix[l]=p.shadow.matrix;_.spot[l]=y;l++}else if(p.isRectAreaLight){var y=w.get(p);y.color.copy(m).multiplyScalar(g/(p.width*p.height));y.position.setFromMatrixPosition(p.matrixWorld);y.position.applyMatrix4(h);C.identity();A.copy(p.matrixWorld);A.premultiply(h);C.extractRotation(A);y.halfWidth.set(p.width*.5,0,0);y.halfHeight.set(0,p.height*.5,0);y.halfWidth.applyMatrix4(C);y.halfHeight.applyMatrix4(C);_.rectArea[c]=y;c++}else if(p.isPointLight){var y=w.get(p);y.position.setFromMatrixPosition(p.matrixWorld);y.position.applyMatrix4(h);y.color.copy(p.color).multiplyScalar(p.intensity);y.distance=p.distance;y.decay=p.distance===0?0:p.decay;y.shadow=p.castShadow;if(p.castShadow){var x=p.shadow;y.shadowBias=x.bias;y.shadowRadius=x.radius;y.shadowMapSize=x.mapSize;y.shadowCameraNear=x.camera.near;y.shadowCameraFar=x.camera.far}_.pointShadowMap[s]=b;_.pointShadowMatrix[s]=p.shadow.matrix;_.point[s]=y;s++}else if(p.isHemisphereLight){var y=w.get(p);y.direction.setFromMatrixPosition(p.matrixWorld);y.direction.transformDirection(h);y.direction.normalize();y.skyColor.copy(p.color).multiplyScalar(g);y.groundColor.copy(p.groundColor).multiplyScalar(g);_.hemi[u]=y;u++}}_.ambient[0]=i;_.ambient[1]=r;_.ambient[2]=a;_.directional.length=o;_.spot.length=l;_.rectArea.length=c;_.point.length=s;_.hemi.length=u;_.hash=o+","+s+","+l+","+c+","+u+","+t.length}return{setup:e,state:_}}function Ra(r,a){var o={};function e(e){var t=a.frame;var n=e.geometry;var i=r.get(e,n);if(o[i.id]!==t){if(n.isGeometry){i.updateFromObject(e)}r.update(i);o[i.id]=t}return i}function t(){o={}}return{update:e,clear:t}}function Fa(e){var t=e.split("\n");for(var n=0;n<t.length;n++){t[n]=n+1+": "+t[n]}return t.join("\n")}function Pa(e,t,n){var i=e.createShader(t);e.shaderSource(i,n);e.compileShader(i);if(e.getShaderParameter(i,e.COMPILE_STATUS)===false){console.error("THREE.WebGLShader: Shader couldn't compile.")}if(e.getShaderInfoLog(i)!==""){console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),Fa(n))}return i}var Ia=0;function Na(e){switch(e){case ct:return["Linear","( value )"];case ut:return["sRGB","( value )"];case ft:return["RGBE","( value )"];case pt:return["RGBM","( value, 7.0 )"];case mt:return["RGBM","( value, 16.0 )"];case gt:return["RGBD","( value, 256.0 )"];case ht:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Oa(e,t){var n=Na(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ba(e,t){var n=Na(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function za(e,t){var n;switch(t){case We:n="Linear";break;case S:n="Reinhard";break;case T:n="Uncharted2";break;case M:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ua(e,t,n){e=e||{};var i=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return i.filter($a).join("\n")}function Ha(e){var t=[];for(var n in e){var i=e[n];if(i===false)continue;t.push("#define "+n+" "+i)}return t.join("\n")}function ja(e,t){var n={};var i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(var r=0;r<i;r++){var a=e.getActiveAttrib(t,r);var o=a.name;n[o]=e.getAttribLocation(t,o)}return n}function $a(e){return e!==""}function Wa(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Va(e){var t=/^[ \t]*#include +<([\w\d.]+)>/gm;function n(e,t){var n=Cr[t];if(n===undefined){throw new Error("Can not resolve #include <"+t+">")}return Va(n)}return e.replace(t,n)}function Ga(e){var t=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function n(e,t,n,i){var r="";for(var a=parseInt(t);a<parseInt(n);a++){r+=i.replace(/\[ i \]/g,"[ "+a+" ]")}return r}return e.replace(t,n)}function qa(e,t,n,i,r,a){var o=e.context;var s=i.defines;var l=r.vertexShader;var c=r.fragmentShader;var u="SHADOWMAP_TYPE_BASIC";if(a.shadowMapType===I){u="SHADOWMAP_TYPE_PCF"}else if(a.shadowMapType===L){u="SHADOWMAP_TYPE_PCF_SOFT"}var h="ENVMAP_TYPE_CUBE";var f="ENVMAP_MODE_REFLECTION";var d="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(i.envMap.mapping){case B:case z:h="ENVMAP_TYPE_CUBE";break;case $:case W:h="ENVMAP_TYPE_CUBE_UV";break;case U:case H:h="ENVMAP_TYPE_EQUIREC";break;case j:h="ENVMAP_TYPE_SPHERE";break}switch(i.envMap.mapping){case z:case H:f="ENVMAP_MODE_REFRACTION";break}switch(i.combine){case R:d="ENVMAP_BLENDING_MULTIPLY";break;case F:d="ENVMAP_BLENDING_MIX";break;case P:d="ENVMAP_BLENDING_ADD";break}}var p=e.gammaFactor>0?e.gammaFactor:1;var m=Ua(i.extensions,a,t);var g=Ha(s);var v=o.createProgram();var b,y;if(i.isRawShaderMaterial){b=[g].filter($a).join("\n");if(b.length>0){b+="\n"}y=[m,g].filter($a).join("\n");if(y.length>0){y+="\n"}}else{b=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,g,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===false?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+a.numClippingPlanes,a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+u:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter($a).join("\n");y=[m,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,g,a.alphaTest?"#define ALPHATEST "+a.alphaTest:"","#define GAMMA_FACTOR "+p,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+h:"",a.envMap?"#define "+f:"",a.envMap?"#define "+d:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+a.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(a.numClippingPlanes-a.numClipIntersection),a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+u:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==O?"#define TONE_MAPPING":"",a.toneMapping!==O?Cr["tonemapping_pars_fragment"]:"",a.toneMapping!==O?za("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Cr["encodings_pars_fragment"]:"",a.mapEncoding?Oa("mapTexelToLinear",a.mapEncoding):"",a.envMapEncoding?Oa("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Oa("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?Ba("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter($a).join("\n")}l=Va(l);l=Wa(l,a);c=Va(c);c=Wa(c,a);if(!i.isShaderMaterial){l=Ga(l);c=Ga(c)}var x=b+l;var w=y+c;var _=Pa(o,o.VERTEX_SHADER,x);var E=Pa(o,o.FRAGMENT_SHADER,w);o.attachShader(v,_);o.attachShader(v,E);if(i.index0AttributeName!==undefined){o.bindAttribLocation(v,0,i.index0AttributeName)}else if(a.morphTargets===true){o.bindAttribLocation(v,0,"position")}o.linkProgram(v);var A=o.getProgramInfoLog(v);var C=o.getShaderInfoLog(_);var S=o.getShaderInfoLog(E);var T=true;var M=true;if(o.getProgramParameter(v,o.LINK_STATUS)===false){T=false;console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(v,o.VALIDATE_STATUS),"gl.getProgramInfoLog",A,C,S)}else if(A!==""){console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A)}else if(C===""||S===""){M=false}if(M){this.diagnostics={runnable:T,material:i,programLog:A,vertexShader:{log:C,prefix:b},fragmentShader:{log:S,prefix:y}}}o.deleteShader(_);o.deleteShader(E);var k;this.getUniforms=function(){if(k===undefined){k=new yn(o,v,e)}return k};var D;this.getAttributes=function(){if(D===undefined){D=ja(o,v)}return D};this.destroy=function(){o.deleteProgram(v);this.program=undefined};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.id=Ia++;this.code=n;this.usedTimes=1;this.program=v;this.vertexShader=_;this.fragmentShader=E;return this}function Xa(f,l,d){var c=[];var p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"};var a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function m(e){var t=e.skeleton;var n=t.bones;if(d.floatVertexTextures){return 1024}else{var i=d.maxVertexUniforms;var r=Math.floor((i-20)/4);var a=Math.min(r,n.length);if(a<n.length){console.warn("THREE.WebGLRenderer: Skeleton has "+n.length+" bones. This GPU supports "+a+".");return 0}return a}}function g(e,t){var n;if(!e){n=ct}else if(e.isTexture){n=e.encoding}else if(e.isWebGLRenderTarget){console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.");n=e.texture.encoding}if(n===ct&&t){n=ht}return n}this.getParameters=function(e,t,n,i,r,a,o){var s=p[e.type];var l=o.isSkinnedMesh?m(o):0;var c=d.precision;if(e.precision!==null){c=d.getMaxPrecision(e.precision);if(c!==e.precision){console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",c,"instead.")}}var u=f.getRenderTarget();var h={shaderID:s,precision:c,supportsVertexTextures:d.vertexTextures,outputEncoding:g(!u?null:u.texture,f.gammaOutput),map:!!e.map,mapEncoding:g(e.map,f.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:g(e.envMap,f.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===$||e.envMap.mapping===W),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:g(e.emissiveMap,f.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!i,useFog:e.fog,fogExp:i&&i.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:d.logarithmicDepthBuffer,skinning:e.skinning&&l>0,maxBones:l,useVertexTexture:d.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:f.maxMorphTargets,maxMorphNormals:f.maxMorphNormals,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numRectAreaLights:t.rectArea.length,numHemiLights:t.hemi.length,numClippingPlanes:r,numClipIntersection:a,dithering:e.dithering,shadowMapEnabled:f.shadowMap.enabled&&o.receiveShadow&&n.length>0,shadowMapType:f.shadowMap.type,toneMapping:f.toneMapping,physicallyCorrectLights:f.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===ue,flipSided:e.side===ce,depthPacking:e.depthPacking!==undefined?e.depthPacking:false};return h};this.getProgramCode=function(e,t){var n=[];if(t.shaderID){n.push(t.shaderID)}else{n.push(e.fragmentShader);n.push(e.vertexShader)}if(e.defines!==undefined){for(var i in e.defines){n.push(i);n.push(e.defines[i])}}for(var r=0;r<a.length;r++){n.push(t[a[r]])}n.push(e.onBeforeCompile.toString());n.push(f.gammaOutput);return n.join()};this.acquireProgram=function(e,t,n,i){var r;for(var a=0,o=c.length;a<o;a++){var s=c[a];if(s.code===i){r=s;++r.usedTimes;break}}if(r===undefined){r=new qa(f,l,i,e,t,n);c.push(r)}return r};this.releaseProgram=function(e){if(--e.usedTimes===0){var t=c.indexOf(e);c[t]=c[c.length-1];c.pop();e.destroy()}};this.programs=c}function Ya(m,r,g,v,b,y,x){var f=typeof WebGL2RenderingContext!=="undefined"&&m instanceof window.WebGL2RenderingContext;function w(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height);var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(e.width*n);i.height=Math.floor(e.height*n);var r=i.getContext("2d");r.drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height);console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height,e);return i}return e}function _(e){return yt.isPowerOfTwo(e.width)&&yt.isPowerOfTwo(e.height)}function d(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=yt.floorPowerOfTwo(e.width);t.height=yt.floorPowerOfTwo(e.height);var n=t.getContext("2d");n.drawImage(e,0,0,t.width,t.height);console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e);return t}return e}function p(e){return e.wrapS!==V||e.wrapT!==V||e.minFilter!==q&&e.minFilter!==K}function E(e,t){return e.generateMipmaps&&t&&e.minFilter!==q&&e.minFilter!==K}function a(e){if(e===q||e===X||e===Y){return m.NEAREST}return m.LINEAR}function A(e){var t=e.target;t.removeEventListener("dispose",A);n(t);x.textures--}function o(e){var t=e.target;t.removeEventListener("dispose",o);i(t);x.textures--}function n(e){var t=v.get(e);if(e.image&&t.__image__webglTextureCube){m.deleteTexture(t.__image__webglTextureCube)}else{if(t.__webglInit===undefined)return;m.deleteTexture(t.__webglTexture)}v.remove(e)}function i(e){var t=v.get(e);var n=v.get(e.texture);if(!e)return;if(n.__webglTexture!==undefined){m.deleteTexture(n.__webglTexture)}if(e.depthTexture){e.depthTexture.dispose()}if(e.isWebGLRenderTargetCube){for(var i=0;i<6;i++){m.deleteFramebuffer(t.__webglFramebuffer[i]);if(t.__webglDepthbuffer)m.deleteRenderbuffer(t.__webglDepthbuffer[i])}}else{m.deleteFramebuffer(t.__webglFramebuffer);if(t.__webglDepthbuffer)m.deleteRenderbuffer(t.__webglDepthbuffer)}v.remove(e.texture);v.remove(e)}function s(e,t){var n=v.get(e);if(e.version>0&&n.__version!==e.version){var i=e.image;if(i===undefined){console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e)}else if(i.complete===false){console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}else{l(n,e,t);return}}g.activeTexture(m.TEXTURE0+t);g.bindTexture(m.TEXTURE_2D,n.__webglTexture)}function e(e,t){var n=v.get(e);if(e.image.length===6){if(e.version>0&&n.__version!==e.version){if(!n.__image__webglTextureCube){e.addEventListener("dispose",A);n.__image__webglTextureCube=m.createTexture();x.textures++}g.activeTexture(m.TEXTURE0+t);g.bindTexture(m.TEXTURE_CUBE_MAP,n.__image__webglTextureCube);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,e.flipY);var i=e&&e.isCompressedTexture;var r=e.image[0]&&e.image[0].isDataTexture;var a=[];for(var o=0;o<6;o++){if(!i&&!r){a[o]=w(e.image[o],b.maxCubemapSize)}else{a[o]=r?e.image[o].image:e.image[o]}}var s=a[0],l=_(s),c=y.convert(e.format),u=y.convert(e.type);C(m.TEXTURE_CUBE_MAP,e,l);for(var o=0;o<6;o++){if(!i){if(r){g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,c,a[o].width,a[o].height,0,c,u,a[o].data)}else{g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,c,c,u,a[o])}}else{var h,f=a[o].mipmaps;for(var d=0,p=f.length;d<p;d++){h=f[d];if(e.format!==Xe&&e.format!==Me){if(g.getCompressedTextureFormats().indexOf(c)>-1){g.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,d,c,h.width,h.height,0,h.data)}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()")}}else{g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,d,c,h.width,h.height,0,c,u,h.data)}}}}if(E(e,l)){m.generateMipmap(m.TEXTURE_CUBE_MAP)}n.__version=e.version;if(e.onUpdate)e.onUpdate(e)}else{g.activeTexture(m.TEXTURE0+t);g.bindTexture(m.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)}}}function t(e,t){g.activeTexture(m.TEXTURE0+t);g.bindTexture(m.TEXTURE_CUBE_MAP,v.get(e).__webglTexture)}function C(e,t,n){var i;if(n){m.texParameteri(e,m.TEXTURE_WRAP_S,y.convert(t.wrapS));m.texParameteri(e,m.TEXTURE_WRAP_T,y.convert(t.wrapT));m.texParameteri(e,m.TEXTURE_MAG_FILTER,y.convert(t.magFilter));m.texParameteri(e,m.TEXTURE_MIN_FILTER,y.convert(t.minFilter))}else{m.texParameteri(e,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(e,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);if(t.wrapS!==V||t.wrapT!==V){console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",t)}m.texParameteri(e,m.TEXTURE_MAG_FILTER,a(t.magFilter));m.texParameteri(e,m.TEXTURE_MIN_FILTER,a(t.minFilter));if(t.minFilter!==q&&t.minFilter!==K){console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",t)}}i=r.get("EXT_texture_filter_anisotropic");if(i){if(t.type===Ge&&r.get("OES_texture_float_linear")===null)return;if(t.type===qe&&r.get("OES_texture_half_float_linear")===null)return;if(t.anisotropy>1||v.get(t).__currentAnisotropy){m.texParameterf(e,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,b.getMaxAnisotropy()));v.get(t).__currentAnisotropy=t.anisotropy}}}function l(e,t,n){if(e.__webglInit===undefined){e.__webglInit=true;t.addEventListener("dispose",A);e.__webglTexture=m.createTexture();x.textures++}g.activeTexture(m.TEXTURE0+n);g.bindTexture(m.TEXTURE_2D,e.__webglTexture);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,t.flipY);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha);m.pixelStorei(m.UNPACK_ALIGNMENT,t.unpackAlignment);var i=w(t.image,b.maxTextureSize);if(p(t)&&_(i)===false){i=d(i)}var r=_(i),a=y.convert(t.format),o=y.convert(t.type);C(m.TEXTURE_2D,t,r);var s,l=t.mipmaps;if(t.isDepthTexture){var c=m.DEPTH_COMPONENT;if(t.type===Ge){if(!f)throw new Error("Float Depth Texture only supported in WebGL2.0");c=m.DEPTH_COMPONENT32F}else if(f){c=m.DEPTH_COMPONENT16}if(t.format===Re&&c===m.DEPTH_COMPONENT){if(t.type!==te&&t.type!==ie){console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.");t.type=te;o=y.convert(t.type)}}if(t.format===Fe){c=m.DEPTH_STENCIL;if(t.type!==Se){console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.");t.type=Se;o=y.convert(t.type)}}g.texImage2D(m.TEXTURE_2D,0,c,i.width,i.height,0,a,o,null)}else if(t.isDataTexture){if(l.length>0&&r){for(var u=0,h=l.length;u<h;u++){s=l[u];g.texImage2D(m.TEXTURE_2D,u,a,s.width,s.height,0,a,o,s.data)}t.generateMipmaps=false}else{g.texImage2D(m.TEXTURE_2D,0,a,i.width,i.height,0,a,o,i.data)}}else if(t.isCompressedTexture){for(var u=0,h=l.length;u<h;u++){s=l[u];if(t.format!==Xe&&t.format!==Me){if(g.getCompressedTextureFormats().indexOf(a)>-1){g.compressedTexImage2D(m.TEXTURE_2D,u,a,s.width,s.height,0,s.data)}else{console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()")}}else{g.texImage2D(m.TEXTURE_2D,u,a,s.width,s.height,0,a,o,s.data)}}}else{if(l.length>0&&r){for(var u=0,h=l.length;u<h;u++){s=l[u];g.texImage2D(m.TEXTURE_2D,u,a,a,o,s)}t.generateMipmaps=false}else{g.texImage2D(m.TEXTURE_2D,0,a,a,o,i)}}if(E(t,r))m.generateMipmap(m.TEXTURE_2D);e.__version=t.version;if(t.onUpdate)t.onUpdate(t)}function c(e,t,n,i){var r=y.convert(t.texture.format);var a=y.convert(t.texture.type);g.texImage2D(i,0,r,t.width,t.height,0,r,a,null);m.bindFramebuffer(m.FRAMEBUFFER,e);m.framebufferTexture2D(m.FRAMEBUFFER,n,i,v.get(t.texture).__webglTexture,0);m.bindFramebuffer(m.FRAMEBUFFER,null)}function u(e,t){m.bindRenderbuffer(m.RENDERBUFFER,e);if(t.depthBuffer&&!t.stencilBuffer){m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,t.width,t.height);m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,e)}else if(t.depthBuffer&&t.stencilBuffer){m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,t.width,t.height);m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,e)}else{m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,t.width,t.height)}m.bindRenderbuffer(m.RENDERBUFFER,null)}function h(e,t){var n=t&&t.isWebGLRenderTargetCube;if(n)throw new Error("Depth Texture with cube render targets is not supported");m.bindFramebuffer(m.FRAMEBUFFER,e);if(!(t.depthTexture&&t.depthTexture.isDepthTexture)){throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture")}if(!v.get(t.depthTexture).__webglTexture||t.depthTexture.image.width!==t.width||t.depthTexture.image.height!==t.height){t.depthTexture.image.width=t.width;t.depthTexture.image.height=t.height;t.depthTexture.needsUpdate=true}s(t.depthTexture,0);var i=v.get(t.depthTexture).__webglTexture;if(t.depthTexture.format===Re){m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,i,0)}else if(t.depthTexture.format===Fe){m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,i,0)}else{throw new Error("Unknown depthTexture format")}}function S(e){var t=v.get(e);var n=e.isWebGLRenderTargetCube===true;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");h(t.__webglFramebuffer,e)}else{if(n){t.__webglDepthbuffer=[];for(var i=0;i<6;i++){m.bindFramebuffer(m.FRAMEBUFFER,t.__webglFramebuffer[i]);t.__webglDepthbuffer[i]=m.createRenderbuffer();u(t.__webglDepthbuffer[i],e)}}else{m.bindFramebuffer(m.FRAMEBUFFER,t.__webglFramebuffer);t.__webglDepthbuffer=m.createRenderbuffer();u(t.__webglDepthbuffer,e)}}m.bindFramebuffer(m.FRAMEBUFFER,null)}function T(e){var t=v.get(e);var n=v.get(e.texture);e.addEventListener("dispose",o);n.__webglTexture=m.createTexture();x.textures++;var i=e.isWebGLRenderTargetCube===true;var r=_(e);if(i){t.__webglFramebuffer=[];for(var a=0;a<6;a++){t.__webglFramebuffer[a]=m.createFramebuffer()}}else{t.__webglFramebuffer=m.createFramebuffer()}if(i){g.bindTexture(m.TEXTURE_CUBE_MAP,n.__webglTexture);C(m.TEXTURE_CUBE_MAP,e.texture,r);for(var a=0;a<6;a++){c(t.__webglFramebuffer[a],e,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+a)}if(E(e.texture,r))m.generateMipmap(m.TEXTURE_CUBE_MAP);g.bindTexture(m.TEXTURE_CUBE_MAP,null)}else{g.bindTexture(m.TEXTURE_2D,n.__webglTexture);C(m.TEXTURE_2D,e.texture,r);c(t.__webglFramebuffer,e,m.COLOR_ATTACHMENT0,m.TEXTURE_2D);if(E(e.texture,r))m.generateMipmap(m.TEXTURE_2D);g.bindTexture(m.TEXTURE_2D,null)}if(e.depthBuffer){S(e)}}function M(e){var t=e.texture;var n=_(e);if(E(t,n)){var i=e.isWebGLRenderTargetCube?m.TEXTURE_CUBE_MAP:m.TEXTURE_2D;var r=v.get(t).__webglTexture;g.bindTexture(i,r);m.generateMipmap(i);g.bindTexture(i,null)}}this.setTexture2D=s;this.setTextureCube=e;this.setTextureCubeDynamic=t;this.setupRenderTarget=T;this.updateRenderTargetMipmap=M}function Ka(){var i={};function e(e){var t=e.uuid;var n=i[t];if(n===undefined){n={};i[t]=n}return n}function t(e){delete i[e.uuid]}function n(){i={}}return{get:e,remove:t,clear:n}}function Za(u,i,l){function e(){var t=false;var a=new Tt;var n=null;var o=new Tt(0,0,0,0);return{setMask:function(e){if(n!==e&&!t){u.colorMask(e,e,e,e);n=e}},setLocked:function(e){t=e},setClear:function(e,t,n,i,r){if(r===true){e*=i;t*=i;n*=i}a.set(e,t,n,i);if(o.equals(a)===false){u.clearColor(e,t,n,i);o.copy(a)}},reset:function(){t=false;n=null;o.set(-1,0,0,0)}}}function t(){var t=false;var n=null;var i=null;var r=null;return{setTest:function(e){if(e){j(u.DEPTH_TEST)}else{$(u.DEPTH_TEST)}},setMask:function(e){if(n!==e&&!t){u.depthMask(e);n=e}},setFunc:function(e){if(i!==e){if(e){switch(e){case ve:u.depthFunc(u.NEVER);break;case be:u.depthFunc(u.ALWAYS);break;case ye:u.depthFunc(u.LESS);break;case xe:u.depthFunc(u.LEQUAL);break;case we:u.depthFunc(u.EQUAL);break;case _e:u.depthFunc(u.GEQUAL);break;case Ee:u.depthFunc(u.GREATER);break;case Ae:u.depthFunc(u.NOTEQUAL);break;default:u.depthFunc(u.LEQUAL)}}else{u.depthFunc(u.LEQUAL)}i=e}},setLocked:function(e){t=e},setClear:function(e){if(r!==e){u.clearDepth(e);r=e}},reset:function(){t=false;n=null;i=null;r=null}}}function n(){var t=false;var n=null;var i=null;var r=null;var a=null;var o=null;var s=null;var l=null;var c=null;return{setTest:function(e){if(e){j(u.STENCIL_TEST)}else{$(u.STENCIL_TEST)}},setMask:function(e){if(n!==e&&!t){u.stencilMask(e);n=e}},setFunc:function(e,t,n){if(i!==e||r!==t||a!==n){u.stencilFunc(e,t,n);i=e;r=t;a=n}},setOp:function(e,t,n){if(o!==e||s!==t||l!==n){u.stencilOp(e,t,n);o=e;s=t;l=n}},setLocked:function(e){t=e},setClear:function(e){if(c!==e){u.clearStencil(e);c=e}},reset:function(){t=false;n=null;i=null;r=null;a=null;o=null;s=null;l=null;c=null}}}var r=new e;var a=new t;var o=new n;var s=u.getParameter(u.MAX_VERTEX_ATTRIBS);var c=new Uint8Array(s);var h=new Uint8Array(s);var f=new Uint8Array(s);var d={};var p=null;var m=null;var g=null;var v=null;var b=null;var y=null;var x=null;var w=null;var _=null;var E=false;var A=null;var C=null;var S=null;var T=null;var M=null;var k=u.getParameter(u.MAX_COMBINED_TEXTURE_IMAGE_UNITS);var D=parseFloat(/^WebGL\ ([0-9])/.exec(u.getParameter(u.VERSION))[1]);var L=parseFloat(D)>=1;var R=null;var F={};var P=new Tt;var I=new Tt;function N(e,t,n){var i=new Uint8Array(4);var r=u.createTexture();u.bindTexture(e,r);u.texParameteri(e,u.TEXTURE_MIN_FILTER,u.NEAREST);u.texParameteri(e,u.TEXTURE_MAG_FILTER,u.NEAREST);for(var a=0;a<n;a++){u.texImage2D(t+a,0,u.RGBA,1,1,0,u.RGBA,u.UNSIGNED_BYTE,i)}return r}var O={};O[u.TEXTURE_2D]=N(u.TEXTURE_2D,u.TEXTURE_2D,1);O[u.TEXTURE_CUBE_MAP]=N(u.TEXTURE_CUBE_MAP,u.TEXTURE_CUBE_MAP_POSITIVE_X,6);r.setClear(0,0,0,1);a.setClear(1);o.setClear(0);j(u.DEPTH_TEST);a.setFunc(xe);X(false);Y(se);j(u.CULL_FACE);j(u.BLEND);G(fe);function B(){for(var e=0,t=c.length;e<t;e++){c[e]=0}}function z(e){c[e]=1;if(h[e]===0){u.enableVertexAttribArray(e);h[e]=1}if(f[e]!==0){var t=i.get("ANGLE_instanced_arrays");t.vertexAttribDivisorANGLE(e,0);f[e]=0}}function U(e,t){c[e]=1;if(h[e]===0){u.enableVertexAttribArray(e);h[e]=1}if(f[e]!==t){var n=i.get("ANGLE_instanced_arrays");n.vertexAttribDivisorANGLE(e,t);f[e]=t}}function H(){for(var e=0,t=h.length;e!==t;++e){if(h[e]!==c[e]){u.disableVertexAttribArray(e);h[e]=0}}}function j(e){if(d[e]!==true){u.enable(e);d[e]=true}}function $(e){if(d[e]!==false){u.disable(e);d[e]=false}}function W(){if(p===null){p=[];if(i.get("WEBGL_compressed_texture_pvrtc")||i.get("WEBGL_compressed_texture_s3tc")||i.get("WEBGL_compressed_texture_etc1")){var e=u.getParameter(u.COMPRESSED_TEXTURE_FORMATS);for(var t=0;t<e.length;t++){p.push(e[t])}}}return p}function V(e){if(m!==e){u.useProgram(e);m=e;return true}return false}function G(e,t,n,i,r,a,o,s){if(e!==he){j(u.BLEND)}else{$(u.BLEND)}if(e!==ge){if(e!==g||s!==E){switch(e){case de:if(s){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE)}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.SRC_ALPHA,u.ONE)}break;case pe:if(s){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ZERO,u.ZERO,u.ONE_MINUS_SRC_COLOR,u.ONE_MINUS_SRC_ALPHA)}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.ZERO,u.ONE_MINUS_SRC_COLOR)}break;case me:if(s){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ZERO,u.SRC_COLOR,u.ZERO,u.SRC_ALPHA)}else{u.blendEquation(u.FUNC_ADD);u.blendFunc(u.ZERO,u.SRC_COLOR)}break;default:if(s){u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA)}else{u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD);u.blendFuncSeparate(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA)}}}v=null;b=null;y=null;x=null;w=null;_=null}else{r=r||t;a=a||n;o=o||i;if(t!==v||r!==x){u.blendEquationSeparate(l.convert(t),l.convert(r));v=t;x=r}if(n!==b||i!==y||a!==w||o!==_){u.blendFuncSeparate(l.convert(n),l.convert(i),l.convert(a),l.convert(o));b=n;y=i;w=a;_=o}}g=e;E=s}function q(e){e.side===ue?$(u.CULL_FACE):j(u.CULL_FACE);X(e.side===ce);e.transparent===true?G(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):G(he);a.setFunc(e.depthFunc);a.setTest(e.depthTest);a.setMask(e.depthWrite);r.setMask(e.colorWrite);Z(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function X(e){if(A!==e){if(e){u.frontFace(u.CW)}else{u.frontFace(u.CCW)}A=e}}function Y(e){if(e!==oe){j(u.CULL_FACE);if(e!==C){if(e===se){u.cullFace(u.BACK)}else if(e===le){u.cullFace(u.FRONT)}else{u.cullFace(u.FRONT_AND_BACK)}}}else{$(u.CULL_FACE)}C=e}function K(e){if(e!==S){if(L)u.lineWidth(e);S=e}}function Z(e,t,n){if(e){j(u.POLYGON_OFFSET_FILL);if(T!==t||M!==n){u.polygonOffset(t,n);T=t;M=n}}else{$(u.POLYGON_OFFSET_FILL)}}function Q(e){if(e){j(u.SCISSOR_TEST)}else{$(u.SCISSOR_TEST)}}function J(e){if(e===undefined)e=u.TEXTURE0+k-1;if(R!==e){u.activeTexture(e);R=e}}function ee(e,t){if(R===null){J()}var n=F[R];if(n===undefined){n={type:undefined,texture:undefined};F[R]=n}if(n.type!==e||n.texture!==t){u.bindTexture(e,t||O[e]);n.type=e;n.texture=t}}function te(){try{u.compressedTexImage2D.apply(u,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function ne(){try{u.texImage2D.apply(u,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function ie(e){if(P.equals(e)===false){u.scissor(e.x,e.y,e.z,e.w);P.copy(e)}}function re(e){if(I.equals(e)===false){u.viewport(e.x,e.y,e.z,e.w);I.copy(e)}}function ae(){for(var e=0;e<h.length;e++){if(h[e]===1){u.disableVertexAttribArray(e);h[e]=0}}d={};p=null;R=null;F={};m=null;g=null;A=null;C=null;r.reset();a.reset();o.reset()}return{buffers:{color:r,depth:a,stencil:o},initAttributes:B,enableAttribute:z,enableAttributeAndDivisor:U,disableUnusedAttributes:H,enable:j,disable:$,getCompressedTextureFormats:W,useProgram:V,setBlending:G,setMaterial:q,setFlipSided:X,setCullFace:Y,setLineWidth:K,setPolygonOffset:Z,setScissorTest:Q,activeTexture:J,bindTexture:ee,compressedTexImage2D:te,texImage2D:ne,scissor:ie,viewport:re,reset:ae}}function Qa(t,n,e){var i;function r(){if(i!==undefined)return i;var e=n.get("EXT_texture_filter_anisotropic");if(e!==null){i=t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else{i=0}return i}function a(e){if(e==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0){return"highp"}e="mediump"}if(e==="mediump"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0){return"mediump"}}return"lowp"}var o=e.precision!==undefined?e.precision:"highp";var s=a(o);if(s!==o){console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead.");o=s}var l=e.logarithmicDepthBuffer===true;var c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);var u=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS);var h=t.getParameter(t.MAX_TEXTURE_SIZE);var f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE);var d=t.getParameter(t.MAX_VERTEX_ATTRIBS);var p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS);var m=t.getParameter(t.MAX_VARYING_VECTORS);var g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS);var v=u>0;var b=!!n.get("OES_texture_float");var y=v&&b;return{getMaxAnisotropy:r,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:y}}function Ja(e,t,n,i){Vr.call(this);this.type="PerspectiveCamera";this.fov=e!==undefined?e:50;this.zoom=1;this.near=n!==undefined?n:.1;this.far=i!==undefined?i:2e3;this.focus=10;this.aspect=t!==undefined?t:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}Ja.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Ja,isPerspectiveCamera:true,copy:function(e,t){Vr.prototype.copy.call(this,e,t);this.fov=e.fov;this.zoom=e.zoom;this.near=e.near;this.far=e.far;this.focus=e.focus;this.aspect=e.aspect;this.view=e.view===null?null:Object.assign({},e.view);this.filmGauge=e.filmGauge;this.filmOffset=e.filmOffset;return this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=yt.RAD2DEG*2*Math.atan(t);this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(yt.DEG2RAD*.5*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return yt.RAD2DEG*2*Math.atan(Math.tan(yt.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t;if(this.view===null){this.view={enabled:true,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}}this.view.enabled=true;this.view.fullWidth=e;this.view.fullHeight=t;this.view.offsetX=n;this.view.offsetY=i;this.view.width=r;this.view.height=a;this.updateProjectionMatrix()},clearViewOffset:function(){if(this.view!==null){this.view.enabled=false}this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(yt.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(this.view!==null&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o;t-=a.offsetY*n/s;i*=a.width/o;n*=a.height/s}var l=this.filmOffset;if(l!==0)r+=e*l/this.getFilmWidth();this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far)},toJSON:function(e){var t=Wr.prototype.toJSON.call(this,e);t.object.fov=this.fov;t.object.zoom=this.zoom;t.object.near=this.near;t.object.far=this.far;t.object.focus=this.focus;t.object.aspect=this.aspect;if(this.view!==null)t.object.view=Object.assign({},this.view);t.object.filmGauge=this.filmGauge;t.object.filmOffset=this.filmOffset;return t}});function eo(e){Ja.call(this);this.cameras=e||[]}eo.prototype=Object.assign(Object.create(Ja.prototype),{constructor:eo,isArrayCamera:true});function to(i){var r=this;var o=null;var s=null;if(typeof window!=="undefined"&&"VRFrameData"in window){s=new window.VRFrameData}var l=new wt;var c=new wt;var u=new wt;var h=new Ja;h.bounds=new Tt(0,0,.5,1);h.layers.enable(1);var f=new Ja;f.bounds=new Tt(.5,0,.5,1);f.layers.enable(2);var d=new eo([h,f]);d.layers.enable(1);d.layers.enable(2);var a,p;function e(){if(o!==null&&o.isPresenting){var e=o.getEyeParameters("left");var t=e.renderWidth;var n=e.renderHeight;p=i.getPixelRatio();a=i.getSize();i.setDrawingBufferSize(t*2,n,1)}else if(r.enabled){i.setDrawingBufferSize(a.width,a.height,p)}}if(typeof window!=="undefined"){window.addEventListener("vrdisplaypresentchange",e,false)}this.enabled=false;this.standing=false;this.getDevice=function(){return o};this.setDevice=function(e){if(e!==undefined)o=e};this.getCamera=function(e){if(o===null)return e;o.depthNear=e.near;o.depthFar=e.far;o.getFrameData(s);var t=s.pose;if(t.position!==null){e.position.fromArray(t.position)}else{e.position.set(0,0,0)}if(t.orientation!==null){e.quaternion.fromArray(t.orientation)}e.updateMatrixWorld();var n=o.stageParameters;if(this.standing&&n){c.fromArray(n.sittingToStandingTransform);u.getInverse(c);e.matrixWorld.multiply(c);e.matrixWorldInverse.multiply(u)}if(o.isPresenting===false)return e;h.near=e.near;f.near=e.near;h.far=e.far;f.far=e.far;d.matrixWorld.copy(e.matrixWorld);d.matrixWorldInverse.copy(e.matrixWorldInverse);h.matrixWorldInverse.fromArray(s.leftViewMatrix);f.matrixWorldInverse.fromArray(s.rightViewMatrix);if(this.standing&&n){h.matrixWorldInverse.multiply(u);f.matrixWorldInverse.multiply(u)}var i=e.parent;if(i!==null){l.getInverse(i.matrixWorld);h.matrixWorldInverse.multiply(l);f.matrixWorldInverse.multiply(l)}h.matrixWorld.getInverse(h.matrixWorldInverse);f.matrixWorld.getInverse(f.matrixWorldInverse);h.projectionMatrix.fromArray(s.leftProjectionMatrix);f.projectionMatrix.fromArray(s.rightProjectionMatrix);d.projectionMatrix.copy(h.projectionMatrix);var r=o.getLayers();if(r.length){var a=r[0];if(a.leftBounds!==null&&a.leftBounds.length===4){h.bounds.fromArray(a.leftBounds)}if(a.rightBounds!==null&&a.rightBounds.length===4){f.bounds.fromArray(a.rightBounds)}}return d};this.getStandingMatrix=function(){return c};this.submitFrame=function(){if(o&&o.isPresenting)o.submitFrame()};this.dispose=function(){if(typeof window!=="undefined"){window.removeEventListener("vrdisplaypresentchange",e)}}}function no(n){var i={};return{get:function(e){if(i[e]!==undefined){return i[e]}var t;switch(e){case"WEBGL_depth_texture":t=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":t=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":t=n.getExtension("WEBGL_compressed_texture_etc1");break;default:t=n.getExtension(e)}if(t===null){console.warn("THREE.WebGLRenderer: "+e+" extension not supported.")}i[e]=t;return t}}}function io(){var u=this,h=null,f=0,d=false,p=false,m=new Or,g=new At,v={value:null,needsUpdate:false};this.uniform=v;this.numPlanes=0;this.numIntersection=0;this.init=function(e,t,n){var i=e.length!==0||t||f!==0||d;d=t;h=y(e,n,0);f=e.length;return i};this.beginShadows=function(){p=true;y(null)};this.endShadows=function(){p=false;b()};this.setState=function(e,t,n,i,r,a){if(!d||e===null||e.length===0||p&&!n){if(p){y(null)}else{b()}}else{var o=p?0:f,s=o*4,l=r.clippingState||null;v.value=l;l=y(e,i,s,a);for(var c=0;c!==s;++c){l[c]=h[c]}r.clippingState=l;this.numIntersection=t?this.numPlanes:0;this.numPlanes+=o}};function b(){if(v.value!==h){v.value=h;v.needsUpdate=f>0}u.numPlanes=f;u.numIntersection=0}function y(e,t,n,i){var r=e!==null?e.length:0,a=null;if(r!==0){a=v.value;if(i!==true||a===null){var o=n+r*4,s=t.matrixWorldInverse;g.getNormalMatrix(s);if(a===null||a.length<o){a=new Float32Array(o)}for(var l=0,c=n;l!==r;++l,c+=4){m.copy(e[l]).applyMatrix4(s,g);m.normal.toArray(a,c);a[c+3]=m.constant}}v.value=a;v.needsUpdate=true}u.numPlanes=r;return a}}function ro(n,i){function e(e){var t;if(e===D)return n.REPEAT;if(e===V)return n.CLAMP_TO_EDGE;if(e===G)return n.MIRRORED_REPEAT;if(e===q)return n.NEAREST;if(e===X)return n.NEAREST_MIPMAP_NEAREST;if(e===Y)return n.NEAREST_MIPMAP_LINEAR;if(e===K)return n.LINEAR;if(e===Z)return n.LINEAR_MIPMAP_NEAREST;if(e===Q)return n.LINEAR_MIPMAP_LINEAR;if(e===Ve)return n.UNSIGNED_BYTE;if(e===re)return n.UNSIGNED_SHORT_4_4_4_4;if(e===ae)return n.UNSIGNED_SHORT_5_5_5_1;if(e===Ce)return n.UNSIGNED_SHORT_5_6_5;if(e===J)return n.BYTE;if(e===ee)return n.SHORT;if(e===te)return n.UNSIGNED_SHORT;if(e===ne)return n.INT;if(e===ie)return n.UNSIGNED_INT;if(e===Ge)return n.FLOAT;if(e===qe){t=i.get("OES_texture_half_float");if(t!==null)return t.HALF_FLOAT_OES}if(e===Te)return n.ALPHA;if(e===Me)return n.RGB;if(e===Xe)return n.RGBA;if(e===ke)return n.LUMINANCE;if(e===De)return n.LUMINANCE_ALPHA;if(e===Re)return n.DEPTH_COMPONENT;if(e===Fe)return n.DEPTH_STENCIL;if(e===l)return n.FUNC_ADD;if(e===c)return n.FUNC_SUBTRACT;if(e===u)return n.FUNC_REVERSE_SUBTRACT;if(e===p)return n.ZERO;if(e===m)return n.ONE;if(e===g)return n.SRC_COLOR;if(e===b)return n.ONE_MINUS_SRC_COLOR;if(e===y)return n.SRC_ALPHA;if(e===x)return n.ONE_MINUS_SRC_ALPHA;if(e===w)return n.DST_ALPHA;if(e===_)return n.ONE_MINUS_DST_ALPHA;if(e===E)return n.DST_COLOR;if(e===A)return n.ONE_MINUS_DST_COLOR;if(e===C)return n.SRC_ALPHA_SATURATE;if(e===Pe||e===Ie||e===Ne||e===Oe){t=i.get("WEBGL_compressed_texture_s3tc");if(t!==null){if(e===Pe)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ie)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ne)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Oe)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}}if(e===Be||e===ze||e===Ue||e===Ye){t=i.get("WEBGL_compressed_texture_pvrtc");if(t!==null){if(e===Be)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===ze)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ue)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Ye)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}}if(e===Ke){t=i.get("WEBGL_compressed_texture_etc1");if(t!==null)return t.COMPRESSED_RGB_ETC1_WEBGL}if(e===h||e===f){t=i.get("EXT_blend_minmax");if(t!==null){if(e===h)return t.MIN_EXT;if(e===f)return t.MAX_EXT}}if(e===Se){t=i.get("WEBGL_depth_texture");if(t!==null)return t.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:e}}function ao(e){console.log("THREE.WebGLRenderer",He);e=e||{};var r=e.canvas!==undefined?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t=e.context!==undefined?e.context:null,n=e.alpha!==undefined?e.alpha:false,i=e.depth!==undefined?e.depth:true,a=e.stencil!==undefined?e.stencil:true,o=e.antialias!==undefined?e.antialias:false,s=e.premultipliedAlpha!==undefined?e.premultipliedAlpha:true,l=e.preserveDrawingBuffer!==undefined?e.preserveDrawingBuffer:false;var f=[];var p=[];var d=null;var m=[];var g=[];this.domElement=r;this.context=null;this.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;this.sortObjects=true;this.clippingPlanes=[];this.localClippingEnabled=false;this.gammaFactor=2;this.gammaInput=false;this.gammaOutput=false;this.physicallyCorrectLights=false;this.toneMapping=We;this.toneMappingExposure=1;this.toneMappingWhitePoint=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var b=this,c=false,u=null,h=null,y=-1,E="",x=null,w=null,_=new Tt,v=new Tt,A=null,C=0,S=r.width,T=r.height,M=1,k=new Tt(0,0,S,T),D=new Tt(0,0,S,T),L=false,R=new Br,F=new io,P=false,I=false,N=new wt,O=new Et,B={geometries:0,textures:0},z={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:z,memory:B,programs:null};function U(){return u===null?M:1}var H;try{var j={alpha:n,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l};H=t||r.getContext("webgl",j)||r.getContext("experimental-webgl",j);if(H===null){if(r.getContext("webgl")!==null){throw"Error creating WebGL context with your selected attributes."}else{throw"Error creating WebGL context."}}if(H.getShaderPrecisionFormat===undefined){H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}}r.addEventListener("webglcontextlost",ue,false);r.addEventListener("webglcontextrestored",he,false)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var $,W,V;var G,q,X,Y,K,Z;var Q,J;var ee,te,ne,ie;var re,ae;var oe;function se(){$=new no(H);$.get("WEBGL_depth_texture");$.get("OES_texture_float");$.get("OES_texture_float_linear");$.get("OES_texture_half_float");$.get("OES_texture_half_float_linear");$.get("OES_standard_derivatives");$.get("OES_element_index_uint");$.get("ANGLE_instanced_arrays");oe=new ro(H,$);W=new Qa(H,$,e);V=new Za(H,$,oe);V.scissor(v.copy(D).multiplyScalar(M));V.viewport(_.copy(k).multiplyScalar(M));G=new Ka;q=new Ya(H,$,V,G,W,oe,B);X=new Ur(H);Y=new ka(H,X,B);K=new Ra(Y,z);te=new Sa(H);Q=new Xa(b,$,W);Z=new La;J=new Aa;ee=new xa(b,V,Y,s);ne=new Ma(H,$,z);ie=new Ta(H,$,z);re=new Mr(b,H,V,q,W);ae=new Dr(b,H,V,q,W);b.info.programs=Q.programs;b.context=H;b.capabilities=W;b.extensions=$;b.properties=G;b.renderLists=J;b.state=V}se();var le=new to(b);this.vr=le;var ce=new zr(b,K,W.maxTextureSize);this.shadowMap=ce;this.getContext=function(){return H};this.getContextAttributes=function(){return H.getContextAttributes()};this.forceContextLoss=function(){var e=$.get("WEBGL_lose_context");if(e)e.loseContext()};this.forceContextRestore=function(){var e=$.get("WEBGL_lose_context");if(e)e.restoreContext()};this.getPixelRatio=function(){return M};this.setPixelRatio=function(e){if(e===undefined)return;M=e;this.setSize(S,T,false)};this.getSize=function(){return{width:S,height:T}};this.setSize=function(e,t,n){var i=le.getDevice();if(i&&i.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}S=e;T=t;r.width=e*M;r.height=t*M;if(n!==false){r.style.width=e+"px";r.style.height=t+"px"}this.setViewport(0,0,e,t)};this.getDrawingBufferSize=function(){return{width:S*M,height:T*M}};this.setDrawingBufferSize=function(e,t,n){S=e;T=t;M=n;r.width=e*n;r.height=t*n;this.setViewport(0,0,e,t)};this.setViewport=function(e,t,n,i){k.set(e,T-t-i,n,i);V.viewport(_.copy(k).multiplyScalar(M))};this.setScissor=function(e,t,n,i){D.set(e,T-t-i,n,i);V.scissor(v.copy(D).multiplyScalar(M))};this.setScissorTest=function(e){V.setScissorTest(L=e)};this.getClearColor=function(){return ee.getClearColor()};this.setClearColor=function(){ee.setClearColor.apply(ee,arguments)};this.getClearAlpha=function(){return ee.getClearAlpha()};this.setClearAlpha=function(){ee.setClearAlpha.apply(ee,arguments)};this.clear=function(e,t,n){var i=0;if(e===undefined||e)i|=H.COLOR_BUFFER_BIT;if(t===undefined||t)i|=H.DEPTH_BUFFER_BIT;if(n===undefined||n)i|=H.STENCIL_BUFFER_BIT;H.clear(i)};this.clearColor=function(){this.clear(true,false,false)};this.clearDepth=function(){this.clear(false,true,false)};this.clearStencil=function(){this.clear(false,false,true)};this.clearTarget=function(e,t,n,i){this.setRenderTarget(e);this.clear(t,n,i)};this.dispose=function(){r.removeEventListener("webglcontextlost",ue,false);r.removeEventListener("webglcontextrestored",he,false);J.dispose();le.dispose()};function ue(e){e.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");c=true}function he(){console.log("THREE.WebGLRenderer: Context Restored.");c=false;se()}function fe(e){var t=e.target;t.removeEventListener("dispose",fe);de(t)}function de(e){pe(e);G.remove(e)}function pe(e){var t=G.get(e).program;e.program=undefined;if(t!==undefined){Q.releaseProgram(t)}}function me(e,t,n){e.render(function(e){b.renderBufferImmediate(e,t,n)})}this.renderBufferImmediate=function(e,t,n){V.initAttributes();var i=G.get(e);if(e.hasPositions&&!i.position)i.position=H.createBuffer();if(e.hasNormals&&!i.normal)i.normal=H.createBuffer();if(e.hasUvs&&!i.uv)i.uv=H.createBuffer();if(e.hasColors&&!i.color)i.color=H.createBuffer();var r=t.getAttributes();if(e.hasPositions){H.bindBuffer(H.ARRAY_BUFFER,i.position);H.bufferData(H.ARRAY_BUFFER,e.positionArray,H.DYNAMIC_DRAW);V.enableAttribute(r.position);H.vertexAttribPointer(r.position,3,H.FLOAT,false,0,0)}if(e.hasNormals){H.bindBuffer(H.ARRAY_BUFFER,i.normal);if(!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.flatShading===true){for(var a=0,o=e.count*3;a<o;a+=9){var s=e.normalArray;var l=(s[a+0]+s[a+3]+s[a+6])/3;var c=(s[a+1]+s[a+4]+s[a+7])/3;var u=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=l;s[a+1]=c;s[a+2]=u;s[a+3]=l;s[a+4]=c;s[a+5]=u;s[a+6]=l;s[a+7]=c;s[a+8]=u}}H.bufferData(H.ARRAY_BUFFER,e.normalArray,H.DYNAMIC_DRAW);V.enableAttribute(r.normal);H.vertexAttribPointer(r.normal,3,H.FLOAT,false,0,0)}if(e.hasUvs&&n.map){H.bindBuffer(H.ARRAY_BUFFER,i.uv);H.bufferData(H.ARRAY_BUFFER,e.uvArray,H.DYNAMIC_DRAW);V.enableAttribute(r.uv);H.vertexAttribPointer(r.uv,2,H.FLOAT,false,0,0)}if(e.hasColors&&n.vertexColors!==$e){H.bindBuffer(H.ARRAY_BUFFER,i.color);H.bufferData(H.ARRAY_BUFFER,e.colorArray,H.DYNAMIC_DRAW);V.enableAttribute(r.color);H.vertexAttribPointer(r.color,3,H.FLOAT,false,0,0)}V.disableUnusedAttributes();H.drawArrays(H.TRIANGLES,0,e.count);e.count=0};this.renderBufferDirect=function(e,t,n,i,r,a){V.setMaterial(i);var o=Ce(e,t,i,r);var s=n.id+"_"+o.id+"_"+(i.wireframe===true);var l=false;if(s!==E){E=s;l=true}if(r.morphTargetInfluences){te.update(r,n,i,o);l=true}var c=n.index;var u=n.attributes.position;var h=1;if(i.wireframe===true){c=Y.getWireframeAttribute(n);h=2}var f;var d=ne;if(c!==null){f=X.get(c);d=ie;d.setIndex(f)}if(l){ge(i,o,n);if(c!==null){H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,f.buffer)}}var p=0;if(c!==null){p=c.count}else if(u!==undefined){p=u.count}var m=n.drawRange.start*h;var g=n.drawRange.count*h;var v=a!==null?a.start*h:0;var b=a!==null?a.count*h:Infinity;var y=Math.max(m,v);var x=Math.min(p,m+g,v+b)-1;var w=Math.max(0,x-y+1);if(w===0)return;if(r.isMesh){if(i.wireframe===true){V.setLineWidth(i.wireframeLinewidth*U());d.setMode(H.LINES)}else{switch(r.drawMode){case ot:d.setMode(H.TRIANGLES);break;case st:d.setMode(H.TRIANGLE_STRIP);break;case lt:d.setMode(H.TRIANGLE_FAN);break}}}else if(r.isLine){var _=i.linewidth;if(_===undefined)_=1;V.setLineWidth(_*U());if(r.isLineSegments){d.setMode(H.LINES)}else if(r.isLineLoop){d.setMode(H.LINE_LOOP)}else{d.setMode(H.LINE_STRIP)}}else if(r.isPoints){d.setMode(H.POINTS)}if(n&&n.isInstancedBufferGeometry){if(n.maxInstancedCount>0){d.renderInstances(n,y,w)}}else{d.render(y,w)}};function ge(e,t,n,i){if(n&&n.isInstancedBufferGeometry){if($.get("ANGLE_instanced_arrays")===null){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}if(i===undefined)i=0;V.initAttributes();var r=n.attributes;var a=t.getAttributes();var o=e.defaultAttributeValues;for(var s in a){var l=a[s];if(l>=0){var c=r[s];if(c!==undefined){var u=c.normalized;var h=c.itemSize;var f=X.get(c);if(f===undefined)continue;var d=f.buffer;var p=f.type;var m=f.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data;var v=g.stride;var b=c.offset;if(g&&g.isInstancedInterleavedBuffer){V.enableAttributeAndDivisor(l,g.meshPerAttribute);if(n.maxInstancedCount===undefined){n.maxInstancedCount=g.meshPerAttribute*g.count}}else{V.enableAttribute(l)}H.bindBuffer(H.ARRAY_BUFFER,d);H.vertexAttribPointer(l,h,p,u,v*m,(i*v+b)*m)}else{if(c.isInstancedBufferAttribute){V.enableAttributeAndDivisor(l,c.meshPerAttribute);if(n.maxInstancedCount===undefined){n.maxInstancedCount=c.meshPerAttribute*c.count}}else{V.enableAttribute(l)}H.bindBuffer(H.ARRAY_BUFFER,d);H.vertexAttribPointer(l,h,p,u,0,i*h*m)}}else if(o!==undefined){var y=o[s];if(y!==undefined){switch(y.length){case 2:H.vertexAttrib2fv(l,y);break;case 3:H.vertexAttrib3fv(l,y);break;case 4:H.vertexAttrib4fv(l,y);break;default:H.vertexAttrib1fv(l,y)}}}}}V.disableUnusedAttributes()}this.compile=function(n,e){f.length=0;p.length=0;n.traverse(function(e){if(e.isLight){f.push(e);if(e.castShadow){p.push(e)}}});Z.setup(f,p,e);n.traverse(function(e){if(e.material){if(Array.isArray(e.material)){for(var t=0;t<e.material.length;t++){Ae(e.material[t],n.fog,e)}}else{Ae(e.material,n.fog,e)}}})};var ve=false;var be=null;function ye(){if(ve)return;var e=le.getDevice();if(e&&e.isPresenting){e.requestAnimationFrame(xe)}else{window.requestAnimationFrame(xe)}ve=true}function xe(e){if(be!==null)be(e);var t=le.getDevice();if(t&&t.isPresenting){t.requestAnimationFrame(xe)}else{window.requestAnimationFrame(xe)}}this.animate=function(e){be=e;ye()};this.render=function(e,t,n,i){if(!(t&&t.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(c)return;E="";y=-1;x=null;if(e.autoUpdate===true)e.updateMatrixWorld();if(t.parent===null)t.updateMatrixWorld();if(le.enabled){t=le.getCamera(t)}N.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse);R.setFromMatrix(N);f.length=0;p.length=0;m.length=0;g.length=0;I=this.localClippingEnabled;P=F.init(this.clippingPlanes,I,t);d=J.get(e,t);d.init();we(e,t,b.sortObjects);if(b.sortObjects===true){d.sort()}if(P)F.beginShadows();ce.render(p,e,t);Z.setup(f,p,t);if(P)F.endShadows();z.frame++;z.calls=0;z.vertices=0;z.faces=0;z.points=0;if(n===undefined){n=null}this.setRenderTarget(n);ee.render(d,e,t,i);var r=d.opaque;var a=d.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;if(r.length)_e(r,e,t,o);if(a.length)_e(a,e,t,o)}else{if(r.length)_e(r,e,t);if(a.length)_e(a,e,t)}ae.render(m,e,t);re.render(g,e,t,_);if(n){q.updateRenderTargetMipmap(n)}V.buffers.depth.setTest(true);V.buffers.depth.setMask(true);V.buffers.color.setMask(true);V.setPolygonOffset(false);if(le.enabled){le.submitFrame()}};function we(e,t,n){if(e.visible===false)return;var i=e.layers.test(t.layers);if(i){if(e.isLight){f.push(e);if(e.castShadow){p.push(e)}}else if(e.isSprite){if(!e.frustumCulled||R.intersectsSprite(e)){m.push(e)}}else if(e.isLensFlare){g.push(e)}else if(e.isImmediateRenderObject){if(n){O.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N)}d.push(e,null,e.material,O.z,null)}else if(e.isMesh||e.isLine||e.isPoints){if(e.isSkinnedMesh){e.skeleton.update()}if(!e.frustumCulled||R.intersectsObject(e)){if(n){O.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N)}var r=K.update(e);var a=e.material;if(Array.isArray(a)){var o=r.groups;for(var s=0,l=o.length;s<l;s++){var c=o[s];var u=a[c.materialIndex];if(u&&u.visible){d.push(e,r,u,O.z,c)}}}else if(a.visible){d.push(e,r,a,O.z,null)}}}}var h=e.children;for(var s=0,l=h.length;s<l;s++){we(h[s],t,n)}}function _e(e,t,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r];var s=o.object;var l=o.geometry;var c=i===undefined?o.material:i;var u=o.group;if(n.isArrayCamera){w=n;var h=n.cameras;for(var f=0,d=h.length;f<d;f++){var p=h[f];if(s.layers.test(p.layers)){var m=p.bounds;var g=m.x*S;var v=m.y*T;var b=m.z*S;var y=m.w*T;V.viewport(_.set(g,v,b,y).multiplyScalar(M));Ee(s,t,p,l,c,u)}}}else{w=null;Ee(s,t,n,l,c,u)}}}function Ee(e,t,n,i,r,a){e.onBeforeRender(b,t,n,i,r,a);e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld);e.normalMatrix.getNormalMatrix(e.modelViewMatrix);if(e.isImmediateRenderObject){V.setMaterial(r);var o=Ce(n,t.fog,r,e);E="";me(e,o,r)}else{b.renderBufferDirect(n,t.fog,i,r,e,a)}e.onAfterRender(b,t,n,i,r,a)}function Ae(e,t,n){var i=G.get(e);var r=Q.getParameters(e,Z.state,p,t,F.numPlanes,F.numIntersection,n);var a=Q.getProgramCode(e,r);var o=i.program;var s=true;if(o===undefined){e.addEventListener("dispose",fe)}else if(o.code!==a){pe(e)}else if(r.shaderID!==undefined){return}else{s=false}if(s){if(r.shaderID){var l=Sr[r.shaderID];i.shader={name:e.type,uniforms:En.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else{i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}}e.onBeforeCompile(i.shader);o=Q.acquireProgram(e,i.shader,r,a);i.program=o;e.program=o}var c=o.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var u=0;u<b.maxMorphTargets;u++){if(c["morphTarget"+u]>=0){e.numSupportedMorphTargets++}}}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var u=0;u<b.maxMorphNormals;u++){if(c["morphNormal"+u]>=0){e.numSupportedMorphNormals++}}}var h=i.shader.uniforms;if(!e.isShaderMaterial&&!e.isRawShaderMaterial||e.clipping===true){i.numClippingPlanes=F.numPlanes;i.numIntersection=F.numIntersection;h.clippingPlanes=F.uniform}i.fog=t;i.lightsHash=Z.state.hash;if(e.lights){h.ambientLightColor.value=Z.state.ambient;h.directionalLights.value=Z.state.directional;h.spotLights.value=Z.state.spot;h.rectAreaLights.value=Z.state.rectArea;h.pointLights.value=Z.state.point;h.hemisphereLights.value=Z.state.hemi;h.directionalShadowMap.value=Z.state.directionalShadowMap;h.directionalShadowMatrix.value=Z.state.directionalShadowMatrix;h.spotShadowMap.value=Z.state.spotShadowMap;h.spotShadowMatrix.value=Z.state.spotShadowMatrix;h.pointShadowMap.value=Z.state.pointShadowMap;h.pointShadowMatrix.value=Z.state.pointShadowMatrix}var f=i.program.getUniforms(),d=yn.seqWithValue(f.seq,h);i.uniformsList=d}function Ce(e,t,n,i){C=0;var r=G.get(n);if(P){if(I||e!==x){var a=e===x&&n.id===y;F.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,a)}}if(n.needsUpdate===false){if(r.program===undefined){n.needsUpdate=true}else if(n.fog&&r.fog!==t){n.needsUpdate=true}else if(n.lights&&r.lightsHash!==Z.state.hash){n.needsUpdate=true}else if(r.numClippingPlanes!==undefined&&(r.numClippingPlanes!==F.numPlanes||r.numIntersection!==F.numIntersection)){n.needsUpdate=true}}if(n.needsUpdate){Ae(n,t,i);n.needsUpdate=false}var o=false;var s=false;var l=false;var c=r.program,u=c.getUniforms(),h=r.shader.uniforms;if(V.useProgram(c.program)){o=true;s=true;l=true}if(n.id!==y){y=n.id;s=true}if(o||e!==x){u.setValue(H,"projectionMatrix",e.projectionMatrix);if(W.logarithmicDepthBuffer){u.setValue(H,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2))}if(x!==(w||e)){x=w||e;s=true;l=true}if(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=u.map.cameraPosition;if(f!==undefined){f.setValue(H,O.setFromMatrixPosition(e.matrixWorld))}}if(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning){u.setValue(H,"viewMatrix",e.matrixWorldInverse)}}if(n.skinning){u.setOptional(H,i,"bindMatrix");u.setOptional(H,i,"bindMatrixInverse");var d=i.skeleton;if(d){var p=d.bones;if(W.floatVertexTextures){if(d.boneTexture===undefined){var m=Math.sqrt(p.length*4);m=yt.ceilPowerOfTwo(m);m=Math.max(m,4);var g=new Float32Array(m*m*4);g.set(d.boneMatrices);var v=new Dt(g,m,m,Xe,Ge);d.boneMatrices=g;d.boneTexture=v;d.boneTextureSize=m}u.setValue(H,"boneTexture",d.boneTexture);u.setValue(H,"boneTextureSize",d.boneTextureSize)}else{u.setOptional(H,d,"boneMatrices")}}}if(s){u.setValue(H,"toneMappingExposure",b.toneMappingExposure);u.setValue(H,"toneMappingWhitePoint",b.toneMappingWhitePoint);if(n.lights){ze(h,l)}if(t&&n.fog){De(h,t)}if(n.isMeshBasicMaterial){Se(h,n)}else if(n.isMeshLambertMaterial){Se(h,n);Le(h,n)}else if(n.isMeshPhongMaterial){Se(h,n);if(n.isMeshToonMaterial){Fe(h,n)}else{Re(h,n)}}else if(n.isMeshStandardMaterial){Se(h,n);if(n.isMeshPhysicalMaterial){Ie(h,n)}else{Pe(h,n)}}else if(n.isMeshDepthMaterial){Se(h,n);Ne(h,n)}else if(n.isMeshDistanceMaterial){Se(h,n);Oe(h,n)}else if(n.isMeshNormalMaterial){Se(h,n);Be(h,n)}else if(n.isLineBasicMaterial){Te(h,n);if(n.isLineDashedMaterial){Me(h,n)}}else if(n.isPointsMaterial){ke(h,n)}else if(n.isShadowMaterial){h.color.value=n.color;h.opacity.value=n.opacity}if(h.ltcMat!==undefined)h.ltcMat.value=_n.LTC_MAT_TEXTURE;if(h.ltcMag!==undefined)h.ltcMag.value=_n.LTC_MAG_TEXTURE;yn.upload(H,r.uniformsList,h,b)}u.setValue(H,"modelViewMatrix",i.modelViewMatrix);u.setValue(H,"normalMatrix",i.normalMatrix);u.setValue(H,"modelMatrix",i.matrixWorld);return c}function Se(e,t){e.opacity.value=t.opacity;if(t.color){e.diffuse.value=t.color}if(t.emissive){e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity)}if(t.map){e.map.value=t.map}if(t.alphaMap){e.alphaMap.value=t.alphaMap}if(t.specularMap){e.specularMap.value=t.specularMap}if(t.envMap){e.envMap.value=t.envMap;e.flipEnvMap.value=!(t.envMap&&t.envMap.isCubeTexture)?1:-1;e.reflectivity.value=t.reflectivity;e.refractionRatio.value=t.refractionRatio}if(t.lightMap){e.lightMap.value=t.lightMap;e.lightMapIntensity.value=t.lightMapIntensity}if(t.aoMap){e.aoMap.value=t.aoMap;e.aoMapIntensity.value=t.aoMapIntensity}var n;if(t.map){n=t.map}else if(t.specularMap){n=t.specularMap}else if(t.displacementMap){n=t.displacementMap}else if(t.normalMap){n=t.normalMap}else if(t.bumpMap){n=t.bumpMap}else if(t.roughnessMap){n=t.roughnessMap}else if(t.metalnessMap){n=t.metalnessMap}else if(t.alphaMap){n=t.alphaMap}else if(t.emissiveMap){n=t.emissiveMap}if(n!==undefined){if(n.isWebGLRenderTarget){n=n.texture}if(n.matrixAutoUpdate===true){var i=n.offset;var r=n.repeat;var a=n.rotation;var o=n.center;n.matrix.setUvTransform(i.x,i.y,r.x,r.y,a,o.x,o.y)}e.uvTransform.value.copy(n.matrix)}}function Te(e,t){e.diffuse.value=t.color;e.opacity.value=t.opacity}function Me(e,t){e.dashSize.value=t.dashSize;e.totalSize.value=t.dashSize+t.gapSize;e.scale.value=t.scale}function ke(e,t){e.diffuse.value=t.color;e.opacity.value=t.opacity;e.size.value=t.size*M;e.scale.value=T*.5;e.map.value=t.map;if(t.map!==null){if(t.map.matrixAutoUpdate===true){var n=t.map.offset;var i=t.map.repeat;var r=t.map.rotation;var a=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,i.x,i.y,r,a.x,a.y)}e.uvTransform.value.copy(t.map.matrix)}}function De(e,t){e.fogColor.value=t.color;if(t.isFog){e.fogNear.value=t.near;e.fogFar.value=t.far}else if(t.isFogExp2){e.fogDensity.value=t.density}}function Le(e,t){if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}}function Re(e,t){e.specular.value=t.specular;e.shininess.value=Math.max(t.shininess,1e-4);if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}}function Fe(e,t){Re(e,t);if(t.gradientMap){e.gradientMap.value=t.gradientMap}}function Pe(e,t){e.roughness.value=t.roughness;e.metalness.value=t.metalness;if(t.roughnessMap){e.roughnessMap.value=t.roughnessMap}if(t.metalnessMap){e.metalnessMap.value=t.metalnessMap}if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}if(t.envMap){e.envMapIntensity.value=t.envMapIntensity}}function Ie(e,t){e.clearCoat.value=t.clearCoat;e.clearCoatRoughness.value=t.clearCoatRoughness;Pe(e,t)}function Ne(e,t){if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}}function Oe(e,t){if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}e.referencePosition.value.copy(t.referencePosition);e.nearDistance.value=t.nearDistance;e.farDistance.value=t.farDistance}function Be(e,t){if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}}function ze(e,t){e.ambientLightColor.needsUpdate=t;e.directionalLights.needsUpdate=t;e.pointLights.needsUpdate=t;e.spotLights.needsUpdate=t;e.rectAreaLights.needsUpdate=t;e.hemisphereLights.needsUpdate=t}this.setFaceCulling=function(e,t){V.setCullFace(e);V.setFlipSided(t===je)};function Ue(){var e=C;if(e>=W.maxTextures){console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+W.maxTextures)}C+=1;return e}this.allocTextureUnit=Ue;this.setTexture2D=function(){var i=false;return function e(t,n){if(t&&t.isWebGLRenderTarget){if(!i){console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.");i=true}t=t.texture}q.setTexture2D(t,n)}}();this.setTexture=function(){var i=false;return function e(t,n){if(!i){console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.");i=true}q.setTexture2D(t,n)}}();this.setTextureCube=function(){var i=false;return function e(t,n){if(t&&t.isWebGLRenderTargetCube){if(!i){console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.");i=true}t=t.texture}if(t&&t.isCubeTexture||Array.isArray(t.image)&&t.image.length===6){q.setTextureCube(t,n)}else{q.setTextureCubeDynamic(t,n)}}}();this.getRenderTarget=function(){return u};this.setRenderTarget=function(e){u=e;if(e&&G.get(e).__webglFramebuffer===undefined){q.setupRenderTarget(e)}var t=null;var n=false;if(e){var i=G.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube){t=i[e.activeCubeFace];n=true}else{t=i}_.copy(e.viewport);v.copy(e.scissor);A=e.scissorTest}else{_.copy(k).multiplyScalar(M);v.copy(D).multiplyScalar(M);A=L}if(h!==t){H.bindFramebuffer(H.FRAMEBUFFER,t);h=t}V.viewport(_);V.scissor(v);V.setScissorTest(A);if(n){var r=G.get(e.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}};this.readRenderTargetPixels=function(e,t,n,i,r,a){if(!(e&&e.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var o=G.get(e).__webglFramebuffer;if(o){var s=false;if(o!==h){H.bindFramebuffer(H.FRAMEBUFFER,o);s=true}try{var l=e.texture;var c=l.format;var u=l.type;if(c!==Xe&&oe.convert(c)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(u!==Ve&&oe.convert(u)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)&&!(u===Ge&&($.get("OES_texture_float")||$.get("WEBGL_color_buffer_float")))&&!(u===qe&&$.get("EXT_color_buffer_half_float"))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}if(H.checkFramebufferStatus(H.FRAMEBUFFER)===H.FRAMEBUFFER_COMPLETE){if(t>=0&&t<=e.width-i&&(n>=0&&n<=e.height-r)){H.readPixels(t,n,i,r,oe.convert(c),oe.convert(u),a)}}else{console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}}finally{if(s){H.bindFramebuffer(H.FRAMEBUFFER,h)}}}}}function oo(e,t){this.name="";this.color=new wn(e);this.density=t!==undefined?t:25e-5}oo.prototype.isFogExp2=true;oo.prototype.clone=function(){return new oo(this.color.getHex(),this.density)};oo.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};function so(e,t,n){this.name="";this.color=new wn(e);this.near=t!==undefined?t:1;this.far=n!==undefined?n:1e3}so.prototype.isFog=true;so.prototype.clone=function(){return new so(this.color.getHex(),this.near,this.far)};so.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};function lo(){Wr.call(this);this.type="Scene";this.background=null;this.fog=null;this.overrideMaterial=null;this.autoUpdate=true}lo.prototype=Object.assign(Object.create(Wr.prototype),{constructor:lo,copy:function(e,t){Wr.prototype.copy.call(this,e,t);if(e.background!==null)this.background=e.background.clone();if(e.fog!==null)this.fog=e.fog.clone();if(e.overrideMaterial!==null)this.overrideMaterial=e.overrideMaterial.clone();this.autoUpdate=e.autoUpdate;this.matrixAutoUpdate=e.matrixAutoUpdate;return this},toJSON:function(e){var t=Wr.prototype.toJSON.call(this,e);if(this.background!==null)t.object.background=this.background.toJSON(e);if(this.fog!==null)t.object.fog=this.fog.toJSON();return t}});function co(e,t,n,i,r){Wr.call(this);this.lensFlares=[];this.positionScreen=new Et;this.customUpdateCallback=undefined;if(e!==undefined){this.add(e,t,n,i,r)}}co.prototype=Object.assign(Object.create(Wr.prototype),{constructor:co,isLensFlare:true,copy:function(e){Wr.prototype.copy.call(this,e);this.positionScreen.copy(e.positionScreen);this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++){this.lensFlares.push(e.lensFlares[t])}return this},add:function(e,t,n,i,r,a){if(t===undefined)t=-1;if(n===undefined)n=0;if(a===undefined)a=1;if(r===undefined)r=new wn(16777215);if(i===undefined)i=fe;n=Math.min(n,Math.max(0,n));this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:r,blending:i})},updateLensFlares:function(){var e,t=this.lensFlares.length;var n;var i=-this.positionScreen.x*2;var r=-this.positionScreen.y*2;for(e=0;e<t;e++){n=this.lensFlares[e];n.x=this.positionScreen.x+i*n.distance;n.y=this.positionScreen.y+r*n.distance;n.wantedRotation=n.x*Math.PI*.25;n.rotation+=(n.wantedRotation-n.rotation)*.25}}});function uo(e){Rr.call(this);this.type="SpriteMaterial";this.color=new wn(16777215);this.map=null;this.rotation=0;this.fog=false;this.lights=false;this.setValues(e)}uo.prototype=Object.create(Rr.prototype);uo.prototype.constructor=uo;uo.prototype.isSpriteMaterial=true;uo.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.rotation=e.rotation;return this};function ho(e){Wr.call(this);this.type="Sprite";this.material=e!==undefined?e:new uo}ho.prototype=Object.assign(Object.create(Wr.prototype),{constructor:ho,isSprite:true,raycast:function(){var a=new Et;var o=new Et;var s=new Et;return function e(t,n){o.setFromMatrixPosition(this.matrixWorld);t.ray.closestPointToPoint(o,a);s.setFromMatrixScale(this.matrixWorld);var i=s.x*s.y/4;if(o.distanceToSquared(a)>i)return;var r=t.ray.origin.distanceTo(a);if(r<t.near||r>t.far)return;n.push({distance:r,point:a.clone(),face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}});function fo(){Wr.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:true,value:[]}})}fo.prototype=Object.assign(Object.create(Wr.prototype),{constructor:fo,copy:function(e){Wr.prototype.copy.call(this,e,false);var t=e.levels;for(var n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){if(t===undefined)t=0;t=Math.abs(t);var n=this.levels;for(var i=0;i<n.length;i++){if(t<n[i].distance){break}}n.splice(i,0,{distance:t,object:e});this.add(e)},getObjectForDistance:function(e){var t=this.levels;for(var n=1,i=t.length;n<i;n++){if(e<t[n].distance){break}}return t[n-1].object},raycast:function(){var r=new Et;return function e(t,n){r.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(r);this.getObjectForDistance(i).raycast(t,n)}}(),update:function(){var o=new Et;var s=new Et;return function e(t){var n=this.levels;if(n.length>1){o.setFromMatrixPosition(t.matrixWorld);s.setFromMatrixPosition(this.matrixWorld);var i=o.distanceTo(s);n[0].object.visible=true;for(var r=1,a=n.length;r<a;r++){if(i>=n[r].distance){n[r-1].object.visible=false;n[r].object.visible=true}else{break}}for(;r<a;r++){n[r].object.visible=false}}}}(),toJSON:function(e){var t=Wr.prototype.toJSON.call(this,e);t.object.levels=[];var n=this.levels;for(var i=0,r=n.length;i<r;i++){var a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}});function po(e,t){e=e||[];this.bones=e.slice(0);this.boneMatrices=new Float32Array(this.bones.length*16);if(t===undefined){this.calculateInverses()}else{if(this.bones.length===t.length){this.boneInverses=t.slice(0)}else{console.warn("THREE.Skeleton boneInverses is the wrong length.");this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++){this.boneInverses.push(new wt)}}}}Object.assign(po.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new wt;if(this.bones[e]){n.getInverse(this.bones[e].matrixWorld)}this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++){e=this.bones[t];if(e){e.matrixWorld.getInverse(this.boneInverses[t])}}for(t=0,n=this.bones.length;t<n;t++){e=this.bones[t];if(e){if(e.parent&&e.parent.isBone){e.matrix.getInverse(e.parent.matrixWorld);e.matrix.multiply(e.matrixWorld)}else{e.matrix.copy(e.matrixWorld)}e.matrix.decompose(e.position,e.quaternion,e.scale)}}},update:function(){var l=new wt;var c=new wt;return function e(){var t=this.bones;var n=this.boneInverses;var i=this.boneMatrices;var r=this.boneTexture;for(var a=0,o=t.length;a<o;a++){var s=t[a]?t[a].matrixWorld:c;l.multiplyMatrices(s,n[a]);l.toArray(i,a*16)}if(r!==undefined){r.needsUpdate=true}}}(),clone:function(){return new po(this.bones,this.boneInverses)}});function mo(){Wr.call(this);this.type="Bone"}mo.prototype=Object.assign(Object.create(Wr.prototype),{constructor:mo,isBone:true});function go(e,t){ya.call(this,e,t);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new wt;this.bindMatrixInverse=new wt;var n=this.initBones();var i=new po(n);this.bind(i,this.matrixWorld);this.normalizeSkinWeights()}go.prototype=Object.assign(Object.create(ya.prototype),{constructor:go,isSkinnedMesh:true,initBones:function(){var e=[],t,n;var i,r;if(this.geometry&&this.geometry.bones!==undefined){for(i=0,r=this.geometry.bones.length;i<r;i++){n=this.geometry.bones[i];t=new mo;e.push(t);t.name=n.name;t.position.fromArray(n.pos);t.quaternion.fromArray(n.rotq);if(n.scl!==undefined)t.scale.fromArray(n.scl)}for(i=0,r=this.geometry.bones.length;i<r;i++){n=this.geometry.bones[i];if(n.parent!==-1&&n.parent!==null&&e[n.parent]!==undefined){e[n.parent].add(e[i])}else{this.add(e[i])}}}this.updateMatrixWorld(true);return e},bind:function(e,t){this.skeleton=e;if(t===undefined){this.updateMatrixWorld(true);this.skeleton.calculateInverses();t=this.matrixWorld}this.bindMatrix.copy(t);this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry){for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];e=1/n.manhattanLength();if(e!==Infinity){n.multiplyScalar(e)}else{n.set(1,0,0,0)}}}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new Tt;var r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++){i.x=r.getX(t);i.y=r.getY(t);i.z=r.getZ(t);i.w=r.getW(t);e=1/i.manhattanLength();if(e!==Infinity){i.multiplyScalar(e)}else{i.set(1,0,0,0)}r.setXYZW(t,i.x,i.y,i.z,i.w)}}},updateMatrixWorld:function(e){ya.prototype.updateMatrixWorld.call(this,e);if(this.bindMode==="attached"){this.bindMatrixInverse.getInverse(this.matrixWorld)}else if(this.bindMode==="detached"){this.bindMatrixInverse.getInverse(this.bindMatrix)}else{console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function vo(e){Rr.call(this);this.type="LineBasicMaterial";this.color=new wn(16777215);this.linewidth=1;this.linecap="round";this.linejoin="round";this.lights=false;this.setValues(e)}vo.prototype=Object.create(Rr.prototype);vo.prototype.constructor=vo;vo.prototype.isLineBasicMaterial=true;vo.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.color.copy(e.color);this.linewidth=e.linewidth;this.linecap=e.linecap;this.linejoin=e.linejoin;return this};function bo(e,t,n){if(n===1){console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.");return new yo(e,t)}Wr.call(this);this.type="Line";this.geometry=e!==undefined?e:new ca;this.material=t!==undefined?t:new vo({color:Math.random()*16777215})}bo.prototype=Object.assign(Object.create(Wr.prototype),{constructor:bo,isLine:true,raycast:function(){var A=new wt;var C=new ga;var S=new Nr;return function e(t,n){var i=t.linePrecision;var r=i*i;var a=this.geometry;var o=this.matrixWorld;if(a.boundingSphere===null)a.computeBoundingSphere();S.copy(a.boundingSphere);S.applyMatrix4(o);if(t.ray.intersectsSphere(S)===false)return;A.getInverse(o);C.copy(t.ray).applyMatrix4(A);var s=new Et;var l=new Et;var c=new Et;var u=new Et;var h=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var f=a.index;var d=a.attributes;var p=d.position.array;if(f!==null){var m=f.array;for(var g=0,v=m.length-1;g<v;g+=h){var b=m[g];var y=m[g+1];s.fromArray(p,b*3);l.fromArray(p,y*3);var x=C.distanceSqToSegment(s,l,u,c);if(x>r)continue;u.applyMatrix4(this.matrixWorld);var w=t.ray.origin.distanceTo(u);if(w<t.near||w>t.far)continue;n.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else{for(var g=0,v=p.length/3-1;g<v;g+=h){s.fromArray(p,3*g);l.fromArray(p,3*g+3);var x=C.distanceSqToSegment(s,l,u,c);if(x>r)continue;u.applyMatrix4(this.matrixWorld);var w=t.ray.origin.distanceTo(u);if(w<t.near||w>t.far)continue;n.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}else if(a.isGeometry){var _=a.vertices;var E=_.length;for(var g=0;g<E-1;g+=h){var x=C.distanceSqToSegment(_[g],_[g+1],u,c);if(x>r)continue;u.applyMatrix4(this.matrixWorld);var w=t.ray.origin.distanceTo(u);if(w<t.near||w>t.far)continue;n.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function yo(e,t){bo.call(this,e,t);this.type="LineSegments"}yo.prototype=Object.assign(Object.create(bo.prototype),{constructor:yo,isLineSegments:true});function xo(e,t){bo.call(this,e,t);this.type="LineLoop"}xo.prototype=Object.assign(Object.create(bo.prototype),{constructor:xo,isLineLoop:true});function wo(e){Rr.call(this);this.type="PointsMaterial";this.color=new wn(16777215);this.map=null;this.size=1;this.sizeAttenuation=true;this.lights=false;this.setValues(e)}wo.prototype=Object.create(Rr.prototype);wo.prototype.constructor=wo;wo.prototype.isPointsMaterial=true;wo.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.size=e.size;this.sizeAttenuation=e.sizeAttenuation;return this};function _o(e,t){Wr.call(this);this.type="Points";this.geometry=e!==undefined?e:new ca;this.material=t!==undefined?t:new wo({color:Math.random()*16777215})}_o.prototype=Object.assign(Object.create(Wr.prototype),{constructor:_o,isPoints:true,raycast:function(){var x=new wt;var w=new ga;var _=new Nr;return function e(a,o){var s=this;var t=this.geometry;var l=this.matrixWorld;var n=a.params.Points.threshold;if(t.boundingSphere===null)t.computeBoundingSphere();_.copy(t.boundingSphere);_.applyMatrix4(l);_.radius+=n;if(a.ray.intersectsSphere(_)===false)return;x.getInverse(l);w.copy(a.ray).applyMatrix4(x);var i=n/((this.scale.x+this.scale.y+this.scale.z)/3);var c=i*i;var r=new Et;function u(e,t){var n=w.distanceSqToPoint(e);if(n<c){var i=w.closestPointToPoint(e);i.applyMatrix4(l);var r=a.ray.origin.distanceTo(i);if(r<a.near||r>a.far)return;o.push({distance:r,distanceToRay:Math.sqrt(n),point:i.clone(),index:t,face:null,object:s})}}if(t.isBufferGeometry){var h=t.index;var f=t.attributes;var d=f.position.array;if(h!==null){var p=h.array;for(var m=0,g=p.length;m<g;m++){var v=p[m];r.fromArray(d,v*3);u(r,v)}}else{for(var m=0,b=d.length/3;m<b;m++){r.fromArray(d,m*3);u(r,m)}}}else{var y=t.vertices;for(var m=0,b=y.length;m<b;m++){u(y[m],m)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Eo(){Wr.call(this);this.type="Group"}Eo.prototype=Object.assign(Object.create(Wr.prototype),{constructor:Eo});function Ao(e,t,n,i,r,a,o,s,l){St.call(this,e,t,n,i,r,a,o,s,l);this.generateMipmaps=false;var c=this;function u(){var e=c.image;if(e.readyState>=e.HAVE_CURRENT_DATA){c.needsUpdate=true}requestAnimationFrame(u)}requestAnimationFrame(u)}Ao.prototype=Object.create(St.prototype);Ao.prototype.constructor=Ao;function Co(e,t,n,i,r,a,o,s,l,c,u,h){St.call(this,null,a,o,s,l,c,i,r,u,h);this.image={width:t,height:n};this.mipmaps=e;this.flipY=false;this.generateMipmaps=false}Co.prototype=Object.create(St.prototype);Co.prototype.constructor=Co;Co.prototype.isCompressedTexture=true;function So(e,t,n,i,r,a,o,s,l,c){c=c!==undefined?c:Re;if(c!==Re&&c!==Fe){throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat")}if(n===undefined&&c===Re)n=te;if(n===undefined&&c===Fe)n=Se;St.call(this,null,i,r,a,o,s,c,n,l);this.image={width:e,height:t};this.magFilter=o!==undefined?o:q;this.minFilter=s!==undefined?s:q;this.flipY=false;this.generateMipmaps=false}So.prototype=Object.create(St.prototype);So.prototype.constructor=So;So.prototype.isDepthTexture=true;function To(e){ca.call(this);this.type="WireframeGeometry";var t=[];var n,i,r,a,o;var s=[0,0],l={},c,u,h;var f,d=["a","b","c"];var p;if(e&&e.isGeometry){var m=e.faces;for(n=0,r=m.length;n<r;n++){var g=m[n];for(i=0;i<3;i++){u=g[d[i]];h=g[d[(i+1)%3]];s[0]=Math.min(u,h);s[1]=Math.max(u,h);f=s[0]+","+s[1];if(l[f]===undefined){l[f]={index1:s[0],index2:s[1]}}}}for(f in l){c=l[f];p=e.vertices[c.index1];t.push(p.x,p.y,p.z);p=e.vertices[c.index2];t.push(p.x,p.y,p.z)}}else if(e&&e.isBufferGeometry){var v,b,y;var x,w,_;var E,A;p=new Et;if(e.index!==null){v=e.attributes.position;b=e.index;y=e.groups;if(y.length===0){y=[{start:0,count:b.count,materialIndex:0}]}for(a=0,o=y.length;a<o;++a){x=y[a];w=x.start;_=x.count;for(n=w,r=w+_;n<r;n+=3){for(i=0;i<3;i++){u=b.getX(n+i);h=b.getX(n+(i+1)%3);s[0]=Math.min(u,h);s[1]=Math.max(u,h);f=s[0]+","+s[1];if(l[f]===undefined){l[f]={index1:s[0],index2:s[1]}}}}}for(f in l){c=l[f];p.fromBufferAttribute(v,c.index1);t.push(p.x,p.y,p.z);p.fromBufferAttribute(v,c.index2);t.push(p.x,p.y,p.z)}}else{v=e.attributes.position;for(n=0,r=v.count/3;n<r;n++){for(i=0;i<3;i++){E=3*n+i;p.fromBufferAttribute(v,E);t.push(p.x,p.y,p.z);A=3*n+(i+1)%3;p.fromBufferAttribute(v,A);t.push(p.x,p.y,p.z)}}}}this.addAttribute("position",new ra(t,3))}To.prototype=Object.create(ca.prototype);To.prototype.constructor=To;function Mo(e,t,n){Yr.call(this);this.type="ParametricGeometry";this.parameters={func:e,slices:t,stacks:n};this.fromBufferGeometry(new ko(e,t,n));this.mergeVertices()}Mo.prototype=Object.create(Yr.prototype);Mo.prototype.constructor=Mo;function ko(e,t,n){ca.call(this);this.type="ParametricBufferGeometry";this.parameters={func:e,slices:t,stacks:n};var i=[];var r=[];var a=[];var o=[];var s=1e-5;var l=new Et;var c=new Et,u=new Et;var h=new Et,f=new Et;var d,p;var m=t+1;for(d=0;d<=n;d++){var g=d/n;for(p=0;p<=t;p++){var v=p/t;c=e(v,g,c);r.push(c.x,c.y,c.z);if(v-s>=0){u=e(v-s,g,u);h.subVectors(c,u)}else{u=e(v+s,g,u);h.subVectors(u,c)}if(g-s>=0){u=e(v,g-s,u);f.subVectors(c,u)}else{u=e(v,g+s,u);f.subVectors(u,c)}l.crossVectors(h,f).normalize();a.push(l.x,l.y,l.z);o.push(v,g)}}for(d=0;d<n;d++){for(p=0;p<t;p++){var b=d*m+p;var y=d*m+p+1;var x=(d+1)*m+p+1;var w=(d+1)*m+p;i.push(b,y,w);i.push(y,x,w)}}this.setIndex(i);this.addAttribute("position",new ra(r,3));this.addAttribute("normal",new ra(a,3));this.addAttribute("uv",new ra(o,2))}ko.prototype=Object.create(ca.prototype);ko.prototype.constructor=ko;function Do(e,t,n,i){Yr.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:e,indices:t,radius:n,detail:i};this.fromBufferGeometry(new Lo(e,t,n,i));this.mergeVertices()}Do.prototype=Object.create(Yr.prototype);Do.prototype.constructor=Do;function Lo(i,a,e,t){ca.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:i,indices:a,radius:e,detail:t};e=e||1;t=t||0;var u=[];var h=[];n(t);r(e);s();this.addAttribute("position",new ra(u,3));this.addAttribute("normal",new ra(u.slice(),3));this.addAttribute("uv",new ra(h,2));if(t===0){this.computeVertexNormals()}else{this.normalizeNormals()}function n(e){var t=new Et;var n=new Et;var i=new Et;for(var r=0;r<a.length;r+=3){c(a[r+0],t);c(a[r+1],n);c(a[r+2],i);o(t,n,i,e)}}function o(e,t,n,i){var r=Math.pow(2,i);var a=[];var o,s;for(o=0;o<=r;o++){a[o]=[];var l=e.clone().lerp(n,o/r);var c=t.clone().lerp(n,o/r);var u=r-o;for(s=0;s<=u;s++){if(s===0&&o===r){a[o][s]=l}else{a[o][s]=l.clone().lerp(c,s/u)}}}for(o=0;o<r;o++){for(s=0;s<2*(r-o)-1;s++){var h=Math.floor(s/2);if(s%2===0){f(a[o][h+1]);f(a[o+1][h]);f(a[o][h])}else{f(a[o][h+1]);f(a[o+1][h+1]);f(a[o+1][h])}}}}function r(e){var t=new Et;for(var n=0;n<u.length;n+=3){t.x=u[n+0];t.y=u[n+1];t.z=u[n+2];t.normalize().multiplyScalar(e);u[n+0]=t.x;u[n+1]=t.y;u[n+2]=t.z}}function s(){var e=new Et;for(var t=0;t<u.length;t+=3){e.x=u[t+0];e.y=u[t+1];e.z=u[t+2];var n=m(e)/2/Math.PI+.5;var i=g(e)/Math.PI+.5;h.push(n,1-i)}d();l()}function l(){for(var e=0;e<h.length;e+=6){var t=h[e+0];var n=h[e+2];var i=h[e+4];var r=Math.max(t,n,i);var a=Math.min(t,n,i);if(r>.9&&a<.1){if(t<.2)h[e+0]+=1;if(n<.2)h[e+2]+=1;if(i<.2)h[e+4]+=1}}}function f(e){u.push(e.x,e.y,e.z)}function c(e,t){var n=e*3;t.x=i[n+0];t.y=i[n+1];t.z=i[n+2]}function d(){var e=new Et;var t=new Et;var n=new Et;var i=new Et;var r=new xt;var a=new xt;var o=new xt;for(var s=0,l=0;s<u.length;s+=9,l+=6){e.set(u[s+0],u[s+1],u[s+2]);t.set(u[s+3],u[s+4],u[s+5]);n.set(u[s+6],u[s+7],u[s+8]);r.set(h[l+0],h[l+1]);a.set(h[l+2],h[l+3]);o.set(h[l+4],h[l+5]);i.copy(e).add(t).add(n).divideScalar(3);var c=m(i);p(r,l+0,e,c);p(a,l+2,t,c);p(o,l+4,n,c)}}function p(e,t,n,i){if(i<0&&e.x===1){h[t]=e.x-1}if(n.x===0&&n.z===0){h[t]=i/2/Math.PI+.5}}function m(e){return Math.atan2(e.z,-e.x)}function g(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}}Lo.prototype=Object.create(ca.prototype);Lo.prototype.constructor=Lo;function Ro(e,t){Yr.call(this);this.type="TetrahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new Fo(e,t));this.mergeVertices()}Ro.prototype=Object.create(Yr.prototype);Ro.prototype.constructor=Ro;function Fo(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1];var i=[2,1,0,0,3,2,1,3,0,2,3,1];Lo.call(this,n,i,e,t);this.type="TetrahedronBufferGeometry";this.parameters={radius:e,detail:t}}Fo.prototype=Object.create(Lo.prototype);Fo.prototype.constructor=Fo;function Po(e,t){Yr.call(this);this.type="OctahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new Io(e,t));this.mergeVertices()}Po.prototype=Object.create(Yr.prototype);Po.prototype.constructor=Po;function Io(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1];var i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Lo.call(this,n,i,e,t);this.type="OctahedronBufferGeometry";this.parameters={radius:e,detail:t}}Io.prototype=Object.create(Lo.prototype);Io.prototype.constructor=Io;function No(e,t){Yr.call(this);this.type="IcosahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new Oo(e,t));this.mergeVertices()}No.prototype=Object.create(Yr.prototype);No.prototype.constructor=No;function Oo(e,t){var n=(1+Math.sqrt(5))/2;var i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];var r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Lo.call(this,i,r,e,t);this.type="IcosahedronBufferGeometry";this.parameters={radius:e,detail:t}}Oo.prototype=Object.create(Lo.prototype);Oo.prototype.constructor=Oo;function Bo(e,t){Yr.call(this);this.type="DodecahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new zo(e,t));this.mergeVertices()}Bo.prototype=Object.create(Yr.prototype);Bo.prototype.constructor=Bo;function zo(e,t){var n=(1+Math.sqrt(5))/2;var i=1/n;var r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i];var a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Lo.call(this,r,a,e,t);this.type="DodecahedronBufferGeometry";this.parameters={radius:e,detail:t}}zo.prototype=Object.create(Lo.prototype);zo.prototype.constructor=zo;function Uo(e,t,n,i,r,a){Yr.call(this);this.type="TubeGeometry";this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};if(a!==undefined)console.warn("THREE.TubeGeometry: taper has been removed.");var o=new Ho(e,t,n,i,r);this.tangents=o.tangents;this.normals=o.normals;this.binormals=o.binormals;this.fromBufferGeometry(o);this.mergeVertices()}Uo.prototype=Object.create(Yr.prototype);Uo.prototype.constructor=Uo;function Ho(o,s,l,c,e){ca.call(this);this.type="TubeBufferGeometry";this.parameters={path:o,tubularSegments:s,radius:l,radialSegments:c,closed:e};s=s||64;l=l||1;c=c||8;e=e||false;var u=o.computeFrenetFrames(s,e);this.tangents=u.tangents;this.normals=u.normals;this.binormals=u.binormals;var h=new Et;var f=new Et;var t=new xt;var d=new Et;var r,p;var m=[];var g=[];var n=[];var a=[];i();this.setIndex(a);this.addAttribute("position",new ra(m,3));this.addAttribute("normal",new ra(g,3));this.addAttribute("uv",new ra(n,2));function i(){for(r=0;r<s;r++){v(r)}v(e===false?s:0);y();b()}function v(e){d=o.getPointAt(e/s,d);var t=u.normals[e];var n=u.binormals[e];for(p=0;p<=c;p++){var i=p/c*Math.PI*2;var r=Math.sin(i);var a=-Math.cos(i);f.x=a*t.x+r*n.x;f.y=a*t.y+r*n.y;f.z=a*t.z+r*n.z;f.normalize();g.push(f.x,f.y,f.z);h.x=d.x+l*f.x;h.y=d.y+l*f.y;h.z=d.z+l*f.z;m.push(h.x,h.y,h.z)}}function b(){for(p=1;p<=s;p++){for(r=1;r<=c;r++){var e=(c+1)*(p-1)+(r-1);var t=(c+1)*p+(r-1);var n=(c+1)*p+r;var i=(c+1)*(p-1)+r;a.push(e,t,i);a.push(t,n,i)}}}function y(){for(r=0;r<=s;r++){for(p=0;p<=c;p++){t.x=r/s;t.y=p/c;n.push(t.x,t.y)}}}}Ho.prototype=Object.create(ca.prototype);Ho.prototype.constructor=Ho;function jo(e,t,n,i,r,a,o){Yr.call(this);this.type="TorusKnotGeometry";this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a};if(o!==undefined)console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new $o(e,t,n,i,r,a));this.mergeVertices()}jo.prototype=Object.create(Yr.prototype);jo.prototype.constructor=jo;function $o(e,t,n,i,r,a){ca.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a};e=e||1;t=t||.4;n=Math.floor(n)||64;i=Math.floor(i)||8;r=r||2;a=a||3;var o=[];var s=[];var l=[];var c=[];var u,h;var f=new Et;var d=new Et;var p=new Et;var m=new Et;var g=new Et;var v=new Et;var b=new Et;for(u=0;u<=n;++u){var y=u/n*r*Math.PI*2;T(y,r,a,e,p);T(y+.01,r,a,e,m);v.subVectors(m,p);b.addVectors(m,p);g.crossVectors(v,b);b.crossVectors(g,v);g.normalize();b.normalize();for(h=0;h<=i;++h){var x=h/i*Math.PI*2;var w=-t*Math.cos(x);var _=t*Math.sin(x);f.x=p.x+(w*b.x+_*g.x);f.y=p.y+(w*b.y+_*g.y);f.z=p.z+(w*b.z+_*g.z);s.push(f.x,f.y,f.z);d.subVectors(f,p).normalize();l.push(d.x,d.y,d.z);c.push(u/n);c.push(h/i)}}for(h=1;h<=n;h++){for(u=1;u<=i;u++){var E=(i+1)*(h-1)+(u-1);var A=(i+1)*h+(u-1);var C=(i+1)*h+u;var S=(i+1)*(h-1)+u;o.push(E,A,S);o.push(A,C,S)}}this.setIndex(o);this.addAttribute("position",new ra(s,3));this.addAttribute("normal",new ra(l,3));this.addAttribute("uv",new ra(c,2));function T(e,t,n,i,r){var a=Math.cos(e);var o=Math.sin(e);var s=n/t*e;var l=Math.cos(s);r.x=i*(2+l)*.5*a;r.y=i*(2+l)*o*.5;r.z=i*Math.sin(s)*.5}}$o.prototype=Object.create(ca.prototype);$o.prototype.constructor=$o;function Wo(e,t,n,i,r){Yr.call(this);this.type="TorusGeometry";this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r};this.fromBufferGeometry(new Vo(e,t,n,i,r));this.mergeVertices()}Wo.prototype=Object.create(Yr.prototype);Wo.prototype.constructor=Wo;function Vo(e,t,n,i,r){ca.call(this);this.type="TorusBufferGeometry";this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r};e=e||1;t=t||.4;n=Math.floor(n)||8;i=Math.floor(i)||6;r=r||Math.PI*2;var a=[];var o=[];var s=[];var l=[];var c=new Et;var u=new Et;var h=new Et;var f,d;for(f=0;f<=n;f++){for(d=0;d<=i;d++){var p=d/i*r;var m=f/n*Math.PI*2;u.x=(e+t*Math.cos(m))*Math.cos(p);u.y=(e+t*Math.cos(m))*Math.sin(p);u.z=t*Math.sin(m);o.push(u.x,u.y,u.z);c.x=e*Math.cos(p);c.y=e*Math.sin(p);h.subVectors(u,c).normalize();s.push(h.x,h.y,h.z);l.push(d/i);l.push(f/n)}}for(f=1;f<=n;f++){for(d=1;d<=i;d++){var g=(i+1)*f+d-1;var v=(i+1)*(f-1)+d-1;var b=(i+1)*(f-1)+d;var y=(i+1)*f+d;a.push(g,v,y);a.push(v,b,y)}}this.setIndex(a);this.addAttribute("position",new ra(o,3));this.addAttribute("normal",new ra(s,3));this.addAttribute("uv",new ra(l,2))}Vo.prototype=Object.create(ca.prototype);Vo.prototype.constructor=Vo;var Go={area:function(e){var t=e.length;var n=0;for(var i=t-1,r=0;r<t;i=r++){n+=e[i].x*e[r].y-e[r].x*e[i].y}return n*.5},triangulate:function(){function v(e,t,n,i,r,a){var o;var s,l,c,u;var h,f,d,p;s=e[a[t]].x;l=e[a[t]].y;c=e[a[n]].x;u=e[a[n]].y;h=e[a[i]].x;f=e[a[i]].y;if((c-s)*(f-l)-(u-l)*(h-s)<=0)return false;var m,g,v,b,y,x;var w,_,E,A,C,S;var T,M,k;m=h-c;g=f-u;v=s-h;b=l-f;y=c-s;x=u-l;for(o=0;o<r;o++){d=e[a[o]].x;p=e[a[o]].y;if(d===s&&p===l||d===c&&p===u||d===h&&p===f)continue;w=d-s;_=p-l;E=d-c;A=p-u;C=d-h;S=p-f;k=m*A-g*E;T=y*_-x*w;M=v*S-b*C;if(k>=-Number.EPSILON&&M>=-Number.EPSILON&&T>=-Number.EPSILON)return false}return true}return function e(t,n){var i=t.length;if(i<3)return null;var r=[],a=[],o=[];var s,l,c;if(Go.area(t)>0){for(l=0;l<i;l++)a[l]=l}else{for(l=0;l<i;l++)a[l]=i-1-l}var u=i;var h=2*u;for(l=u-1;u>2;){if(h--<=0){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");if(n)return o;return r}s=l;if(u<=s)s=0;l=s+1;if(u<=l)l=0;c=l+1;if(u<=c)c=0;if(v(t,s,l,c,u,a)){var f,d,p,m,g;f=a[s];d=a[l];p=a[c];r.push([t[f],t[d],t[p]]);o.push([a[s],a[l],a[c]]);for(m=l,g=l+1;g<u;m++,g++){a[m]=a[g]}u--;h=2*u}}if(n)return o;return r}}(),triangulateShape:function(e,t){function n(e){var t=e.length;if(t>2&&e[t-1].equals(e[0])){e.pop()}}n(e);t.forEach(n);function C(e,t,n){if(e.x!==t.x){if(e.x<t.x){return e.x<=n.x&&n.x<=t.x}else{return t.x<=n.x&&n.x<=e.x}}else{if(e.y<t.y){return e.y<=n.y&&n.y<=t.y}else{return t.y<=n.y&&n.y<=e.y}}}function A(e,t,n,i,r){var a=t.x-e.x,o=t.y-e.y;var s=i.x-n.x,l=i.y-n.y;var c=e.x-n.x;var u=e.y-n.y;var h=o*s-a*l;var f=o*c-a*u;if(Math.abs(h)>Number.EPSILON){var d;if(h>0){if(f<0||f>h)return[];d=l*c-s*u;if(d<0||d>h)return[]}else{if(f>0||f<h)return[];d=l*c-s*u;if(d>0||d<h)return[]}if(d===0){if(r&&(f===0||f===h))return[];return[e]}if(d===h){if(r&&(f===0||f===h))return[];return[t]}if(f===0)return[n];if(f===h)return[i];var p=d/h;return[{x:e.x+p*a,y:e.y+p*o}]}else{if(f!==0||l*c!==s*u)return[];var m=a===0&&o===0;var g=s===0&&l===0;if(m&&g){if(e.x!==n.x||e.y!==n.y)return[];return[e]}if(m){if(!C(n,i,e))return[];return[e]}if(g){if(!C(e,t,n))return[];return[n]}var v,b,y,x;var w,_,E,A;if(a!==0){if(e.x<t.x){v=e;y=e.x;b=t;x=t.x}else{v=t;y=t.x;b=e;x=e.x}if(n.x<i.x){w=n;E=n.x;_=i;A=i.x}else{w=i;E=i.x;_=n;A=n.x}}else{if(e.y<t.y){v=e;y=e.y;b=t;x=t.y}else{v=t;y=t.y;b=e;x=e.y}if(n.y<i.y){w=n;E=n.y;_=i;A=i.y}else{w=i;E=i.y;_=n;A=n.y}}if(y<=E){if(x<E)return[];if(x===E){if(r)return[];return[w]}if(x<=A)return[w,b];return[w,_]}else{if(y>A)return[];if(y===A){if(r)return[];return[v]}if(x<=A)return[v,b];return[v,_]}}}function S(e,t,n,i){var r=t.x-e.x,a=t.y-e.y;var o=n.x-e.x,s=n.y-e.y;var l=i.x-e.x,c=i.y-e.y;var u=r*s-a*o;var h=r*c-a*l;if(Math.abs(u)>Number.EPSILON){var f=l*s-c*o;if(u>0){return h>=0&&f>=0}else{return h>=0||f>=0}}else{return h>0}}function i(e,s){var c=e.concat();var u;function t(e,t){var n=c.length-1;var i=e-1;if(i<0)i=n;var r=e+1;if(r>n)r=0;var a=S(c[e],c[i],c[r],u[t]);if(!a){return false}var o=u.length-1;var s=t-1;if(s<0)s=o;var l=t+1;if(l>o)l=0;a=S(u[t],u[s],u[l],c[e]);if(!a){return false}return true}function n(e,t){var n,i,r;for(n=0;n<c.length;n++){i=n+1;i%=c.length;r=A(e,t,c[n],c[i],true);if(r.length>0)return true}return false}var l=[];function i(e,t){var n,i,r,a,o;for(n=0;n<l.length;n++){i=s[l[n]];for(r=0;r<i.length;r++){a=r+1;a%=i.length;o=A(e,t,i[r],i[a],true);if(o.length>0)return true}}return false}var r,a,o,h,f,d,p=[],m,g,v,b;for(var y=0,x=s.length;y<x;y++){l.push(y)}var w=0;var _=l.length*2;while(l.length>0){_--;if(_<0){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(a=w;a<c.length;a++){o=c[a];r=-1;for(var y=0;y<l.length;y++){f=l[y];d=o.x+":"+o.y+":"+f;if(p[d]!==undefined)continue;u=s[f];for(var E=0;E<u.length;E++){h=u[E];if(!t(a,E))continue;if(n(o,h))continue;if(i(o,h))continue;r=E;l.splice(y,1);m=c.slice(0,a+1);g=c.slice(a);v=u.slice(r);b=u.slice(0,r+1);c=m.concat(v).concat(b).concat(g);w=a;break}if(r>=0)break;p[d]=true}if(r>=0)break}}return c}var r,a,o,s,l,c,u={};var h=e.concat();for(var f=0,d=t.length;f<d;f++){Array.prototype.push.apply(h,t[f])}for(r=0,a=h.length;r<a;r++){l=h[r].x+":"+h[r].y;if(u[l]!==undefined){console.warn("THREE.ShapeUtils: Duplicate point",l,r)}u[l]=r}var p=i(e,t);var m=Go.triangulate(p,false);for(r=0,a=m.length;r<a;r++){s=m[r];for(o=0;o<3;o++){l=s[o].x+":"+s[o].y;c=u[l];if(c!==undefined){s[o]=c}}}return m.concat()},isClockWise:function(e){return Go.area(e)<0}};function qo(e,t){Yr.call(this);this.type="ExtrudeGeometry";this.parameters={shapes:e,options:t};this.fromBufferGeometry(new Xo(e,t));this.mergeVertices()}qo.prototype=Object.create(Yr.prototype);qo.prototype.constructor=qo;function Xo(e,t){if(typeof e==="undefined"){return}ca.call(this);this.type="ExtrudeBufferGeometry";e=Array.isArray(e)?e:[e];this.addShapeList(e,t);this.computeVertexNormals()}Xo.prototype=Object.create(ca.prototype);Xo.prototype.constructor=Xo;Xo.prototype.getArrays=function(){var e=this.getAttribute("position");var t=e?Array.prototype.slice.call(e.array):[];var n=this.getAttribute("uv");var i=n?Array.prototype.slice.call(n.array):[];var r=this.index;var a=r?Array.prototype.slice.call(r.array):[];return{position:t,uv:i,index:a}};Xo.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var i=0;i<n;i++){var r=e[i];this.addShape(r,t)}this.setIndex(t.arrays.index);this.addAttribute("position",new ra(t.arrays.position,3));this.addAttribute("uv",new ra(t.arrays.uv,2))};Xo.prototype.addShape=function(e,i){var t=i.arrays?i.arrays:this.getArrays();var o=t.position;var n=t.index;var r=t.uv;var a=[];var s=i.amount!==undefined?i.amount:100;var l=i.bevelThickness!==undefined?i.bevelThickness:6;var c=i.bevelSize!==undefined?i.bevelSize:l-2;var f=i.bevelSegments!==undefined?i.bevelSegments:3;var u=i.bevelEnabled!==undefined?i.bevelEnabled:true;var h=i.curveSegments!==undefined?i.curveSegments:12;var d=i.steps!==undefined?i.steps:1;var p=i.extrudePath;var m,g=false;var v=i.UVGenerator!==undefined?i.UVGenerator:qo.WorldUVGenerator;var b,y,x,w;if(p){m=p.getSpacedPoints(d);g=true;u=false;b=i.frames!==undefined?i.frames:p.computeFrenetFrames(d,false);y=new Et;x=new Et;w=new Et}if(!u){f=0;l=0;c=0}var _,E,A;var C=this;var S=e.extractPoints(h);var T=S.shape;var M=S.holes;var k=!Go.isClockWise(T);if(k){T=T.reverse();for(E=0,A=M.length;E<A;E++){_=M[E];if(Go.isClockWise(_)){M[E]=_.reverse()}}}var D=Go.triangulateShape(T,M);var L=T;for(E=0,A=M.length;E<A;E++){_=M[E];T=T.concat(_)}function R(e,t,n){if(!t)console.error("THREE.ExtrudeGeometry: vec does not exist");return t.clone().multiplyScalar(n).add(e)}var F,P,I,N,O,B=T.length,z,U=D.length;function H(e,t,n){var i,r,a;var o=e.x-t.x,s=e.y-t.y;var l=n.x-e.x,c=n.y-e.y;var u=o*o+s*s;var h=o*c-s*l;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(u);var d=Math.sqrt(l*l+c*c);var p=t.x-s/f;var m=t.y+o/f;var g=n.x-c/d;var v=n.y+l/d;var b=((g-p)*c-(v-m)*l)/(o*c-s*l);i=p+o*b-e.x;r=m+s*b-e.y;var y=i*i+r*r;if(y<=2){return new xt(i,r)}else{a=Math.sqrt(y/2)}}else{var x=false;if(o>Number.EPSILON){if(l>Number.EPSILON){x=true}}else{if(o<-Number.EPSILON){if(l<-Number.EPSILON){x=true}}else{if(Math.sign(s)===Math.sign(c)){x=true}}}if(x){i=-s;r=o;a=Math.sqrt(u)}else{i=o;r=s;a=Math.sqrt(u/2)}}return new xt(i/a,r/a)}var j=[];for(var $=0,W=L.length,V=W-1,G=$+1;$<W;$++,V++,G++){if(V===W)V=0;if(G===W)G=0;j[$]=H(L[$],L[V],L[G])}var q=[],X,Y=j.concat();for(E=0,A=M.length;E<A;E++){_=M[E];X=[];for($=0,W=_.length,V=W-1,G=$+1;$<W;$++,V++,G++){if(V===W)V=0;if(G===W)G=0;X[$]=H(_[$],_[V],_[G])}q.push(X);Y=Y.concat(X)}for(F=0;F<f;F++){I=F/f;N=l*Math.cos(I*Math.PI/2);P=c*Math.sin(I*Math.PI/2);for($=0,W=L.length;$<W;$++){O=R(L[$],j[$],P);ee(O.x,O.y,-N)}for(E=0,A=M.length;E<A;E++){_=M[E];X=q[E];for($=0,W=_.length;$<W;$++){O=R(_[$],X[$],P);ee(O.x,O.y,-N)}}}P=c;for($=0;$<B;$++){O=u?R(T[$],Y[$],P):T[$];if(!g){ee(O.x,O.y,0)}else{x.copy(b.normals[0]).multiplyScalar(O.x);y.copy(b.binormals[0]).multiplyScalar(O.y);w.copy(m[0]).add(x).add(y);ee(w.x,w.y,w.z)}}var K;for(K=1;K<=d;K++){for($=0;$<B;$++){O=u?R(T[$],Y[$],P):T[$];if(!g){ee(O.x,O.y,s/d*K)}else{x.copy(b.normals[K]).multiplyScalar(O.x);y.copy(b.binormals[K]).multiplyScalar(O.y);w.copy(m[K]).add(x).add(y);ee(w.x,w.y,w.z)}}}for(F=f-1;F>=0;F--){I=F/f;N=l*Math.cos(I*Math.PI/2);P=c*Math.sin(I*Math.PI/2);for($=0,W=L.length;$<W;$++){O=R(L[$],j[$],P);ee(O.x,O.y,s+N)}for(E=0,A=M.length;E<A;E++){_=M[E];X=q[E];for($=0,W=_.length;$<W;$++){O=R(_[$],X[$],P);if(!g){ee(O.x,O.y,s+N)}else{ee(O.x,O.y+m[d-1].y,m[d-1].x+N)}}}}Z();Q();function Z(){var e=o.length/3;if(u){var t=0;var n=B*t;for($=0;$<U;$++){z=D[$];te(z[2]+n,z[1]+n,z[0]+n)}t=d+f*2;n=B*t;for($=0;$<U;$++){z=D[$];te(z[0]+n,z[1]+n,z[2]+n)}}else{for($=0;$<U;$++){z=D[$];te(z[2],z[1],z[0])}for($=0;$<U;$++){z=D[$];te(z[0]+B*d,z[1]+B*d,z[2]+B*d)}}C.addGroup(e,o.length/3-e,i.material!==undefined?i.material:0)}function Q(){var e=o.length/3;var t=0;J(L,t);t+=L.length;for(E=0,A=M.length;E<A;E++){_=M[E];J(_,t);t+=_.length}C.addGroup(e,o.length/3-e,i.extrudeMaterial!==undefined?i.extrudeMaterial:1)}function J(e,t){var n,i;$=e.length;while(--$>=0){n=$;i=$-1;if(i<0)i=e.length-1;var r=0,a=d+f*2;for(r=0;r<a;r++){var o=B*r;var s=B*(r+1);var l=t+n+o,c=t+i+o,u=t+i+s,h=t+n+s;ne(l,c,u,h)}}}function ee(e,t,n){a.push(e);a.push(t);a.push(n)}function te(e,t,n){ie(e);ie(t);ie(n);var i=o.length/3;var r=v.generateTopUV(C,o,i-3,i-2,i-1);re(r[0]);re(r[1]);re(r[2])}function ne(e,t,n,i){ie(e);ie(t);ie(i);ie(t);ie(n);ie(i);var r=o.length/3;var a=v.generateSideWallUV(C,o,r-6,r-3,r-2,r-1);re(a[0]);re(a[1]);re(a[3]);re(a[1]);re(a[2]);re(a[3])}function ie(e){n.push(o.length/3);o.push(a[e*3+0]);o.push(a[e*3+1]);o.push(a[e*3+2])}function re(e){r.push(e.x);r.push(e.y)}if(!i.arrays){this.setIndex(n);this.addAttribute("position",new ra(o,3));this.addAttribute("uv",new ra(i.arrays.uv,2))}};qo.WorldUVGenerator={generateTopUV:function(e,t,n,i,r){var a=t[n*3];var o=t[n*3+1];var s=t[i*3];var l=t[i*3+1];var c=t[r*3];var u=t[r*3+1];return[new xt(a,o),new xt(s,l),new xt(c,u)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[n*3];var s=t[n*3+1];var l=t[n*3+2];var c=t[i*3];var u=t[i*3+1];var h=t[i*3+2];var f=t[r*3];var d=t[r*3+1];var p=t[r*3+2];var m=t[a*3];var g=t[a*3+1];var v=t[a*3+2];if(Math.abs(s-u)<.01){return[new xt(o,1-l),new xt(c,1-h),new xt(f,1-p),new xt(m,1-v)]}else{return[new xt(s,1-l),new xt(u,1-h),new xt(d,1-p),new xt(g,1-v)]}}};function Yo(e,t){Yr.call(this);this.type="TextGeometry";this.parameters={text:e,parameters:t};this.fromBufferGeometry(new Ko(e,t));this.mergeVertices()}Yo.prototype=Object.create(Yr.prototype);Yo.prototype.constructor=Yo;function Ko(e,t){t=t||{};var n=t.font;if(!(n&&n.isFont)){console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font.");return new Yr}var i=n.generateShapes(e,t.size,t.curveSegments);t.amount=t.height!==undefined?t.height:50;if(t.bevelThickness===undefined)t.bevelThickness=10;if(t.bevelSize===undefined)t.bevelSize=8;if(t.bevelEnabled===undefined)t.bevelEnabled=false;Xo.call(this,i,t);this.type="TextBufferGeometry"}Ko.prototype=Object.create(Xo.prototype);Ko.prototype.constructor=Ko;function Zo(e,t,n,i,r,a,o){Yr.call(this);this.type="SphereGeometry";this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o};this.fromBufferGeometry(new Qo(e,t,n,i,r,a,o));this.mergeVertices()}Zo.prototype=Object.create(Yr.prototype);Zo.prototype.constructor=Zo;function Qo(e,t,n,i,r,a,o){ca.call(this);this.type="SphereBufferGeometry";this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o};e=e||1;t=Math.max(3,Math.floor(t)||8);n=Math.max(2,Math.floor(n)||6);i=i!==undefined?i:0;r=r!==undefined?r:Math.PI*2;a=a!==undefined?a:0;o=o!==undefined?o:Math.PI;var s=a+o;var l,c;var u=0;var h=[];var f=new Et;var d=new Et;var p=[];var m=[];var g=[];var v=[];for(c=0;c<=n;c++){var b=[];var y=c/n;for(l=0;l<=t;l++){var x=l/t;f.x=-e*Math.cos(i+x*r)*Math.sin(a+y*o);f.y=e*Math.cos(a+y*o);f.z=e*Math.sin(i+x*r)*Math.sin(a+y*o);m.push(f.x,f.y,f.z);d.set(f.x,f.y,f.z).normalize();g.push(d.x,d.y,d.z);v.push(x,1-y);b.push(u++)}h.push(b)}for(c=0;c<n;c++){for(l=0;l<t;l++){var w=h[c][l+1];var _=h[c][l];var E=h[c+1][l];var A=h[c+1][l+1];if(c!==0||a>0)p.push(w,_,A);if(c!==n-1||s<Math.PI)p.push(_,E,A)}}this.setIndex(p);this.addAttribute("position",new ra(m,3));this.addAttribute("normal",new ra(g,3));this.addAttribute("uv",new ra(v,2))}Qo.prototype=Object.create(ca.prototype);Qo.prototype.constructor=Qo;function Jo(e,t,n,i,r,a){Yr.call(this);this.type="RingGeometry";this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a};this.fromBufferGeometry(new es(e,t,n,i,r,a));this.mergeVertices()}Jo.prototype=Object.create(Yr.prototype);Jo.prototype.constructor=Jo;function es(e,t,n,i,r,a){ca.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a};e=e||.5;t=t||1;r=r!==undefined?r:0;a=a!==undefined?a:Math.PI*2;n=n!==undefined?Math.max(3,n):8;i=i!==undefined?Math.max(1,i):1;var o=[];var s=[];var l=[];var c=[];var u;var h=e;var f=(t-e)/i;var d=new Et;var p=new xt;var m,g;for(m=0;m<=i;m++){for(g=0;g<=n;g++){u=r+g/n*a;d.x=h*Math.cos(u);d.y=h*Math.sin(u);s.push(d.x,d.y,d.z);l.push(0,0,1);p.x=(d.x/t+1)/2;p.y=(d.y/t+1)/2;c.push(p.x,p.y)}h+=f}for(m=0;m<i;m++){var v=m*(n+1);for(g=0;g<n;g++){u=g+v;var b=u;var y=u+n+1;var x=u+n+2;var w=u+1;o.push(b,y,w);o.push(y,x,w)}}this.setIndex(o);this.addAttribute("position",new ra(s,3));this.addAttribute("normal",new ra(l,3));this.addAttribute("uv",new ra(c,2))}es.prototype=Object.create(ca.prototype);es.prototype.constructor=es;function ts(e,t,n,i){Yr.call(this);this.type="LatheGeometry";this.parameters={points:e,segments:t,phiStart:n,phiLength:i};this.fromBufferGeometry(new ns(e,t,n,i));this.mergeVertices()}ts.prototype=Object.create(Yr.prototype);ts.prototype.constructor=ts;function ns(e,t,n,i){ca.call(this);this.type="LatheBufferGeometry";this.parameters={points:e,segments:t,phiStart:n,phiLength:i};t=Math.floor(t)||12;n=n||0;i=i||Math.PI*2;i=yt.clamp(i,0,Math.PI*2);var r=[];var a=[];var o=[];var s;var l=1/t;var c=new Et;var u=new xt;var h,f;for(h=0;h<=t;h++){var d=n+h*l*i;var p=Math.sin(d);var m=Math.cos(d);for(f=0;f<=e.length-1;f++){c.x=e[f].x*p;c.y=e[f].y;c.z=e[f].x*m;a.push(c.x,c.y,c.z);u.x=h/t;u.y=f/(e.length-1);o.push(u.x,u.y)}}for(h=0;h<t;h++){for(f=0;f<e.length-1;f++){s=f+h*e.length;var g=s;var v=s+e.length;var b=s+e.length+1;var y=s+1;r.push(g,v,y);r.push(v,b,y)}}this.setIndex(r);this.addAttribute("position",new ra(a,3));this.addAttribute("uv",new ra(o,2));this.computeVertexNormals();if(i===Math.PI*2){var x=this.attributes.normal.array;var w=new Et;var _=new Et;var E=new Et;s=t*e.length*3;for(h=0,f=0;h<e.length;h++,f+=3){w.x=x[f+0];w.y=x[f+1];w.z=x[f+2];_.x=x[s+f+0];_.y=x[s+f+1];_.z=x[s+f+2];E.addVectors(w,_).normalize();x[f+0]=x[s+f+0]=E.x;x[f+1]=x[s+f+1]=E.y;x[f+2]=x[s+f+2]=E.z}}}ns.prototype=Object.create(ca.prototype);ns.prototype.constructor=ns;function is(e,t){Yr.call(this);this.type="ShapeGeometry";if(typeof t==="object"){console.warn("THREE.ShapeGeometry: Options parameter has been removed.");t=t.curveSegments}this.parameters={shapes:e,curveSegments:t};this.fromBufferGeometry(new rs(e,t));this.mergeVertices()}is.prototype=Object.create(Yr.prototype);is.prototype.constructor=is;function rs(e,p){ca.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:e,curveSegments:p};p=p||12;var m=[];var g=[];var v=[];var b=[];var t=0;var y=0;if(Array.isArray(e)===false){i(e)}else{for(var n=0;n<e.length;n++){i(e[n]);this.addGroup(t,y,n);t+=y;y=0}}this.setIndex(m);this.addAttribute("position",new ra(g,3));this.addAttribute("normal",new ra(v,3));this.addAttribute("uv",new ra(b,2));function i(e){var t,n,i;var r=g.length/3;var a=e.extractPoints(p);var o=a.shape;var s=a.holes;if(Go.isClockWise(o)===false){o=o.reverse();for(t=0,n=s.length;t<n;t++){i=s[t];if(Go.isClockWise(i)===true){s[t]=i.reverse()}}}var l=Go.triangulateShape(o,s);for(t=0,n=s.length;t<n;t++){i=s[t];o=o.concat(i)}for(t=0,n=o.length;t<n;t++){var c=o[t];g.push(c.x,c.y,0);v.push(0,0,1);b.push(c.x,c.y)}for(t=0,n=l.length;t<n;t++){var u=l[t];var h=u[0]+r;var f=u[1]+r;var d=u[2]+r;m.push(h,f,d);y+=3}}}rs.prototype=Object.create(ca.prototype);rs.prototype.constructor=rs;function as(e,t){ca.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:t};t=t!==undefined?t:1;var n=[];var i=Math.cos(yt.DEG2RAD*t);var r=[0,0],a={},o,s;var l,c=["a","b","c"];var u;if(e.isBufferGeometry){u=new Yr;u.fromBufferGeometry(e)}else{u=e.clone()}u.mergeVertices();u.computeFaceNormals();var h=u.vertices;var f=u.faces;for(var d=0,p=f.length;d<p;d++){var m=f[d];for(var g=0;g<3;g++){o=m[c[g]];s=m[c[(g+1)%3]];r[0]=Math.min(o,s);r[1]=Math.max(o,s);l=r[0]+","+r[1];if(a[l]===undefined){a[l]={index1:r[0],index2:r[1],face1:d,face2:undefined}}else{a[l].face2=d}}}for(l in a){var v=a[l];if(v.face2===undefined||f[v.face1].normal.dot(f[v.face2].normal)<=i){var b=h[v.index1];n.push(b.x,b.y,b.z);b=h[v.index2];n.push(b.x,b.y,b.z)}}this.addAttribute("position",new ra(n,3))}as.prototype=Object.create(ca.prototype);as.prototype.constructor=as;function os(e,t,n,i,r,a,o,s){Yr.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};this.fromBufferGeometry(new ss(e,t,n,i,r,a,o,s));this.mergeVertices()}os.prototype=Object.create(Yr.prototype);os.prototype.constructor=os;function ss(v,b,y,x,w,e,_,E){ca.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:v,radiusBottom:b,height:y,radialSegments:x,heightSegments:w,openEnded:e,thetaStart:_,thetaLength:E};var A=this;v=v!==undefined?v:1;b=b!==undefined?b:1;y=y||1;x=Math.floor(x)||8;w=Math.floor(w)||1;e=e!==undefined?e:false;_=_!==undefined?_:0;E=E!==undefined?E:Math.PI*2;var C=[];var S=[];var T=[];var M=[];var k=0;var D=[];var L=y/2;var R=0;t();if(e===false){if(v>0)n(true);if(b>0)n(false)}this.setIndex(C);this.addAttribute("position",new ra(S,3));this.addAttribute("normal",new ra(T,3));this.addAttribute("uv",new ra(M,2));function t(){var e,t;var n=new Et;var i=new Et;var r=0;var a=(b-v)/y;for(t=0;t<=w;t++){var o=[];var s=t/w;var l=s*(b-v)+v;for(e=0;e<=x;e++){var c=e/x;var u=c*E+_;var h=Math.sin(u);var f=Math.cos(u);i.x=l*h;i.y=-s*y+L;i.z=l*f;S.push(i.x,i.y,i.z);n.set(h,a,f).normalize();T.push(n.x,n.y,n.z);M.push(c,1-s);o.push(k++)}D.push(o)}for(e=0;e<x;e++){for(t=0;t<w;t++){var d=D[t][e];var p=D[t+1][e];var m=D[t+1][e+1];var g=D[t][e+1];C.push(d,p,g);C.push(p,m,g);r+=6}}A.addGroup(R,r,0);R+=r}function n(e){var t,n,i;var r=new xt;var a=new Et;var o=0;var s=e===true?v:b;var l=e===true?1:-1;n=k;for(t=1;t<=x;t++){S.push(0,L*l,0);T.push(0,l,0);M.push(.5,.5);k++}i=k;for(t=0;t<=x;t++){var c=t/x;var u=c*E+_;var h=Math.cos(u);var f=Math.sin(u);a.x=s*f;a.y=L*l;a.z=s*h;S.push(a.x,a.y,a.z);T.push(0,l,0);r.x=h*.5+.5;r.y=f*.5*l+.5;M.push(r.x,r.y);k++}for(t=0;t<x;t++){var d=n+t;var p=i+t;if(e===true){C.push(p,p+1,d)}else{C.push(p+1,p,d)}o+=3}A.addGroup(R,o,e===true?1:2);R+=o}}ss.prototype=Object.create(ca.prototype);ss.prototype.constructor=ss;function ls(e,t,n,i,r,a,o){os.call(this,0,e,t,n,i,r,a,o);this.type="ConeGeometry";this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}ls.prototype=Object.create(os.prototype);ls.prototype.constructor=ls;function cs(e,t,n,i,r,a,o){ss.call(this,0,e,t,n,i,r,a,o);this.type="ConeBufferGeometry";this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}cs.prototype=Object.create(ss.prototype);cs.prototype.constructor=cs;function us(e,t,n,i){Yr.call(this);this.type="CircleGeometry";this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i};this.fromBufferGeometry(new hs(e,t,n,i));this.mergeVertices()}us.prototype=Object.create(Yr.prototype);us.prototype.constructor=us;function hs(e,t,n,i){ca.call(this);this.type="CircleBufferGeometry";this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i};e=e||1;t=t!==undefined?Math.max(3,t):8;n=n!==undefined?n:0;i=i!==undefined?i:Math.PI*2;var r=[];var a=[];var o=[];var s=[];var l,c;var u=new Et;var h=new xt;a.push(0,0,0);o.push(0,0,1);s.push(.5,.5);for(c=0,l=3;c<=t;c++,l+=3){var f=n+c/t*i;u.x=e*Math.cos(f);u.y=e*Math.sin(f);a.push(u.x,u.y,u.z);o.push(0,0,1);h.x=(a[l]/e+1)/2;h.y=(a[l+1]/e+1)/2;s.push(h.x,h.y)}for(l=1;l<=t;l++){r.push(l,l+1,0)}this.setIndex(r);this.addAttribute("position",new ra(a,3));this.addAttribute("normal",new ra(o,3));this.addAttribute("uv",new ra(s,2))}hs.prototype=Object.create(ca.prototype);hs.prototype.constructor=hs;var fs=Object.freeze({WireframeGeometry:To,ParametricGeometry:Mo,ParametricBufferGeometry:ko,TetrahedronGeometry:Ro,TetrahedronBufferGeometry:Fo,OctahedronGeometry:Po,OctahedronBufferGeometry:Io,IcosahedronGeometry:No,IcosahedronBufferGeometry:Oo,DodecahedronGeometry:Bo,DodecahedronBufferGeometry:zo,PolyhedronGeometry:Do,PolyhedronBufferGeometry:Lo,TubeGeometry:Uo,TubeBufferGeometry:Ho,TorusKnotGeometry:jo,TorusKnotBufferGeometry:$o,TorusGeometry:Wo,TorusBufferGeometry:Vo,TextGeometry:Yo,TextBufferGeometry:Ko,SphereGeometry:Zo,SphereBufferGeometry:Qo,RingGeometry:Jo,RingBufferGeometry:es,PlaneGeometry:fa,PlaneBufferGeometry:da,LatheGeometry:ts,LatheBufferGeometry:ns,ShapeGeometry:is,ShapeBufferGeometry:rs,ExtrudeGeometry:qo,ExtrudeBufferGeometry:Xo,EdgesGeometry:as,ConeGeometry:ls,ConeBufferGeometry:cs,CylinderGeometry:os,CylinderBufferGeometry:ss,CircleGeometry:us,CircleBufferGeometry:hs,BoxGeometry:ua,BoxBufferGeometry:ha});function ds(e){Rr.call(this);this.type="ShadowMaterial";this.color=new wn(0);this.opacity=1;this.lights=true;this.transparent=true;this.setValues(e)}ds.prototype=Object.create(Rr.prototype);ds.prototype.constructor=ds;ds.prototype.isShadowMaterial=true;function ps(e){ma.call(this,e);this.type="RawShaderMaterial"}ps.prototype=Object.create(ma.prototype);ps.prototype.constructor=ps;ps.prototype.isRawShaderMaterial=true;function ms(e){Rr.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new wn(16777215);this.roughness=.5;this.metalness=.5;this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new wn(0);this.emissiveIntensity=1;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new xt(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.roughnessMap=null;this.metalnessMap=null;this.alphaMap=null;this.envMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}ms.prototype=Object.create(Rr.prototype);ms.prototype.constructor=ms;ms.prototype.isMeshStandardMaterial=true;ms.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.defines={STANDARD:""};this.color.copy(e.color);this.roughness=e.roughness;this.metalness=e.metalness;this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.roughnessMap=e.roughnessMap;this.metalnessMap=e.metalnessMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.envMapIntensity=e.envMapIntensity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function gs(e){ms.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoat=0;this.clearCoatRoughness=0;this.setValues(e)}gs.prototype=Object.create(ms.prototype);gs.prototype.constructor=gs;gs.prototype.isMeshPhysicalMaterial=true;gs.prototype.copy=function(e){ms.prototype.copy.call(this,e);this.defines={PHYSICAL:""};this.reflectivity=e.reflectivity;this.clearCoat=e.clearCoat;this.clearCoatRoughness=e.clearCoatRoughness;return this};function vs(e){Rr.call(this);this.type="MeshPhongMaterial";this.color=new wn(16777215);this.specular=new wn(1118481);this.shininess=30;this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new wn(0);this.emissiveIntensity=1;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new xt(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=R;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}vs.prototype=Object.create(Rr.prototype);vs.prototype.constructor=vs;vs.prototype.isMeshPhongMaterial=true;vs.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.color.copy(e.color);this.specular.copy(e.specular);this.shininess=e.shininess;this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function bs(e){vs.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(e)}bs.prototype=Object.create(vs.prototype);bs.prototype.constructor=bs;bs.prototype.isMeshToonMaterial=true;bs.prototype.copy=function(e){vs.prototype.copy.call(this,e);this.gradientMap=e.gradientMap;return this};function ys(e){Rr.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new xt(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}ys.prototype=Object.create(Rr.prototype);ys.prototype.constructor=ys;ys.prototype.isMeshNormalMaterial=true;ys.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function xs(e){Rr.call(this);this.type="MeshLambertMaterial";this.color=new wn(16777215);this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new wn(0);this.emissiveIntensity=1;this.emissiveMap=null;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=R;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}xs.prototype=Object.create(Rr.prototype);xs.prototype.constructor=xs;xs.prototype.isMeshLambertMaterial=true;xs.prototype.copy=function(e){Rr.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function ws(e){vo.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(e)}ws.prototype=Object.create(vo.prototype);ws.prototype.constructor=ws;ws.prototype.isLineDashedMaterial=true;ws.prototype.copy=function(e){vo.prototype.copy.call(this,e);this.scale=e.scale;this.dashSize=e.dashSize;this.gapSize=e.gapSize;return this};var _s=Object.freeze({ShadowMaterial:ds,SpriteMaterial:uo,RawShaderMaterial:ps,ShaderMaterial:ma,PointsMaterial:wo,MeshPhysicalMaterial:gs,MeshStandardMaterial:ms,MeshPhongMaterial:vs,MeshToonMaterial:bs,MeshNormalMaterial:ys,MeshLambertMaterial:xs,MeshDepthMaterial:Fr,MeshDistanceMaterial:Pr,MeshBasicMaterial:pa,LineDashedMaterial:ws,LineBasicMaterial:vo,Material:Rr});var Es={enabled:false,files:{},add:function(e,t){if(this.enabled===false)return;this.files[e]=t},get:function(e){if(this.enabled===false)return;return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function As(e,t,n){var i=this;var r=false;var a=0;var o=0;var s=undefined;this.onStart=undefined;this.onLoad=e;this.onProgress=t;this.onError=n;this.itemStart=function(e){o++;if(r===false){if(i.onStart!==undefined){i.onStart(e,a,o)}}r=true};this.itemEnd=function(e){a++;if(i.onProgress!==undefined){i.onProgress(e,a,o)}if(a===o){r=false;if(i.onLoad!==undefined){i.onLoad()}}};this.itemError=function(e){if(i.onError!==undefined){i.onError(e)}};this.resolveURL=function(e){if(s){return s(e)}return e};this.setURLModifier=function(e){s=e}}var Cs=new As;var Ss={};function Ts(e){this.manager=e!==undefined?e:Cs}Object.assign(Ts.prototype,{load:function(o,e,t,n){if(o===undefined)o="";if(this.path!==undefined)o=this.path+o;o=this.manager.resolveURL(o);var s=this;var i=Es.get(o);if(i!==undefined){s.manager.itemStart(o);setTimeout(function(){if(e)e(i);s.manager.itemEnd(o)},0);return i}if(Ss[o]!==undefined){Ss[o].push({onLoad:e,onProgress:t,onError:n});return}var r=/^data:(.*?)(;base64)?,(.*)$/;var a=o.match(r);if(a){var l=a[1];var c=!!a[2];var u=a[3];u=window.decodeURIComponent(u);if(c)u=window.atob(u);try{var h;var f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":var d=new Uint8Array(u.length);for(var p=0;p<u.length;p++){d[p]=u.charCodeAt(p)}if(f==="blob"){h=new Blob([d.buffer],{type:l})}else{h=d.buffer}break;case"document":var m=new DOMParser;h=m.parseFromString(u,l);break;case"json":h=JSON.parse(u);break;default:h=u;break}window.setTimeout(function(){if(e)e(h);s.manager.itemEnd(o)},0)}catch(e){window.setTimeout(function(){if(n)n(e);s.manager.itemEnd(o);s.manager.itemError(o)},0)}}else{Ss[o]=[];Ss[o].push({onLoad:e,onProgress:t,onError:n});var g=new XMLHttpRequest;g.open("GET",o,true);g.addEventListener("load",function(e){var t=e.target.response;Es.add(o,t);var n=Ss[o];delete Ss[o];if(this.status===200){for(var i=0,r=n.length;i<r;i++){var a=n[i];if(a.onLoad)a.onLoad(t)}s.manager.itemEnd(o)}else if(this.status===0){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var i=0,r=n.length;i<r;i++){var a=n[i];if(a.onLoad)a.onLoad(t)}s.manager.itemEnd(o)}else{for(var i=0,r=n.length;i<r;i++){var a=n[i];if(a.onError)a.onError(e)}s.manager.itemEnd(o);s.manager.itemError(o)}},false);g.addEventListener("progress",function(e){var t=Ss[o];for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r.onProgress)r.onProgress(e)}},false);g.addEventListener("error",function(e){var t=Ss[o];delete Ss[o];for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r.onError)r.onError(e)}s.manager.itemEnd(o);s.manager.itemError(o)},false);if(this.responseType!==undefined)g.responseType=this.responseType;if(this.withCredentials!==undefined)g.withCredentials=this.withCredentials;if(g.overrideMimeType)g.overrideMimeType(this.mimeType!==undefined?this.mimeType:"text/plain");for(var v in this.requestHeader){g.setRequestHeader(v,this.requestHeader[v])}g.send(null)}s.manager.itemStart(o);return g},setPath:function(e){this.path=e;return this},setResponseType:function(e){this.responseType=e;return this},setWithCredentials:function(e){this.withCredentials=e;return this},setMimeType:function(e){this.mimeType=e;return this},setRequestHeader:function(e){this.requestHeader=e;return this}});function Ms(e){this.manager=e!==undefined?e:Cs;this._parser=null}Object.assign(Ms.prototype,{load:function(e,a,t,i){var o=this;var s=[];var l=new Co;l.image=s;var r=new Ts(this.manager);r.setPath(this.path);r.setResponseType("arraybuffer");function n(n){r.load(e[n],function(e){var t=o._parser(e,true);s[n]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps};c+=1;if(c===6){if(t.mipmapCount===1)l.minFilter=K;l.format=t.format;l.needsUpdate=true;if(a)a(l)}},t,i)}if(Array.isArray(e)){var c=0;for(var u=0,h=e.length;u<h;++u){n(u)}}else{r.load(e,function(e){var t=o._parser(e,true);if(t.isCubemap){var n=t.mipmaps.length/t.mipmapCount;for(var i=0;i<n;i++){s[i]={mipmaps:[]};for(var r=0;r<t.mipmapCount;r++){s[i].mipmaps.push(t.mipmaps[i*t.mipmapCount+r]);s[i].format=t.format;s[i].width=t.width;s[i].height=t.height}}}else{l.image.width=t.width;l.image.height=t.height;l.mipmaps=t.mipmaps}if(t.mipmapCount===1){l.minFilter=K}l.format=t.format;l.needsUpdate=true;if(a)a(l)},t,i)}return l},setPath:function(e){this.path=e;return this}});function ks(e){this.manager=e!==undefined?e:Cs;this._parser=null}Object.assign(ks.prototype,{load:function(e,n,t,i){var r=this;var a=new Dt;var o=new Ts(this.manager);o.setResponseType("arraybuffer");o.load(e,function(e){var t=r._parser(e);if(!t)return;if(undefined!==t.image){a.image=t.image}else if(undefined!==t.data){a.image.width=t.width;a.image.height=t.height;a.image.data=t.data}a.wrapS=undefined!==t.wrapS?t.wrapS:V;a.wrapT=undefined!==t.wrapT?t.wrapT:V;a.magFilter=undefined!==t.magFilter?t.magFilter:K;a.minFilter=undefined!==t.minFilter?t.minFilter:Q;a.anisotropy=undefined!==t.anisotropy?t.anisotropy:1;if(undefined!==t.format){a.format=t.format}if(undefined!==t.type){a.type=t.type}if(undefined!==t.mipmaps){a.mipmaps=t.mipmaps}if(1===t.mipmapCount){a.minFilter=K}a.needsUpdate=true;if(n)n(a,t)},t,i);return a}});function Ds(e){this.manager=e!==undefined?e:Cs}Object.assign(Ds.prototype,{crossOrigin:"Anonymous",load:function(t,e,n,i){if(t===undefined)t="";if(this.path!==undefined)t=this.path+t;t=this.manager.resolveURL(t);var r=this;var a=Es.get(t);if(a!==undefined){r.manager.itemStart(t);setTimeout(function(){if(e)e(a);r.manager.itemEnd(t)},0);return a}var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");o.addEventListener("load",function(){Es.add(t,this);if(e)e(this);r.manager.itemEnd(t)},false);o.addEventListener("error",function(e){if(i)i(e);r.manager.itemEnd(t);r.manager.itemError(t)},false);if(t.substr(0,5)!=="data:"){if(this.crossOrigin!==undefined)o.crossOrigin=this.crossOrigin}r.manager.itemStart(t);o.src=t;return o},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function Ls(e){this.manager=e!==undefined?e:Cs}Object.assign(Ls.prototype,{crossOrigin:"Anonymous",load:function(e,n,t,i){var r=new Lt;var a=new Ds(this.manager);a.setCrossOrigin(this.crossOrigin);a.setPath(this.path);var o=0;function s(t){a.load(e[t],function(e){r.images[t]=e;o++;if(o===6){r.needsUpdate=true;if(n)n(r)}},undefined,i)}for(var l=0;l<e.length;++l){s(l)}return r},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function Rs(e){this.manager=e!==undefined?e:Cs}Object.assign(Rs.prototype,{crossOrigin:"Anonymous",load:function(t,n,e,i){var r=new Ds(this.manager);r.setCrossOrigin(this.crossOrigin);r.setPath(this.path);var a=new St;a.image=r.load(t,function(){var e=t.search(/\.(jpg|jpeg)$/)>0||t.search(/^data\:image\/jpeg/)===0;a.format=e?Me:Xe;a.needsUpdate=true;if(n!==undefined){n(a)}},e,i);return a},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function Fs(e,t){Wr.call(this);this.type="Light";this.color=new wn(e);this.intensity=t!==undefined?t:1;this.receiveShadow=undefined}Fs.prototype=Object.assign(Object.create(Wr.prototype),{constructor:Fs,isLight:true,copy:function(e){Wr.prototype.copy.call(this,e);this.color.copy(e.color);this.intensity=e.intensity;return this},toJSON:function(e){var t=Wr.prototype.toJSON.call(this,e);t.object.color=this.color.getHex();t.object.intensity=this.intensity;if(this.groundColor!==undefined)t.object.groundColor=this.groundColor.getHex();if(this.distance!==undefined)t.object.distance=this.distance;if(this.angle!==undefined)t.object.angle=this.angle;if(this.decay!==undefined)t.object.decay=this.decay;if(this.penumbra!==undefined)t.object.penumbra=this.penumbra;if(this.shadow!==undefined)t.object.shadow=this.shadow.toJSON();return t}});function Ps(e,t,n){Fs.call(this,e,n);this.type="HemisphereLight";this.castShadow=undefined;this.position.copy(Wr.DefaultUp);this.updateMatrix();this.groundColor=new wn(t)}Ps.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Ps,isHemisphereLight:true,copy:function(e){Fs.prototype.copy.call(this,e);this.groundColor.copy(e.groundColor);return this}});function Is(e){this.camera=e;this.bias=0;this.radius=1;this.mapSize=new xt(512,512);this.map=null;this.matrix=new wt}Object.assign(Is.prototype,{copy:function(e){this.camera=e.camera.clone();this.bias=e.bias;this.radius=e.radius;this.mapSize.copy(e.mapSize);return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};if(this.bias!==0)e.bias=this.bias;if(this.radius!==1)e.radius=this.radius;if(this.mapSize.x!==512||this.mapSize.y!==512)e.mapSize=this.mapSize.toArray();e.camera=this.camera.toJSON(false).object;delete e.camera.matrix;return e}});function Ns(){Is.call(this,new Ja(50,1,.5,500))}Ns.prototype=Object.assign(Object.create(Is.prototype),{constructor:Ns,isSpotLightShadow:true,update:function(e){var t=this.camera;var n=yt.RAD2DEG*2*e.angle;var i=this.mapSize.width/this.mapSize.height;var r=e.distance||t.far;if(n!==t.fov||i!==t.aspect||r!==t.far){t.fov=n;t.aspect=i;t.far=r;t.updateProjectionMatrix()}}});function Os(e,t,n,i,r,a){Fs.call(this,e,t);this.type="SpotLight";this.position.copy(Wr.DefaultUp);this.updateMatrix();this.target=new Wr;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}});this.distance=n!==undefined?n:0;this.angle=i!==undefined?i:Math.PI/3;this.penumbra=r!==undefined?r:0;this.decay=a!==undefined?a:1;this.shadow=new Ns}Os.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Os,isSpotLight:true,copy:function(e){Fs.prototype.copy.call(this,e);this.distance=e.distance;this.angle=e.angle;this.penumbra=e.penumbra;this.decay=e.decay;this.target=e.target.clone();this.shadow=e.shadow.clone();return this}});function Bs(e,t,n,i){Fs.call(this,e,t);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}});this.distance=n!==undefined?n:0;this.decay=i!==undefined?i:1;this.shadow=new Is(new Ja(90,1,.5,500))}Bs.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Bs,isPointLight:true,copy:function(e){Fs.prototype.copy.call(this,e);this.distance=e.distance;this.decay=e.decay;this.shadow=e.shadow.clone();return this}});function zs(){Is.call(this,new Gr(-5,5,5,-5,.5,500))}zs.prototype=Object.assign(Object.create(Is.prototype),{constructor:zs});function Us(e,t){Fs.call(this,e,t);this.type="DirectionalLight";this.position.copy(Wr.DefaultUp);this.updateMatrix();this.target=new Wr;this.shadow=new zs}Us.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Us,isDirectionalLight:true,copy:function(e){Fs.prototype.copy.call(this,e);this.target=e.target.clone();this.shadow=e.shadow.clone();return this}});function Hs(e,t){Fs.call(this,e,t);this.type="AmbientLight";this.castShadow=undefined}Hs.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Hs,isAmbientLight:true});function js(e,t,n,i){Fs.call(this,e,t);this.type="RectAreaLight";this.position.set(0,1,0);this.updateMatrix();this.width=n!==undefined?n:10;this.height=i!==undefined?i:10}js.prototype=Object.assign(Object.create(Fs.prototype),{constructor:js,isRectAreaLight:true,copy:function(e){Fs.prototype.copy.call(this,e);this.width=e.width;this.height=e.height;return this},toJSON:function(e){var t=Fs.prototype.toJSON.call(this,e);t.object.width=this.width;t.object.height=this.height;return t}});var $s={arraySlice:function(e,t,n){if($s.isTypedArray(e)){return new e.constructor(e.subarray(t,n!==undefined?n:e.length))}return e.slice(t,n)},convertArray:function(e,t,n){if(!e||!n&&e.constructor===t)return e;if(typeof t.BYTES_PER_ELEMENT==="number"){return new t(e)}return Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(n){function e(e,t){return n[e]-n[t]}var t=n.length;var i=new Array(t);for(var r=0;r!==t;++r)i[r]=r;i.sort(e);return i},sortedArray:function(e,t,n){var i=e.length;var r=new e.constructor(i);for(var a=0,o=0;o!==i;++a){var s=n[a]*t;for(var l=0;l!==t;++l){r[o++]=e[s+l]}}return r},flattenJSON:function(e,t,n,i){var r=1,a=e[0];while(a!==undefined&&a[i]===undefined){a=e[r++]}if(a===undefined)return;var o=a[i];if(o===undefined)return;if(Array.isArray(o)){do{o=a[i];if(o!==undefined){t.push(a.time);n.push.apply(n,o)}a=e[r++]}while(a!==undefined)}else if(o.toArray!==undefined){do{o=a[i];if(o!==undefined){t.push(a.time);o.toArray(n,n.length)}a=e[r++]}while(a!==undefined)}else{do{o=a[i];if(o!==undefined){t.push(a.time);n.push(o)}a=e[r++]}while(a!==undefined)}}};function Ws(e,t,n,i){this.parameterPositions=e;this._cachedIndex=0;this.resultBuffer=i!==undefined?i:new t.constructor(n);this.sampleValues=t;this.valueSize=n}Object.assign(Ws.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var a;n:{i:if(!(e<i)){for(var o=n+2;;){if(i===undefined){if(e<r)break i;n=t.length;this._cachedIndex=n;return this.afterEnd_(n-1,e,r)}if(n===o)break;r=i;i=t[++n];if(e<i){break t}}a=t.length;break n}if(!(e>=r)){var s=t[1];if(e<s){n=2;r=s}for(var o=n-2;;){if(r===undefined){this._cachedIndex=0;return this.beforeStart_(0,e,i)}if(n===o)break;i=r;r=t[--n-1];if(e>=r){break t}}a=n;n=0;break n}break e}while(n<a){var l=n+a>>>1;if(e<t[l]){a=l}else{n=l+1}}i=t[n];r=t[n-1];if(r===undefined){this._cachedIndex=0;return this.beforeStart_(0,e,i)}if(i===undefined){n=t.length;this._cachedIndex=n;return this.afterEnd_(n-1,r,e)}}this._cachedIndex=n;this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(var a=0;a!==i;++a){t[a]=n[r+a]}return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(Ws.prototype,{beforeStart_:Ws.prototype.copySampleValue_,afterEnd_:Ws.prototype.copySampleValue_});function Vs(e,t,n,i){Ws.call(this,e,t,n,i);this._weightPrev=-0;this._offsetPrev=-0;this._weightNext=-0;this._offsetNext=-0}Vs.prototype=Object.assign(Object.create(Ws.prototype),{constructor:Vs,DefaultSettings_:{endingStart:it,endingEnd:it},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(o===undefined){switch(this.getSettings_().endingStart){case rt:r=e;o=2*t-n;break;case at:r=i.length-2;o=t+i[r]-i[r+1];break;default:r=e;o=n}}if(s===undefined){switch(this.getSettings_().endingEnd){case rt:a=e;s=2*n-t;break;case at:a=1;s=n+i[1]-i[0];break;default:a=e-1;s=t}}var l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-o);this._weightNext=l/(s-n);this._offsetPrev=r*c;this._offsetNext=a*c},interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(i-t),p=d*d,m=p*d;var g=-h*m+2*h*p-h*d;var v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1;var b=(-1-f)*m+(1.5+f)*p+.5*d;var y=f*m-f*p;for(var x=0;x!==o;++x){r[x]=g*a[c+x]+v*a[l+x]+b*a[s+x]+y*a[u+x]}return r}});function Gs(e,t,n,i){Ws.call(this,e,t,n,i)}Gs.prototype=Object.assign(Object.create(Ws.prototype),{constructor:Gs,interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(i-t),u=1-c;for(var h=0;h!==o;++h){r[h]=a[l+h]*u+a[s+h]*c}return r}});function qs(e,t,n,i){Ws.call(this,e,t,n,i)}qs.prototype=Object.assign(Object.create(Ws.prototype),{constructor:qs,interpolate_:function(e){return this.copySampleValue_(e-1)}});var Xs;Xs={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:tt,InterpolantFactoryMethodDiscrete:function(e){return new qs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Gs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Vs(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case et:t=this.InterpolantFactoryMethodDiscrete;break;case tt:t=this.InterpolantFactoryMethodLinear;break;case nt:t=this.InterpolantFactoryMethodSmooth;break}if(t===undefined){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===undefined){if(e!==this.DefaultInterpolation){this.setInterpolation(this.DefaultInterpolation)}else{throw new Error(n)}}console.warn("THREE.KeyframeTrackPrototype:",n);return}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return et;case this.InterpolantFactoryMethodLinear:return tt;case this.InterpolantFactoryMethodSmooth:return nt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){var t=this.times;for(var n=0,i=t.length;n!==i;++n){t[n]+=e}}return this},scale:function(e){if(e!==1){var t=this.times;for(var n=0,i=t.length;n!==i;++n){t[n]*=e}}return this},trim:function(e,t){var n=this.times,i=n.length,r=0,a=i-1;while(r!==i&&n[r]<e)++r;while(a!==-1&&n[a]>t)--a;++a;if(r!==0||a!==i){if(r>=a)a=Math.max(a,1),r=a-1;var o=this.getValueSize();this.times=$s.arraySlice(n,r,a);this.values=$s.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var e=true;var t=this.getValueSize();if(t-Math.floor(t)!==0){console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this);e=false}var n=this.times,i=this.values,r=n.length;if(r===0){console.error("THREE.KeyframeTrackPrototype: Track is empty.",this);e=false}var a=null;for(var o=0;o!==r;o++){var s=n[o];if(typeof s==="number"&&isNaN(s)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,o,s);e=false;break}if(a!==null&&a>s){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,o,s,a);e=false;break}a=s}if(i!==undefined){if($s.isTypedArray(i)){for(var o=0,l=i.length;o!==l;++o){var c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,o,c);e=false;break}}}}return e},optimize:function(){var e=this.times,t=this.values,n=this.getValueSize(),i=this.getInterpolation()===nt,r=1,a=e.length-1;for(var o=1;o<a;++o){var s=false;var l=e[o];var c=e[o+1];if(l!==c&&(o!==1||l!==l[0])){if(!i){var u=o*n,h=u-n,f=u+n;for(var d=0;d!==n;++d){var p=t[u+d];if(p!==t[h+d]||p!==t[f+d]){s=true;break}}}else s=true}if(s){if(o!==r){e[r]=e[o];var m=o*n,g=r*n;for(var d=0;d!==n;++d)t[g+d]=t[m+d]}++r}}if(a>0){e[r]=e[a];for(var m=a*n,g=r*n,d=0;d!==n;++d)t[g+d]=t[m+d];++r}if(r!==e.length){this.times=$s.arraySlice(e,0,r);this.values=$s.arraySlice(t,0,r*n)}return this}};function Ys(e,t,n,i){if(e===undefined)throw new Error("track name is undefined");if(t===undefined||t.length===0){throw new Error("no keyframes in track named "+e)}this.name=e;this.times=$s.convertArray(t,this.TimeBufferType);this.values=$s.convertArray(n,this.ValueBufferType);this.setInterpolation(i||this.DefaultInterpolation);this.validate();this.optimize()}function Ks(e,t,n,i){Ys.call(this,e,t,n,i)}Ks.prototype=Object.assign(Object.create(Xs),{constructor:Ks,ValueTypeName:"vector"});function Zs(e,t,n,i){Ws.call(this,e,t,n,i)}Zs.prototype=Object.assign(Object.create(Ws.prototype),{constructor:Zs,interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=(n-t)/(i-t);for(var c=s+o;s!==c;s+=4){_t.slerpFlat(r,0,a,s-o,a,s,l)}return r}});function Qs(e,t,n,i){Ys.call(this,e,t,n,i)}Qs.prototype=Object.assign(Object.create(Xs),{constructor:Qs,ValueTypeName:"quaternion",DefaultInterpolation:tt,InterpolantFactoryMethodLinear:function(e){return new Zs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:undefined});function Js(e,t,n,i){Ys.call(this,e,t,n,i)}Js.prototype=Object.assign(Object.create(Xs),{constructor:Js,ValueTypeName:"number"});function el(e,t,n,i){Ys.call(this,e,t,n,i)}el.prototype=Object.assign(Object.create(Xs),{constructor:el,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:et,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});function tl(e,t,n){Ys.call(this,e,t,n)}tl.prototype=Object.assign(Object.create(Xs),{constructor:tl,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:et,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});function nl(e,t,n,i){Ys.call(this,e,t,n,i)}nl.prototype=Object.assign(Object.create(Xs),{constructor:nl,ValueTypeName:"color"});function il(e,t,n,i){Ys.apply(this,e,t,n,i)}il.prototype=Xs;Xs.constructor=il;Object.assign(il,{parse:function(e){if(e.type===undefined){throw new Error("track type undefined, can not parse")}var t=il._getTrackTypeForValueTypeName(e.type);if(e.times===undefined){var n=[],i=[];$s.flattenJSON(e.keys,n,i,"value");e.times=n;e.values=i}if(t.parse!==undefined){return t.parse(e)}else{return new t(e.name,e.times,e.values,e.interpolation)}},toJSON:function(e){var t=e.constructor;var n;if(t.toJSON!==undefined){n=t.toJSON(e)}else{n={name:e.name,times:$s.convertArray(e.times,Array),values:$s.convertArray(e.values,Array)};var i=e.getInterpolation();if(i!==e.DefaultInterpolation){n.interpolation=i}}n.type=e.ValueTypeName;return n},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Js;case"vector":case"vector2":case"vector3":case"vector4":return Ks;case"color":return nl;case"quaternion":return Qs;case"bool":case"boolean":return tl;case"string":return el}throw new Error("Unsupported typeName: "+e)}});function rl(e,t,n){this.name=e;this.tracks=n;this.duration=t!==undefined?t:-1;this.uuid=yt.generateUUID();if(this.duration<0){this.resetDuration()}this.optimize()}Object.assign(rl,{parse:function(e){var t=[],n=e.tracks,i=1/(e.fps||1);for(var r=0,a=n.length;r!==a;++r){t.push(il.parse(n[r]).scale(i))}return new rl(e.name,e.duration,t)},toJSON:function(e){var t=[],n=e.tracks;var i={name:e.name,duration:e.duration,tracks:t};for(var r=0,a=n.length;r!==a;++r){t.push(il.toJSON(n[r]))}return i},CreateFromMorphTargetSequence:function(e,t,n,i){var r=t.length;var a=[];for(var o=0;o<r;o++){var s=[];var l=[];s.push((o+r-1)%r,o,(o+1)%r);l.push(0,1,0);var c=$s.getKeyframeOrder(s);s=$s.sortedArray(s,1,c);l=$s.sortedArray(l,1,c);if(!i&&s[0]===0){s.push(r);l.push(l[0])}a.push(new Js(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new rl(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++){if(n[r].name===t){return n[r]}}return null},CreateClipsFromMorphTargetSequences:function(e,t,n){var i={};var r=/^([\w-]*?)([\d]+)$/;for(var a=0,o=e.length;a<o;a++){var s=e[a];var l=s.name.match(r);if(l&&l.length>1){var c=l[1];var u=i[c];if(!u){i[c]=u=[]}u.push(s)}}var h=[];for(var c in i){h.push(rl.CreateFromMorphTargetSequence(c,i[c],t,n))}return h},parseAnimation:function(e,t){if(!e){console.error("THREE.AnimationClip: No animation in JSONLoader data.");return null}var n=function(e,t,n,i,r){if(n.length!==0){var a=[];var o=[];$s.flattenJSON(n,a,o,i);if(a.length!==0){r.push(new e(t,a,o))}}};var i=[];var r=e.name||"default";var a=e.length||-1;var o=e.fps||30;var s=e.hierarchy||[];for(var l=0;l<s.length;l++){var c=s[l].keys;if(!c||c.length===0)continue;if(c[0].morphTargets){var u={};for(var h=0;h<c.length;h++){if(c[h].morphTargets){for(var f=0;f<c[h].morphTargets.length;f++){u[c[h].morphTargets[f]]=-1}}}for(var d in u){var p=[];var m=[];for(var f=0;f!==c[h].morphTargets.length;++f){var g=c[h];p.push(g.time);m.push(g.morphTarget===d?1:0)}i.push(new Js(".morphTargetInfluence["+d+"]",p,m))}a=u.length*(o||1)}else{var v=".bones["+t[l].name+"]";n(Ks,v+".position",c,"pos",i);n(Qs,v+".quaternion",c,"rot",i);n(Ks,v+".scale",c,"scl",i)}}if(i.length===0){return null}var b=new rl(r,a,i);return b}});Object.assign(rl.prototype,{resetDuration:function(){var e=this.tracks,t=0;for(var n=0,i=e.length;n!==i;++n){var r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++){this.tracks[e].trim(0,this.duration)}return this},optimize:function(){for(var e=0;e<this.tracks.length;e++){this.tracks[e].optimize()}return this}});function al(e){this.manager=e!==undefined?e:Cs;this.textures={}}Object.assign(al.prototype,{load:function(e,t,n,i){var r=this;var a=new Ts(r.manager);a.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){var t=this.textures;function n(e){if(t[e]===undefined){console.warn("THREE.MaterialLoader: Undefined texture",e)}return t[e]}var i=new _s[e.type];if(e.uuid!==undefined)i.uuid=e.uuid;if(e.name!==undefined)i.name=e.name;if(e.color!==undefined)i.color.setHex(e.color);if(e.roughness!==undefined)i.roughness=e.roughness;if(e.metalness!==undefined)i.metalness=e.metalness;if(e.emissive!==undefined)i.emissive.setHex(e.emissive);if(e.specular!==undefined)i.specular.setHex(e.specular);if(e.shininess!==undefined)i.shininess=e.shininess;if(e.clearCoat!==undefined)i.clearCoat=e.clearCoat;if(e.clearCoatRoughness!==undefined)i.clearCoatRoughness=e.clearCoatRoughness;if(e.uniforms!==undefined)i.uniforms=e.uniforms;if(e.vertexShader!==undefined)i.vertexShader=e.vertexShader;if(e.fragmentShader!==undefined)i.fragmentShader=e.fragmentShader;if(e.vertexColors!==undefined)i.vertexColors=e.vertexColors;if(e.fog!==undefined)i.fog=e.fog;if(e.flatShading!==undefined)i.flatShading=e.flatShading;if(e.blending!==undefined)i.blending=e.blending;if(e.side!==undefined)i.side=e.side;if(e.opacity!==undefined)i.opacity=e.opacity;if(e.transparent!==undefined)i.transparent=e.transparent;if(e.alphaTest!==undefined)i.alphaTest=e.alphaTest;if(e.depthTest!==undefined)i.depthTest=e.depthTest;if(e.depthWrite!==undefined)i.depthWrite=e.depthWrite;if(e.colorWrite!==undefined)i.colorWrite=e.colorWrite;if(e.wireframe!==undefined)i.wireframe=e.wireframe;if(e.wireframeLinewidth!==undefined)i.wireframeLinewidth=e.wireframeLinewidth;if(e.wireframeLinecap!==undefined)i.wireframeLinecap=e.wireframeLinecap;if(e.wireframeLinejoin!==undefined)i.wireframeLinejoin=e.wireframeLinejoin;if(e.rotation!==undefined)i.rotation=e.rotation;if(e.linewidth!==1)i.linewidth=e.linewidth;if(e.dashSize!==undefined)i.dashSize=e.dashSize;if(e.gapSize!==undefined)i.gapSize=e.gapSize;if(e.scale!==undefined)i.scale=e.scale;if(e.skinning!==undefined)i.skinning=e.skinning;if(e.morphTargets!==undefined)i.morphTargets=e.morphTargets;if(e.dithering!==undefined)i.dithering=e.dithering;if(e.visible!==undefined)i.visible=e.visible;if(e.userData!==undefined)i.userData=e.userData;if(e.shading!==undefined)i.flatShading=e.shading===1;if(e.size!==undefined)i.size=e.size;if(e.sizeAttenuation!==undefined)i.sizeAttenuation=e.sizeAttenuation;if(e.map!==undefined)i.map=n(e.map);if(e.alphaMap!==undefined){i.alphaMap=n(e.alphaMap);i.transparent=true}if(e.bumpMap!==undefined)i.bumpMap=n(e.bumpMap);if(e.bumpScale!==undefined)i.bumpScale=e.bumpScale;if(e.normalMap!==undefined)i.normalMap=n(e.normalMap);if(e.normalScale!==undefined){var r=e.normalScale;if(Array.isArray(r)===false){r=[r,r]}i.normalScale=(new xt).fromArray(r)}if(e.displacementMap!==undefined)i.displacementMap=n(e.displacementMap);if(e.displacementScale!==undefined)i.displacementScale=e.displacementScale;if(e.displacementBias!==undefined)i.displacementBias=e.displacementBias;if(e.roughnessMap!==undefined)i.roughnessMap=n(e.roughnessMap);if(e.metalnessMap!==undefined)i.metalnessMap=n(e.metalnessMap);if(e.emissiveMap!==undefined)i.emissiveMap=n(e.emissiveMap);if(e.emissiveIntensity!==undefined)i.emissiveIntensity=e.emissiveIntensity;if(e.specularMap!==undefined)i.specularMap=n(e.specularMap);if(e.envMap!==undefined)i.envMap=n(e.envMap);if(e.reflectivity!==undefined)i.reflectivity=e.reflectivity;if(e.lightMap!==undefined)i.lightMap=n(e.lightMap);if(e.lightMapIntensity!==undefined)i.lightMapIntensity=e.lightMapIntensity;if(e.aoMap!==undefined)i.aoMap=n(e.aoMap);if(e.aoMapIntensity!==undefined)i.aoMapIntensity=e.aoMapIntensity;if(e.gradientMap!==undefined)i.gradientMap=n(e.gradientMap);return i}});function ol(e){this.manager=e!==undefined?e:Cs}Object.assign(ol.prototype,{load:function(e,t,n,i){var r=this;var a=new Ts(r.manager);a.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new ca;var n=e.data.index;if(n!==undefined){var i=new sl[n.type](n.array);t.setIndex(new Kr(i,1))}var r=e.data.attributes;for(var a in r){var o=r[a];var i=new sl[o.type](o.array);t.addAttribute(a,new Kr(i,o.itemSize,o.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(s!==undefined){for(var l=0,c=s.length;l!==c;++l){var u=s[l];t.addGroup(u.start,u.count,u.materialIndex)}}var h=e.data.boundingSphere;if(h!==undefined){var f=new Et;if(h.center!==undefined){f.fromArray(h.center)}t.boundingSphere=new Nr(f,h.radius)}return t}});var sl={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!=="undefined"?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function ll(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}}ll.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){var t=this.handlers;for(var n=0,i=t.length;n<i;n+=2){var r=t[n];var a=t[n+1];if(r.test(e)){return a}}return null}};Object.assign(ll.prototype,{crossOrigin:undefined,extractUrlBase:function(e){var t=e.split("/");if(t.length===1)return"./";t.pop();return t.join("/")+"/"},initMaterials:function(e,t,n){var i=[];for(var r=0;r<e.length;++r){i[r]=this.createMaterial(e[r],t,n)}return i},createMaterial:function(){var o={NoBlending:he,NormalBlending:fe,AdditiveBlending:de,SubtractiveBlending:pe,MultiplyBlending:me,CustomBlending:ge};var s=new wn;var f=new Rs;var l=new al;return function e(t,c,u){var h={};function n(e,t,n,i,r){var a=c+e;var o=ll.Handlers.get(a);var s;if(o!==null){s=o.load(a)}else{f.setCrossOrigin(u);s=f.load(a)}if(t!==undefined){s.repeat.fromArray(t);if(t[0]!==1)s.wrapS=D;if(t[1]!==1)s.wrapT=D}if(n!==undefined){s.offset.fromArray(n)}if(i!==undefined){if(i[0]==="repeat")s.wrapS=D;if(i[0]==="mirror")s.wrapS=G;if(i[1]==="repeat")s.wrapT=D;if(i[1]==="mirror")s.wrapT=G}if(r!==undefined){s.anisotropy=r}var l=yt.generateUUID();h[l]=s;return l}var i={uuid:yt.generateUUID(),type:"MeshLambertMaterial"};for(var r in t){var a=t[r];switch(r){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":i.name=a;break;case"blending":i.blending=o[a];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",r,"is no longer supported.");break;case"colorDiffuse":i.color=s.fromArray(a).getHex();break;case"colorSpecular":i.specular=s.fromArray(a).getHex();break;case"colorEmissive":i.emissive=s.fromArray(a).getHex();break;case"specularCoef":i.shininess=a;break;case"shading":if(a.toLowerCase()==="basic")i.type="MeshBasicMaterial";if(a.toLowerCase()==="phong")i.type="MeshPhongMaterial";if(a.toLowerCase()==="standard")i.type="MeshStandardMaterial";break;case"mapDiffuse":i.map=n(a,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":i.emissiveMap=n(a,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":i.lightMap=n(a,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":i.aoMap=n(a,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":i.bumpMap=n(a,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":i.bumpScale=a;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":i.normalMap=n(a,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":i.normalScale=[a,a];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":i.specularMap=n(a,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":i.metalnessMap=n(a,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":i.roughnessMap=n(a,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":i.alphaMap=n(a,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":i.side=ce;break;case"doubleSided":i.side=ue;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");i.opacity=a;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":i[r]=a;break;case"vertexColors":if(a===true)i.vertexColors=v;if(a==="face")i.vertexColors=d;break;default:console.error("THREE.Loader.createMaterial: Unsupported",r,a);break}}if(i.type==="MeshBasicMaterial")delete i.emissive;if(i.type!=="MeshPhongMaterial")delete i.specular;if(i.opacity<1)i.transparent=true;l.setTextures(h);return l.parse(i)}}()});function cl(e){if(typeof e==="boolean"){console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor.");e=undefined}this.manager=e!==undefined?e:Cs;this.withCredentials=false}Object.assign(cl.prototype,{load:function(a,o,e,t){var s=this;var l=this.texturePath&&typeof this.texturePath==="string"?this.texturePath:ll.prototype.extractUrlBase(a);var n=new Ts(this.manager);n.setWithCredentials(this.withCredentials);n.load(a,function(e){var t=JSON.parse(e);var n=t.metadata;if(n!==undefined){var i=n.type;if(i!==undefined){if(i.toLowerCase()==="object"){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if(i.toLowerCase()==="scene"){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}}var r=s.parse(t,l);o(r.geometry,r.materials)},e,t)},setTexturePath:function(e){this.texturePath=e},parse:function(){function r(e,t){function n(e,t){return e&1<<t}var i,r,a,o,s,l,c,u,h,f,d,p,m,g,v,b,y,x,w,_,E,A,C,S,T,M,k,D=e.faces,L=e.vertices,R=e.normals,F=e.colors,P=e.scale,I=0;if(e.uvs!==undefined){for(i=0;i<e.uvs.length;i++){if(e.uvs[i].length)I++}for(i=0;i<I;i++){t.faceVertexUvs[i]=[]}}o=0;s=L.length;while(o<s){x=new Et;x.x=L[o++]*P;x.y=L[o++]*P;x.z=L[o++]*P;t.vertices.push(x)}o=0;s=D.length;while(o<s){f=D[o++];d=n(f,0);p=n(f,1);m=n(f,3);g=n(f,4);v=n(f,5);b=n(f,6);y=n(f,7);if(d){_=new qr;_.a=D[o];_.b=D[o+1];_.c=D[o+3];E=new qr;E.a=D[o+1];E.b=D[o+2];E.c=D[o+3];o+=4;if(p){h=D[o++];_.materialIndex=h;E.materialIndex=h}a=t.faces.length;if(m){for(i=0;i<I;i++){S=e.uvs[i];t.faceVertexUvs[i][a]=[];t.faceVertexUvs[i][a+1]=[];for(r=0;r<4;r++){u=D[o++];M=S[u*2];k=S[u*2+1];T=new xt(M,k);if(r!==2)t.faceVertexUvs[i][a].push(T);if(r!==0)t.faceVertexUvs[i][a+1].push(T)}}}if(g){c=D[o++]*3;_.normal.set(R[c++],R[c++],R[c]);E.normal.copy(_.normal)}if(v){for(i=0;i<4;i++){c=D[o++]*3;C=new Et(R[c++],R[c++],R[c]);if(i!==2)_.vertexNormals.push(C);if(i!==0)E.vertexNormals.push(C)}}if(b){l=D[o++];A=F[l];_.color.setHex(A);E.color.setHex(A)}if(y){for(i=0;i<4;i++){l=D[o++];A=F[l];if(i!==2)_.vertexColors.push(new wn(A));if(i!==0)E.vertexColors.push(new wn(A))}}t.faces.push(_);t.faces.push(E)}else{w=new qr;w.a=D[o++];w.b=D[o++];w.c=D[o++];if(p){h=D[o++];w.materialIndex=h}a=t.faces.length;if(m){for(i=0;i<I;i++){S=e.uvs[i];t.faceVertexUvs[i][a]=[];for(r=0;r<3;r++){u=D[o++];M=S[u*2];k=S[u*2+1];T=new xt(M,k);t.faceVertexUvs[i][a].push(T)}}}if(g){c=D[o++]*3;w.normal.set(R[c++],R[c++],R[c])}if(v){for(i=0;i<3;i++){c=D[o++]*3;C=new Et(R[c++],R[c++],R[c]);w.vertexNormals.push(C)}}if(b){l=D[o++];w.color.setHex(F[l])}if(y){for(i=0;i<3;i++){l=D[o++];w.vertexColors.push(new wn(F[l]))}}t.faces.push(w)}}}function a(e,t){var n=e.influencesPerVertex!==undefined?e.influencesPerVertex:2;if(e.skinWeights){for(var i=0,r=e.skinWeights.length;i<r;i+=n){var a=e.skinWeights[i];var o=n>1?e.skinWeights[i+1]:0;var s=n>2?e.skinWeights[i+2]:0;var l=n>3?e.skinWeights[i+3]:0;t.skinWeights.push(new Tt(a,o,s,l))}}if(e.skinIndices){for(var i=0,r=e.skinIndices.length;i<r;i+=n){var c=e.skinIndices[i];var u=n>1?e.skinIndices[i+1]:0;var h=n>2?e.skinIndices[i+2]:0;var f=n>3?e.skinIndices[i+3]:0;t.skinIndices.push(new Tt(c,u,h,f))}}t.bones=e.bones;if(t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)){console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}}function o(e,t){var n=e.scale;if(e.morphTargets!==undefined){for(var i=0,r=e.morphTargets.length;i<r;i++){t.morphTargets[i]={};t.morphTargets[i].name=e.morphTargets[i].name;t.morphTargets[i].vertices=[];var a=t.morphTargets[i].vertices;var o=e.morphTargets[i].vertices;for(var s=0,l=o.length;s<l;s+=3){var c=new Et;c.x=o[s]*n;c.y=o[s+1]*n;c.z=o[s+2]*n;a.push(c)}}}if(e.morphColors!==undefined&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=t.faces;var h=e.morphColors[0].colors;for(var i=0,r=u.length;i<r;i++){u[i].color.fromArray(h,i*3)}}}function s(e,t){var n=[];var i=[];if(e.animation!==undefined){i.push(e.animation)}if(e.animations!==undefined){if(e.animations.length){i=i.concat(e.animations)}else{i.push(e.animations)}}for(var r=0;r<i.length;r++){var a=rl.parseAnimation(i[r],t.bones);if(a)n.push(a)}if(t.morphTargets){var o=rl.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(o)}if(n.length>0)t.animations=n}return function(e,t){if(e.data!==undefined){e=e.data}if(e.scale!==undefined){e.scale=1/e.scale}else{e.scale=1}var n=new Yr;r(e,n);a(e,n);o(e,n);s(e,n);n.computeFaceNormals();n.computeBoundingSphere();if(e.materials===undefined||e.materials.length===0){return{geometry:n}}else{var i=ll.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:n,materials:i}}}}()});function ul(e){this.manager=e!==undefined?e:Cs;this.texturePath=""}Object.assign(ul.prototype,{load:function(i,r,e,a){if(this.texturePath===""){this.texturePath=i.substring(0,i.lastIndexOf("/")+1)}var o=this;var t=new Ts(o.manager);t.load(i,function(e){var t=null;try{t=JSON.parse(e)}catch(e){if(a!==undefined)a(e);console.error("THREE:ObjectLoader: Can't parse "+i+".",e.message);return}var n=t.metadata;if(n===undefined||n.type===undefined||n.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+i+". Use THREE.JSONLoader instead.");return}o.parse(t,r)},e,a)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries);var i=this.parseImages(e.images,function(){if(t!==undefined)t(o)});var r=this.parseTextures(e.textures,i);var a=this.parseMaterials(e.materials,r);var o=this.parseObject(e.object,n,a);if(e.animations){o.animations=this.parseAnimations(e.animations)}if(e.images===undefined||e.images.length===0){if(t!==undefined)t(o)}return o},parseGeometries:function(e){var t={};if(e!==undefined){var n=new cl;var i=new ol;for(var r=0,a=e.length;r<a;r++){var o;var s=e[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new fs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new fs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new fs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new fs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new fs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new fs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new fs[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new fs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new fs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new fs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new fs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new fs[s.type](s.vertices,s.indices,s.radius,s.details);break;case"BufferGeometry":o=i.parse(s);break;case"Geometry":o=n.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid;if(s.name!==undefined)o.name=s.name;t[s.uuid]=o}}return t},parseMaterials:function(e,t){var n={};if(e!==undefined){var i=new al;i.setTextures(t);for(var r=0,a=e.length;r<a;r++){var o=e[r];if(o.type==="MultiMaterial"){var s=[];for(var l=0;l<o.materials.length;l++){s.push(i.parse(o.materials[l]))}n[o.uuid]=s}else{n[o.uuid]=i.parse(o)}}}return n},parseAnimations:function(e){var t=[];for(var n=0;n<e.length;n++){var i=rl.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){var n=this;var i={};function r(e){n.manager.itemStart(e);return o.load(e,function(){n.manager.itemEnd(e)},undefined,function(){n.manager.itemEnd(e);n.manager.itemError(e)})}if(e!==undefined&&e.length>0){var a=new As(t);var o=new Ds(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var c=e[s];var u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.texturePath+c.url;i[c.uuid]=r(u)}}return i},parseTextures:function(e,t){function n(e,t){if(typeof e==="number")return e;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e);return t[e]}var i={};if(e!==undefined){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(o.image===undefined){console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid)}if(t[o.image]===undefined){console.warn("THREE.ObjectLoader: Undefined image",o.image)}var s=new St(t[o.image]);s.needsUpdate=true;s.uuid=o.uuid;if(o.name!==undefined)s.name=o.name;if(o.mapping!==undefined)s.mapping=n(o.mapping,hl);if(o.offset!==undefined)s.offset.fromArray(o.offset);if(o.repeat!==undefined)s.repeat.fromArray(o.repeat);if(o.center!==undefined)s.center.fromArray(o.center);if(o.rotation!==undefined)s.rotation=o.rotation;if(o.wrap!==undefined){s.wrapS=n(o.wrap[0],fl);s.wrapT=n(o.wrap[1],fl)}if(o.minFilter!==undefined)s.minFilter=n(o.minFilter,dl);if(o.magFilter!==undefined)s.magFilter=n(o.magFilter,dl);if(o.anisotropy!==undefined)s.anisotropy=o.anisotropy;if(o.flipY!==undefined)s.flipY=o.flipY;i[o.uuid]=s}}return i},parseObject:function(){var m=new wt;return function e(t,n,a){var i;function r(e){if(n[e]===undefined){console.warn("THREE.ObjectLoader: Undefined geometry",e)}return n[e]}function o(e){if(e===undefined)return undefined;if(Array.isArray(e)){var t=[];for(var n=0,i=e.length;n<i;n++){var r=e[n];if(a[r]===undefined){console.warn("THREE.ObjectLoader: Undefined material",r)}t.push(a[r])}return t}if(a[e]===undefined){console.warn("THREE.ObjectLoader: Undefined material",e)}return a[e]}switch(t.type){case"Scene":i=new lo;if(t.background!==undefined){if(Number.isInteger(t.background)){i.background=new wn(t.background)}}if(t.fog!==undefined){if(t.fog.type==="Fog"){i.fog=new so(t.fog.color,t.fog.near,t.fog.far)}else if(t.fog.type==="FogExp2"){i.fog=new oo(t.fog.color,t.fog.density)}}break;case"PerspectiveCamera":i=new Ja(t.fov,t.aspect,t.near,t.far);if(t.focus!==undefined)i.focus=t.focus;if(t.zoom!==undefined)i.zoom=t.zoom;if(t.filmGauge!==undefined)i.filmGauge=t.filmGauge;if(t.filmOffset!==undefined)i.filmOffset=t.filmOffset;if(t.view!==undefined)i.view=Object.assign({},t.view);break;case"OrthographicCamera":i=new Gr(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":i=new Hs(t.color,t.intensity);break;case"DirectionalLight":i=new Us(t.color,t.intensity);break;case"PointLight":i=new Bs(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new js(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new Os(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new Ps(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=r(t.geometry);var l=o(t.material);if(s.bones&&s.bones.length>0){i=new go(s,l)}else{i=new ya(s,l)}break;case"LOD":i=new fo;break;case"Line":i=new bo(r(t.geometry),o(t.material),t.mode);break;case"LineLoop":i=new xo(r(t.geometry),o(t.material));break;case"LineSegments":i=new yo(r(t.geometry),o(t.material));break;case"PointCloud":case"Points":i=new _o(r(t.geometry),o(t.material));break;case"Sprite":i=new ho(o(t.material));break;case"Group":i=new Eo;break;default:i=new Wr}i.uuid=t.uuid;if(t.name!==undefined)i.name=t.name;if(t.matrix!==undefined){m.fromArray(t.matrix);m.decompose(i.position,i.quaternion,i.scale)}else{if(t.position!==undefined)i.position.fromArray(t.position);if(t.rotation!==undefined)i.rotation.fromArray(t.rotation);if(t.quaternion!==undefined)i.quaternion.fromArray(t.quaternion);if(t.scale!==undefined)i.scale.fromArray(t.scale)}if(t.castShadow!==undefined)i.castShadow=t.castShadow;if(t.receiveShadow!==undefined)i.receiveShadow=t.receiveShadow;if(t.shadow){if(t.shadow.bias!==undefined)i.shadow.bias=t.shadow.bias;if(t.shadow.radius!==undefined)i.shadow.radius=t.shadow.radius;if(t.shadow.mapSize!==undefined)i.shadow.mapSize.fromArray(t.shadow.mapSize);if(t.shadow.camera!==undefined)i.shadow.camera=this.parseObject(t.shadow.camera)}if(t.visible!==undefined)i.visible=t.visible;if(t.userData!==undefined)i.userData=t.userData;if(t.children!==undefined){var c=t.children;for(var u=0;u<c.length;u++){i.add(this.parseObject(c[u],n,a))}}if(t.type==="LOD"){var h=t.levels;for(var f=0;f<h.length;f++){var d=h[f];var p=i.getObjectByProperty("uuid",d.object);if(p!==undefined){i.addLevel(p,d.distance)}}}return i}}()});var hl={UVMapping:k,CubeReflectionMapping:B,CubeRefractionMapping:z,EquirectangularReflectionMapping:U,EquirectangularRefractionMapping:H,SphericalReflectionMapping:j,CubeUVReflectionMapping:$,CubeUVRefractionMapping:W};var fl={RepeatWrapping:D,ClampToEdgeWrapping:V,MirroredRepeatWrapping:G};var dl={NearestFilter:q,NearestMipMapNearestFilter:X,NearestMipMapLinearFilter:Y,LinearFilter:K,LinearMipMapNearestFilter:Z,LinearMipMapLinearFilter:Q};function pl(e,t,n,i,r){var a=(i-t)*.5;var o=(r-n)*.5;var s=e*e;var l=e*s;return(2*n-2*i+a+o)*l+(-3*n+3*i-2*a-o)*s+a*e+n}function ml(e,t){var n=1-e;return n*n*t}function gl(e,t){return 2*(1-e)*e*t}function vl(e,t){return e*e*t}function bl(e,t,n,i){return ml(e,t)+gl(e,n)+vl(e,i)}function yl(e,t){var n=1-e;return n*n*n*t}function xl(e,t){var n=1-e;return 3*n*n*e*t}function wl(e,t){return 3*(1-e)*e*e*t}function _l(e,t){return e*e*e*t}function El(e,t,n,i,r){return yl(e,t)+xl(e,n)+wl(e,i)+_l(e,r)}function Al(){this.type="Curve";this.arcLengthDivisions=200}Object.assign(Al.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){if(e===undefined)e=5;var t=[];for(var n=0;n<=e;n++){t.push(this.getPoint(n/e))}return t},getSpacedPoints:function(e){if(e===undefined)e=5;var t=[];for(var n=0;n<=e;n++){t.push(this.getPointAt(n/e))}return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===undefined)e=this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate){return this.cacheArcLengths}this.needsUpdate=false;var t=[];var n,i=this.getPoint(0);var r,a=0;t.push(0);for(r=1;r<=e;r++){n=this.getPoint(r/e);a+=n.distanceTo(i);t.push(a);i=n}this.cacheArcLengths=t;return t},updateArcLengths:function(){this.needsUpdate=true;this.getLengths()},getUtoTmapping:function(e,t){var n=this.getLengths();var i=0,r=n.length;var a;if(t){a=t}else{a=e*n[r-1]}var o=0,s=r-1,l;while(o<=s){i=Math.floor(o+(s-o)/2);l=n[i]-a;if(l<0){o=i+1}else if(l>0){s=i-1}else{s=i;break}}i=s;if(n[i]===a){return i/(r-1)}var c=n[i];var u=n[i+1];var h=u-c;var f=(a-c)/h;var d=(i+f)/(r-1);return d},getTangent:function(e){var t=1e-4;var n=e-t;var i=e+t;if(n<0)n=0;if(i>1)i=1;var r=this.getPoint(n);var a=this.getPoint(i);var o=a.clone().sub(r);return o.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n=new Et;var i=[];var r=[];var a=[];var o=new Et;var s=new wt;var l,c,u;for(l=0;l<=e;l++){c=l/e;i[l]=this.getTangentAt(c);i[l].normalize()}r[0]=new Et;a[0]=new Et;var h=Number.MAX_VALUE;var f=Math.abs(i[0].x);var d=Math.abs(i[0].y);var p=Math.abs(i[0].z);if(f<=h){h=f;n.set(1,0,0)}if(d<=h){h=d;n.set(0,1,0)}if(p<=h){n.set(0,0,1)}o.crossVectors(i[0],n).normalize();r[0].crossVectors(i[0],o);a[0].crossVectors(i[0],r[0]);for(l=1;l<=e;l++){r[l]=r[l-1].clone();a[l]=a[l-1].clone();o.crossVectors(i[l-1],i[l]);if(o.length()>Number.EPSILON){o.normalize();u=Math.acos(yt.clamp(i[l-1].dot(i[l]),-1,1));r[l].applyMatrix4(s.makeRotationAxis(o,u))}a[l].crossVectors(i[l],r[l])}if(t===true){u=Math.acos(yt.clamp(r[0].dot(r[e]),-1,1));u/=e;if(i[0].dot(o.crossVectors(r[0],r[e]))>0){u=-u}for(l=1;l<=e;l++){r[l].applyMatrix4(s.makeRotationAxis(i[l],u*l));a[l].crossVectors(i[l],r[l])}}return{tangents:i,normals:r,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.arcLengthDivisions=e.arcLengthDivisions;return this}});function Cl(e,t){Al.call(this);this.type="LineCurve";this.v1=e||new xt;this.v2=t||new xt}Cl.prototype=Object.create(Al.prototype);Cl.prototype.constructor=Cl;Cl.prototype.isLineCurve=true;Cl.prototype.getPoint=function(e,t){var n=t||new xt;if(e===1){n.copy(this.v2)}else{n.copy(this.v2).sub(this.v1);n.multiplyScalar(e).add(this.v1)}return n};Cl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Cl.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()};Cl.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.v1.copy(e.v1);this.v2.copy(e.v2);return this};function Sl(){Al.call(this);this.type="CurvePath";this.curves=[];this.autoClose=false}Sl.prototype=Object.assign(Object.create(Al.prototype),{constructor:Sl,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0);var t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){this.curves.push(new Cl(t,e))}},getPoint:function(e){var t=e*this.getLength();var n=this.getCurveLengths();var i=0;while(i<n.length){if(n[i]>=t){var r=n[i]-t;var a=this.curves[i];var o=a.getLength();var s=o===0?0:1-r/o;return a.getPointAt(s)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=true;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length){return this.cacheLengths}var e=[],t=0;for(var n=0,i=this.curves.length;n<i;n++){t+=this.curves[n].getLength();e.push(t)}this.cacheLengths=e;return e},getSpacedPoints:function(e){if(e===undefined)e=40;var t=[];for(var n=0;n<=e;n++){t.push(this.getPoint(n/e))}if(this.autoClose){t.push(t[0])}return t},getPoints:function(e){e=e||12;var t=[],n;for(var i=0,r=this.curves;i<r.length;i++){var a=r[i];var o=a&&a.isEllipseCurve?e*2:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e;var s=a.getPoints(o);for(var l=0;l<s.length;l++){var c=s[l];if(n&&n.equals(c))continue;t.push(c);n=c}}if(this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])){t.push(t[0])}return t},copy:function(e){Al.prototype.copy.call(this,e);this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}this.autoClose=e.autoClose;return this}});function Tl(e,t,n,i,r,a,o,s){Al.call(this);this.type="EllipseCurve";this.aX=e||0;this.aY=t||0;this.xRadius=n||1;this.yRadius=i||1;this.aStartAngle=r||0;this.aEndAngle=a||2*Math.PI;this.aClockwise=o||false;this.aRotation=s||0}Tl.prototype=Object.create(Al.prototype);Tl.prototype.constructor=Tl;Tl.prototype.isEllipseCurve=true;Tl.prototype.getPoint=function(e,t){var n=t||new xt;var i=Math.PI*2;var r=this.aEndAngle-this.aStartAngle;var a=Math.abs(r)<Number.EPSILON;while(r<0)r+=i;while(r>i)r-=i;if(r<Number.EPSILON){if(a){r=0}else{r=i}}if(this.aClockwise===true&&!a){if(r===i){r=-i}else{r=r-i}}var o=this.aStartAngle+e*r;var s=this.aX+this.xRadius*Math.cos(o);var l=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){var c=Math.cos(this.aRotation);var u=Math.sin(this.aRotation);var h=s-this.aX;var f=l-this.aY;s=h*c-f*u+this.aX;l=h*u+f*c+this.aY}return n.set(s,l)};Tl.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.aX=e.aX;this.aY=e.aY;this.xRadius=e.xRadius;this.yRadius=e.yRadius;this.aStartAngle=e.aStartAngle;this.aEndAngle=e.aEndAngle;this.aClockwise=e.aClockwise;this.aRotation=e.aRotation;return this};function Ml(e){Al.call(this);this.type="SplineCurve";this.points=e||[]}Ml.prototype=Object.create(Al.prototype);Ml.prototype.constructor=Ml;Ml.prototype.isSplineCurve=true;Ml.prototype.getPoint=function(e,t){var n=t||new xt;var i=this.points;var r=(i.length-1)*e;var a=Math.floor(r);var o=r-a;var s=i[a===0?a:a-1];var l=i[a];var c=i[a>i.length-2?i.length-1:a+1];var u=i[a>i.length-3?i.length-1:a+2];n.set(pl(o,s.x,l.x,c.x,u.x),pl(o,s.y,l.y,c.y,u.y));return n};Ml.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this};function kl(e,t,n,i){Al.call(this);this.type="CubicBezierCurve";this.v0=e||new xt;this.v1=t||new xt;this.v2=n||new xt;this.v3=i||new xt}kl.prototype=Object.create(Al.prototype);kl.prototype.constructor=kl;kl.prototype.isCubicBezierCurve=true;kl.prototype.getPoint=function(e,t){var n=t||new xt;var i=this.v0,r=this.v1,a=this.v2,o=this.v3;n.set(El(e,i.x,r.x,a.x,o.x),El(e,i.y,r.y,a.y,o.y));return n};kl.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.v0.copy(e.v0);this.v1.copy(e.v1);this.v2.copy(e.v2);this.v3.copy(e.v3);return this};function Dl(e,t,n){Al.call(this);this.type="QuadraticBezierCurve";this.v0=e||new xt;this.v1=t||new xt;this.v2=n||new xt}Dl.prototype=Object.create(Al.prototype);Dl.prototype.constructor=Dl;Dl.prototype.isQuadraticBezierCurve=true;Dl.prototype.getPoint=function(e,t){var n=t||new xt;var i=this.v0,r=this.v1,a=this.v2;n.set(bl(e,i.x,r.x,a.x),bl(e,i.y,r.y,a.y));return n};Dl.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.v0.copy(e.v0);this.v1.copy(e.v1);this.v2.copy(e.v2);return this};var Ll=Object.assign(Object.create(Sl.prototype),{setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++){this.lineTo(e[t].x,e[t].y)}},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Cl(this.currentPoint.clone(),new xt(e,t));this.curves.push(n);this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var r=new Dl(this.currentPoint.clone(),new xt(e,t),new xt(n,i));this.curves.push(r);this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,r,a){var o=new kl(this.currentPoint.clone(),new xt(e,t),new xt(n,i),new xt(r,a));this.curves.push(o);this.currentPoint.set(r,a)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e);var n=new Ml(t);this.curves.push(n);this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,a){var o=this.currentPoint.x;var s=this.currentPoint.y;this.absarc(e+o,t+s,n,i,r,a)},absarc:function(e,t,n,i,r,a){this.absellipse(e,t,n,n,i,r,a)},ellipse:function(e,t,n,i,r,a,o,s){var l=this.currentPoint.x;var c=this.currentPoint.y;this.absellipse(e+l,t+c,n,i,r,a,o,s)},absellipse:function(e,t,n,i,r,a,o,s){var l=new Tl(e,t,n,i,r,a,o,s);if(this.curves.length>0){var c=l.getPoint(0);if(!c.equals(this.currentPoint)){this.lineTo(c.x,c.y)}}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){Sl.prototype.copy.call(this,e);this.currentPoint.copy(e.currentPoint);return this}});function Rl(e){Sl.call(this);this.type="Path";this.currentPoint=new xt;if(e){this.setFromPoints(e)}}Rl.prototype=Ll;Ll.constructor=Rl;function Fl(e){Rl.call(this,e);this.type="Shape";this.holes=[]}Fl.prototype=Object.assign(Object.create(Ll),{constructor:Fl,getPointsHoles:function(e){var t=[];for(var n=0,i=this.holes.length;n<i;n++){t[n]=this.holes[n].getPoints(e)}return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Rl.prototype.copy.call(this,e);this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}});function Pl(){this.type="ShapePath";this.subPaths=[];this.currentPath=null}Object.assign(Pl.prototype,{moveTo:function(e,t){this.currentPath=new Rl;this.subPaths.push(this.currentPath);this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,a){this.currentPath.bezierCurveTo(e,t,n,i,r,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){var t=[];for(var n=0,i=e.length;n<i;n++){var r=e[n];var a=new Fl;a.curves=r.curves;t.push(a)}return t}function i(e,t){var n=t.length;var i=false;for(var r=n-1,a=0;a<n;r=a++){var o=t[r];var s=t[a];var l=s.x-o.x;var c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0){o=t[a];l=-l;s=t[r];c=-c}if(e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return true}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(u===0)return true;if(u<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return true}}return i}var r=Go.isClockWise;var a=this.subPaths;if(a.length===0)return[];if(t===true)return n(a);var o,s,l,c=[];if(a.length===1){s=a[0];l=new Fl;l.curves=s.curves;c.push(l);return c}var u=!r(a[0].getPoints());u=e?!u:u;var h=[];var f=[];var d=[];var p=0;var m;f[p]=undefined;d[p]=[];for(var g=0,v=a.length;g<v;g++){s=a[g];m=s.getPoints();o=r(m);o=e?!o:o;if(o){if(!u&&f[p])p++;f[p]={s:new Fl,p:m};f[p].s.curves=s.curves;if(u)p++;d[p]=[]}else{d[p].push({h:s,p:m[0]})}}if(!f[0])return n(a);if(f.length>1){var b=false;var y=[];for(var x=0,w=f.length;x<w;x++){h[x]=[]}for(var x=0,w=f.length;x<w;x++){var _=d[x];for(var E=0;E<_.length;E++){var A=_[E];var C=true;for(var S=0;S<f.length;S++){if(i(A.p,f[S].p)){if(x!==S)y.push({froms:x,tos:S,hole:E});if(C){C=false;h[S].push(A)}else{b=true}}}if(C){h[x].push(A)}}}if(y.length>0){if(!b)d=h}}var T;for(var g=0,M=f.length;g<M;g++){l=f[g].s;c.push(l);T=d[g];for(var k=0,D=T.length;k<D;k++){l.holes.push(T[k].h)}}return c}});function Il(e){this.type="Font";this.data=e}Object.assign(Il.prototype,{isFont:true,generateShapes:function(e,u,A){function t(e){var t=String(e).split("");var n=u/C.resolution;var i=(C.boundingBox.yMax-C.boundingBox.yMin+C.underlineThickness)*n;var r=0,a=0;var o=[];for(var s=0;s<t.length;s++){var l=t[s];if(l==="\n"){r=0;a-=i}else{var c=h(l,n,r,a);r+=c.offsetX;o.push(c.path)}}return o}function h(e,t,n,i){var r=C.glyphs[e]||C.glyphs["?"];if(!r)return;var a=new Pl;var o=[];var s,l,c,u,h,f,d,p,m,g,v;if(r.o){var b=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(var y=0,x=b.length;y<x;){var w=b[y++];switch(w){case"m":s=b[y++]*t+n;l=b[y++]*t+i;a.moveTo(s,l);break;case"l":s=b[y++]*t+n;l=b[y++]*t+i;a.lineTo(s,l);break;case"q":c=b[y++]*t+n;u=b[y++]*t+i;d=b[y++]*t+n;p=b[y++]*t+i;a.quadraticCurveTo(d,p,c,u);v=o[o.length-1];if(v){h=v.x;f=v.y;for(var _=1;_<=A;_++){var E=_/A;bl(E,h,d,c);bl(E,f,p,u)}}break;case"b":c=b[y++]*t+n;u=b[y++]*t+i;d=b[y++]*t+n;p=b[y++]*t+i;m=b[y++]*t+n;g=b[y++]*t+i;a.bezierCurveTo(d,p,m,g,c,u);v=o[o.length-1];if(v){h=v.x;f=v.y;for(var _=1;_<=A;_++){var E=_/A;El(E,h,d,m,c);El(E,f,p,g,u)}}break}}}return{offsetX:r.ha*t,path:a}}if(u===undefined)u=100;if(A===undefined)A=4;var C=this.data;var n=t(e);var i=[];for(var r=0,a=n.length;r<a;r++){Array.prototype.push.apply(i,n[r].toShapes())}return i}});function Nl(e){this.manager=e!==undefined?e:Cs}Object.assign(Nl.prototype,{load:function(e,i,t,n){var r=this;var a=new Ts(this.manager);a.setPath(this.path);a.load(e,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.");n=JSON.parse(t.substring(65,t.length-2))}var e=r.parse(n);if(i)i(e)},t,n)},parse:function(e){return new Il(e)},setPath:function(e){this.path=e;return this}});var Ol;var Bl={getContext:function(){if(Ol===undefined){Ol=new(window.AudioContext||window.webkitAudioContext)}return Ol},setContext:function(e){Ol=e}};function zl(e){this.manager=e!==undefined?e:Cs}Object.assign(zl.prototype,{load:function(e,n,t,i){var r=new Ts(this.manager);r.setResponseType("arraybuffer");r.load(e,function(e){var t=Bl.getContext();t.decodeAudioData(e,function(e){n(e)})},t,i)}});function Ul(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new Ja;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=false;this.cameraR=new Ja;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=false}Object.assign(Ul.prototype,{update:function(){var l,c,u,h,f,d,p,m;var g=new wt;var v=new wt;return function e(t){var n=l!==this||c!==t.focus||u!==t.fov||h!==t.aspect*this.aspect||f!==t.near||d!==t.far||p!==t.zoom||m!==this.eyeSep;if(n){l=this;c=t.focus;u=t.fov;h=t.aspect*this.aspect;f=t.near;d=t.far;p=t.zoom;var i=t.projectionMatrix.clone();m=this.eyeSep/2;var r=m*f/c;var a=f*Math.tan(yt.DEG2RAD*u*.5)/p;var o,s;v.elements[12]=-m;g.elements[12]=m;o=-a*h+r;s=a*h+r;i.elements[0]=2*f/(s-o);i.elements[8]=(s+o)/(s-o);this.cameraL.projectionMatrix.copy(i);o=-a*h-r;s=a*h-r;i.elements[0]=2*f/(s-o);i.elements[8]=(s+o)/(s-o);this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(v);this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(g)}}()});function Hl(e,t,n){Wr.call(this);this.type="CubeCamera";var i=90,r=1;var a=new Ja(i,r,e,t);a.up.set(0,-1,0);a.lookAt(new Et(1,0,0));this.add(a);var o=new Ja(i,r,e,t);o.up.set(0,-1,0);o.lookAt(new Et(-1,0,0));this.add(o);var s=new Ja(i,r,e,t);s.up.set(0,0,1);s.lookAt(new Et(0,1,0));this.add(s);var l=new Ja(i,r,e,t);l.up.set(0,0,-1);l.lookAt(new Et(0,-1,0));this.add(l);var c=new Ja(i,r,e,t);c.up.set(0,-1,0);c.lookAt(new Et(0,0,1));this.add(c);var u=new Ja(i,r,e,t);u.up.set(0,-1,0);u.lookAt(new Et(0,0,-1));this.add(u);var h={format:Me,magFilter:K,minFilter:K};this.renderTarget=new kt(n,n,h);this.renderTarget.texture.name="CubeCamera";this.update=function(e,t){if(this.parent===null)this.updateMatrixWorld();var n=this.renderTarget;var i=n.texture.generateMipmaps;n.texture.generateMipmaps=false;n.activeCubeFace=0;e.render(t,a,n);n.activeCubeFace=1;e.render(t,o,n);n.activeCubeFace=2;e.render(t,s,n);n.activeCubeFace=3;e.render(t,l,n);n.activeCubeFace=4;e.render(t,c,n);n.texture.generateMipmaps=i;n.activeCubeFace=5;e.render(t,u,n);e.setRenderTarget(null)};this.clear=function(e,t,n,i){var r=this.renderTarget;for(var a=0;a<6;a++){r.activeCubeFace=a;e.setRenderTarget(r);e.clear(t,n,i)}e.setRenderTarget(null)}}Hl.prototype=Object.create(Wr.prototype);Hl.prototype.constructor=Hl;function jl(){Wr.call(this);this.type="AudioListener";this.context=Bl.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null}jl.prototype=Object.assign(Object.create(Wr.prototype),{constructor:jl,getInput:function(){return this.gain},removeFilter:function(){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);this.gain.connect(this.context.destination);this.filter=null}},getFilter:function(){return this.filter},setFilter:function(e){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination)}else{this.gain.disconnect(this.context.destination)}this.filter=e;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var r=new Et;var a=new _t;var o=new Et;var s=new Et;return function e(t){Wr.prototype.updateMatrixWorld.call(this,t);var n=this.context.listener;var i=this.up;this.matrixWorld.decompose(r,a,o);s.set(0,0,-1).applyQuaternion(a);if(n.positionX){n.positionX.setValueAtTime(r.x,this.context.currentTime);n.positionY.setValueAtTime(r.y,this.context.currentTime);n.positionZ.setValueAtTime(r.z,this.context.currentTime);n.forwardX.setValueAtTime(s.x,this.context.currentTime);n.forwardY.setValueAtTime(s.y,this.context.currentTime);n.forwardZ.setValueAtTime(s.z,this.context.currentTime);n.upX.setValueAtTime(i.x,this.context.currentTime);n.upY.setValueAtTime(i.y,this.context.currentTime);n.upZ.setValueAtTime(i.z,this.context.currentTime)}else{n.setPosition(r.x,r.y,r.z);n.setOrientation(s.x,s.y,s.z,i.x,i.y,i.z)}}}()});function $l(e){Wr.call(this);this.type="Audio";this.context=e.context;this.gain=this.context.createGain();this.gain.connect(e.getInput());this.autoplay=false;this.buffer=null;this.loop=false;this.startTime=0;this.offset=0;this.playbackRate=1;this.isPlaying=false;this.hasPlaybackControl=true;this.sourceType="empty";this.filters=[]}$l.prototype=Object.assign(Object.create(Wr.prototype),{constructor:$l,getOutput:function(){return this.gain},setNodeSource:function(e){this.hasPlaybackControl=false;this.sourceType="audioNode";this.source=e;this.connect();return this},setBuffer:function(e){this.buffer=e;this.sourceType="buffer";if(this.autoplay)this.play();return this},play:function(){if(this.isPlaying===true){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}var e=this.context.createBufferSource();e.buffer=this.buffer;e.loop=this.loop;e.onended=this.onEnded.bind(this);e.playbackRate.setValueAtTime(this.playbackRate,this.startTime);this.startTime=this.context.currentTime;e.start(this.startTime,this.offset);this.isPlaying=true;this.source=e;return this.connect()},pause:function(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}if(this.isPlaying===true){this.source.stop();this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate;this.isPlaying=false}return this},stop:function(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}this.source.stop();this.offset=0;this.isPlaying=false;return this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++){this.filters[e-1].connect(this.filters[e])}this.filters[this.filters.length-1].connect(this.getOutput())}else{this.source.connect(this.getOutput())}return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++){this.filters[e-1].disconnect(this.filters[e])}this.filters[this.filters.length-1].disconnect(this.getOutput())}else{this.source.disconnect(this.getOutput())}return this},getFilters:function(){return this.filters},setFilters:function(e){if(!e)e=[];if(this.isPlaying===true){this.disconnect();this.filters=e;this.connect()}else{this.filters=e}return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}this.playbackRate=e;if(this.isPlaying===true){this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime)}return this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=false},getLoop:function(){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return false}return this.loop},setLoop:function(e){if(this.hasPlaybackControl===false){console.warn("THREE.Audio: this Audio has no playback control.");return}this.loop=e;if(this.isPlaying===true){this.source.loop=this.loop}return this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){this.gain.gain.value=e;return this}});function Wl(e){$l.call(this,e);this.panner=this.context.createPanner();this.panner.connect(this.gain)}Wl.prototype=Object.assign(Object.create($l.prototype),{constructor:Wl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var n=new Et;return function e(t){Wr.prototype.updateMatrixWorld.call(this,t);n.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(n.x,n.y,n.z)}}()});function Vl(e,t){this.analyser=e.context.createAnalyser();this.analyser.fftSize=t!==undefined?t:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);e.getOutput().connect(this.analyser)}Object.assign(Vl.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){var e=0,t=this.getFrequencyData();for(var n=0;n<t.length;n++){e+=t[n]}return e/t.length}});function Gl(e,t,n){this.binding=e;this.valueSize=n;var i=Float64Array,r;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array;r=this._select;break;default:r=this._lerp}this.buffer=new i(n*4);this._mixBufferRegion=r;this.cumulativeWeight=0;this.useCount=0;this.referenceCount=0}Object.assign(Gl.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,a=this.cumulativeWeight;if(a===0){for(var o=0;o!==i;++o){n[r+o]=n[o]}a=t}else{a+=t;var s=t/a;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.binding;this.cumulativeWeight=0;if(r<1){var o=t*3;this._mixBufferRegion(n,i,o,1-r,t)}for(var s=t,l=t+t;s!==l;++s){if(n[s]!==n[s+t]){a.setValue(n,i);break}}},saveOriginalState:function(){var e=this.binding;var t=this.buffer,n=this.valueSize,i=n*3;e.getValue(t,i);for(var r=n,a=i;r!==a;++r){t[r]=t[i+r%n]}this.cumulativeWeight=0},restoreOriginalState:function(){var e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(i>=.5){for(var a=0;a!==r;++a){e[t+a]=e[n+a]}}},_slerp:function(e,t,n,i){_t.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){var a=1-i;for(var o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*i}}});function ql(e,t,n){var i=n||Xl.parseTrackName(t);this._targetGroup=e;this._bindings=e.subscribe_(t,i)}Object.assign(ql.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];if(i!==undefined)i.getValue(e,t)},setValue:function(e,t){var n=this._bindings;for(var i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i){n[i].setValue(e,t)}},bind:function(){var e=this._bindings;for(var t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t){e[t].bind()}},unbind:function(){var e=this._bindings;for(var t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t){e[t].unbind()}}});function Xl(e,t,n){this.path=t;this.parsedPath=n||Xl.parseTrackName(t);this.node=Xl.findNode(e,this.parsedPath.nodeName)||e;this.rootNode=e}Object.assign(Xl,{Composite:ql,create:function(e,t,n){if(!(e&&e.isAnimationObjectGroup)){return new Xl(e,t,n)}else{return new Xl.Composite(e,t,n)}},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=/((?:[\w-]+[\/:])*)/;var t=/([\w-\.]+)?/;var n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/;var i=/\.([\w-]+)(?:\[(.+)\])?/;var a=new RegExp(""+"^"+e.source+t.source+n.source+i.source+"$");var o=["material","materials","bones"];return function(e){var t=a.exec(e);if(!t){throw new Error("PropertyBinding: Cannot parse trackName: "+e)}var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]};var i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==undefined&&i!==-1){var r=n.nodeName.substring(i+1);if(o.indexOf(r)!==-1){n.nodeName=n.nodeName.substring(0,i);n.objectName=r}}if(n.propertyName===null||n.propertyName.length===0){throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e)}return n}}(),findNode:function(e,r){if(!r||r===""||r==="root"||r==="."||r===-1||r===e.name||r===e.uuid){return e}if(e.skeleton){var t=function(e){for(var t=0;t<e.bones.length;t++){var n=e.bones[t];if(n.name===r){return n}}return null};var n=t(e.skeleton);if(n){return n}}if(e.children){var a=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.name===r||n.uuid===r){return n}var i=a(n.children);if(i)return i}return null};var i=a(e.children);if(i){return i}}return null}});Object.assign(Xl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function e(t,n){t[n]=this.node[this.propertyName]},function e(t,n){var i=this.resolvedProperty;for(var r=0,a=i.length;r!==a;++r){t[n++]=i[r]}},function e(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function e(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function e(t,n){this.targetObject[this.propertyName]=t[n]},function e(t,n){this.targetObject[this.propertyName]=t[n];this.targetObject.needsUpdate=true},function e(t,n){this.targetObject[this.propertyName]=t[n];this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,n){var i=this.resolvedProperty;for(var r=0,a=i.length;r!==a;++r){i[r]=t[n++]}},function e(t,n){var i=this.resolvedProperty;for(var r=0,a=i.length;r!==a;++r){i[r]=t[n++]}this.targetObject.needsUpdate=true},function e(t,n){var i=this.resolvedProperty;for(var r=0,a=i.length;r!==a;++r){i[r]=t[n++]}this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function e(t,n){this.resolvedProperty[this.propertyIndex]=t[n];this.targetObject.needsUpdate=true},function e(t,n){this.resolvedProperty[this.propertyIndex]=t[n];this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,n){this.resolvedProperty.fromArray(t,n)},function e(t,n){this.resolvedProperty.fromArray(t,n);this.targetObject.needsUpdate=true},function e(t,n){this.resolvedProperty.fromArray(t,n);this.targetObject.matrixWorldNeedsUpdate=true}]],getValue:function e(t,n){this.bind();this.getValue(t,n)},setValue:function e(t,n){this.bind();this.setValue(t,n)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(!e){e=Xl.findNode(this.rootNode,t.nodeName)||this.rootNode;this.node=e}this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(var o=0;o<e.length;o++){if(e[o].name===a){a=o;break}}break;default:if(e[n]===undefined){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(a!==undefined){if(e[a]===undefined){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[a]}}var s=e[i];if(s===undefined){var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}var c=this.Versioning.None;if(e.needsUpdate!==undefined){c=this.Versioning.NeedsUpdate;this.targetObject=e}else if(e.matrixWorldNeedsUpdate!==undefined){c=this.Versioning.MatrixWorldNeedsUpdate;this.targetObject=e}var u=this.BindingType.Direct;if(r!==undefined){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(var o=0;o<this.node.geometry.morphAttributes.position.length;o++){if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}}else{if(!e.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(var o=0;o<this.node.geometry.morphTargets.length;o++){if(e.geometry.morphTargets[o].name===r){r=o;break}}}}u=this.BindingType.ArrayElement;this.resolvedProperty=s;this.propertyIndex=r}else if(s.fromArray!==undefined&&s.toArray!==undefined){u=this.BindingType.HasFromToArray;this.resolvedProperty=s}else if(Array.isArray(s)){u=this.BindingType.EntireArray;this.resolvedProperty=s}else{this.propertyName=i}this.getValue=this.GetterByBindingType[u];this.setValue=this.SetterByBindingTypeAndVersioning[u][c]},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(Xl.prototype,{_getValue_unbound:Xl.prototype.getValue,_setValue_unbound:Xl.prototype.setValue});function Yl(){this.uuid=yt.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t){e[arguments[t].uuid]=t}this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}Object.assign(Yl.prototype,{isAnimationObjectGroup:true,add:function(){var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length;for(var l=0,c=arguments.length;l!==c;++l){var u=arguments[l],h=u.uuid,f=i[h],d=undefined;if(f===undefined){f=t++;i[h]=f;e.push(u);for(var p=0,m=s;p!==m;++p){o[p].push(new Xl(u,r[p],a[p]))}}else if(f<n){d=e[f];var g=--n,v=e[g];i[v.uuid]=f;e[f]=v;i[h]=g;e[g]=u;for(var p=0,m=s;p!==m;++p){var b=o[p],y=b[g],x=b[f];b[f]=y;if(x===undefined){x=new Xl(u,r[p],a[p])}b[g]=x}}else if(e[f]!==d){console.error("THREE.AnimationObjectGroup: Different objects with the same UUID "+"detected. Clean the caches or recreate your infrastructure when reloading scenes.")}}this.nCachedObjects_=n},remove:function(){var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length;for(var a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=n[l];if(c!==undefined&&c>=t){var u=t++,h=e[u];n[h.uuid]=c;e[c]=h;n[l]=u;e[u]=s;for(var f=0,d=r;f!==d;++f){var p=i[f],m=p[u],g=p[c];p[c]=m;p[u]=g}}}this.nCachedObjects_=t},uncache:function(){var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,a=r.length;for(var o=0,s=arguments.length;o!==s;++o){var l=arguments[o],c=l.uuid,u=i[c];if(u!==undefined){delete i[c];if(u<n){var h=--n,f=e[h],d=--t,p=e[d];i[f.uuid]=u;e[u]=f;i[p.uuid]=h;e[h]=p;e.pop();for(var m=0,g=a;m!==g;++m){var v=r[m],b=v[h],y=v[d];v[u]=b;v[h]=y;v.pop()}}else{var d=--t,p=e[d];i[p.uuid]=u;e[u]=p;e.pop();for(var m=0,g=a;m!==g;++m){var v=r[m];v[u]=v[d];v.pop()}}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(i!==undefined)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=r.length;n[e]=i;a.push(e);o.push(t);r.push(u);for(var h=c,f=s.length;h!==f;++h){var d=s[h];u[h]=new Xl(d,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(n!==undefined){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],l=e[o];t[l]=n;a[n]=s;a.pop();r[n]=r[o];r.pop();i[n]=i[o];i.pop()}}});function Kl(e,t,n){this._mixer=e;this._clip=t;this._localRoot=n||null;var i=t.tracks,r=i.length,a=new Array(r);var o={endingStart:it,endingEnd:it};for(var s=0;s!==r;++s){var l=i[s].createInterpolant(null);a[s]=l;l.settings=o}this._interpolantSettings=o;this._interpolants=a;this._propertyBindings=new Array(r);this._cacheIndex=null;this._byClipCacheIndex=null;this._timeScaleInterpolant=null;this._weightInterpolant=null;this.loop=Qe;this._loopCount=-1;this._startTime=null;this.time=0;this.timeScale=1;this._effectiveTimeScale=1;this.weight=1;this._effectiveWeight=1;this.repetitions=Infinity;this.paused=false;this.enabled=true;this.clampWhenFinished=false;this.zeroSlopeAtStart=true;this.zeroSlopeAtEnd=true}Object.assign(Kl.prototype,{play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=false;this.enabled=true;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){this._startTime=e;return this},setLoop:function(e,t){this.loop=e;this.repetitions=t;return this},setEffectiveWeight:function(e){this.weight=e;this._effectiveWeight=this.enabled?e:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){e.fadeOut(t);this.fadeIn(t);if(n){var i=this._clip.duration,r=e._clip.duration,a=r/i,o=i/r;e.warp(1,a,t);this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;if(e!==null){this._weightInterpolant=null;this._mixer._takeBackControlInterpolant(e)}return this},setEffectiveTimeScale:function(e){this.timeScale=e;this._effectiveTimeScale=this.paused?0:e;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){this.timeScale=this._clip.duration/e;return this.stopWarping()},syncWith:function(e){this.time=e.time;this.timeScale=e.timeScale;return this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;if(a===null){a=i._lendControlInterpolant();this._timeScaleInterpolant=a}var s=a.parameterPositions,l=a.sampleValues;s[0]=r;s[1]=r+n;l[0]=e/o;l[1]=t/o;return this},stopWarping:function(){var e=this._timeScaleInterpolant;if(e!==null){this._timeScaleInterpolant=null;this._mixer._takeBackControlInterpolant(e)}return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}var r=this._startTime;if(r!==null){var a=(e-r)*n;if(a<0||n===0){return}this._startTime=null;t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t);var s=this._updateWeight(e);if(s>0){var l=this._interpolants;var c=this._propertyBindings;for(var u=0,h=l.length;u!==h;++u){l[u].evaluate(o);c[u].accumulate(i,s)}}},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(n!==null){var i=n.evaluate(e)[0];t*=i;if(e>n.parameterPositions[1]){this.stopFading();if(i===0){this.enabled=false}}}}this._effectiveWeight=t;return t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(n!==null){var i=n.evaluate(e)[0];t*=i;if(e>n.parameterPositions[1]){this.stopWarping();if(t===0){this.paused=true}else{this.timeScale=t}}}}this._effectiveTimeScale=t;return t},_updateTime:function(e){var t=this.time+e;if(e===0)return t;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(i===Ze){if(r===-1){this._loopCount=0;this._setEndings(true,true,false)}e:{if(t>=n){t=n}else if(t<0){t=0}else break e;if(this.clampWhenFinished)this.paused=true;else this.enabled=false;this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var a=i===Je;if(r===-1){if(e>=0){r=0;this._setEndings(true,this.repetitions===0,a)}else{this._setEndings(this.repetitions===0,true,a)}}if(t>=n||t<0){var o=Math.floor(t/n);t-=n*o;r+=Math.abs(o);var s=this.repetitions-r;if(s<0){if(this.clampWhenFinished)this.paused=true;else this.enabled=false;t=e>0?n:0;this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1})}else{if(s===0){var l=e<0;this._setEndings(l,!l,a)}else{this._setEndings(false,false,a)}this._loopCount=r;this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&(r&1)===1){this.time=t;return n-t}}this.time=t;return t},_setEndings:function(e,t,n){var i=this._interpolantSettings;if(n){i.endingStart=rt;i.endingEnd=rt}else{if(e){i.endingStart=this.zeroSlopeAtStart?rt:it}else{i.endingStart=at}if(t){i.endingEnd=this.zeroSlopeAtEnd?rt:it}else{i.endingEnd=at}}},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;if(a===null){a=i._lendControlInterpolant();this._weightInterpolant=a}var o=a.parameterPositions,s=a.sampleValues;o[0]=r;s[0]=t;o[1]=r+e;s[1]=n;return this}});function Zl(e){this._root=e;this._initMemoryManager();this._accuIndex=0;this.time=0;this.timeScale=1}Object.assign(Zl.prototype,t.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];if(c===undefined){c={};l[s]=c}for(var u=0;u!==r;++u){var h=i[u],f=h.name,d=c[f];if(d!==undefined){a[u]=d}else{d=a[u];if(d!==undefined){if(d._cacheIndex===null){++d.referenceCount;this._addInactiveBinding(d,s,f)}continue}var p=t&&t._propertyBindings[u].binding.parsedPath;d=new Gl(Xl.create(n,f,p),h.ValueTypeName,h.getValueSize());++d.referenceCount;this._addInactiveBinding(d,s,f);a[u]=d}o[u].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]);this._addInactiveAction(e,n,t)}var r=e._propertyBindings;for(var a=0,o=r.length;a!==o;++a){var s=r[a];if(s.useCount++===0){this._lendBinding(s);s.saveOriginalState()}}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){var t=e._propertyBindings;for(var n=0,i=t.length;n!==i;++n){var r=t[n];if(--r.useCount===0){r.restoreOriginalState();this._takeBackBinding(r)}}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,a=r[t];if(a===undefined){a={knownActions:[e],actionByRoot:{}};e._byClipCacheIndex=0;r[t]=a}else{var o=a.knownActions;e._byClipCacheIndex=o.length;o.push(e)}e._cacheIndex=i.length;i.push(e);a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i;t[i]=n;t.pop();e._cacheIndex=null;var r=e._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c;s[c]=l;s.pop();e._byClipCacheIndex=null;var u=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete u[h];if(s.length===0){delete a[r]}this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){var t=e._propertyBindings;for(var n=0,i=t.length;n!==i;++n){var r=t[n];if(--r.referenceCount===0){this._removeInactiveBinding(r)}}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i;t[i]=e;r._cacheIndex=n;t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i;t[i]=e;r._cacheIndex=n;t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],a=this._bindings;if(r===undefined){r={};i[t]=r}r[n]=e;e._cacheIndex=a.length;a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l;t[l]=s;t.pop();delete o[r];e:{for(var c in o)break e;delete a[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i;t[i]=e;r._cacheIndex=n;t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i;t[i]=e;r._cacheIndex=n;t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];if(n===undefined){n=new Gs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer);n.__cacheIndex=t;e[t]=n}return n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i;t[i]=e;r.__cacheIndex=n;t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r=typeof e==="string"?rl.findByName(n,e):e,a=r!==null?r.uuid:e,o=this._actionsByClip[a],s=null;if(o!==undefined){var l=o.actionByRoot[i];if(l!==undefined){return l}s=o.knownActions[0];if(r===null)r=s._clip}if(r===null)return null;var c=new Kl(this,r,t);this._bindAction(c,s);this._addInactiveAction(c,a,i);return c},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r=typeof e==="string"?rl.findByName(n,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];if(o!==undefined){return o.actionByRoot[i]||null}return null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0;this._nActiveBindings=0;for(var r=0;r!==t;++r){e[r].reset()}for(var r=0;r!==i;++r){n[r].useCount=0}return this},update:function(e){e*=this.timeScale;var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(var o=0;o!==n;++o){var s=t[o];s._update(i,e,r,a)}var l=this._bindings,c=this._nActiveBindings;for(var o=0;o!==c;++o){l[o].apply(a)}return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==undefined){var a=r.knownActions;for(var o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null;l._byClipCacheIndex=null;u._cacheIndex=c;t[c]=u;t.pop();this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot,a=r[t];if(a!==undefined){this._deactivateAction(a);this._removeInactiveAction(a)}}var o=this._bindingsByRootAndName,s=o[t];if(s!==undefined){for(var l in s){var c=s[l];c.restoreOriginalState();this._removeInactiveBinding(c)}}},uncacheAction:function(e,t){var n=this.existingAction(e,t);if(n!==null){this._deactivateAction(n);this._removeInactiveAction(n)}}});function Ql(e){if(typeof e==="string"){console.warn("THREE.Uniform: Type parameter is no longer needed.");e=arguments[1]}this.value=e}Ql.prototype.clone=function(){return new Ql(this.value.clone===undefined?this.value:this.value.clone())};function Jl(){ca.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=undefined}Jl.prototype=Object.assign(Object.create(ca.prototype),{constructor:Jl,isInstancedBufferGeometry:true,copy:function(e){ca.prototype.copy.call(this,e);this.maxInstancedCount=e.maxInstancedCount;return this},clone:function(){return(new this.constructor).copy(this)}});function ec(e,t,n,i){this.uuid=yt.generateUUID();this.data=e;this.itemSize=t;this.offset=n;this.normalized=i===true}Object.defineProperties(ec.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(ec.prototype,{isInterleavedBufferAttribute:true,setX:function(e,t){this.data.array[e*this.data.stride+this.offset]=t;return this},setY:function(e,t){this.data.array[e*this.data.stride+this.offset+1]=t;return this},setZ:function(e,t){this.data.array[e*this.data.stride+this.offset+2]=t;return this},setW:function(e,t){this.data.array[e*this.data.stride+this.offset+3]=t;return this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=n;return this},setXYZ:function(e,t,n,i){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=n;this.data.array[e+2]=i;return this},setXYZW:function(e,t,n,i,r){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=n;this.data.array[e+2]=i;this.data.array[e+3]=r;return this}});function tc(e,t){this.uuid=yt.generateUUID();this.array=e;this.stride=t;this.count=e!==undefined?e.length/t:0;this.dynamic=false;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}Object.defineProperty(tc.prototype,"needsUpdate",{set:function(e){if(e===true)this.version++}});Object.assign(tc.prototype,{isInterleavedBuffer:true,setArray:function(e){if(Array.isArray(e)){throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.")}this.count=e!==undefined?e.length/this.stride:0;this.array=e},setDynamic:function(e){this.dynamic=e;return this},copy:function(e){this.array=new e.array.constructor(e.array);this.count=e.count;this.stride=e.stride;this.dynamic=e.dynamic;return this},copyAt:function(e,t,n){e*=this.stride;n*=t.stride;for(var i=0,r=this.stride;i<r;i++){this.array[e+i]=t.array[n+i]}return this},set:function(e,t){if(t===undefined)t=0;this.array.set(e,t);return this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){this.onUploadCallback=e;return this}});function nc(e,t,n){tc.call(this,e,t);this.meshPerAttribute=n||1}nc.prototype=Object.assign(Object.create(tc.prototype),{constructor:nc,isInstancedInterleavedBuffer:true,copy:function(e){tc.prototype.copy.call(this,e);this.meshPerAttribute=e.meshPerAttribute;return this}});function ic(e,t,n){Kr.call(this,e,t);this.meshPerAttribute=n||1}ic.prototype=Object.assign(Object.create(Kr.prototype),{constructor:ic,isInstancedBufferAttribute:true,copy:function(e){Kr.prototype.copy.call(this,e);this.meshPerAttribute=e.meshPerAttribute;return this}});function rc(e,t,n,i){this.ray=new ga(e,t);this.near=n||0;this.far=i||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function ac(e,t){return e.distance-t.distance}function oc(e,t,n,i){if(e.visible===false)return;e.raycast(t,n);if(i===true){var r=e.children;for(var a=0,o=r.length;a<o;a++){oc(r[a],t,n,true)}}}Object.assign(rc.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){if(t&&t.isPerspectiveCamera){this.ray.origin.setFromMatrixPosition(t.matrixWorld);this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()}else if(t&&t.isOrthographicCamera){this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t);this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)}else{console.error("THREE.Raycaster: Unsupported camera type.")}},intersectObject:function(e,t){var n=[];oc(e,this,n,t);n.sort(ac);return n},intersectObjects:function(e,t){var n=[];if(Array.isArray(e)===false){console.warn("THREE.Raycaster.intersectObjects: objects is not an Array.");return n}for(var i=0,r=e.length;i<r;i++){oc(e[i],this,n,t)}n.sort(ac);return n}});function sc(e){this.autoStart=e!==undefined?e:true;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false}Object.assign(sc.prototype,{start:function(){this.startTime=(typeof performance==="undefined"?Date:performance).now();this.oldTime=this.startTime;this.elapsedTime=0;this.running=true},stop:function(){this.getElapsedTime();this.running=false;this.autoStart=false},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running){this.start();return 0}if(this.running){var t=(typeof performance==="undefined"?Date:performance).now();e=(t-this.oldTime)/1e3;this.oldTime=t;this.elapsedTime+=e}return e}});function lc(e,t,n){this.radius=e!==undefined?e:1;this.phi=t!==undefined?t:0;this.theta=n!==undefined?n:0;return this}Object.assign(lc.prototype,{set:function(e,t,n){this.radius=e;this.phi=t;this.theta=n;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.radius=e.radius;this.phi=e.phi;this.theta=e.theta;return this},makeSafe:function(){var e=1e-6;this.phi=Math.max(e,Math.min(Math.PI-e,this.phi));return this},setFromVector3:function(e){this.radius=e.length();if(this.radius===0){this.theta=0;this.phi=0}else{this.theta=Math.atan2(e.x,e.z);this.phi=Math.acos(yt.clamp(e.y/this.radius,-1,1))}return this}});function cc(e,t,n){this.radius=e!==undefined?e:1;this.theta=t!==undefined?t:0;this.y=n!==undefined?n:0;return this}Object.assign(cc.prototype,{set:function(e,t,n){this.radius=e;this.theta=t;this.y=n;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.radius=e.radius;this.theta=e.theta;this.y=e.y;return this},setFromVector3:function(e){this.radius=Math.sqrt(e.x*e.x+e.z*e.z);this.theta=Math.atan2(e.x,e.z);this.y=e.y;return this}});function uc(e){Wr.call(this);this.material=e;this.render=function(){}}uc.prototype=Object.create(Wr.prototype);uc.prototype.constructor=uc;uc.prototype.isImmediateRenderObject=true;function hc(e,t,n,i){this.object=e;this.size=t!==undefined?t:1;var r=n!==undefined?n:16711680;var a=i!==undefined?i:1;var o=0;var s=this.object.geometry;if(s&&s.isGeometry){o=s.faces.length*3}else if(s&&s.isBufferGeometry){o=s.attributes.normal.count}var l=new ca;var c=new ra(o*2*3,3);l.addAttribute("position",c);yo.call(this,l,new vo({color:r,linewidth:a}));this.matrixAutoUpdate=false;this.update()}hc.prototype=Object.create(yo.prototype);hc.prototype.constructor=hc;hc.prototype.update=function(){var v=new Et;var b=new Et;var y=new At;return function e(){var t=["a","b","c"];this.object.updateMatrixWorld(true);y.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld;var i=this.geometry.attributes.position;var r=this.object.geometry;if(r&&r.isGeometry){var a=r.vertices;var o=r.faces;var s=0;for(var l=0,c=o.length;l<c;l++){var u=o[l];for(var h=0,f=u.vertexNormals.length;h<f;h++){var d=a[u[t[h]]];var p=u.vertexNormals[h];v.copy(d).applyMatrix4(n);b.copy(p).applyMatrix3(y).normalize().multiplyScalar(this.size).add(v);i.setXYZ(s,v.x,v.y,v.z);s=s+1;i.setXYZ(s,b.x,b.y,b.z);s=s+1}}}else if(r&&r.isBufferGeometry){var m=r.attributes.position;var g=r.attributes.normal;var s=0;for(var h=0,f=m.count;h<f;h++){v.set(m.getX(h),m.getY(h),m.getZ(h)).applyMatrix4(n);b.set(g.getX(h),g.getY(h),g.getZ(h));b.applyMatrix3(y).normalize().multiplyScalar(this.size).add(v);i.setXYZ(s,v.x,v.y,v.z);s=s+1;i.setXYZ(s,b.x,b.y,b.z);s=s+1}}i.needsUpdate=true}}();function fc(e,t){Wr.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.color=t;var n=new ca;var i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var r=0,a=1,o=32;r<o;r++,a++){var s=r/o*Math.PI*2;var l=a/o*Math.PI*2;i.push(Math.cos(s),Math.sin(s),1,Math.cos(l),Math.sin(l),1)}n.addAttribute("position",new ra(i,3));var c=new vo({fog:false});this.cone=new yo(n,c);this.add(this.cone);this.update()}fc.prototype=Object.create(Wr.prototype);fc.prototype.constructor=fc;fc.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};fc.prototype.update=function(){var i=new Et;var r=new Et;return function e(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3;var n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t);i.setFromMatrixPosition(this.light.matrixWorld);r.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(r.sub(i));if(this.color!==undefined){this.cone.material.color.set(this.color)}else{this.cone.material.color.copy(this.light.color)}}}();function dc(e){var t=[];if(e&&e.isBone){t.push(e)}for(var n=0;n<e.children.length;n++){t.push.apply(t,dc(e.children[n]))}return t}function pc(e){var t=dc(e);var n=new ca;var i=[];var r=[];var a=new wn(0,0,1);var o=new wn(0,1,0);for(var s=0;s<t.length;s++){var l=t[s];if(l.parent&&l.parent.isBone){i.push(0,0,0);i.push(0,0,0);r.push(a.r,a.g,a.b);r.push(o.r,o.g,o.b)}}n.addAttribute("position",new ra(i,3));n.addAttribute("color",new ra(r,3));var c=new vo({vertexColors:v,depthTest:false,depthWrite:false,transparent:true});yo.call(this,n,c);this.root=e;this.bones=t;this.matrix=e.matrixWorld;this.matrixAutoUpdate=false}pc.prototype=Object.create(yo.prototype);pc.prototype.constructor=pc;pc.prototype.updateMatrixWorld=function(){var l=new Et;var c=new wt;var u=new wt;return function e(t){var n=this.bones;var i=this.geometry;var r=i.getAttribute("position");u.getInverse(this.root.matrixWorld);for(var a=0,o=0;a<n.length;a++){var s=n[a];if(s.parent&&s.parent.isBone){c.multiplyMatrices(u,s.matrixWorld);l.setFromMatrixPosition(c);r.setXYZ(o,l.x,l.y,l.z);c.multiplyMatrices(u,s.parent.matrixWorld);l.setFromMatrixPosition(c);r.setXYZ(o+1,l.x,l.y,l.z);o+=2}}i.getAttribute("position").needsUpdate=true;Wr.prototype.updateMatrixWorld.call(this,t)}}();function mc(e,t,n){this.light=e;this.light.updateMatrixWorld();this.color=n;var i=new Qo(t,4,2);var r=new pa({wireframe:true,fog:false});ya.call(this,i,r);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=false;this.update()}mc.prototype=Object.create(ya.prototype);mc.prototype.constructor=mc;mc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};mc.prototype.update=function(){if(this.color!==undefined){this.material.color.set(this.color)}else{this.material.color.copy(this.light.color)}};function gc(e,t){Wr.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.color=t;var n=new vo({fog:false});var i=new ca;i.addAttribute("position",new Kr(new Float32Array(5*3),3));this.line=new bo(i,n);this.add(this.line);this.update()}gc.prototype=Object.create(Wr.prototype);gc.prototype.constructor=gc;gc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};gc.prototype.update=function(){var e=this.light.width*.5;var t=this.light.height*.5;var n=this.line.geometry.attributes.position;var i=n.array;i[0]=e;i[1]=-t;i[2]=0;i[3]=e;i[4]=t;i[5]=0;i[6]=-e;i[7]=t;i[8]=0;i[9]=-e;i[10]=-t;i[11]=0;i[12]=e;i[13]=-t;i[14]=0;n.needsUpdate=true;if(this.color!==undefined){this.line.material.color.set(this.color)}else{this.line.material.color.copy(this.light.color)}};function vc(e,t,n){Wr.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.color=n;var i=new Io(t);i.rotateY(Math.PI*.5);this.material=new pa({wireframe:true,fog:false});if(this.color===undefined)this.material.vertexColors=v;var r=i.getAttribute("position");var a=new Float32Array(r.count*3);i.addAttribute("color",new Kr(a,3));this.add(new ya(i,this.material));this.update()}vc.prototype=Object.create(Wr.prototype);vc.prototype.constructor=vc;vc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};vc.prototype.update=function(){var o=new Et;var s=new wn;var l=new wn;return function e(){var t=this.children[0];if(this.color!==undefined){this.material.color.set(this.color)}else{var n=t.geometry.getAttribute("color");s.copy(this.light.color);l.copy(this.light.groundColor);for(var i=0,r=n.count;i<r;i++){var a=i<r/2?s:l;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=true}t.lookAt(o.setFromMatrixPosition(this.light.matrixWorld).negate())}}();function bc(e,t,n,i){e=e||10;t=t||10;n=new wn(n!==undefined?n:4473924);i=new wn(i!==undefined?i:8947848);var r=t/2;var a=e/t;var o=e/2;var s=[],l=[];for(var c=0,u=0,h=-o;c<=t;c++,h+=a){s.push(-o,0,h,o,0,h);s.push(h,0,-o,h,0,o);var f=c===r?n:i;f.toArray(l,u);u+=3;f.toArray(l,u);u+=3;f.toArray(l,u);u+=3;f.toArray(l,u);u+=3}var d=new ca;d.addAttribute("position",new ra(s,3));d.addAttribute("color",new ra(l,3));var p=new vo({vertexColors:v});yo.call(this,d,p)}bc.prototype=Object.create(yo.prototype);bc.prototype.constructor=bc;function yc(e,t,n,i,r,a){e=e||10;t=t||16;n=n||8;i=i||64;r=new wn(r!==undefined?r:4473924);a=new wn(a!==undefined?a:8947848);var o=[];var s=[];var l,c;var u,h,f,d,p;for(h=0;h<=t;h++){u=h/t*(Math.PI*2);l=Math.sin(u)*e;c=Math.cos(u)*e;o.push(0,0,0);o.push(l,0,c);p=h&1?r:a;s.push(p.r,p.g,p.b);s.push(p.r,p.g,p.b)}for(h=0;h<=n;h++){p=h&1?r:a;d=e-e/n*h;for(f=0;f<i;f++){u=f/i*(Math.PI*2);l=Math.sin(u)*d;c=Math.cos(u)*d;o.push(l,0,c);s.push(p.r,p.g,p.b);u=(f+1)/i*(Math.PI*2);l=Math.sin(u)*d;c=Math.cos(u)*d;o.push(l,0,c);s.push(p.r,p.g,p.b)}}var m=new ca;m.addAttribute("position",new ra(o,3));m.addAttribute("color",new ra(s,3));var g=new vo({vertexColors:v});yo.call(this,m,g)}yc.prototype=Object.create(yo.prototype);yc.prototype.constructor=yc;function xc(e,t,n,i){this.object=e;this.size=t!==undefined?t:1;var r=n!==undefined?n:16776960;var a=i!==undefined?i:1;var o=0;var s=this.object.geometry;if(s&&s.isGeometry){o=s.faces.length}else{console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.")}var l=new ca;var c=new ra(o*2*3,3);l.addAttribute("position",c);yo.call(this,l,new vo({color:r,linewidth:a}));this.matrixAutoUpdate=false;this.update()}xc.prototype=Object.create(yo.prototype);xc.prototype.constructor=xc;xc.prototype.update=function(){var h=new Et;var f=new Et;var d=new At;return function e(){this.object.updateMatrixWorld(true);d.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld;var n=this.geometry.attributes.position;var i=this.object.geometry;var r=i.vertices;var a=i.faces;var o=0;for(var s=0,l=a.length;s<l;s++){var c=a[s];var u=c.normal;h.copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(t);f.copy(u).applyMatrix3(d).normalize().multiplyScalar(this.size).add(h);n.setXYZ(o,h.x,h.y,h.z);o=o+1;n.setXYZ(o,f.x,f.y,f.z);o=o+1}n.needsUpdate=true}}();function wc(e,t,n){Wr.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.color=n;if(t===undefined)t=1;var i=new ca;i.addAttribute("position",new ra([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new vo({fog:false});this.lightPlane=new bo(i,r);this.add(this.lightPlane);i=new ca;i.addAttribute("position",new ra([0,0,0,0,0,1],3));this.targetLine=new bo(i,r);this.add(this.targetLine);this.update()}wc.prototype=Object.create(Wr.prototype);wc.prototype.constructor=wc;wc.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};wc.prototype.update=function(){var t=new Et;var n=new Et;var i=new Et;return function e(){t.setFromMatrixPosition(this.light.matrixWorld);n.setFromMatrixPosition(this.light.target.matrixWorld);i.subVectors(n,t);this.lightPlane.lookAt(i);if(this.color!==undefined){this.lightPlane.material.color.set(this.color);this.targetLine.material.color.set(this.color)}else{this.lightPlane.material.color.copy(this.light.color);this.targetLine.material.color.copy(this.light.color)}this.targetLine.lookAt(i);this.targetLine.scale.z=i.length()}}();function _c(e){var t=new ca;var n=new vo({color:16777215,vertexColors:d});var i=[];var r=[];var a={};var o=new wn(16755200);var s=new wn(16711680);var l=new wn(43775);var c=new wn(16777215);var u=new wn(3355443);h("n1","n2",o);h("n2","n4",o);h("n4","n3",o);h("n3","n1",o);h("f1","f2",o);h("f2","f4",o);h("f4","f3",o);h("f3","f1",o);h("n1","f1",o);h("n2","f2",o);h("n3","f3",o);h("n4","f4",o);h("p","n1",s);h("p","n2",s);h("p","n3",s);h("p","n4",s);h("u1","u2",l);h("u2","u3",l);h("u3","u1",l);h("c","t",c);h("p","c",u);h("cn1","cn2",u);h("cn3","cn4",u);h("cf1","cf2",u);h("cf3","cf4",u);function h(e,t,n){f(e,n);f(t,n)}function f(e,t){i.push(0,0,0);r.push(t.r,t.g,t.b);if(a[e]===undefined){a[e]=[]}a[e].push(i.length/3-1)}t.addAttribute("position",new ra(i,3));t.addAttribute("color",new ra(r,3));yo.call(this,t,n);this.camera=e;if(this.camera.updateProjectionMatrix)this.camera.updateProjectionMatrix();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.pointMap=a;this.update()}_c.prototype=Object.create(yo.prototype);_c.prototype.constructor=_c;_c.prototype.update=function(){var l,c;var u=new Et;var h=new Vr;function i(e,t,n,i){u.set(t,n,i).unproject(h);var r=c[e];if(r!==undefined){var a=l.getAttribute("position");for(var o=0,s=r.length;o<s;o++){a.setXYZ(r[o],u.x,u.y,u.z)}}}return function e(){l=this.geometry;c=this.pointMap;var t=1,n=1;h.projectionMatrix.copy(this.camera.projectionMatrix);i("c",0,0,-1);i("t",0,0,1);i("n1",-t,-n,-1);i("n2",t,-n,-1);i("n3",-t,n,-1);i("n4",t,n,-1);i("f1",-t,-n,1);i("f2",t,-n,1);i("f3",-t,n,1);i("f4",t,n,1);i("u1",t*.7,n*1.1,-1);i("u2",-t*.7,n*1.1,-1);i("u3",0,n*2,-1);i("cf1",-t,0,1);i("cf2",t,0,1);i("cf3",0,-n,1);i("cf4",0,n,1);i("cn1",-t,0,-1);i("cn2",t,0,-1);i("cn3",0,-n,-1);i("cn4",0,n,-1);l.getAttribute("position").needsUpdate=true}}();function Ec(e,t){this.object=e;if(t===undefined)t=16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var i=new Float32Array(8*3);var r=new ca;r.setIndex(new Kr(n,1));r.addAttribute("position",new Kr(i,3));yo.call(this,r,new vo({color:t}));this.matrixAutoUpdate=false;this.update()}Ec.prototype=Object.create(yo.prototype);Ec.prototype.constructor=Ec;Ec.prototype.update=function(){var o=new Ir;return function e(t){if(t!==undefined){console.warn("THREE.BoxHelper: .update() has no longer arguments.")}if(this.object!==undefined){o.setFromObject(this.object)}if(o.isEmpty())return;var n=o.min;var i=o.max;var r=this.geometry.attributes.position;var a=r.array;a[0]=i.x;a[1]=i.y;a[2]=i.z;a[3]=n.x;a[4]=i.y;a[5]=i.z;a[6]=n.x;a[7]=n.y;a[8]=i.z;a[9]=i.x;a[10]=n.y;a[11]=i.z;a[12]=i.x;a[13]=i.y;a[14]=n.z;a[15]=n.x;a[16]=i.y;a[17]=n.z;a[18]=n.x;a[19]=n.y;a[20]=n.z;a[21]=i.x;a[22]=n.y;a[23]=n.z;r.needsUpdate=true;this.geometry.computeBoundingSphere()}}();Ec.prototype.setFromObject=function(e){this.object=e;this.update();return this};function Ac(e,t){this.type="Box3Helper";this.box=e;var n=t!==undefined?t:16776960;var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1];var a=new ca;a.setIndex(new Kr(i,1));a.addAttribute("position",new ra(r,3));yo.call(this,a,new vo({color:n}));this.geometry.computeBoundingSphere()}Ac.prototype=Object.create(yo.prototype);Ac.prototype.constructor=Ac;Ac.prototype.updateMatrixWorld=function(e){var t=this.box;if(t.isEmpty())return;t.getCenter(this.position);t.getSize(this.scale);this.scale.multiplyScalar(.5);Wr.prototype.updateMatrixWorld.call(this,e)};function Cc(e,t,n){this.type="PlaneHelper";this.plane=e;this.size=t===undefined?1:t;var i=n!==undefined?n:16776960;var r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0];var a=new ca;a.addAttribute("position",new ra(r,3));a.computeBoundingSphere();bo.call(this,a,new vo({color:i}));var o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1];var s=new ca;s.addAttribute("position",new ra(o,3));s.computeBoundingSphere();this.add(new ya(s,new pa({color:i,opacity:.2,transparent:true,depthWrite:false})))}Cc.prototype=Object.create(bo.prototype);Cc.prototype.constructor=Cc;Cc.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;if(Math.abs(t)<1e-8)t=1e-8;this.scale.set(.5*this.size,.5*this.size,t);this.lookAt(this.plane.normal);Wr.prototype.updateMatrixWorld.call(this,e)};var Sc;var Tc;function Mc(e,t,n,i,r,a){Wr.call(this);if(i===undefined)i=16776960;if(n===undefined)n=1;if(r===undefined)r=.2*n;if(a===undefined)a=.2*r;if(Sc===undefined){Sc=new ca;Sc.addAttribute("position",new ra([0,0,0,0,1,0],3));Tc=new ss(0,.5,1,5,1);Tc.translate(0,-.5,0)}this.position.copy(t);this.line=new bo(Sc,new vo({color:i}));this.line.matrixAutoUpdate=false;this.add(this.line);this.cone=new ya(Tc,new pa({color:i}));this.cone.matrixAutoUpdate=false;this.add(this.cone);this.setDirection(e);this.setLength(n,r,a)}Mc.prototype=Object.create(Wr.prototype);Mc.prototype.constructor=Mc;Mc.prototype.setDirection=function(){var n=new Et;var i;return function e(t){if(t.y>.99999){this.quaternion.set(0,0,0,1)}else if(t.y<-.99999){this.quaternion.set(1,0,0,0)}else{n.set(t.z,0,-t.x).normalize();i=Math.acos(t.y);this.quaternion.setFromAxisAngle(n,i)}}}();Mc.prototype.setLength=function(e,t,n){if(t===undefined)t=.2*e;if(n===undefined)n=.2*t;this.line.scale.set(1,Math.max(0,e-t),1);this.line.updateMatrix();this.cone.scale.set(n,t,n);this.cone.position.y=e;this.cone.updateMatrix()};Mc.prototype.setColor=function(e){this.line.material.color.copy(e);this.cone.material.color.copy(e)};function kc(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e];var n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1];var i=new ca;i.addAttribute("position",new ra(t,3));i.addAttribute("color",new ra(n,3));var r=new vo({vertexColors:v});yo.call(this,i,r)}kc.prototype=Object.create(yo.prototype);kc.prototype.constructor=kc;function Dc(){var r=0,a=0,o=0,s=0;function c(e,t,n,i){r=e;a=n;o=-3*e+3*t-2*n-i;s=2*e-2*t+n+i}return{initCatmullRom:function(e,t,n,i,r){c(t,n,r*(n-e),r*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,r,a,o){var s=(t-e)/r-(n-e)/(r+a)+(n-t)/a;var l=(n-t)/a-(i-t)/(a+o)+(i-n)/o;s*=a;l*=a;c(t,n,s,l)},calc:function(e){var t=e*e;var n=t*e;return r+a*e+o*t+s*n}}}var Lc=new Et;var Rc=new Dc;var Fc=new Dc;var Pc=new Dc;function Ic(e,t,n,i){Al.call(this);this.type="CatmullRomCurve3";this.points=e||[];this.closed=t||false;this.curveType=n||"centripetal";this.tension=i||.5}Ic.prototype=Object.create(Al.prototype);Ic.prototype.constructor=Ic;Ic.prototype.isCatmullRomCurve3=true;Ic.prototype.getPoint=function(e,t){var n=t||new Et;var i=this.points;var r=i.length;var a=(r-(this.closed?0:1))*e;var o=Math.floor(a);var s=a-o;if(this.closed){o+=o>0?0:(Math.floor(Math.abs(o)/i.length)+1)*i.length}else if(s===0&&o===r-1){o=r-2;s=1}var l,c,u,h;if(this.closed||o>0){l=i[(o-1)%r]}else{Lc.subVectors(i[0],i[1]).add(i[0]);l=Lc}c=i[o%r];u=i[(o+1)%r];if(this.closed||o+2<r){h=i[(o+2)%r]}else{Lc.subVectors(i[r-1],i[r-2]).add(i[r-1]);h=Lc}if(this.curveType==="centripetal"||this.curveType==="chordal"){var f=this.curveType==="chordal"?.5:.25;var d=Math.pow(l.distanceToSquared(c),f);var p=Math.pow(c.distanceToSquared(u),f);var m=Math.pow(u.distanceToSquared(h),f);if(p<1e-4)p=1;if(d<1e-4)d=p;if(m<1e-4)m=p;Rc.initNonuniformCatmullRom(l.x,c.x,u.x,h.x,d,p,m);Fc.initNonuniformCatmullRom(l.y,c.y,u.y,h.y,d,p,m);Pc.initNonuniformCatmullRom(l.z,c.z,u.z,h.z,d,p,m)}else if(this.curveType==="catmullrom"){Rc.initCatmullRom(l.x,c.x,u.x,h.x,this.tension);Fc.initCatmullRom(l.y,c.y,u.y,h.y,this.tension);Pc.initCatmullRom(l.z,c.z,u.z,h.z,this.tension)}n.set(Rc.calc(s),Fc.calc(s),Pc.calc(s));return n};Ic.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}this.closed=e.closed;this.curveType=e.curveType;this.tension=e.tension;return this};function Nc(e,t,n,i){Al.call(this);this.type="CubicBezierCurve3";this.v0=e||new Et;this.v1=t||new Et;this.v2=n||new Et;this.v3=i||new Et}Nc.prototype=Object.create(Al.prototype);Nc.prototype.constructor=Nc;Nc.prototype.isCubicBezierCurve3=true;Nc.prototype.getPoint=function(e,t){var n=t||new Et;var i=this.v0,r=this.v1,a=this.v2,o=this.v3;n.set(El(e,i.x,r.x,a.x,o.x),El(e,i.y,r.y,a.y,o.y),El(e,i.z,r.z,a.z,o.z));return n};Nc.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.v0.copy(e.v0);this.v1.copy(e.v1);this.v2.copy(e.v2);this.v3.copy(e.v3);return this};function Oc(e,t,n){Al.call(this);this.type="QuadraticBezierCurve3";this.v0=e||new Et;this.v1=t||new Et;this.v2=n||new Et}Oc.prototype=Object.create(Al.prototype);Oc.prototype.constructor=Oc;Oc.prototype.isQuadraticBezierCurve3=true;Oc.prototype.getPoint=function(e,t){var n=t||new Et;var i=this.v0,r=this.v1,a=this.v2;n.set(bl(e,i.x,r.x,a.x),bl(e,i.y,r.y,a.y),bl(e,i.z,r.z,a.z));return n};Oc.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.v0.copy(e.v0);this.v1.copy(e.v1);this.v2.copy(e.v2);return this};function Bc(e,t){Al.call(this);this.type="LineCurve3";this.v1=e||new Et;this.v2=t||new Et}Bc.prototype=Object.create(Al.prototype);Bc.prototype.constructor=Bc;Bc.prototype.isLineCurve3=true;Bc.prototype.getPoint=function(e,t){var n=t||new Et;if(e===1){n.copy(this.v2)}else{n.copy(this.v2).sub(this.v1);n.multiplyScalar(e).add(this.v1)}return n};Bc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Bc.prototype.copy=function(e){Al.prototype.copy.call(this,e);this.v1.copy(e.v1);this.v2.copy(e.v2);return this};function zc(e,t,n,i,r,a){Tl.call(this,e,t,n,n,i,r,a);this.type="ArcCurve"}zc.prototype=Object.create(Tl.prototype);zc.prototype.constructor=zc;zc.prototype.isArcCurve=true;var Uc={createMultiMaterialObject:function(e,t){var n=new Eo;for(var i=0,r=t.length;i<r;i++){n.add(new ya(e,t[i]))}return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld);t.remove(e);n.add(e)},attach:function(e,t,n){e.applyMatrix((new wt).getInverse(n.matrixWorld));t.remove(e);n.add(e)}};function Hc(e,t,n,i,r,a,o){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new qr(e,t,n,r,a,o)}var jc=0;var $c=1;function Wc(e){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return e}function Vc(e){if(e===undefined)e=[];console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");e.isMultiMaterial=true;e.materials=e;e.clone=function(){return e.slice()};return e}function Gc(e,t){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new _o(e,t)}function qc(e){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new ho(e)}function Xc(e,t){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new _o(e,t)}function Yc(e){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new wo(e)}function Kc(e){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new wo(e)}function Zc(e){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new wo(e)}function Qc(e,t,n){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new Et(e,t,n)}function Jc(e,t){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return new Kr(e,t).setDynamic(true)}function eu(e,t){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new Zr(e,t)}function tu(e,t){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new Qr(e,t)}function nu(e,t){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new Jr(e,t)}function iu(e,t){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new ea(e,t)}function ru(e,t){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new ta(e,t)}function au(e,t){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new na(e,t)}function ou(e,t){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new ia(e,t)}function su(e,t){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new ra(e,t)}function lu(e,t){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new aa(e,t)}Al.create=function(e,t){console.log("THREE.Curve.create() has been deprecated");e.prototype=Object.create(Al.prototype);e.prototype.constructor=e;e.prototype.getPoint=t;return e};Object.assign(Sl.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=new Yr;for(var n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new Et(r.x,r.y,r.z||0))}return t}});Object.assign(Rl.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");this.setFromPoints(e)}});function cu(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");Ic.call(this,e);this.type="catmullrom";this.closed=true}cu.prototype=Object.create(Ic.prototype);function uu(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");Ic.call(this,e);this.type="catmullrom"}uu.prototype=Object.create(Ic.prototype);function hu(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");Ic.call(this,e);this.type="catmullrom"}hu.prototype=Object.create(Ic.prototype);Object.assign(hu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function fu(e){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new kc(e)}function du(e,t){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new Ec(e,t)}function pu(e,t){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new yo(new as(e.geometry),new vo({color:t!==undefined?t:16777215}))}bc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};pc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function mu(e,t){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new yo(new To(e.geometry),new vo({color:t!==undefined?t:16777215}))}function gu(e){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new Ts(e)}function vu(e){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new ks(e)}Object.assign(Tr.prototype,{center:function(e){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(e)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(e){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(e)},size:function(e){console.warn("THREE.Box2: .size() has been renamed to .getSize().");return this.getSize(e)}});Object.assign(Ir.prototype,{center:function(e){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(e)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(e){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(e)},isIntersectionSphere:function(e){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(e)},size:function(e){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(e)}});va.prototype.center=function(e){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(e)};Object.assign(yt,{random16:function(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");return Math.random()},nearestPowerOfTwo:function(e){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");return yt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");return yt.ceilPowerOfTwo(e)}});Object.assign(At.prototype,{flattenToArrayOffset:function(e,t){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(e,t)},multiplyVector3:function(e){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(wt.prototype,{extractPosition:function(e){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(e)},flattenToArrayOffset:function(e,t){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(e,t)},getPosition:function(){var t;return function e(){if(t===undefined)t=new Et;console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return e.applyMatrix4(this)},multiplyVector4:function(e){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");e.transformDirection(this)},crossVector:function(e){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,a){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(e,t,i,n,r,a)}});Or.prototype.isIntersectionLine=function(e){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(e)};_t.prototype.multiplyVector3=function(e){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return e.applyQuaternion(this)};Object.assign(ga.prototype,{isIntersectionBox:function(e){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(e)},isIntersectionPlane:function(e){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(e)},isIntersectionSphere:function(e){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(e)}});Object.assign(Fl.prototype,{extractAllPoints:function(e){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");return this.extractPoints(e)},extrude:function(e){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new qo(this,e)},makeGeometry:function(e){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new is(this,e)}});Object.assign(xt.prototype,{fromAttribute:function(e,t,n){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(e)},lengthManhattan:function(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(Et.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(t,e)},applyProjection:function(e){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(e)},fromAttribute:function(e,t,n){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(e)},lengthManhattan:function(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(Tt.prototype,{fromAttribute:function(e,t,n){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Yr.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")};Object.assign(Wr.prototype,{getChildByName:function(e){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(t,e)}});Object.defineProperties(Wr.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(fo.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(po.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Object.defineProperty(Al.prototype,"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=e}});Ja.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. "+"Use .setFocalLength and .filmGauge for a photographic setup.");if(t!==undefined)this.filmGauge=t;this.setFocalLength(e)};Object.defineProperties(Fs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=e}}});Object.defineProperties(Kr.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}}});Object.assign(ca.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(e)},addDrawCall:function(e,t,n){if(n!==undefined){console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.")}console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(ca.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.defineProperties(Ql.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});Object.defineProperties(Rr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");return new wn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=e===o}}});Object.defineProperties(vs.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return false},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(ma.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=e}}});Object.assign(ao.prototype,{getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},getMaxAnisotropy:function(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");return this.capabilities.getMaxAnisotropy()},getPrecision:function(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");return this.state.reset()},supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});Object.defineProperties(ao.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");this.shadowMap.cullFace=e}}});Object.defineProperties(zr.prototype,{cullFace:{get:function(){return this.renderReverseSided?le:se},set:function(e){var t=e!==se;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+".");this.renderReverseSided=t}}});Object.defineProperties(Mt.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=e}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=e}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=e}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=e}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=e}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=e}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=e}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=e}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=e}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=e}}});$l.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;var n=new zl;n.load(e,function(e){t.setBuffer(e)});return this};Vl.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};Hl.prototype.updateCubeMap=function(e,t){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(e,t)};var bu={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;if(t.isMesh){t.matrixAutoUpdate&&t.updateMatrix();i=t.matrix;t=t.geometry}e.merge(t,i,n)},center:function(e){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return e.center()}};var yu={crossOrigin:undefined,loadTexture:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Rs;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,undefined,i);if(t)a.mapping=t;return a},loadTextureCube:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Ls;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,undefined,i);if(t)a.mapping=t;return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};function xu(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project().");e.project(t)};this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");e.unproject(t)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function wu(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}}e.WebGLRenderTargetCube=kt;e.WebGLRenderTarget=Mt;e.WebGLRenderer=ao;e.ShaderLib=Sr;e.UniformsLib=_n;e.UniformsUtils=En;e.ShaderChunk=Cr;e.FogExp2=oo;e.Fog=so;e.Scene=lo;e.LensFlare=co;e.Sprite=ho;e.LOD=fo;e.SkinnedMesh=go;e.Skeleton=po;e.Bone=mo;e.Mesh=ya;e.LineSegments=yo;e.LineLoop=xo;e.Line=bo;e.Points=_o;e.Group=Eo;e.VideoTexture=Ao;e.DataTexture=Dt;e.CompressedTexture=Co;e.CubeTexture=Lt;e.CanvasTexture=kr;e.DepthTexture=So;e.Texture=St;e.CompressedTextureLoader=Ms;e.DataTextureLoader=ks;e.CubeTextureLoader=Ls;e.TextureLoader=Rs;e.ObjectLoader=ul;e.MaterialLoader=al;e.BufferGeometryLoader=ol;e.DefaultLoadingManager=Cs;e.LoadingManager=As;e.JSONLoader=cl;e.ImageLoader=Ds;e.FontLoader=Nl;e.FileLoader=Ts;e.Loader=ll;e.Cache=Es;e.AudioLoader=zl;e.SpotLightShadow=Ns;e.SpotLight=Os;e.PointLight=Bs;e.RectAreaLight=js;e.HemisphereLight=Ps;e.DirectionalLightShadow=zs;e.DirectionalLight=Us;e.AmbientLight=Hs;e.LightShadow=Is;e.Light=Fs;e.StereoCamera=Ul;e.PerspectiveCamera=Ja;e.OrthographicCamera=Gr;e.CubeCamera=Hl;e.ArrayCamera=eo;e.Camera=Vr;e.AudioListener=jl;e.PositionalAudio=Wl;e.AudioContext=Bl;e.AudioAnalyser=Vl;e.Audio=$l;e.VectorKeyframeTrack=Ks;e.StringKeyframeTrack=el;e.QuaternionKeyframeTrack=Qs;e.NumberKeyframeTrack=Js;e.ColorKeyframeTrack=nl;e.BooleanKeyframeTrack=tl;e.PropertyMixer=Gl;e.PropertyBinding=Xl;e.KeyframeTrack=il;e.AnimationUtils=$s;e.AnimationObjectGroup=Yl;e.AnimationMixer=Zl;e.AnimationClip=rl;e.Uniform=Ql;e.InstancedBufferGeometry=Jl;e.BufferGeometry=ca;e.Geometry=Yr;e.InterleavedBufferAttribute=ec;e.InstancedInterleavedBuffer=nc;e.InterleavedBuffer=tc;e.InstancedBufferAttribute=ic;e.Face3=qr;e.Object3D=Wr;e.Raycaster=rc;e.Layers=jr;e.EventDispatcher=t;e.Clock=sc;e.QuaternionLinearInterpolant=Zs;e.LinearInterpolant=Gs;e.DiscreteInterpolant=qs;e.CubicInterpolant=Vs;e.Interpolant=Ws;e.Triangle=ba;e.Math=yt;e.Spherical=lc;e.Cylindrical=cc;e.Plane=Or;e.Frustum=Br;e.Sphere=Nr;e.Ray=ga;e.Matrix4=wt;e.Matrix3=At;e.Box3=Ir;e.Box2=Tr;e.Line3=va;e.Euler=Hr;e.Vector4=Tt;e.Vector3=Et;e.Vector2=xt;e.Quaternion=_t;e.Color=wn;e.ImmediateRenderObject=uc;e.VertexNormalsHelper=hc;e.SpotLightHelper=fc;e.SkeletonHelper=pc;e.PointLightHelper=mc;e.RectAreaLightHelper=gc;e.HemisphereLightHelper=vc;e.GridHelper=bc;e.PolarGridHelper=yc;e.FaceNormalsHelper=xc;e.DirectionalLightHelper=wc;e.CameraHelper=_c;e.BoxHelper=Ec;e.Box3Helper=Ac;e.PlaneHelper=Cc;e.ArrowHelper=Mc;e.AxesHelper=kc;e.CatmullRomCurve3=Ic;e.CubicBezierCurve3=Nc;e.QuadraticBezierCurve3=Oc;e.LineCurve3=Bc;e.ArcCurve=zc;e.EllipseCurve=Tl;e.SplineCurve=Ml;e.CubicBezierCurve=kl;e.QuadraticBezierCurve=Dl;e.LineCurve=Cl;e.Shape=Fl;e.Path=Rl;e.ShapePath=Pl;e.Font=Il;e.CurvePath=Sl;e.Curve=Al;e.ShapeUtils=Go;e.SceneUtils=Uc;e.WebGLUtils=ro;e.WireframeGeometry=To;e.ParametricGeometry=Mo;e.ParametricBufferGeometry=ko;e.TetrahedronGeometry=Ro;e.TetrahedronBufferGeometry=Fo;e.OctahedronGeometry=Po;e.OctahedronBufferGeometry=Io;e.IcosahedronGeometry=No;e.IcosahedronBufferGeometry=Oo;e.DodecahedronGeometry=Bo;e.DodecahedronBufferGeometry=zo;e.PolyhedronGeometry=Do;e.PolyhedronBufferGeometry=Lo;e.TubeGeometry=Uo;e.TubeBufferGeometry=Ho;e.TorusKnotGeometry=jo;e.TorusKnotBufferGeometry=$o;e.TorusGeometry=Wo;e.TorusBufferGeometry=Vo;e.TextGeometry=Yo;e.TextBufferGeometry=Ko;e.SphereGeometry=Zo;e.SphereBufferGeometry=Qo;e.RingGeometry=Jo;e.RingBufferGeometry=es;e.PlaneGeometry=fa;e.PlaneBufferGeometry=da;e.LatheGeometry=ts;e.LatheBufferGeometry=ns;e.ShapeGeometry=is;e.ShapeBufferGeometry=rs;e.ExtrudeGeometry=qo;e.ExtrudeBufferGeometry=Xo;e.EdgesGeometry=as;e.ConeGeometry=ls;e.ConeBufferGeometry=cs;e.CylinderGeometry=os;e.CylinderBufferGeometry=ss;e.CircleGeometry=us;e.CircleBufferGeometry=hs;e.BoxGeometry=ua;e.BoxBufferGeometry=ha;e.ShadowMaterial=ds;e.SpriteMaterial=uo;e.RawShaderMaterial=ps;e.ShaderMaterial=ma;e.PointsMaterial=wo;e.MeshPhysicalMaterial=gs;e.MeshStandardMaterial=ms;e.MeshPhongMaterial=vs;e.MeshToonMaterial=bs;e.MeshNormalMaterial=ys;e.MeshLambertMaterial=xs;e.MeshDepthMaterial=Fr;e.MeshDistanceMaterial=Pr;e.MeshBasicMaterial=pa;e.LineDashedMaterial=ws;e.LineBasicMaterial=vo;e.Material=Rr;e.Float64BufferAttribute=aa;e.Float32BufferAttribute=ra;e.Uint32BufferAttribute=ia;e.Int32BufferAttribute=na;e.Uint16BufferAttribute=ta;e.Int16BufferAttribute=ea;e.Uint8ClampedBufferAttribute=Jr;e.Uint8BufferAttribute=Qr;e.Int8BufferAttribute=Zr;e.BufferAttribute=Kr;e.REVISION=He;e.MOUSE=n;e.CullFaceNone=oe;e.CullFaceBack=se;e.CullFaceFront=le;e.CullFaceFrontBack=i;e.FrontFaceDirectionCW=je;e.FrontFaceDirectionCCW=r;e.BasicShadowMap=a;e.PCFShadowMap=I;e.PCFSoftShadowMap=L;e.FrontSide=N;e.BackSide=ce;e.DoubleSide=ue;e.FlatShading=o;e.SmoothShading=s;e.NoColors=$e;e.FaceColors=d;e.VertexColors=v;e.NoBlending=he;e.NormalBlending=fe;e.AdditiveBlending=de;e.SubtractiveBlending=pe;e.MultiplyBlending=me;e.CustomBlending=ge;e.AddEquation=l;e.SubtractEquation=c;e.ReverseSubtractEquation=u;e.MinEquation=h;e.MaxEquation=f;e.ZeroFactor=p;e.OneFactor=m;e.SrcColorFactor=g;e.OneMinusSrcColorFactor=b;e.SrcAlphaFactor=y;e.OneMinusSrcAlphaFactor=x;e.DstAlphaFactor=w;e.OneMinusDstAlphaFactor=_;e.DstColorFactor=E;e.OneMinusDstColorFactor=A;e.SrcAlphaSaturateFactor=C;e.NeverDepth=ve;e.AlwaysDepth=be;e.LessDepth=ye;e.LessEqualDepth=xe;e.EqualDepth=we;e.GreaterEqualDepth=_e;e.GreaterDepth=Ee;e.NotEqualDepth=Ae;e.MultiplyOperation=R;e.MixOperation=F;e.AddOperation=P;e.NoToneMapping=O;e.LinearToneMapping=We;e.ReinhardToneMapping=S;e.Uncharted2ToneMapping=T;e.CineonToneMapping=M;e.UVMapping=k;e.CubeReflectionMapping=B;e.CubeRefractionMapping=z;e.EquirectangularReflectionMapping=U;e.EquirectangularRefractionMapping=H;e.SphericalReflectionMapping=j;e.CubeUVReflectionMapping=$;e.CubeUVRefractionMapping=W;e.RepeatWrapping=D;e.ClampToEdgeWrapping=V;e.MirroredRepeatWrapping=G;e.NearestFilter=q;e.NearestMipMapNearestFilter=X;e.NearestMipMapLinearFilter=Y;e.LinearFilter=K;e.LinearMipMapNearestFilter=Z;e.LinearMipMapLinearFilter=Q;e.UnsignedByteType=Ve;e.ByteType=J;e.ShortType=ee;e.UnsignedShortType=te;e.IntType=ne;e.UnsignedIntType=ie;e.FloatType=Ge;e.HalfFloatType=qe;e.UnsignedShort4444Type=re;e.UnsignedShort5551Type=ae;e.UnsignedShort565Type=Ce;e.UnsignedInt248Type=Se;e.AlphaFormat=Te;e.RGBFormat=Me;e.RGBAFormat=Xe;e.LuminanceFormat=ke;e.LuminanceAlphaFormat=De;e.RGBEFormat=Le;e.DepthFormat=Re;e.DepthStencilFormat=Fe;e.RGB_S3TC_DXT1_Format=Pe;e.RGBA_S3TC_DXT1_Format=Ie;e.RGBA_S3TC_DXT3_Format=Ne;e.RGBA_S3TC_DXT5_Format=Oe;e.RGB_PVRTC_4BPPV1_Format=Be;e.RGB_PVRTC_2BPPV1_Format=ze;e.RGBA_PVRTC_4BPPV1_Format=Ue;e.RGBA_PVRTC_2BPPV1_Format=Ye;e.RGB_ETC1_Format=Ke;e.LoopOnce=Ze;e.LoopRepeat=Qe;e.LoopPingPong=Je;e.InterpolateDiscrete=et;e.InterpolateLinear=tt;e.InterpolateSmooth=nt;e.ZeroCurvatureEnding=it;e.ZeroSlopeEnding=rt;e.WrapAroundEnding=at;e.TrianglesDrawMode=ot;e.TriangleStripDrawMode=st;e.TriangleFanDrawMode=lt;e.LinearEncoding=ct;e.sRGBEncoding=ut;e.GammaEncoding=ht;e.RGBEEncoding=ft;e.LogLuvEncoding=dt;e.RGBM7Encoding=pt;e.RGBM16Encoding=mt;e.RGBDEncoding=gt;e.BasicDepthPacking=vt;e.RGBADepthPacking=bt;e.CubeGeometry=ua;e.Face4=Hc;e.LineStrip=jc;e.LinePieces=$c;e.MeshFaceMaterial=Wc;e.MultiMaterial=Vc;e.PointCloud=Gc;e.Particle=qc;e.ParticleSystem=Xc;e.PointCloudMaterial=Yc;e.ParticleBasicMaterial=Kc;e.ParticleSystemMaterial=Zc;e.Vertex=Qc;e.DynamicBufferAttribute=Jc;e.Int8Attribute=eu;e.Uint8Attribute=tu;e.Uint8ClampedAttribute=nu;e.Int16Attribute=iu;e.Uint16Attribute=ru;e.Int32Attribute=au;e.Uint32Attribute=ou;e.Float32Attribute=su;e.Float64Attribute=lu;e.ClosedSplineCurve3=cu;e.SplineCurve3=uu;e.Spline=hu;e.AxisHelper=fu;e.BoundingBoxHelper=du;e.EdgesHelper=pu;e.WireframeHelper=mu;e.XHRLoader=gu;e.BinaryTextureLoader=vu;e.GeometryUtils=bu;e.ImageUtils=yu;e.Projector=xu;e.CanvasRenderer=wu;Object.defineProperty(e,"__esModule",{value:true})})},{}]},{},[1]);